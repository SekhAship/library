var oG=e=>{throw TypeError(e)};var fP=(e,t,n)=>t.has(e)||oG("Cannot "+n);var re=(e,t,n)=>(fP(e,t,"read from private field"),n?n.call(e):t.get(e)),ot=(e,t,n)=>t.has(e)?oG("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),je=(e,t,n,r)=>(fP(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Et=(e,t,n)=>(fP(e,t,"access private method"),n);var Zw=(e,t,n,r)=>({set _(i){je(e,t,i,n)},get _(){return re(e,t,r)}});function EY(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pP={exports:{}},hv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sG;function Fue(){if(sG)return hv;sG=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:o}}return hv.Fragment=t,hv.jsx=n,hv.jsxs=n,hv}var aG;function kue(){return aG||(aG=1,pP.exports=Fue()),pP.exports}var q=kue(),gP={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lG;function Lue(){if(lG)return St;lG=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p($){return $===null||typeof $!="object"?null:($=f&&$[f]||$["@@iterator"],typeof $=="function"?$:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function y($,Q,J){this.props=$,this.context=Q,this.refs=C,this.updater=J||m}y.prototype.isReactComponent={},y.prototype.setState=function($,Q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Q,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function x(){}x.prototype=y.prototype;function R($,Q,J){this.props=$,this.context=Q,this.refs=C,this.updater=J||m}var T=R.prototype=new x;T.constructor=R,b(T,y.prototype),T.isPureReactComponent=!0;var M=Array.isArray,A={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function _($,Q,J,ne,ee,fe){return J=fe.ref,{$$typeof:e,type:$,key:Q,ref:J!==void 0?J:null,props:fe}}function I($,Q){return _($.type,Q,void 0,void 0,void 0,$.props)}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function F($){var Q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(J){return Q[J]})}var L=/\/+/g;function V($,Q){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):Q.toString(36)}function N(){}function Y($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(N,N):($.status="pending",$.then(function(Q){$.status==="pending"&&($.status="fulfilled",$.value=Q)},function(Q){$.status==="pending"&&($.status="rejected",$.reason=Q)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function X($,Q,J,ne,ee){var fe=typeof $;(fe==="undefined"||fe==="boolean")&&($=null);var me=!1;if($===null)me=!0;else switch(fe){case"bigint":case"string":case"number":me=!0;break;case"object":switch($.$$typeof){case e:case t:me=!0;break;case h:return me=$._init,X(me($._payload),Q,J,ne,ee)}}if(me)return ee=ee($),me=ne===""?"."+V($,0):ne,M(ee)?(J="",me!=null&&(J=me.replace(L,"$&/")+"/"),X(ee,Q,J,"",function(ue){return ue})):ee!=null&&(O(ee)&&(ee=I(ee,J+(ee.key==null||$&&$.key===ee.key?"":(""+ee.key).replace(L,"$&/")+"/")+me)),Q.push(ee)),1;me=0;var xe=ne===""?".":ne+":";if(M($))for(var Pe=0;Pe<$.length;Pe++)ne=$[Pe],fe=xe+V(ne,Pe),me+=X(ne,Q,J,fe,ee);else if(Pe=p($),typeof Pe=="function")for($=Pe.call($),Pe=0;!(ne=$.next()).done;)ne=ne.value,fe=xe+V(ne,Pe++),me+=X(ne,Q,J,fe,ee);else if(fe==="object"){if(typeof $.then=="function")return X(Y($),Q,J,ne,ee);throw Q=String($),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return me}function j($,Q,J){if($==null)return $;var ne=[],ee=0;return X($,ne,"","",function(fe){return Q.call(J,fe,ee++)}),ne}function G($){if($._status===-1){var Q=$._result;Q=Q(),Q.then(function(J){($._status===0||$._status===-1)&&($._status=1,$._result=J)},function(J){($._status===0||$._status===-1)&&($._status=2,$._result=J)}),$._status===-1&&($._status=0,$._result=Q)}if($._status===1)return $._result.default;throw $._result}var U=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Z(){}return St.Children={map:j,forEach:function($,Q,J){j($,function(){Q.apply(this,arguments)},J)},count:function($){var Q=0;return j($,function(){Q++}),Q},toArray:function($){return j($,function(Q){return Q})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}},St.Component=y,St.Fragment=n,St.Profiler=i,St.PureComponent=R,St.StrictMode=r,St.Suspense=l,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function($){return function(){return $.apply(null,arguments)}},St.cloneElement=function($,Q,J){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ne=b({},$.props),ee=$.key,fe=void 0;if(Q!=null)for(me in Q.ref!==void 0&&(fe=void 0),Q.key!==void 0&&(ee=""+Q.key),Q)!D.call(Q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Q.ref===void 0||(ne[me]=Q[me]);var me=arguments.length-2;if(me===1)ne.children=J;else if(1<me){for(var xe=Array(me),Pe=0;Pe<me;Pe++)xe[Pe]=arguments[Pe+2];ne.children=xe}return _($.type,ee,void 0,void 0,fe,ne)},St.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},St.createElement=function($,Q,J){var ne,ee={},fe=null;if(Q!=null)for(ne in Q.key!==void 0&&(fe=""+Q.key),Q)D.call(Q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ee[ne]=Q[ne]);var me=arguments.length-2;if(me===1)ee.children=J;else if(1<me){for(var xe=Array(me),Pe=0;Pe<me;Pe++)xe[Pe]=arguments[Pe+2];ee.children=xe}if($&&$.defaultProps)for(ne in me=$.defaultProps,me)ee[ne]===void 0&&(ee[ne]=me[ne]);return _($,fe,void 0,void 0,null,ee)},St.createRef=function(){return{current:null}},St.forwardRef=function($){return{$$typeof:a,render:$}},St.isValidElement=O,St.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:G}},St.memo=function($,Q){return{$$typeof:u,type:$,compare:Q===void 0?null:Q}},St.startTransition=function($){var Q=A.T,J={};A.T=J;try{var ne=$(),ee=A.S;ee!==null&&ee(J,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Z,U)}catch(fe){U(fe)}finally{A.T=Q}},St.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},St.use=function($){return A.H.use($)},St.useActionState=function($,Q,J){return A.H.useActionState($,Q,J)},St.useCallback=function($,Q){return A.H.useCallback($,Q)},St.useContext=function($){return A.H.useContext($)},St.useDebugValue=function(){},St.useDeferredValue=function($,Q){return A.H.useDeferredValue($,Q)},St.useEffect=function($,Q){return A.H.useEffect($,Q)},St.useId=function(){return A.H.useId()},St.useImperativeHandle=function($,Q,J){return A.H.useImperativeHandle($,Q,J)},St.useInsertionEffect=function($,Q){return A.H.useInsertionEffect($,Q)},St.useLayoutEffect=function($,Q){return A.H.useLayoutEffect($,Q)},St.useMemo=function($,Q){return A.H.useMemo($,Q)},St.useOptimistic=function($,Q){return A.H.useOptimistic($,Q)},St.useReducer=function($,Q,J){return A.H.useReducer($,Q,J)},St.useRef=function($){return A.H.useRef($)},St.useState=function($){return A.H.useState($)},St.useSyncExternalStore=function($,Q,J){return A.H.useSyncExternalStore($,Q,J)},St.useTransition=function(){return A.H.useTransition()},St.version="19.0.0",St}var uG;function ZL(){return uG||(uG=1,gP.exports=Lue()),gP.exports}var w=ZL();const z=Sn(w),IE=EY({__proto__:null,default:z},[w]);var mP={exports:{}},fv={},vP={exports:{}},yP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cG;function Nue(){return cG||(cG=1,function(e){function t(j,G){var U=j.length;j.push(G);e:for(;0<U;){var Z=U-1>>>1,$=j[Z];if(0<i($,G))j[Z]=G,j[U]=$,U=Z;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],U=j.pop();if(U!==G){j[0]=U;e:for(var Z=0,$=j.length,Q=$>>>1;Z<Q;){var J=2*(Z+1)-1,ne=j[J],ee=J+1,fe=j[ee];if(0>i(ne,U))ee<$&&0>i(fe,ne)?(j[Z]=fe,j[ee]=U,Z=ee):(j[Z]=ne,j[J]=U,Z=J);else if(ee<$&&0>i(fe,U))j[Z]=fe,j[ee]=U,Z=ee;else break e}}return G}function i(j,G){var U=j.sortIndex-G.sortIndex;return U!==0?U:j.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],h=1,f=null,p=3,m=!1,b=!1,C=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function T(j){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=j)r(u),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(u)}}function M(j){if(C=!1,T(j),!b)if(n(l)!==null)b=!0,Y();else{var G=n(u);G!==null&&X(M,G.startTime-j)}}var A=!1,D=-1,_=5,I=-1;function O(){return!(e.unstable_now()-I<_)}function F(){if(A){var j=e.unstable_now();I=j;var G=!0;try{e:{b=!1,C&&(C=!1,x(D),D=-1),m=!0;var U=p;try{t:{for(T(j),f=n(l);f!==null&&!(f.expirationTime>j&&O());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var $=Z(f.expirationTime<=j);if(j=e.unstable_now(),typeof $=="function"){f.callback=$,T(j),G=!0;break t}f===n(l)&&r(l),T(j)}else r(l);f=n(l)}if(f!==null)G=!0;else{var Q=n(u);Q!==null&&X(M,Q.startTime-j),G=!1}}break e}finally{f=null,p=U,m=!1}G=void 0}}finally{G?L():A=!1}}}var L;if(typeof R=="function")L=function(){R(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,N=V.port2;V.port1.onmessage=F,L=function(){N.postMessage(null)}}else L=function(){y(F,0)};function Y(){A||(A=!0,L())}function X(j,G){D=y(function(){j(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,Y())},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var U=p;p=G;try{return j()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=p;p=j;try{return G()}finally{p=U}},e.unstable_scheduleCallback=function(j,G,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,j){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,j={id:h++,callback:G,priorityLevel:j,startTime:U,expirationTime:$,sortIndex:-1},U>Z?(j.sortIndex=U,t(u,j),n(l)===null&&j===n(u)&&(C?(x(D),D=-1):C=!0,X(M,U-Z))):(j.sortIndex=$,t(l,j),b||m||(b=!0,Y())),j},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(j){var G=p;return function(){var U=p;p=G;try{return j.apply(this,arguments)}finally{p=U}}}}(yP)),yP}var dG;function Vue(){return dG||(dG=1,vP.exports=Nue()),vP.exports}var bP={exports:{}},Fi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hG;function Bue(){if(hG)return Fi;hG=1;var e=ZL();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(l,u,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:u,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fi.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return o(l,u,null,h)},Fi.flushSync=function(l){var u=s.T,h=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=u,r.p=h,r.d.f()}},Fi.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Fi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Fi.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:m}):h==="script"&&r.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Fi.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=a(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Fi.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin);r.d.L(l,h,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Fi.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=a(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Fi.requestFormReset=function(l){r.d.r(l)},Fi.unstable_batchedUpdates=function(l,u){return l(u)},Fi.useFormState=function(l,u,h){return s.H.useFormState(l,u,h)},Fi.useFormStatus=function(){return s.H.useHostTransitionStatus()},Fi.version="19.0.0",Fi}var fG;function RY(){if(fG)return bP.exports;fG=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bP.exports=Bue(),bP.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pG;function Hue(){if(pG)return fv;pG=1;var e=Vue(),t=ZL(),n=RY();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var o=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),m=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function D(c){return c===null||typeof c!="object"?null:(c=A&&c[A]||c["@@iterator"],typeof c=="function"?c:null)}var _=Symbol.for("react.client.reference");function I(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===_?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case l:return"Fragment";case a:return"Portal";case h:return"Profiler";case u:return"StrictMode";case C:return"Suspense";case y:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case m:return(c.displayName||"Context")+".Provider";case p:return(c._context.displayName||"Context")+".Consumer";case b:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case x:return d=c.displayName||null,d!==null?d:I(c.type)||"Memo";case R:d=c._payload,c=c._init;try{return I(c(d))}catch{}}return null}var O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.assign,L,V;function N(c){if(L===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);L=d&&d[1]||"",V=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+c+V}var Y=!1;function X(c,d){if(!c||Y)return"";Y=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(be){var pe=be}Reflect.construct(c,[],De)}else{try{De.call()}catch(be){pe=be}c.call(De.prototype)}}else{try{throw Error()}catch(be){pe=be}(De=c())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(be){if(be&&pe&&typeof be.stack=="string")return[be.stack,pe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=v.DetermineComponentFrameRoot(),H=P[0],W=P[1];if(H&&W){var te=H.split(`
`),oe=W.split(`
`);for(E=v=0;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;for(;E<oe.length&&!oe[E].includes("DetermineComponentFrameRoot");)E++;if(v===te.length||E===oe.length)for(v=te.length-1,E=oe.length-1;1<=v&&0<=E&&te[v]!==oe[E];)E--;for(;1<=v&&0<=E;v--,E--)if(te[v]!==oe[E]){if(v!==1||E!==1)do if(v--,E--,0>E||te[v]!==oe[E]){var we=`
`+te[v].replace(" at new "," at ");return c.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",c.displayName)),we}while(1<=v&&0<=E);break}}}finally{Y=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?N(g):""}function j(c){switch(c.tag){case 26:case 27:case 5:return N(c.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return c=X(c.type,!1),c;case 11:return c=X(c.type.render,!1),c;case 1:return c=X(c.type,!0),c;default:return""}}function G(c){try{var d="";do d+=j(c),c=c.return;while(c);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function U(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function Z(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function $(c){if(U(c)!==c)throw Error(r(188))}function Q(c){var d=c.alternate;if(!d){if(d=U(c),d===null)throw Error(r(188));return d!==c?null:c}for(var g=c,v=d;;){var E=g.return;if(E===null)break;var P=E.alternate;if(P===null){if(v=E.return,v!==null){g=v;continue}break}if(E.child===P.child){for(P=E.child;P;){if(P===g)return $(E),c;if(P===v)return $(E),d;P=P.sibling}throw Error(r(188))}if(g.return!==v.return)g=E,v=P;else{for(var H=!1,W=E.child;W;){if(W===g){H=!0,g=E,v=P;break}if(W===v){H=!0,v=E,g=P;break}W=W.sibling}if(!H){for(W=P.child;W;){if(W===g){H=!0,g=P,v=E;break}if(W===v){H=!0,v=P,g=E;break}W=W.sibling}if(!H)throw Error(r(189))}}if(g.alternate!==v)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:d}function J(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=J(c),d!==null)return d;c=c.sibling}return null}var ne=Array.isArray,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},me=[],xe=-1;function Pe(c){return{current:c}}function ue(c){0>xe||(c.current=me[xe],me[xe]=null,xe--)}function Se(c,d){xe++,me[xe]=c.current,c.current=d}var Re=Pe(null),le=Pe(null),Oe=Pe(null),Ie=Pe(null);function _e(c,d){switch(Se(Oe,d),Se(le,c),Se(Re,null),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?Fj(d):0;break;default:if(c=c===8?d.parentNode:d,d=c.tagName,c=c.namespaceURI)c=Fj(c),d=kj(c,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}ue(Re),Se(Re,d)}function Le(){ue(Re),ue(le),ue(Oe)}function Be(c){c.memoizedState!==null&&Se(Ie,c);var d=Re.current,g=kj(d,c.type);d!==g&&(Se(le,c),Se(Re,g))}function ze(c){le.current===c&&(ue(Re),ue(le)),Ie.current===c&&(ue(Ie),av._currentValue=fe)}var nt=Object.prototype.hasOwnProperty,it=e.unstable_scheduleCallback,Ve=e.unstable_cancelCallback,dt=e.unstable_shouldYield,Qe=e.unstable_requestPaint,wt=e.unstable_now,qt=e.unstable_getCurrentPriorityLevel,ft=e.unstable_ImmediatePriority,Mt=e.unstable_UserBlockingPriority,at=e.unstable_NormalPriority,xn=e.unstable_LowPriority,nn=e.unstable_IdlePriority,jn=e.log,cn=e.unstable_setDisableYieldValue,Gn=null,Gt=null;function Rn(c){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Gn,c,void 0,(c.current.flags&128)===128)}catch{}}function hn(c){if(typeof jn=="function"&&cn(c),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Gn,c)}catch{}}var Kt=Math.clz32?Math.clz32:Bs,Pi=Math.log,Sa=Math.LN2;function Bs(c){return c>>>=0,c===0?32:31-(Pi(c)/Sa|0)|0}var _i=128,uo=4194304;function Yn(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function En(c,d){var g=c.pendingLanes;if(g===0)return 0;var v=0,E=c.suspendedLanes,P=c.pingedLanes,H=c.warmLanes;c=c.finishedLanes!==0;var W=g&134217727;return W!==0?(g=W&~E,g!==0?v=Yn(g):(P&=W,P!==0?v=Yn(P):c||(H=W&~H,H!==0&&(v=Yn(H))))):(W=g&~E,W!==0?v=Yn(W):P!==0?v=Yn(P):c||(H=g&~H,H!==0&&(v=Yn(H)))),v===0?0:d!==0&&d!==v&&(d&E)===0&&(E=v&-v,H=d&-d,E>=H||E===32&&(H&4194176)!==0)?d:v}function Mr(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function On(c,d){switch(c){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(){var c=_i;return _i<<=1,(_i&4194176)===0&&(_i=128),c}function Tt(){var c=uo;return uo<<=1,(uo&62914560)===0&&(uo=4194304),c}function At(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function xt(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ui(c,d,g,v,E,P){var H=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var W=c.entanglements,te=c.expirationTimes,oe=c.hiddenUpdates;for(g=H&~g;0<g;){var we=31-Kt(g),De=1<<we;W[we]=0,te[we]=-1;var pe=oe[we];if(pe!==null)for(oe[we]=null,we=0;we<pe.length;we++){var be=pe[we];be!==null&&(be.lane&=-536870913)}g&=~De}v!==0&&Oi(c,v,0),P!==0&&E===0&&c.tag!==0&&(c.suspendedLanes|=P&~(H&~d))}function Oi(c,d,g){c.pendingLanes|=d,c.suspendedLanes&=~d;var v=31-Kt(d);c.entangledLanes|=d,c.entanglements[v]=c.entanglements[v]|1073741824|g&4194218}function Pt(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var v=31-Kt(g),E=1<<v;E&d|c[v]&d&&(c[v]|=d),g&=~E}}function Ko(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Yo(){var c=ee.p;return c!==0?c:(c=window.event,c===void 0?32:Jj(c.type))}function kt(c,d){var g=ee.p;try{return ee.p=c,d()}finally{ee.p=g}}var Jt=Math.random().toString(36).slice(2),en="__reactFiber$"+Jt,Vt="__reactProps$"+Jt,br="__reactContainer$"+Jt,Wi="__reactEvents$"+Jt,hi="__reactListeners$"+Jt,ur="__reactHandles$"+Jt,Yr="__reactResources$"+Jt,fi="__reactMarker$"+Jt;function pi(c){delete c[en],delete c[Vt],delete c[Wi],delete c[hi],delete c[ur]}function Xr(c){var d=c[en];if(d)return d;for(var g=c.parentNode;g;){if(d=g[br]||g[en]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=Vj(c);c!==null;){if(g=c[en])return g;c=Vj(c)}return d}c=g,g=c.parentNode}return null}function Lt(c){if(c=c[en]||c[br]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function Ao(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function Xo(c){var d=c[Yr];return d||(d=c[Yr]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function dn(c){c[fi]=!0}var xa=new Set,Ea={};function Qr(c,d){Fr(c,d),Fr(c+"Capture",d)}function Fr(c,d){for(Ea[c]=d,c=0;c<d.length;c++)xa.add(d[c])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},qi={};function gl(c){return nt.call(qi,c)?!0:nt.call(Qo,c)?!1:Ou.test(c)?qi[c]=!0:(Qo[c]=!0,!1)}function Po(c,d,g){if(gl(d))if(g===null)c.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+g)}}function kr(c,d,g){if(g===null)c.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+g)}}function Xn(c,d,g,v){if(v===null)c.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(d,g,""+v)}}function cr(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Hs(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function co(c){var d=Hs(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),v=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,P=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return E.call(this)},set:function(H){v=""+H,P.call(this,H)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return v},setValue:function(H){v=""+H},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function $s(c){c._valueTracker||(c._valueTracker=co(c))}function Ra(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),v="";return c&&(v=Hs(c)?c.checked?"true":"false":c.value),c=v,c!==g?(d.setValue(c),!0):!1}function Ta(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Ki=/[\n"\\]/g;function Mn(c){return c.replace(Ki,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Zo(c,d,g,v,E,P,H,W){c.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?c.type=H:c.removeAttribute("type"),d!=null?H==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+cr(d)):c.value!==""+cr(d)&&(c.value=""+cr(d)):H!=="submit"&&H!=="reset"||c.removeAttribute("value"),d!=null?Gs(c,H,cr(d)):g!=null?Gs(c,H,cr(g)):v!=null&&c.removeAttribute("value"),E==null&&P!=null&&(c.defaultChecked=!!P),E!=null&&(c.checked=E&&typeof E!="function"&&typeof E!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?c.name=""+cr(W):c.removeAttribute("name")}function js(c,d,g,v,E,P,H,W){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(c.type=P),d!=null||g!=null){if(!(P!=="submit"&&P!=="reset"||d!=null))return;g=g!=null?""+cr(g):"",d=d!=null?""+cr(d):g,W||d===c.value||(c.value=d),c.defaultValue=d}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=W?c.checked:!!v,c.defaultChecked=!!v,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(c.name=H)}function Gs(c,d,g){d==="number"&&Ta(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function Bt(c,d,g,v){if(c=c.options,d){d={};for(var E=0;E<g.length;E++)d["$"+g[E]]=!0;for(g=0;g<c.length;g++)E=d.hasOwnProperty("$"+c[g].value),c[g].selected!==E&&(c[g].selected=E),E&&v&&(c[g].defaultSelected=!0)}else{for(g=""+cr(g),d=null,E=0;E<c.length;E++){if(c[E].value===g){c[E].selected=!0,v&&(c[E].defaultSelected=!0);return}d!==null||c[E].disabled||(d=c[E])}d!==null&&(d.selected=!0)}}function zs(c,d,g){if(d!=null&&(d=""+cr(d),d!==c.value&&(c.value=d),g==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=g!=null?""+cr(g):""}function _o(c,d,g,v){if(d==null){if(v!=null){if(g!=null)throw Error(r(92));if(ne(v)){if(1<v.length)throw Error(r(93));v=v[0]}g=v}g==null&&(g=""),d=g}g=cr(d),c.defaultValue=g,v=c.textContent,v===g&&v!==""&&v!==null&&(c.value=v)}function Di(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var gd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Us(c,d,g){var v=d.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?v?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":v?c.setProperty(d,g):typeof g!="number"||g===0||gd.has(d)?d==="float"?c.cssFloat=g:c[d]=(""+g).trim():c[d]=g+"px"}function Yi(c,d,g){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,g!=null){for(var v in g)!g.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var E in d)v=d[E],d.hasOwnProperty(E)&&g[E]!==v&&Us(c,E,v)}else for(var P in d)d.hasOwnProperty(P)&&Us(c,P,d[P])}function ml(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fn(c){return ff.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Lr=null;function Oo(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Zr=null,Ii=null;function ho(c){var d=Lt(c);if(d&&(c=d.stateNode)){var g=c[Vt]||null;e:switch(c=d.stateNode,d.type){case"input":if(Zo(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Mn(""+d)+'"][type="radio"]'),d=0;d<g.length;d++){var v=g[d];if(v!==c&&v.form===c.form){var E=v[Vt]||null;if(!E)throw Error(r(90));Zo(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(d=0;d<g.length;d++)v=g[d],v.form===c.form&&Ra(v)}break e;case"textarea":zs(c,g.value,g.defaultValue);break e;case"select":d=g.value,d!=null&&Bt(c,!!g.multiple,d,!1)}}}var Aa=!1;function Du(c,d,g){if(Aa)return c(d,g);Aa=!0;try{var v=c(d);return v}finally{if(Aa=!1,(Zr!==null||Ii!==null)&&(Iw(),Zr&&(d=Zr,c=Ii,Ii=Zr=null,ho(d),c)))for(d=0;d<c.length;d++)ho(c[d])}}function $e(c,d){var g=c.stateNode;if(g===null)return null;var v=g[Vt]||null;if(v===null)return null;g=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var Ze=!1;if(Cr)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){Ze=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{Ze=!1}var on=null,tn=null,fo=null;function vl(){if(fo)return fo;var c,d=tn,g=d.length,v,E="value"in on?on.value:on.textContent,P=E.length;for(c=0;c<g&&d[c]===E[c];c++);var H=g-c;for(v=1;v<=H&&d[g-v]===E[P-v];v++);return fo=E.slice(c,1<v?1-v:void 0)}function Do(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Xi(){return!0}function Sm(){return!1}function Jr(c){function d(g,v,E,P,H){this._reactName=g,this._targetInst=E,this.type=v,this.nativeEvent=P,this.target=H,this.currentTarget=null;for(var W in c)c.hasOwnProperty(W)&&(g=c[W],this[W]=g?g(P):P[W]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Xi:Sm,this.isPropagationStopped=Sm,this}return F(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),d}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=Jr(fn),md=F({},fn,{view:0,detail:0}),jC=Jr(md),gf,mf,Pa,vd=F({},md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Pa&&(Pa&&c.type==="mousemove"?(gf=c.screenX-Pa.screenX,mf=c.screenY-Pa.screenY):mf=gf=0,Pa=c),gf)},movementY:function(c){return"movementY"in c?c.movementY:mf}}),Jo=Jr(vd),GC=F({},vd,{dataTransfer:0}),ST=Jr(GC),yd=F({},md,{relatedTarget:0}),vf=Jr(yd),xm=F({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),yf=Jr(xm),zC=F({},fn,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),bf=Jr(zC),xT=F({},fn,{data:0}),Em=Jr(xT),bd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rm(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=WC[c])?!!d[c]:!1}function Cd(){return Rm}var qC=F({},md,{key:function(c){if(c.key){var d=bd[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Do(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?UC[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cd,charCode:function(c){return c.type==="keypress"?Do(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Do(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Cf=Jr(qC),KC=F({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tm=Jr(KC),yl=F({},md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cd}),YC=Jr(yl),XC=F({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),QC=Jr(XC),ZC=F({},vd,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),wf=Jr(ZC),Qi=F({},fn,{newState:0,oldState:0}),JC=Jr(Qi),ew=[9,13,27,32],_a=Cr&&"CompositionEvent"in window,S=null;Cr&&"documentMode"in document&&(S=document.documentMode);var k=Cr&&"TextEvent"in window&&!S,B=Cr&&(!_a||S&&8<S&&11>=S),K=" ",ae=!1;function ge(c,d){switch(c){case"keyup":return ew.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fe(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Yt=!1;function Nr(c,d){switch(c){case"compositionend":return Fe(d);case"keypress":return d.which!==32?null:(ae=!0,K);case"textInput":return c=d.data,c===K&&ae?null:c;default:return null}}function Xt(c,d){if(Yt)return c==="compositionend"||!_a&&ge(c,d)?(c=vl(),fo=tn=on=null,Yt=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return B&&d.locale!=="ko"?null:d.data;default:return null}}var ei={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!ei[c.type]:d==="textarea"}function bl(c,d,g,v){Zr?Ii?Ii.push(v):Ii=[v]:Zr=v,d=Nw(d,"onChange"),0<d.length&&(g=new pf("onChange","change",null,g,v),c.push({event:g,listeners:d}))}var gi=null,Oa=null;function Am(c){_j(c,0)}function tw(c){var d=Ao(c);if(Ra(d))return c}function iH(c,d){if(c==="change")return d}var oH=!1;if(Cr){var ET;if(Cr){var RT="oninput"in document;if(!RT){var sH=document.createElement("div");sH.setAttribute("oninput","return;"),RT=typeof sH.oninput=="function"}ET=RT}else ET=!1;oH=ET&&(!document.documentMode||9<document.documentMode)}function aH(){gi&&(gi.detachEvent("onpropertychange",lH),Oa=gi=null)}function lH(c){if(c.propertyName==="value"&&tw(Oa)){var d=[];bl(d,Oa,c,Oo(c)),Du(Am,d)}}function cle(c,d,g){c==="focusin"?(aH(),gi=d,Oa=g,gi.attachEvent("onpropertychange",lH)):c==="focusout"&&aH()}function dle(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return tw(Oa)}function hle(c,d){if(c==="click")return tw(d)}function fle(c,d){if(c==="input"||c==="change")return tw(d)}function ple(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Io=typeof Object.is=="function"?Object.is:ple;function Pm(c,d){if(Io(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),v=Object.keys(d);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var E=g[v];if(!nt.call(d,E)||!Io(c[E],d[E]))return!1}return!0}function uH(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function cH(c,d){var g=uH(c);c=0;for(var v;g;){if(g.nodeType===3){if(v=c+g.textContent.length,c<=d&&v>=d)return{node:g,offset:d-c};c=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=uH(g)}}function dH(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?dH(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function hH(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=Ta(c.document);d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=Ta(c.document)}return d}function TT(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function gle(c,d){var g=hH(d);d=c.focusedElem;var v=c.selectionRange;if(g!==d&&d&&d.ownerDocument&&dH(d.ownerDocument.documentElement,d)){if(v!==null&&TT(d)){if(c=v.start,g=v.end,g===void 0&&(g=c),"selectionStart"in d)d.selectionStart=c,d.selectionEnd=Math.min(g,d.value.length);else if(g=(c=d.ownerDocument||document)&&c.defaultView||window,g.getSelection){g=g.getSelection();var E=d.textContent.length,P=Math.min(v.start,E);v=v.end===void 0?P:Math.min(v.end,E),!g.extend&&P>v&&(E=v,v=P,P=E),E=cH(d,P);var H=cH(d,v);E&&H&&(g.rangeCount!==1||g.anchorNode!==E.node||g.anchorOffset!==E.offset||g.focusNode!==H.node||g.focusOffset!==H.offset)&&(c=c.createRange(),c.setStart(E.node,E.offset),g.removeAllRanges(),P>v?(g.addRange(c),g.extend(H.node,H.offset)):(c.setEnd(H.node,H.offset),g.addRange(c)))}}for(c=[],g=d;g=g.parentNode;)g.nodeType===1&&c.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<c.length;d++)g=c[d],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var mle=Cr&&"documentMode"in document&&11>=document.documentMode,Sf=null,AT=null,_m=null,PT=!1;function fH(c,d,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;PT||Sf==null||Sf!==Ta(v)||(v=Sf,"selectionStart"in v&&TT(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),_m&&Pm(_m,v)||(_m=v,v=Nw(AT,"onSelect"),0<v.length&&(d=new pf("onSelect","select",null,d,g),c.push({event:d,listeners:v}),d.target=Sf)))}function wd(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var xf={animationend:wd("Animation","AnimationEnd"),animationiteration:wd("Animation","AnimationIteration"),animationstart:wd("Animation","AnimationStart"),transitionrun:wd("Transition","TransitionRun"),transitionstart:wd("Transition","TransitionStart"),transitioncancel:wd("Transition","TransitionCancel"),transitionend:wd("Transition","TransitionEnd")},_T={},pH={};Cr&&(pH=document.createElement("div").style,"AnimationEvent"in window||(delete xf.animationend.animation,delete xf.animationiteration.animation,delete xf.animationstart.animation),"TransitionEvent"in window||delete xf.transitionend.transition);function Sd(c){if(_T[c])return _T[c];if(!xf[c])return c;var d=xf[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in pH)return _T[c]=d[g];return c}var gH=Sd("animationend"),mH=Sd("animationiteration"),vH=Sd("animationstart"),vle=Sd("transitionrun"),yle=Sd("transitionstart"),ble=Sd("transitioncancel"),yH=Sd("transitionend"),bH=new Map,CH="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ws(c,d){bH.set(c,d),Qr(d,[c])}var es=[],Ef=0,OT=0;function nw(){for(var c=Ef,d=OT=Ef=0;d<c;){var g=es[d];es[d++]=null;var v=es[d];es[d++]=null;var E=es[d];es[d++]=null;var P=es[d];if(es[d++]=null,v!==null&&E!==null){var H=v.pending;H===null?E.next=E:(E.next=H.next,H.next=E),v.pending=E}P!==0&&wH(g,E,P)}}function rw(c,d,g,v){es[Ef++]=c,es[Ef++]=d,es[Ef++]=g,es[Ef++]=v,OT|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function DT(c,d,g,v){return rw(c,d,g,v),iw(c)}function Iu(c,d){return rw(c,null,null,d),iw(c)}function wH(c,d,g){c.lanes|=g;var v=c.alternate;v!==null&&(v.lanes|=g);for(var E=!1,P=c.return;P!==null;)P.childLanes|=g,v=P.alternate,v!==null&&(v.childLanes|=g),P.tag===22&&(c=P.stateNode,c===null||c._visibility&1||(E=!0)),c=P,P=P.return;E&&d!==null&&c.tag===3&&(P=c.stateNode,E=31-Kt(g),P=P.hiddenUpdates,c=P[E],c===null?P[E]=[d]:c.push(d),d.lane=g|536870912)}function iw(c){if(50<ev)throw ev=0,NA=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Rf={},SH=new WeakMap;function ts(c,d){if(typeof c=="object"&&c!==null){var g=SH.get(c);return g!==void 0?g:(d={value:c,source:d,stack:G(d)},SH.set(c,d),d)}return{value:c,source:d,stack:G(d)}}var Tf=[],Af=0,ow=null,sw=0,ns=[],rs=0,xd=null,Cl=1,wl="";function Ed(c,d){Tf[Af++]=sw,Tf[Af++]=ow,ow=c,sw=d}function xH(c,d,g){ns[rs++]=Cl,ns[rs++]=wl,ns[rs++]=xd,xd=c;var v=Cl;c=wl;var E=32-Kt(v)-1;v&=~(1<<E),g+=1;var P=32-Kt(d)+E;if(30<P){var H=E-E%5;P=(v&(1<<H)-1).toString(32),v>>=H,E-=H,Cl=1<<32-Kt(d)+E|g<<E|v,wl=P+c}else Cl=1<<P|g<<E|v,wl=c}function IT(c){c.return!==null&&(Ed(c,1),xH(c,1,0))}function MT(c){for(;c===ow;)ow=Tf[--Af],Tf[Af]=null,sw=Tf[--Af],Tf[Af]=null;for(;c===xd;)xd=ns[--rs],ns[rs]=null,wl=ns[--rs],ns[rs]=null,Cl=ns[--rs],ns[rs]=null}var Zi=null,mi=null,sn=!1,qs=null,Da=!1,FT=Error(r(519));function Rd(c){var d=Error(r(418,""));throw Im(ts(d,c)),FT}function EH(c){var d=c.stateNode,g=c.type,v=c.memoizedProps;switch(d[en]=c,d[Vt]=v,g){case"dialog":zt("cancel",d),zt("close",d);break;case"iframe":case"object":case"embed":zt("load",d);break;case"video":case"audio":for(g=0;g<nv.length;g++)zt(nv[g],d);break;case"source":zt("error",d);break;case"img":case"image":case"link":zt("error",d),zt("load",d);break;case"details":zt("toggle",d);break;case"input":zt("invalid",d),js(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),$s(d);break;case"select":zt("invalid",d);break;case"textarea":zt("invalid",d),_o(d,v.value,v.defaultValue,v.children),$s(d)}g=v.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||d.textContent===""+g||v.suppressHydrationWarning===!0||Mj(d.textContent,g)?(v.popover!=null&&(zt("beforetoggle",d),zt("toggle",d)),v.onScroll!=null&&zt("scroll",d),v.onScrollEnd!=null&&zt("scrollend",d),v.onClick!=null&&(d.onclick=Vw),d=!0):d=!1,d||Rd(c)}function RH(c){for(Zi=c.return;Zi;)switch(Zi.tag){case 3:case 27:Da=!0;return;case 5:case 13:Da=!1;return;default:Zi=Zi.return}}function Om(c){if(c!==Zi)return!1;if(!sn)return RH(c),sn=!0,!1;var d=!1,g;if((g=c.tag!==3&&c.tag!==27)&&((g=c.tag===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||eP(c.type,c.memoizedProps)),g=!g),g&&(d=!0),d&&mi&&Rd(c),RH(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(g=c.data,g==="/$"){if(d===0){mi=Ys(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++;c=c.nextSibling}mi=null}}else mi=Zi?Ys(c.stateNode.nextSibling):null;return!0}function Dm(){mi=Zi=null,sn=!1}function Im(c){qs===null?qs=[c]:qs.push(c)}var Mm=Error(r(460)),TH=Error(r(474)),kT={then:function(){}};function AH(c){return c=c.status,c==="fulfilled"||c==="rejected"}function aw(){}function PH(c,d,g){switch(g=c[g],g===void 0?c.push(d):g!==d&&(d.then(aw,aw),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Mm?Error(r(483)):c;default:if(typeof d.status=="string")d.then(aw,aw);else{if(c=kn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(v){if(d.status==="pending"){var E=d;E.status="fulfilled",E.value=v}},function(v){if(d.status==="pending"){var E=d;E.status="rejected",E.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Mm?Error(r(483)):c}throw Fm=d,Mm}}var Fm=null;function _H(){if(Fm===null)throw Error(r(459));var c=Fm;return Fm=null,c}var Pf=null,km=0;function lw(c){var d=km;return km+=1,Pf===null&&(Pf=[]),PH(Pf,c,d)}function Lm(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function uw(c,d){throw d.$$typeof===o?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function OH(c){var d=c._init;return d(c._payload)}function DH(c){function d(se,ie){if(c){var ce=se.deletions;ce===null?(se.deletions=[ie],se.flags|=16):ce.push(ie)}}function g(se,ie){if(!c)return null;for(;ie!==null;)d(se,ie),ie=ie.sibling;return null}function v(se){for(var ie=new Map;se!==null;)se.key!==null?ie.set(se.key,se):ie.set(se.index,se),se=se.sibling;return ie}function E(se,ie){return se=zu(se,ie),se.index=0,se.sibling=null,se}function P(se,ie,ce){return se.index=ce,c?(ce=se.alternate,ce!==null?(ce=ce.index,ce<ie?(se.flags|=33554434,ie):ce):(se.flags|=33554434,ie)):(se.flags|=1048576,ie)}function H(se){return c&&se.alternate===null&&(se.flags|=33554434),se}function W(se,ie,ce,Ee){return ie===null||ie.tag!==6?(ie=_A(ce,se.mode,Ee),ie.return=se,ie):(ie=E(ie,ce),ie.return=se,ie)}function te(se,ie,ce,Ee){var Xe=ce.type;return Xe===l?we(se,ie,ce.props.children,Ee,ce.key):ie!==null&&(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===R&&OH(Xe)===ie.type)?(ie=E(ie,ce.props),Lm(ie,ce),ie.return=se,ie):(ie=Aw(ce.type,ce.key,ce.props,null,se.mode,Ee),Lm(ie,ce),ie.return=se,ie)}function oe(se,ie,ce,Ee){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ce.containerInfo||ie.stateNode.implementation!==ce.implementation?(ie=OA(ce,se.mode,Ee),ie.return=se,ie):(ie=E(ie,ce.children||[]),ie.return=se,ie)}function we(se,ie,ce,Ee,Xe){return ie===null||ie.tag!==7?(ie=kd(ce,se.mode,Ee,Xe),ie.return=se,ie):(ie=E(ie,ce),ie.return=se,ie)}function De(se,ie,ce){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=_A(""+ie,se.mode,ce),ie.return=se,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case s:return ce=Aw(ie.type,ie.key,ie.props,null,se.mode,ce),Lm(ce,ie),ce.return=se,ce;case a:return ie=OA(ie,se.mode,ce),ie.return=se,ie;case R:var Ee=ie._init;return ie=Ee(ie._payload),De(se,ie,ce)}if(ne(ie)||D(ie))return ie=kd(ie,se.mode,ce,null),ie.return=se,ie;if(typeof ie.then=="function")return De(se,lw(ie),ce);if(ie.$$typeof===m)return De(se,Ew(se,ie),ce);uw(se,ie)}return null}function pe(se,ie,ce,Ee){var Xe=ie!==null?ie.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Xe!==null?null:W(se,ie,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case s:return ce.key===Xe?te(se,ie,ce,Ee):null;case a:return ce.key===Xe?oe(se,ie,ce,Ee):null;case R:return Xe=ce._init,ce=Xe(ce._payload),pe(se,ie,ce,Ee)}if(ne(ce)||D(ce))return Xe!==null?null:we(se,ie,ce,Ee,null);if(typeof ce.then=="function")return pe(se,ie,lw(ce),Ee);if(ce.$$typeof===m)return pe(se,ie,Ew(se,ce),Ee);uw(se,ce)}return null}function be(se,ie,ce,Ee,Xe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return se=se.get(ce)||null,W(ie,se,""+Ee,Xe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case s:return se=se.get(Ee.key===null?ce:Ee.key)||null,te(ie,se,Ee,Xe);case a:return se=se.get(Ee.key===null?ce:Ee.key)||null,oe(ie,se,Ee,Xe);case R:var Ft=Ee._init;return Ee=Ft(Ee._payload),be(se,ie,ce,Ee,Xe)}if(ne(Ee)||D(Ee))return se=se.get(ce)||null,we(ie,se,Ee,Xe,null);if(typeof Ee.then=="function")return be(se,ie,ce,lw(Ee),Xe);if(Ee.$$typeof===m)return be(se,ie,ce,Ew(ie,Ee),Xe);uw(ie,Ee)}return null}function Je(se,ie,ce,Ee){for(var Xe=null,Ft=null,tt=ie,lt=ie=0,ri=null;tt!==null&&lt<ce.length;lt++){tt.index>lt?(ri=tt,tt=null):ri=tt.sibling;var an=pe(se,tt,ce[lt],Ee);if(an===null){tt===null&&(tt=ri);break}c&&tt&&an.alternate===null&&d(se,tt),ie=P(an,ie,lt),Ft===null?Xe=an:Ft.sibling=an,Ft=an,tt=ri}if(lt===ce.length)return g(se,tt),sn&&Ed(se,lt),Xe;if(tt===null){for(;lt<ce.length;lt++)tt=De(se,ce[lt],Ee),tt!==null&&(ie=P(tt,ie,lt),Ft===null?Xe=tt:Ft.sibling=tt,Ft=tt);return sn&&Ed(se,lt),Xe}for(tt=v(tt);lt<ce.length;lt++)ri=be(tt,se,lt,ce[lt],Ee),ri!==null&&(c&&ri.alternate!==null&&tt.delete(ri.key===null?lt:ri.key),ie=P(ri,ie,lt),Ft===null?Xe=ri:Ft.sibling=ri,Ft=ri);return c&&tt.forEach(function(Qu){return d(se,Qu)}),sn&&Ed(se,lt),Xe}function bt(se,ie,ce,Ee){if(ce==null)throw Error(r(151));for(var Xe=null,Ft=null,tt=ie,lt=ie=0,ri=null,an=ce.next();tt!==null&&!an.done;lt++,an=ce.next()){tt.index>lt?(ri=tt,tt=null):ri=tt.sibling;var Qu=pe(se,tt,an.value,Ee);if(Qu===null){tt===null&&(tt=ri);break}c&&tt&&Qu.alternate===null&&d(se,tt),ie=P(Qu,ie,lt),Ft===null?Xe=Qu:Ft.sibling=Qu,Ft=Qu,tt=ri}if(an.done)return g(se,tt),sn&&Ed(se,lt),Xe;if(tt===null){for(;!an.done;lt++,an=ce.next())an=De(se,an.value,Ee),an!==null&&(ie=P(an,ie,lt),Ft===null?Xe=an:Ft.sibling=an,Ft=an);return sn&&Ed(se,lt),Xe}for(tt=v(tt);!an.done;lt++,an=ce.next())an=be(tt,se,lt,an.value,Ee),an!==null&&(c&&an.alternate!==null&&tt.delete(an.key===null?lt:an.key),ie=P(an,ie,lt),Ft===null?Xe=an:Ft.sibling=an,Ft=an);return c&&tt.forEach(function(Mue){return d(se,Mue)}),sn&&Ed(se,lt),Xe}function fr(se,ie,ce,Ee){if(typeof ce=="object"&&ce!==null&&ce.type===l&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case s:e:{for(var Xe=ce.key;ie!==null;){if(ie.key===Xe){if(Xe=ce.type,Xe===l){if(ie.tag===7){g(se,ie.sibling),Ee=E(ie,ce.props.children),Ee.return=se,se=Ee;break e}}else if(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===R&&OH(Xe)===ie.type){g(se,ie.sibling),Ee=E(ie,ce.props),Lm(Ee,ce),Ee.return=se,se=Ee;break e}g(se,ie);break}else d(se,ie);ie=ie.sibling}ce.type===l?(Ee=kd(ce.props.children,se.mode,Ee,ce.key),Ee.return=se,se=Ee):(Ee=Aw(ce.type,ce.key,ce.props,null,se.mode,Ee),Lm(Ee,ce),Ee.return=se,se=Ee)}return H(se);case a:e:{for(Xe=ce.key;ie!==null;){if(ie.key===Xe)if(ie.tag===4&&ie.stateNode.containerInfo===ce.containerInfo&&ie.stateNode.implementation===ce.implementation){g(se,ie.sibling),Ee=E(ie,ce.children||[]),Ee.return=se,se=Ee;break e}else{g(se,ie);break}else d(se,ie);ie=ie.sibling}Ee=OA(ce,se.mode,Ee),Ee.return=se,se=Ee}return H(se);case R:return Xe=ce._init,ce=Xe(ce._payload),fr(se,ie,ce,Ee)}if(ne(ce))return Je(se,ie,ce,Ee);if(D(ce)){if(Xe=D(ce),typeof Xe!="function")throw Error(r(150));return ce=Xe.call(ce),bt(se,ie,ce,Ee)}if(typeof ce.then=="function")return fr(se,ie,lw(ce),Ee);if(ce.$$typeof===m)return fr(se,ie,Ew(se,ce),Ee);uw(se,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ie!==null&&ie.tag===6?(g(se,ie.sibling),Ee=E(ie,ce),Ee.return=se,se=Ee):(g(se,ie),Ee=_A(ce,se.mode,Ee),Ee.return=se,se=Ee),H(se)):g(se,ie)}return function(se,ie,ce,Ee){try{km=0;var Xe=fr(se,ie,ce,Ee);return Pf=null,Xe}catch(tt){if(tt===Mm)throw tt;var Ft=as(29,tt,null,se.mode);return Ft.lanes=Ee,Ft.return=se,Ft}finally{}}}var Td=DH(!0),IH=DH(!1),_f=Pe(null),cw=Pe(0);function MH(c,d){c=Il,Se(cw,c),Se(_f,d),Il=c|d.baseLanes}function LT(){Se(cw,Il),Se(_f,_f.current)}function NT(){Il=cw.current,ue(_f),ue(cw)}var is=Pe(null),Ia=null;function Mu(c){var d=c.alternate;Se(Br,Br.current&1),Se(is,c),Ia===null&&(d===null||_f.current!==null||d.memoizedState!==null)&&(Ia=c)}function FH(c){if(c.tag===22){if(Se(Br,Br.current),Se(is,c),Ia===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(Ia=c)}}else Fu()}function Fu(){Se(Br,Br.current),Se(is,is.current)}function Sl(c){ue(is),Ia===c&&(Ia=null),ue(Br)}var Br=Pe(0);function dw(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Cle=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(g,v){c.push(v)}};this.abort=function(){d.aborted=!0,c.forEach(function(g){return g()})}},wle=e.unstable_scheduleCallback,Sle=e.unstable_NormalPriority,Hr={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function VT(){return{controller:new Cle,data:new Map,refCount:0}}function Nm(c){c.refCount--,c.refCount===0&&wle(Sle,function(){c.controller.abort()})}var Vm=null,BT=0,Of=0,Df=null;function xle(c,d){if(Vm===null){var g=Vm=[];BT=0,Of=UA(),Df={status:"pending",value:void 0,then:function(v){g.push(v)}}}return BT++,d.then(kH,kH),d}function kH(){if(--BT===0&&Vm!==null){Df!==null&&(Df.status="fulfilled");var c=Vm;Vm=null,Of=0,Df=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function Ele(c,d){var g=[],v={status:"pending",value:null,reason:null,then:function(E){g.push(E)}};return c.then(function(){v.status="fulfilled",v.value=d;for(var E=0;E<g.length;E++)(0,g[E])(d)},function(E){for(v.status="rejected",v.reason=E,E=0;E<g.length;E++)(0,g[E])(void 0)}),v}var LH=O.S;O.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&xle(c,d),LH!==null&&LH(c,d)};var Ad=Pe(null);function HT(){var c=Ad.current;return c!==null?c:kn.pooledCache}function hw(c,d){d===null?Se(Ad,Ad.current):Se(Ad,d.pool)}function NH(){var c=HT();return c===null?null:{parent:Hr._currentValue,pool:c}}var ku=0,_t=null,Tn=null,Rr=null,fw=!1,If=!1,Pd=!1,pw=0,Bm=0,Mf=null,Rle=0;function wr(){throw Error(r(321))}function $T(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!Io(c[g],d[g]))return!1;return!0}function jT(c,d,g,v,E,P){return ku=P,_t=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,O.H=c===null||c.memoizedState===null?_d:Lu,Pd=!1,P=g(v,E),Pd=!1,If&&(P=BH(d,g,v,E)),VH(c),P}function VH(c){O.H=Ma;var d=Tn!==null&&Tn.next!==null;if(ku=0,Rr=Tn=_t=null,fw=!1,Bm=0,Mf=null,d)throw Error(r(300));c===null||ti||(c=c.dependencies,c!==null&&xw(c)&&(ti=!0))}function BH(c,d,g,v){_t=c;var E=0;do{if(If&&(Mf=null),Bm=0,If=!1,25<=E)throw Error(r(301));if(E+=1,Rr=Tn=null,c.updateQueue!=null){var P=c.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}O.H=Od,P=d(g,v)}while(If);return P}function Tle(){var c=O.H,d=c.useState()[0];return d=typeof d.then=="function"?Hm(d):d,c=c.useState()[0],(Tn!==null?Tn.memoizedState:null)!==c&&(_t.flags|=1024),d}function GT(){var c=pw!==0;return pw=0,c}function zT(c,d,g){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~g}function UT(c){if(fw){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}fw=!1}ku=0,Rr=Tn=_t=null,If=!1,Bm=pw=0,Mf=null}function po(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?_t.memoizedState=Rr=c:Rr=Rr.next=c,Rr}function Tr(){if(Tn===null){var c=_t.alternate;c=c!==null?c.memoizedState:null}else c=Tn.next;var d=Rr===null?_t.memoizedState:Rr.next;if(d!==null)Rr=d,Tn=c;else{if(c===null)throw _t.alternate===null?Error(r(467)):Error(r(310));Tn=c,c={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Rr===null?_t.memoizedState=Rr=c:Rr=Rr.next=c}return Rr}var gw;gw=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Hm(c){var d=Bm;return Bm+=1,Mf===null&&(Mf=[]),c=PH(Mf,c,d),d=_t,(Rr===null?d.memoizedState:Rr.next)===null&&(d=d.alternate,O.H=d===null||d.memoizedState===null?_d:Lu),c}function mw(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Hm(c);if(c.$$typeof===m)return Mi(c)}throw Error(r(438,String(c)))}function WT(c){var d=null,g=_t.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var v=_t.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(E){return E.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=gw(),_t.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(c),v=0;v<c;v++)g[v]=M;return d.index++,g}function xl(c,d){return typeof d=="function"?d(c):d}function vw(c){var d=Tr();return qT(d,Tn,c)}function qT(c,d,g){var v=c.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=g;var E=c.baseQueue,P=v.pending;if(P!==null){if(E!==null){var H=E.next;E.next=P.next,P.next=H}d.baseQueue=E=P,v.pending=null}if(P=c.baseState,E===null)c.memoizedState=P;else{d=E.next;var W=H=null,te=null,oe=d,we=!1;do{var De=oe.lane&-536870913;if(De!==oe.lane?(Qt&De)===De:(ku&De)===De){var pe=oe.revertLane;if(pe===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),De===Of&&(we=!0);else if((ku&pe)===pe){oe=oe.next,pe===Of&&(we=!0);continue}else De={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},te===null?(W=te=De,H=P):te=te.next=De,_t.lanes|=pe,Uu|=pe;De=oe.action,Pd&&g(P,De),P=oe.hasEagerState?oe.eagerState:g(P,De)}else pe={lane:De,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},te===null?(W=te=pe,H=P):te=te.next=pe,_t.lanes|=De,Uu|=De;oe=oe.next}while(oe!==null&&oe!==d);if(te===null?H=P:te.next=W,!Io(P,c.memoizedState)&&(ti=!0,we&&(g=Df,g!==null)))throw g;c.memoizedState=P,c.baseState=H,c.baseQueue=te,v.lastRenderedState=P}return E===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function KT(c){var d=Tr(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var v=g.dispatch,E=g.pending,P=d.memoizedState;if(E!==null){g.pending=null;var H=E=E.next;do P=c(P,H.action),H=H.next;while(H!==E);Io(P,d.memoizedState)||(ti=!0),d.memoizedState=P,d.baseQueue===null&&(d.baseState=P),g.lastRenderedState=P}return[P,v]}function HH(c,d,g){var v=_t,E=Tr(),P=sn;if(P){if(g===void 0)throw Error(r(407));g=g()}else g=d();var H=!Io((Tn||E).memoizedState,g);if(H&&(E.memoizedState=g,ti=!0),E=E.queue,QT(GH.bind(null,v,E,c),[c]),E.getSnapshot!==d||H||Rr!==null&&Rr.memoizedState.tag&1){if(v.flags|=2048,Ff(9,jH.bind(null,v,E,g,d),{destroy:void 0},null),kn===null)throw Error(r(349));P||(ku&60)!==0||$H(v,d,g)}return g}function $H(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=_t.updateQueue,d===null?(d=gw(),_t.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function jH(c,d,g,v){d.value=g,d.getSnapshot=v,zH(d)&&UH(c)}function GH(c,d,g){return g(function(){zH(d)&&UH(c)})}function zH(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!Io(c,g)}catch{return!0}}function UH(c){var d=Iu(c,2);d!==null&&Ji(d,c,2)}function YT(c){var d=po();if(typeof c=="function"){var g=c;if(c=g(),Pd){hn(!0);try{g()}finally{hn(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:c},d}function WH(c,d,g,v){return c.baseState=g,qT(c,Tn,typeof v=="function"?v:xl)}function Ale(c,d,g,v,E){if(Cw(c))throw Error(r(485));if(c=d.action,c!==null){var P={payload:E,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){P.listeners.push(H)}};O.T!==null?g(!0):P.isTransition=!1,v(P),g=d.pending,g===null?(P.next=d.pending=P,qH(d,P)):(P.next=g.next,d.pending=g.next=P)}}function qH(c,d){var g=d.action,v=d.payload,E=c.state;if(d.isTransition){var P=O.T,H={};O.T=H;try{var W=g(E,v),te=O.S;te!==null&&te(H,W),KH(c,d,W)}catch(oe){XT(c,d,oe)}finally{O.T=P}}else try{P=g(E,v),KH(c,d,P)}catch(oe){XT(c,d,oe)}}function KH(c,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(v){YH(c,d,v)},function(v){return XT(c,d,v)}):YH(c,d,g)}function YH(c,d,g){d.status="fulfilled",d.value=g,XH(d),c.state=g,d=c.pending,d!==null&&(g=d.next,g===d?c.pending=null:(g=g.next,d.next=g,qH(c,g)))}function XT(c,d,g){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=g,XH(d),d=d.next;while(d!==v)}c.action=null}function XH(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function QH(c,d){return d}function ZH(c,d){if(sn){var g=kn.formState;if(g!==null){e:{var v=_t;if(sn){if(mi){t:{for(var E=mi,P=Da;E.nodeType!==8;){if(!P){E=null;break t}if(E=Ys(E.nextSibling),E===null){E=null;break t}}P=E.data,E=P==="F!"||P==="F"?E:null}if(E){mi=Ys(E.nextSibling),v=E.data==="F!";break e}}Rd(v)}v=!1}v&&(d=g[0])}}return g=po(),g.memoizedState=g.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QH,lastRenderedState:d},g.queue=v,g=m$.bind(null,_t,v),v.dispatch=g,v=YT(!1),P=nA.bind(null,_t,!1,v.queue),v=po(),E={state:d,dispatch:null,action:c,pending:null},v.queue=E,g=Ale.bind(null,_t,E,P,g),E.dispatch=g,v.memoizedState=c,[d,g,!1]}function JH(c){var d=Tr();return e$(d,Tn,c)}function e$(c,d,g){d=qT(c,d,QH)[0],c=vw(xl)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Hm(d):d;var v=Tr(),E=v.queue,P=E.dispatch;return g!==v.memoizedState&&(_t.flags|=2048,Ff(9,Ple.bind(null,E,g),{destroy:void 0},null)),[d,P,c]}function Ple(c,d){c.action=d}function t$(c){var d=Tr(),g=Tn;if(g!==null)return e$(d,g,c);Tr(),d=d.memoizedState,g=Tr();var v=g.queue.dispatch;return g.memoizedState=c,[d,v,!1]}function Ff(c,d,g,v){return c={tag:c,create:d,inst:g,deps:v,next:null},d=_t.updateQueue,d===null&&(d=gw(),_t.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=c.next=c:(v=g.next,g.next=c,c.next=v,d.lastEffect=c),c}function n$(){return Tr().memoizedState}function yw(c,d,g,v){var E=po();_t.flags|=c,E.memoizedState=Ff(1|d,g,{destroy:void 0},v===void 0?null:v)}function bw(c,d,g,v){var E=Tr();v=v===void 0?null:v;var P=E.memoizedState.inst;Tn!==null&&v!==null&&$T(v,Tn.memoizedState.deps)?E.memoizedState=Ff(d,g,P,v):(_t.flags|=c,E.memoizedState=Ff(1|d,g,P,v))}function r$(c,d){yw(8390656,8,c,d)}function QT(c,d){bw(2048,8,c,d)}function i$(c,d){return bw(4,2,c,d)}function o$(c,d){return bw(4,4,c,d)}function s$(c,d){if(typeof d=="function"){c=c();var g=d(c);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function a$(c,d,g){g=g!=null?g.concat([c]):null,bw(4,4,s$.bind(null,d,c),g)}function ZT(){}function l$(c,d){var g=Tr();d=d===void 0?null:d;var v=g.memoizedState;return d!==null&&$T(d,v[1])?v[0]:(g.memoizedState=[c,d],c)}function u$(c,d){var g=Tr();d=d===void 0?null:d;var v=g.memoizedState;if(d!==null&&$T(d,v[1]))return v[0];if(v=c(),Pd){hn(!0);try{c()}finally{hn(!1)}}return g.memoizedState=[v,d],v}function JT(c,d,g){return g===void 0||(ku&1073741824)!==0?c.memoizedState=d:(c.memoizedState=g,c=dj(),_t.lanes|=c,Uu|=c,g)}function c$(c,d,g,v){return Io(g,d)?g:_f.current!==null?(c=JT(c,g,v),Io(c,d)||(ti=!0),c):(ku&42)===0?(ti=!0,c.memoizedState=g):(c=dj(),_t.lanes|=c,Uu|=c,d)}function d$(c,d,g,v,E){var P=ee.p;ee.p=P!==0&&8>P?P:8;var H=O.T,W={};O.T=W,nA(c,!1,d,g);try{var te=E(),oe=O.S;if(oe!==null&&oe(W,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var we=Ele(te,v);$m(c,d,we,Lo(c))}else $m(c,d,v,Lo(c))}catch(De){$m(c,d,{then:function(){},status:"rejected",reason:De},Lo())}finally{ee.p=P,O.T=H}}function _le(){}function eA(c,d,g,v){if(c.tag!==5)throw Error(r(476));var E=h$(c).queue;d$(c,E,d,fe,g===null?_le:function(){return f$(c),g(v)})}function h$(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:fe},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:g},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function f$(c){var d=h$(c).next.queue;$m(c,d,{},Lo())}function tA(){return Mi(av)}function p$(){return Tr().memoizedState}function g$(){return Tr().memoizedState}function Ole(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var g=Lo();c=Bu(g);var v=Hu(d,c,g);v!==null&&(Ji(v,d,g),zm(v,d,g)),d={cache:VT()},c.payload=d;return}d=d.return}}function Dle(c,d,g){var v=Lo();g={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},Cw(c)?v$(d,g):(g=DT(c,d,g,v),g!==null&&(Ji(g,c,v),y$(g,d,v)))}function m$(c,d,g){var v=Lo();$m(c,d,g,v)}function $m(c,d,g,v){var E={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(Cw(c))v$(d,E);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=d.lastRenderedReducer,P!==null))try{var H=d.lastRenderedState,W=P(H,g);if(E.hasEagerState=!0,E.eagerState=W,Io(W,H))return rw(c,d,E,0),kn===null&&nw(),!1}catch{}finally{}if(g=DT(c,d,E,v),g!==null)return Ji(g,c,v),y$(g,d,v),!0}return!1}function nA(c,d,g,v){if(v={lane:2,revertLane:UA(),action:v,hasEagerState:!1,eagerState:null,next:null},Cw(c)){if(d)throw Error(r(479))}else d=DT(c,g,v,2),d!==null&&Ji(d,c,2)}function Cw(c){var d=c.alternate;return c===_t||d!==null&&d===_t}function v$(c,d){If=fw=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function y$(c,d,g){if((g&4194176)!==0){var v=d.lanes;v&=c.pendingLanes,g|=v,d.lanes=g,Pt(c,g)}}var Ma={readContext:Mi,use:mw,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useLayoutEffect:wr,useInsertionEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useSyncExternalStore:wr,useId:wr};Ma.useCacheRefresh=wr,Ma.useMemoCache=wr,Ma.useHostTransitionStatus=wr,Ma.useFormState=wr,Ma.useActionState=wr,Ma.useOptimistic=wr;var _d={readContext:Mi,use:mw,useCallback:function(c,d){return po().memoizedState=[c,d===void 0?null:d],c},useContext:Mi,useEffect:r$,useImperativeHandle:function(c,d,g){g=g!=null?g.concat([c]):null,yw(4194308,4,s$.bind(null,d,c),g)},useLayoutEffect:function(c,d){return yw(4194308,4,c,d)},useInsertionEffect:function(c,d){yw(4,2,c,d)},useMemo:function(c,d){var g=po();d=d===void 0?null:d;var v=c();if(Pd){hn(!0);try{c()}finally{hn(!1)}}return g.memoizedState=[v,d],v},useReducer:function(c,d,g){var v=po();if(g!==void 0){var E=g(d);if(Pd){hn(!0);try{g(d)}finally{hn(!1)}}}else E=d;return v.memoizedState=v.baseState=E,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:E},v.queue=c,c=c.dispatch=Dle.bind(null,_t,c),[v.memoizedState,c]},useRef:function(c){var d=po();return c={current:c},d.memoizedState=c},useState:function(c){c=YT(c);var d=c.queue,g=m$.bind(null,_t,d);return d.dispatch=g,[c.memoizedState,g]},useDebugValue:ZT,useDeferredValue:function(c,d){var g=po();return JT(g,c,d)},useTransition:function(){var c=YT(!1);return c=d$.bind(null,_t,c.queue,!0,!1),po().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,g){var v=_t,E=po();if(sn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),kn===null)throw Error(r(349));(Qt&60)!==0||$H(v,d,g)}E.memoizedState=g;var P={value:g,getSnapshot:d};return E.queue=P,r$(GH.bind(null,v,P,c),[c]),v.flags|=2048,Ff(9,jH.bind(null,v,P,g,d),{destroy:void 0},null),g},useId:function(){var c=po(),d=kn.identifierPrefix;if(sn){var g=wl,v=Cl;g=(v&~(1<<32-Kt(v)-1)).toString(32)+g,d=":"+d+"R"+g,g=pw++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=Rle++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},useCacheRefresh:function(){return po().memoizedState=Ole.bind(null,_t)}};_d.useMemoCache=WT,_d.useHostTransitionStatus=tA,_d.useFormState=ZH,_d.useActionState=ZH,_d.useOptimistic=function(c){var d=po();d.memoizedState=d.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=nA.bind(null,_t,!0,g),g.dispatch=d,[c,d]};var Lu={readContext:Mi,use:mw,useCallback:l$,useContext:Mi,useEffect:QT,useImperativeHandle:a$,useInsertionEffect:i$,useLayoutEffect:o$,useMemo:u$,useReducer:vw,useRef:n$,useState:function(){return vw(xl)},useDebugValue:ZT,useDeferredValue:function(c,d){var g=Tr();return c$(g,Tn.memoizedState,c,d)},useTransition:function(){var c=vw(xl)[0],d=Tr().memoizedState;return[typeof c=="boolean"?c:Hm(c),d]},useSyncExternalStore:HH,useId:p$};Lu.useCacheRefresh=g$,Lu.useMemoCache=WT,Lu.useHostTransitionStatus=tA,Lu.useFormState=JH,Lu.useActionState=JH,Lu.useOptimistic=function(c,d){var g=Tr();return WH(g,Tn,c,d)};var Od={readContext:Mi,use:mw,useCallback:l$,useContext:Mi,useEffect:QT,useImperativeHandle:a$,useInsertionEffect:i$,useLayoutEffect:o$,useMemo:u$,useReducer:KT,useRef:n$,useState:function(){return KT(xl)},useDebugValue:ZT,useDeferredValue:function(c,d){var g=Tr();return Tn===null?JT(g,c,d):c$(g,Tn.memoizedState,c,d)},useTransition:function(){var c=KT(xl)[0],d=Tr().memoizedState;return[typeof c=="boolean"?c:Hm(c),d]},useSyncExternalStore:HH,useId:p$};Od.useCacheRefresh=g$,Od.useMemoCache=WT,Od.useHostTransitionStatus=tA,Od.useFormState=t$,Od.useActionState=t$,Od.useOptimistic=function(c,d){var g=Tr();return Tn!==null?WH(g,Tn,c,d):(g.baseState=c,[c,g.queue.dispatch])};function rA(c,d,g,v){d=c.memoizedState,g=g(v,d),g=g==null?d:F({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var iA={isMounted:function(c){return(c=c._reactInternals)?U(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var v=Lo(),E=Bu(v);E.payload=d,g!=null&&(E.callback=g),d=Hu(c,E,v),d!==null&&(Ji(d,c,v),zm(d,c,v))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var v=Lo(),E=Bu(v);E.tag=1,E.payload=d,g!=null&&(E.callback=g),d=Hu(c,E,v),d!==null&&(Ji(d,c,v),zm(d,c,v))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=Lo(),v=Bu(g);v.tag=2,d!=null&&(v.callback=d),d=Hu(c,v,g),d!==null&&(Ji(d,c,g),zm(d,c,g))}};function b$(c,d,g,v,E,P,H){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,P,H):d.prototype&&d.prototype.isPureReactComponent?!Pm(g,v)||!Pm(E,P):!0}function C$(c,d,g,v){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,v),d.state!==c&&iA.enqueueReplaceState(d,d.state,null)}function Dd(c,d){var g=d;if("ref"in d){g={};for(var v in d)v!=="ref"&&(g[v]=d[v])}if(c=c.defaultProps){g===d&&(g=F({},g));for(var E in c)g[E]===void 0&&(g[E]=c[E])}return g}var ww=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function w$(c){ww(c)}function S$(c){console.error(c)}function x$(c){ww(c)}function Sw(c,d){try{var g=c.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function E$(c,d,g){try{var v=c.onCaughtError;v(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function oA(c,d,g){return g=Bu(g),g.tag=3,g.payload={element:null},g.callback=function(){Sw(c,d)},g}function R$(c){return c=Bu(c),c.tag=3,c}function T$(c,d,g,v){var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var P=v.value;c.payload=function(){return E(P)},c.callback=function(){E$(d,g,v)}}var H=g.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(c.callback=function(){E$(d,g,v),typeof E!="function"&&(Wu===null?Wu=new Set([this]):Wu.add(this));var W=v.stack;this.componentDidCatch(v.value,{componentStack:W!==null?W:""})})}function Ile(c,d,g,v,E){if(g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=g.alternate,d!==null&&Gm(d,g,E,!0),g=is.current,g!==null){switch(g.tag){case 13:return Ia===null?HA():g.alternate===null&&hr===0&&(hr=3),g.flags&=-257,g.flags|=65536,g.lanes=E,v===kT?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([v]):d.add(v),jA(c,v,E)),!1;case 22:return g.flags|=65536,v===kT?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([v]):g.add(v)),jA(c,v,E)),!1}throw Error(r(435,g.tag))}return jA(c,v,E),HA(),!1}if(sn)return d=is.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=E,v!==FT&&(c=Error(r(422),{cause:v}),Im(ts(c,g)))):(v!==FT&&(d=Error(r(423),{cause:v}),Im(ts(d,g))),c=c.current.alternate,c.flags|=65536,E&=-E,c.lanes|=E,v=ts(v,g),E=oA(c.stateNode,v,E),CA(c,E),hr!==4&&(hr=2)),!1;var P=Error(r(520),{cause:v});if(P=ts(P,g),Zm===null?Zm=[P]:Zm.push(P),hr!==4&&(hr=2),d===null)return!0;v=ts(v,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,c=E&-E,g.lanes|=c,c=oA(g.stateNode,v,c),CA(g,c),!1;case 1:if(d=g.type,P=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Wu===null||!Wu.has(P))))return g.flags|=65536,E&=-E,g.lanes|=E,E=R$(E),T$(E,c,g,v),CA(g,E),!1}g=g.return}while(g!==null);return!1}var A$=Error(r(461)),ti=!1;function vi(c,d,g,v){d.child=c===null?IH(d,null,g,v):Td(d,c.child,g,v)}function P$(c,d,g,v,E){g=g.render;var P=d.ref;if("ref"in v){var H={};for(var W in v)W!=="ref"&&(H[W]=v[W])}else H=v;return Md(d),v=jT(c,d,g,H,P,E),W=GT(),c!==null&&!ti?(zT(c,d,E),El(c,d,E)):(sn&&W&&IT(d),d.flags|=1,vi(c,d,v,E),d.child)}function _$(c,d,g,v,E){if(c===null){var P=g.type;return typeof P=="function"&&!PA(P)&&P.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=P,O$(c,d,P,v,E)):(c=Aw(g.type,null,v,d,d.mode,E),c.ref=d.ref,c.return=d,d.child=c)}if(P=c.child,!pA(c,E)){var H=P.memoizedProps;if(g=g.compare,g=g!==null?g:Pm,g(H,v)&&c.ref===d.ref)return El(c,d,E)}return d.flags|=1,c=zu(P,v),c.ref=d.ref,c.return=d,d.child=c}function O$(c,d,g,v,E){if(c!==null){var P=c.memoizedProps;if(Pm(P,v)&&c.ref===d.ref)if(ti=!1,d.pendingProps=v=P,pA(c,E))(c.flags&131072)!==0&&(ti=!0);else return d.lanes=c.lanes,El(c,d,E)}return sA(c,d,g,v,E)}function D$(c,d,g){var v=d.pendingProps,E=v.children,P=(d.stateNode._pendingVisibility&2)!==0,H=c!==null?c.memoizedState:null;if(jm(c,d),v.mode==="hidden"||P){if((d.flags&128)!==0){if(v=H!==null?H.baseLanes|g:g,c!==null){for(E=d.child=c.child,P=0;E!==null;)P=P|E.lanes|E.childLanes,E=E.sibling;d.childLanes=P&~v}else d.childLanes=0,d.child=null;return I$(c,d,v,g)}if((g&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&hw(d,H!==null?H.cachePool:null),H!==null?MH(d,H):LT(),FH(d);else return d.lanes=d.childLanes=536870912,I$(c,d,H!==null?H.baseLanes|g:g,g)}else H!==null?(hw(d,H.cachePool),MH(d,H),Fu(),d.memoizedState=null):(c!==null&&hw(d,null),LT(),Fu());return vi(c,d,E,g),d.child}function I$(c,d,g,v){var E=HT();return E=E===null?null:{parent:Hr._currentValue,pool:E},d.memoizedState={baseLanes:g,cachePool:E},c!==null&&hw(d,null),LT(),FH(d),c!==null&&Gm(c,d,v,!0),null}function jm(c,d){var g=d.ref;if(g===null)c!==null&&c.ref!==null&&(d.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(c===null||c.ref!==g)&&(d.flags|=2097664)}}function sA(c,d,g,v,E){return Md(d),g=jT(c,d,g,v,void 0,E),v=GT(),c!==null&&!ti?(zT(c,d,E),El(c,d,E)):(sn&&v&&IT(d),d.flags|=1,vi(c,d,g,E),d.child)}function M$(c,d,g,v,E,P){return Md(d),d.updateQueue=null,g=BH(d,v,g,E),VH(c),v=GT(),c!==null&&!ti?(zT(c,d,P),El(c,d,P)):(sn&&v&&IT(d),d.flags|=1,vi(c,d,g,P),d.child)}function F$(c,d,g,v,E){if(Md(d),d.stateNode===null){var P=Rf,H=g.contextType;typeof H=="object"&&H!==null&&(P=Mi(H)),P=new g(v,P),d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=iA,d.stateNode=P,P._reactInternals=d,P=d.stateNode,P.props=v,P.state=d.memoizedState,P.refs={},yA(d),H=g.contextType,P.context=typeof H=="object"&&H!==null?Mi(H):Rf,P.state=d.memoizedState,H=g.getDerivedStateFromProps,typeof H=="function"&&(rA(d,g,H,v),P.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(H=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),H!==P.state&&iA.enqueueReplaceState(P,P.state,null),Wm(d,v,P,E),Um(),P.state=d.memoizedState),typeof P.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(c===null){P=d.stateNode;var W=d.memoizedProps,te=Dd(g,W);P.props=te;var oe=P.context,we=g.contextType;H=Rf,typeof we=="object"&&we!==null&&(H=Mi(we));var De=g.getDerivedStateFromProps;we=typeof De=="function"||typeof P.getSnapshotBeforeUpdate=="function",W=d.pendingProps!==W,we||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W||oe!==H)&&C$(d,P,v,H),Vu=!1;var pe=d.memoizedState;P.state=pe,Wm(d,v,P,E),Um(),oe=d.memoizedState,W||pe!==oe||Vu?(typeof De=="function"&&(rA(d,g,De,v),oe=d.memoizedState),(te=Vu||b$(d,g,te,v,pe,oe,H))?(we||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(d.flags|=4194308)):(typeof P.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=oe),P.props=v,P.state=oe,P.context=H,v=te):(typeof P.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{P=d.stateNode,bA(c,d),H=d.memoizedProps,we=Dd(g,H),P.props=we,De=d.pendingProps,pe=P.context,oe=g.contextType,te=Rf,typeof oe=="object"&&oe!==null&&(te=Mi(oe)),W=g.getDerivedStateFromProps,(oe=typeof W=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(H!==De||pe!==te)&&C$(d,P,v,te),Vu=!1,pe=d.memoizedState,P.state=pe,Wm(d,v,P,E),Um();var be=d.memoizedState;H!==De||pe!==be||Vu||c!==null&&c.dependencies!==null&&xw(c.dependencies)?(typeof W=="function"&&(rA(d,g,W,v),be=d.memoizedState),(we=Vu||b$(d,g,we,v,pe,be,te)||c!==null&&c.dependencies!==null&&xw(c.dependencies))?(oe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(v,be,te),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(v,be,te)),typeof P.componentDidUpdate=="function"&&(d.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof P.componentDidUpdate!="function"||H===c.memoizedProps&&pe===c.memoizedState||(d.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&pe===c.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=be),P.props=v,P.state=be,P.context=te,v=we):(typeof P.componentDidUpdate!="function"||H===c.memoizedProps&&pe===c.memoizedState||(d.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&pe===c.memoizedState||(d.flags|=1024),v=!1)}return P=v,jm(c,d),v=(d.flags&128)!==0,P||v?(P=d.stateNode,g=v&&typeof g.getDerivedStateFromError!="function"?null:P.render(),d.flags|=1,c!==null&&v?(d.child=Td(d,c.child,null,E),d.child=Td(d,null,g,E)):vi(c,d,g,E),d.memoizedState=P.state,c=d.child):c=El(c,d,E),c}function k$(c,d,g,v){return Dm(),d.flags|=256,vi(c,d,g,v),d.child}var aA={dehydrated:null,treeContext:null,retryLane:0};function lA(c){return{baseLanes:c,cachePool:NH()}}function uA(c,d,g){return c=c!==null?c.childLanes&~g:0,d&&(c|=ls),c}function L$(c,d,g){var v=d.pendingProps,E=!1,P=(d.flags&128)!==0,H;if((H=P)||(H=c!==null&&c.memoizedState===null?!1:(Br.current&2)!==0),H&&(E=!0,d.flags&=-129),H=(d.flags&32)!==0,d.flags&=-33,c===null){if(sn){if(E?Mu(d):Fu(),sn){var W=mi,te;if(te=W){e:{for(te=W,W=Da;te.nodeType!==8;){if(!W){W=null;break e}if(te=Ys(te.nextSibling),te===null){W=null;break e}}W=te}W!==null?(d.memoizedState={dehydrated:W,treeContext:xd!==null?{id:Cl,overflow:wl}:null,retryLane:536870912},te=as(18,null,null,0),te.stateNode=W,te.return=d,d.child=te,Zi=d,mi=null,te=!0):te=!1}te||Rd(d)}if(W=d.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return W.data==="$!"?d.lanes=16:d.lanes=536870912,null;Sl(d)}return W=v.children,v=v.fallback,E?(Fu(),E=d.mode,W=dA({mode:"hidden",children:W},E),v=kd(v,E,g,null),W.return=d,v.return=d,W.sibling=v,d.child=W,E=d.child,E.memoizedState=lA(g),E.childLanes=uA(c,H,g),d.memoizedState=aA,v):(Mu(d),cA(d,W))}if(te=c.memoizedState,te!==null&&(W=te.dehydrated,W!==null)){if(P)d.flags&256?(Mu(d),d.flags&=-257,d=hA(c,d,g)):d.memoizedState!==null?(Fu(),d.child=c.child,d.flags|=128,d=null):(Fu(),E=v.fallback,W=d.mode,v=dA({mode:"visible",children:v.children},W),E=kd(E,W,g,null),E.flags|=2,v.return=d,E.return=d,v.sibling=E,d.child=v,Td(d,c.child,null,g),v=d.child,v.memoizedState=lA(g),v.childLanes=uA(c,H,g),d.memoizedState=aA,d=E);else if(Mu(d),W.data==="$!"){if(H=W.nextSibling&&W.nextSibling.dataset,H)var oe=H.dgst;H=oe,v=Error(r(419)),v.stack="",v.digest=H,Im({value:v,source:null,stack:null}),d=hA(c,d,g)}else if(ti||Gm(c,d,g,!1),H=(g&c.childLanes)!==0,ti||H){if(H=kn,H!==null){if(v=g&-g,(v&42)!==0)v=1;else switch(v){case 2:v=1;break;case 8:v=4;break;case 32:v=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:v=64;break;case 268435456:v=134217728;break;default:v=0}if(v=(v&(H.suspendedLanes|g))!==0?0:v,v!==0&&v!==te.retryLane)throw te.retryLane=v,Iu(c,v),Ji(H,c,v),A$}W.data==="$?"||HA(),d=hA(c,d,g)}else W.data==="$?"?(d.flags|=128,d.child=c.child,d=qle.bind(null,c),W._reactRetry=d,d=null):(c=te.treeContext,mi=Ys(W.nextSibling),Zi=d,sn=!0,qs=null,Da=!1,c!==null&&(ns[rs++]=Cl,ns[rs++]=wl,ns[rs++]=xd,Cl=c.id,wl=c.overflow,xd=d),d=cA(d,v.children),d.flags|=4096);return d}return E?(Fu(),E=v.fallback,W=d.mode,te=c.child,oe=te.sibling,v=zu(te,{mode:"hidden",children:v.children}),v.subtreeFlags=te.subtreeFlags&31457280,oe!==null?E=zu(oe,E):(E=kd(E,W,g,null),E.flags|=2),E.return=d,v.return=d,v.sibling=E,d.child=v,v=E,E=d.child,W=c.child.memoizedState,W===null?W=lA(g):(te=W.cachePool,te!==null?(oe=Hr._currentValue,te=te.parent!==oe?{parent:oe,pool:oe}:te):te=NH(),W={baseLanes:W.baseLanes|g,cachePool:te}),E.memoizedState=W,E.childLanes=uA(c,H,g),d.memoizedState=aA,v):(Mu(d),g=c.child,c=g.sibling,g=zu(g,{mode:"visible",children:v.children}),g.return=d,g.sibling=null,c!==null&&(H=d.deletions,H===null?(d.deletions=[c],d.flags|=16):H.push(c)),d.child=g,d.memoizedState=null,g)}function cA(c,d){return d=dA({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function dA(c,d){return lj(c,d,0,null)}function hA(c,d,g){return Td(d,c.child,null,g),c=cA(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function N$(c,d,g){c.lanes|=d;var v=c.alternate;v!==null&&(v.lanes|=d),mA(c.return,d,g)}function fA(c,d,g,v,E){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:E}:(P.isBackwards=d,P.rendering=null,P.renderingStartTime=0,P.last=v,P.tail=g,P.tailMode=E)}function V$(c,d,g){var v=d.pendingProps,E=v.revealOrder,P=v.tail;if(vi(c,d,v.children,g),v=Br.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&N$(c,g,d);else if(c.tag===19)N$(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}v&=1}switch(Se(Br,v),E){case"forwards":for(g=d.child,E=null;g!==null;)c=g.alternate,c!==null&&dw(c)===null&&(E=g),g=g.sibling;g=E,g===null?(E=d.child,d.child=null):(E=g.sibling,g.sibling=null),fA(d,!1,E,g,P);break;case"backwards":for(g=null,E=d.child,d.child=null;E!==null;){if(c=E.alternate,c!==null&&dw(c)===null){d.child=E;break}c=E.sibling,E.sibling=g,g=E,E=c}fA(d,!0,g,null,P);break;case"together":fA(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function El(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),Uu|=d.lanes,(g&d.childLanes)===0)if(c!==null){if(Gm(c,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,g=zu(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=zu(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function pA(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&xw(c)))}function Mle(c,d,g){switch(d.tag){case 3:_e(d,d.stateNode.containerInfo),Nu(d,Hr,c.memoizedState.cache),Dm();break;case 27:case 5:Be(d);break;case 4:_e(d,d.stateNode.containerInfo);break;case 10:Nu(d,d.type,d.memoizedProps.value);break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(Mu(d),d.flags|=128,null):(g&d.child.childLanes)!==0?L$(c,d,g):(Mu(d),c=El(c,d,g),c!==null?c.sibling:null);Mu(d);break;case 19:var E=(c.flags&128)!==0;if(v=(g&d.childLanes)!==0,v||(Gm(c,d,g,!1),v=(g&d.childLanes)!==0),E){if(v)return V$(c,d,g);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Se(Br,Br.current),v)break;return null;case 22:case 23:return d.lanes=0,D$(c,d,g);case 24:Nu(d,Hr,c.memoizedState.cache)}return El(c,d,g)}function B$(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps)ti=!0;else{if(!pA(c,g)&&(d.flags&128)===0)return ti=!1,Mle(c,d,g);ti=(c.flags&131072)!==0}else ti=!1,sn&&(d.flags&1048576)!==0&&xH(d,sw,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var v=d.elementType,E=v._init;if(v=E(v._payload),d.type=v,typeof v=="function")PA(v)?(c=Dd(v,c),d.tag=1,d=F$(null,d,v,c,g)):(d.tag=0,d=sA(null,d,v,c,g));else{if(v!=null){if(E=v.$$typeof,E===b){d.tag=11,d=P$(null,d,v,c,g);break e}else if(E===x){d.tag=14,d=_$(null,d,v,c,g);break e}}throw d=I(v)||v,Error(r(306,d,""))}}return d;case 0:return sA(c,d,d.type,d.pendingProps,g);case 1:return v=d.type,E=Dd(v,d.pendingProps),F$(c,d,v,E,g);case 3:e:{if(_e(d,d.stateNode.containerInfo),c===null)throw Error(r(387));var P=d.pendingProps;E=d.memoizedState,v=E.element,bA(c,d),Wm(d,P,null,g);var H=d.memoizedState;if(P=H.cache,Nu(d,Hr,P),P!==E.cache&&vA(d,[Hr],g,!0),Um(),P=H.element,E.isDehydrated)if(E={element:P,isDehydrated:!1,cache:H.cache},d.updateQueue.baseState=E,d.memoizedState=E,d.flags&256){d=k$(c,d,P,g);break e}else if(P!==v){v=ts(Error(r(424)),d),Im(v),d=k$(c,d,P,g);break e}else for(mi=Ys(d.stateNode.containerInfo.firstChild),Zi=d,sn=!0,qs=null,Da=!0,g=IH(d,null,P,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Dm(),P===v){d=El(c,d,g);break e}vi(c,d,P,g)}d=d.child}return d;case 26:return jm(c,d),c===null?(g=jj(d.type,null,d.pendingProps,null))?d.memoizedState=g:sn||(g=d.type,c=d.pendingProps,v=Bw(Oe.current).createElement(g),v[en]=d,v[Vt]=c,yi(v,g,c),dn(v),d.stateNode=v):d.memoizedState=jj(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return Be(d),c===null&&sn&&(v=d.stateNode=Bj(d.type,d.pendingProps,Oe.current),Zi=d,Da=!0,mi=Ys(v.firstChild)),v=d.pendingProps.children,c!==null||sn?vi(c,d,v,g):d.child=Td(d,null,v,g),jm(c,d),d.child;case 5:return c===null&&sn&&((E=v=mi)&&(v=uue(v,d.type,d.pendingProps,Da),v!==null?(d.stateNode=v,Zi=d,mi=Ys(v.firstChild),Da=!1,E=!0):E=!1),E||Rd(d)),Be(d),E=d.type,P=d.pendingProps,H=c!==null?c.memoizedProps:null,v=P.children,eP(E,P)?v=null:H!==null&&eP(E,H)&&(d.flags|=32),d.memoizedState!==null&&(E=jT(c,d,Tle,null,null,g),av._currentValue=E),jm(c,d),vi(c,d,v,g),d.child;case 6:return c===null&&sn&&((c=g=mi)&&(g=cue(g,d.pendingProps,Da),g!==null?(d.stateNode=g,Zi=d,mi=null,c=!0):c=!1),c||Rd(d)),null;case 13:return L$(c,d,g);case 4:return _e(d,d.stateNode.containerInfo),v=d.pendingProps,c===null?d.child=Td(d,null,v,g):vi(c,d,v,g),d.child;case 11:return P$(c,d,d.type,d.pendingProps,g);case 7:return vi(c,d,d.pendingProps,g),d.child;case 8:return vi(c,d,d.pendingProps.children,g),d.child;case 12:return vi(c,d,d.pendingProps.children,g),d.child;case 10:return v=d.pendingProps,Nu(d,d.type,v.value),vi(c,d,v.children,g),d.child;case 9:return E=d.type._context,v=d.pendingProps.children,Md(d),E=Mi(E),v=v(E),d.flags|=1,vi(c,d,v,g),d.child;case 14:return _$(c,d,d.type,d.pendingProps,g);case 15:return O$(c,d,d.type,d.pendingProps,g);case 19:return V$(c,d,g);case 22:return D$(c,d,g);case 24:return Md(d),v=Mi(Hr),c===null?(E=HT(),E===null&&(E=kn,P=VT(),E.pooledCache=P,P.refCount++,P!==null&&(E.pooledCacheLanes|=g),E=P),d.memoizedState={parent:v,cache:E},yA(d),Nu(d,Hr,E)):((c.lanes&g)!==0&&(bA(c,d),Wm(d,null,null,g),Um()),E=c.memoizedState,P=d.memoizedState,E.parent!==v?(E={parent:v,cache:v},d.memoizedState=E,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=E),Nu(d,Hr,v)):(v=P.cache,Nu(d,Hr,v),v!==E.cache&&vA(d,[Hr],g,!0))),vi(c,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}var gA=Pe(null),Id=null,Rl=null;function Nu(c,d,g){Se(gA,d._currentValue),d._currentValue=g}function Tl(c){c._currentValue=gA.current,ue(gA)}function mA(c,d,g){for(;c!==null;){var v=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),c===g)break;c=c.return}}function vA(c,d,g,v){var E=c.child;for(E!==null&&(E.return=c);E!==null;){var P=E.dependencies;if(P!==null){var H=E.child;P=P.firstContext;e:for(;P!==null;){var W=P;P=E;for(var te=0;te<d.length;te++)if(W.context===d[te]){P.lanes|=g,W=P.alternate,W!==null&&(W.lanes|=g),mA(P.return,g,c),v||(H=null);break e}P=W.next}}else if(E.tag===18){if(H=E.return,H===null)throw Error(r(341));H.lanes|=g,P=H.alternate,P!==null&&(P.lanes|=g),mA(H,g,c),H=null}else H=E.child;if(H!==null)H.return=E;else for(H=E;H!==null;){if(H===c){H=null;break}if(E=H.sibling,E!==null){E.return=H.return,H=E;break}H=H.return}E=H}}function Gm(c,d,g,v){c=null;for(var E=d,P=!1;E!==null;){if(!P){if((E.flags&524288)!==0)P=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var H=E.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var W=E.type;Io(E.pendingProps.value,H.value)||(c!==null?c.push(W):c=[W])}}else if(E===Ie.current){if(H=E.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(c!==null?c.push(av):c=[av])}E=E.return}c!==null&&vA(d,c,g,v),d.flags|=262144}function xw(c){for(c=c.firstContext;c!==null;){if(!Io(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Md(c){Id=c,Rl=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Mi(c){return H$(Id,c)}function Ew(c,d){return Id===null&&Md(c),H$(c,d)}function H$(c,d){var g=d._currentValue;if(d={context:d,memoizedValue:g,next:null},Rl===null){if(c===null)throw Error(r(308));Rl=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Rl=Rl.next=d;return g}var Vu=!1;function yA(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bA(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Bu(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Hu(c,d,g){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(tr&2)!==0){var E=v.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),v.pending=d,d=iw(c),wH(c,null,g),d}return rw(c,v,d,g),iw(c)}function zm(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194176)!==0)){var v=d.lanes;v&=c.pendingLanes,g|=v,d.lanes=g,Pt(c,g)}}function CA(c,d){var g=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var E=null,P=null;if(g=g.firstBaseUpdate,g!==null){do{var H={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};P===null?E=P=H:P=P.next=H,g=g.next}while(g!==null);P===null?E=P=d:P=P.next=d}else E=P=d;g={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:P,shared:v.shared,callbacks:v.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}var wA=!1;function Um(){if(wA){var c=Df;if(c!==null)throw c}}function Wm(c,d,g,v){wA=!1;var E=c.updateQueue;Vu=!1;var P=E.firstBaseUpdate,H=E.lastBaseUpdate,W=E.shared.pending;if(W!==null){E.shared.pending=null;var te=W,oe=te.next;te.next=null,H===null?P=oe:H.next=oe,H=te;var we=c.alternate;we!==null&&(we=we.updateQueue,W=we.lastBaseUpdate,W!==H&&(W===null?we.firstBaseUpdate=oe:W.next=oe,we.lastBaseUpdate=te))}if(P!==null){var De=E.baseState;H=0,we=oe=te=null,W=P;do{var pe=W.lane&-536870913,be=pe!==W.lane;if(be?(Qt&pe)===pe:(v&pe)===pe){pe!==0&&pe===Of&&(wA=!0),we!==null&&(we=we.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Je=c,bt=W;pe=d;var fr=g;switch(bt.tag){case 1:if(Je=bt.payload,typeof Je=="function"){De=Je.call(fr,De,pe);break e}De=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=bt.payload,pe=typeof Je=="function"?Je.call(fr,De,pe):Je,pe==null)break e;De=F({},De,pe);break e;case 2:Vu=!0}}pe=W.callback,pe!==null&&(c.flags|=64,be&&(c.flags|=8192),be=E.callbacks,be===null?E.callbacks=[pe]:be.push(pe))}else be={lane:pe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},we===null?(oe=we=be,te=De):we=we.next=be,H|=pe;if(W=W.next,W===null){if(W=E.shared.pending,W===null)break;be=W,W=be.next,be.next=null,E.lastBaseUpdate=be,E.shared.pending=null}}while(!0);we===null&&(te=De),E.baseState=te,E.firstBaseUpdate=oe,E.lastBaseUpdate=we,P===null&&(E.shared.lanes=0),Uu|=H,c.lanes=H,c.memoizedState=De}}function $$(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function j$(c,d){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)$$(g[c],d)}function qm(c,d){try{var g=d.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var E=v.next;g=E;do{if((g.tag&c)===c){v=void 0;var P=g.create,H=g.inst;v=P(),H.destroy=v}g=g.next}while(g!==E)}}catch(W){Dn(d,d.return,W)}}function $u(c,d,g){try{var v=d.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var P=E.next;v=P;do{if((v.tag&c)===c){var H=v.inst,W=H.destroy;if(W!==void 0){H.destroy=void 0,E=d;var te=g;try{W()}catch(oe){Dn(E,te,oe)}}}v=v.next}while(v!==P)}}catch(oe){Dn(d,d.return,oe)}}function G$(c){var d=c.updateQueue;if(d!==null){var g=c.stateNode;try{j$(d,g)}catch(v){Dn(c,c.return,v)}}}function z$(c,d,g){g.props=Dd(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(v){Dn(c,d,v)}}function Fd(c,d){try{var g=c.ref;if(g!==null){var v=c.stateNode;switch(c.tag){case 26:case 27:case 5:var E=v;break;default:E=v}typeof g=="function"?c.refCleanup=g(E):g.current=E}}catch(P){Dn(c,d,P)}}function Mo(c,d){var g=c.ref,v=c.refCleanup;if(g!==null)if(typeof v=="function")try{v()}catch(E){Dn(c,d,E)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(E){Dn(c,d,E)}else g.current=null}function U$(c){var d=c.type,g=c.memoizedProps,v=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":g.autoFocus&&v.focus();break e;case"img":g.src?v.src=g.src:g.srcSet&&(v.srcset=g.srcSet)}}catch(E){Dn(c,c.return,E)}}function W$(c,d,g){try{var v=c.stateNode;iue(v,c.type,g,d),v[Vt]=d}catch(E){Dn(c,c.return,E)}}function q$(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function SA(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||q$(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function xA(c,d,g){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=Vw));else if(v!==4&&v!==27&&(c=c.child,c!==null))for(xA(c,d,g),c=c.sibling;c!==null;)xA(c,d,g),c=c.sibling}function Rw(c,d,g){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(v!==4&&v!==27&&(c=c.child,c!==null))for(Rw(c,d,g),c=c.sibling;c!==null;)Rw(c,d,g),c=c.sibling}var Al=!1,dr=!1,EA=!1,K$=typeof WeakSet=="function"?WeakSet:Set,ni=null,Y$=!1;function Fle(c,d){if(c=c.containerInfo,ZA=Uw,c=hH(c),TT(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var E=v.anchorOffset,P=v.focusNode;v=v.focusOffset;try{g.nodeType,P.nodeType}catch{g=null;break e}var H=0,W=-1,te=-1,oe=0,we=0,De=c,pe=null;t:for(;;){for(var be;De!==g||E!==0&&De.nodeType!==3||(W=H+E),De!==P||v!==0&&De.nodeType!==3||(te=H+v),De.nodeType===3&&(H+=De.nodeValue.length),(be=De.firstChild)!==null;)pe=De,De=be;for(;;){if(De===c)break t;if(pe===g&&++oe===E&&(W=H),pe===P&&++we===v&&(te=H),(be=De.nextSibling)!==null)break;De=pe,pe=De.parentNode}De=be}g=W===-1||te===-1?null:{start:W,end:te}}else g=null}g=g||{start:0,end:0}}else g=null;for(JA={focusedElem:c,selectionRange:g},Uw=!1,ni=d;ni!==null;)if(d=ni,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,ni=c;else for(;ni!==null;){switch(d=ni,P=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&P!==null){c=void 0,g=d,E=P.memoizedProps,P=P.memoizedState,v=g.stateNode;try{var Je=Dd(g.type,E,g.elementType===g.type);c=v.getSnapshotBeforeUpdate(Je,P),v.__reactInternalSnapshotBeforeUpdate=c}catch(bt){Dn(g,g.return,bt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,g=c.nodeType,g===9)rP(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":rP(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,ni=c;break}ni=d.return}return Je=Y$,Y$=!1,Je}function X$(c,d,g){var v=g.flags;switch(g.tag){case 0:case 11:case 15:_l(c,g),v&4&&qm(5,g);break;case 1:if(_l(c,g),v&4)if(c=g.stateNode,d===null)try{c.componentDidMount()}catch(W){Dn(g,g.return,W)}else{var E=Dd(g.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(E,d,c.__reactInternalSnapshotBeforeUpdate)}catch(W){Dn(g,g.return,W)}}v&64&&G$(g),v&512&&Fd(g,g.return);break;case 3:if(_l(c,g),v&64&&(v=g.updateQueue,v!==null)){if(c=null,g.child!==null)switch(g.child.tag){case 27:case 5:c=g.child.stateNode;break;case 1:c=g.child.stateNode}try{j$(v,c)}catch(W){Dn(g,g.return,W)}}break;case 26:_l(c,g),v&512&&Fd(g,g.return);break;case 27:case 5:_l(c,g),d===null&&v&4&&U$(g),v&512&&Fd(g,g.return);break;case 12:_l(c,g);break;case 13:_l(c,g),v&4&&J$(c,g);break;case 22:if(E=g.memoizedState!==null||Al,!E){d=d!==null&&d.memoizedState!==null||dr;var P=Al,H=dr;Al=E,(dr=d)&&!H?ju(c,g,(g.subtreeFlags&8772)!==0):_l(c,g),Al=P,dr=H}v&512&&(g.memoizedProps.mode==="manual"?Fd(g,g.return):Mo(g,g.return));break;default:_l(c,g)}}function Q$(c){var d=c.alternate;d!==null&&(c.alternate=null,Q$(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&pi(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Ar=null,Fo=!1;function Pl(c,d,g){for(g=g.child;g!==null;)Z$(c,d,g),g=g.sibling}function Z$(c,d,g){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Gn,g)}catch{}switch(g.tag){case 26:dr||Mo(g,d),Pl(c,d,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:dr||Mo(g,d);var v=Ar,E=Fo;for(Ar=g.stateNode,Pl(c,d,g),g=g.stateNode,d=g.attributes;d.length;)g.removeAttributeNode(d[0]);pi(g),Ar=v,Fo=E;break;case 5:dr||Mo(g,d);case 6:E=Ar;var P=Fo;if(Ar=null,Pl(c,d,g),Ar=E,Fo=P,Ar!==null)if(Fo)try{c=Ar,v=g.stateNode,c.nodeType===8?c.parentNode.removeChild(v):c.removeChild(v)}catch(H){Dn(g,d,H)}else try{Ar.removeChild(g.stateNode)}catch(H){Dn(g,d,H)}break;case 18:Ar!==null&&(Fo?(d=Ar,g=g.stateNode,d.nodeType===8?nP(d.parentNode,g):d.nodeType===1&&nP(d,g),dv(d)):nP(Ar,g.stateNode));break;case 4:v=Ar,E=Fo,Ar=g.stateNode.containerInfo,Fo=!0,Pl(c,d,g),Ar=v,Fo=E;break;case 0:case 11:case 14:case 15:dr||$u(2,g,d),dr||$u(4,g,d),Pl(c,d,g);break;case 1:dr||(Mo(g,d),v=g.stateNode,typeof v.componentWillUnmount=="function"&&z$(g,d,v)),Pl(c,d,g);break;case 21:Pl(c,d,g);break;case 22:dr||Mo(g,d),dr=(v=dr)||g.memoizedState!==null,Pl(c,d,g),dr=v;break;default:Pl(c,d,g)}}function J$(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{dv(c)}catch(g){Dn(d,d.return,g)}}function kle(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new K$),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new K$),d;default:throw Error(r(435,c.tag))}}function RA(c,d){var g=kle(c);d.forEach(function(v){var E=Kle.bind(null,c,v);g.has(v)||(g.add(v),v.then(E,E))})}function os(c,d){var g=d.deletions;if(g!==null)for(var v=0;v<g.length;v++){var E=g[v],P=c,H=d,W=H;e:for(;W!==null;){switch(W.tag){case 27:case 5:Ar=W.stateNode,Fo=!1;break e;case 3:Ar=W.stateNode.containerInfo,Fo=!0;break e;case 4:Ar=W.stateNode.containerInfo,Fo=!0;break e}W=W.return}if(Ar===null)throw Error(r(160));Z$(P,H,E),Ar=null,Fo=!1,P=E.alternate,P!==null&&(P.return=null),E.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)ej(d,c),d=d.sibling}var Ks=null;function ej(c,d){var g=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:os(d,c),ss(c),v&4&&($u(3,c,c.return),qm(3,c),$u(5,c,c.return));break;case 1:os(d,c),ss(c),v&512&&(dr||g===null||Mo(g,g.return)),v&64&&Al&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?v:g.concat(v))));break;case 26:var E=Ks;if(os(d,c),ss(c),v&512&&(dr||g===null||Mo(g,g.return)),v&4){var P=g!==null?g.memoizedState:null;if(v=c.memoizedState,g===null)if(v===null)if(c.stateNode===null){e:{v=c.type,g=c.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":P=E.getElementsByTagName("title")[0],(!P||P[fi]||P[en]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=E.createElement(v),E.head.insertBefore(P,E.querySelector("head > title"))),yi(P,v,g),P[en]=c,dn(P),v=P;break e;case"link":var H=Uj("link","href",E).get(v+(g.href||""));if(H){for(var W=0;W<H.length;W++)if(P=H[W],P.getAttribute("href")===(g.href==null?null:g.href)&&P.getAttribute("rel")===(g.rel==null?null:g.rel)&&P.getAttribute("title")===(g.title==null?null:g.title)&&P.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){H.splice(W,1);break t}}P=E.createElement(v),yi(P,v,g),E.head.appendChild(P);break;case"meta":if(H=Uj("meta","content",E).get(v+(g.content||""))){for(W=0;W<H.length;W++)if(P=H[W],P.getAttribute("content")===(g.content==null?null:""+g.content)&&P.getAttribute("name")===(g.name==null?null:g.name)&&P.getAttribute("property")===(g.property==null?null:g.property)&&P.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&P.getAttribute("charset")===(g.charSet==null?null:g.charSet)){H.splice(W,1);break t}}P=E.createElement(v),yi(P,v,g),E.head.appendChild(P);break;default:throw Error(r(468,v))}P[en]=c,dn(P),v=P}c.stateNode=v}else Wj(E,c.type,c.stateNode);else c.stateNode=zj(E,v,c.memoizedProps);else P!==v?(P===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):P.count--,v===null?Wj(E,c.type,c.stateNode):zj(E,v,c.memoizedProps)):v===null&&c.stateNode!==null&&W$(c,c.memoizedProps,g.memoizedProps)}break;case 27:if(v&4&&c.alternate===null){E=c.stateNode,P=c.memoizedProps;try{for(var te=E.firstChild;te;){var oe=te.nextSibling,we=te.nodeName;te[fi]||we==="HEAD"||we==="BODY"||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&te.rel.toLowerCase()==="stylesheet"||E.removeChild(te),te=oe}for(var De=c.type,pe=E.attributes;pe.length;)E.removeAttributeNode(pe[0]);yi(E,De,P),E[en]=c,E[Vt]=P}catch(Je){Dn(c,c.return,Je)}}case 5:if(os(d,c),ss(c),v&512&&(dr||g===null||Mo(g,g.return)),c.flags&32){E=c.stateNode;try{Di(E,"")}catch(Je){Dn(c,c.return,Je)}}v&4&&c.stateNode!=null&&(E=c.memoizedProps,W$(c,E,g!==null?g.memoizedProps:E)),v&1024&&(EA=!0);break;case 6:if(os(d,c),ss(c),v&4){if(c.stateNode===null)throw Error(r(162));v=c.memoizedProps,g=c.stateNode;try{g.nodeValue=v}catch(Je){Dn(c,c.return,Je)}}break;case 3:if(jw=null,E=Ks,Ks=Hw(d.containerInfo),os(d,c),Ks=E,ss(c),v&4&&g!==null&&g.memoizedState.isDehydrated)try{dv(d.containerInfo)}catch(Je){Dn(c,c.return,Je)}EA&&(EA=!1,tj(c));break;case 4:v=Ks,Ks=Hw(c.stateNode.containerInfo),os(d,c),ss(c),Ks=v;break;case 12:os(d,c),ss(c);break;case 13:os(d,c),ss(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(FA=wt()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,RA(c,v)));break;case 22:if(v&512&&(dr||g===null||Mo(g,g.return)),te=c.memoizedState!==null,oe=g!==null&&g.memoizedState!==null,we=Al,De=dr,Al=we||te,dr=De||oe,os(d,c),dr=De,Al=we,ss(c),d=c.stateNode,d._current=c,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,v&8192&&(d._visibility=te?d._visibility&-2:d._visibility|1,te&&(d=Al||dr,g===null||oe||d||kf(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(g=null,d=c;;){if(d.tag===5||d.tag===26||d.tag===27){if(g===null){oe=g=d;try{if(E=oe.stateNode,te)P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{H=oe.stateNode,W=oe.memoizedProps.style;var be=W!=null&&W.hasOwnProperty("display")?W.display:null;H.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(Je){Dn(oe,oe.return,Je)}}}else if(d.tag===6){if(g===null){oe=d;try{oe.stateNode.nodeValue=te?"":oe.memoizedProps}catch(Je){Dn(oe,oe.return,Je)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=c.updateQueue,v!==null&&(g=v.retryQueue,g!==null&&(v.retryQueue=null,RA(c,g))));break;case 19:os(d,c),ss(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,RA(c,v)));break;case 21:break;default:os(d,c),ss(c)}}function ss(c){var d=c.flags;if(d&2){try{if(c.tag!==27){e:{for(var g=c.return;g!==null;){if(q$(g)){var v=g;break e}g=g.return}throw Error(r(160))}switch(v.tag){case 27:var E=v.stateNode,P=SA(c);Rw(c,P,E);break;case 5:var H=v.stateNode;v.flags&32&&(Di(H,""),v.flags&=-33);var W=SA(c);Rw(c,W,H);break;case 3:case 4:var te=v.stateNode.containerInfo,oe=SA(c);xA(c,oe,te);break;default:throw Error(r(161))}}}catch(we){Dn(c,c.return,we)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function tj(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;tj(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function _l(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)X$(c,d.alternate,d),d=d.sibling}function kf(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:$u(4,d,d.return),kf(d);break;case 1:Mo(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&z$(d,d.return,g),kf(d);break;case 26:case 27:case 5:Mo(d,d.return),kf(d);break;case 22:Mo(d,d.return),d.memoizedState===null&&kf(d);break;default:kf(d)}c=c.sibling}}function ju(c,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,E=c,P=d,H=P.flags;switch(P.tag){case 0:case 11:case 15:ju(E,P,g),qm(4,P);break;case 1:if(ju(E,P,g),v=P,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(oe){Dn(v,v.return,oe)}if(v=P,E=v.updateQueue,E!==null){var W=v.stateNode;try{var te=E.shared.hiddenCallbacks;if(te!==null)for(E.shared.hiddenCallbacks=null,E=0;E<te.length;E++)$$(te[E],W)}catch(oe){Dn(v,v.return,oe)}}g&&H&64&&G$(P),Fd(P,P.return);break;case 26:case 27:case 5:ju(E,P,g),g&&v===null&&H&4&&U$(P),Fd(P,P.return);break;case 12:ju(E,P,g);break;case 13:ju(E,P,g),g&&H&4&&J$(E,P);break;case 22:P.memoizedState===null&&ju(E,P,g),Fd(P,P.return);break;default:ju(E,P,g)}d=d.sibling}}function TA(c,d){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&Nm(g))}function AA(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Nm(c))}function Gu(c,d,g,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)nj(c,d,g,v),d=d.sibling}function nj(c,d,g,v){var E=d.flags;switch(d.tag){case 0:case 11:case 15:Gu(c,d,g,v),E&2048&&qm(9,d);break;case 3:Gu(c,d,g,v),E&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Nm(c)));break;case 12:if(E&2048){Gu(c,d,g,v),c=d.stateNode;try{var P=d.memoizedProps,H=P.id,W=P.onPostCommit;typeof W=="function"&&W(H,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(te){Dn(d,d.return,te)}}else Gu(c,d,g,v);break;case 23:break;case 22:P=d.stateNode,d.memoizedState!==null?P._visibility&4?Gu(c,d,g,v):Km(c,d):P._visibility&4?Gu(c,d,g,v):(P._visibility|=4,Lf(c,d,g,v,(d.subtreeFlags&10256)!==0)),E&2048&&TA(d.alternate,d);break;case 24:Gu(c,d,g,v),E&2048&&AA(d.alternate,d);break;default:Gu(c,d,g,v)}}function Lf(c,d,g,v,E){for(E=E&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var P=c,H=d,W=g,te=v,oe=H.flags;switch(H.tag){case 0:case 11:case 15:Lf(P,H,W,te,E),qm(8,H);break;case 23:break;case 22:var we=H.stateNode;H.memoizedState!==null?we._visibility&4?Lf(P,H,W,te,E):Km(P,H):(we._visibility|=4,Lf(P,H,W,te,E)),E&&oe&2048&&TA(H.alternate,H);break;case 24:Lf(P,H,W,te,E),E&&oe&2048&&AA(H.alternate,H);break;default:Lf(P,H,W,te,E)}d=d.sibling}}function Km(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=c,v=d,E=v.flags;switch(v.tag){case 22:Km(g,v),E&2048&&TA(v.alternate,v);break;case 24:Km(g,v),E&2048&&AA(v.alternate,v);break;default:Km(g,v)}d=d.sibling}}var Ym=8192;function Nf(c){if(c.subtreeFlags&Ym)for(c=c.child;c!==null;)rj(c),c=c.sibling}function rj(c){switch(c.tag){case 26:Nf(c),c.flags&Ym&&c.memoizedState!==null&&xue(Ks,c.memoizedState,c.memoizedProps);break;case 5:Nf(c);break;case 3:case 4:var d=Ks;Ks=Hw(c.stateNode.containerInfo),Nf(c),Ks=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=Ym,Ym=16777216,Nf(c),Ym=d):Nf(c));break;default:Nf(c)}}function ij(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Xm(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var v=d[g];ni=v,sj(v,c)}ij(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)oj(c),c=c.sibling}function oj(c){switch(c.tag){case 0:case 11:case 15:Xm(c),c.flags&2048&&$u(9,c,c.return);break;case 3:Xm(c);break;case 12:Xm(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&4&&(c.return===null||c.return.tag!==13)?(d._visibility&=-5,Tw(c)):Xm(c);break;default:Xm(c)}}function Tw(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var v=d[g];ni=v,sj(v,c)}ij(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:$u(8,d,d.return),Tw(d);break;case 22:g=d.stateNode,g._visibility&4&&(g._visibility&=-5,Tw(d));break;default:Tw(d)}c=c.sibling}}function sj(c,d){for(;ni!==null;){var g=ni;switch(g.tag){case 0:case 11:case 15:$u(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var v=g.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Nm(g.memoizedState.cache)}if(v=g.child,v!==null)v.return=g,ni=v;else e:for(g=c;ni!==null;){v=ni;var E=v.sibling,P=v.return;if(Q$(v),v===g){ni=null;break e}if(E!==null){E.return=P,ni=E;break e}ni=P}}}function Lle(c,d,g,v){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(c,d,g,v){return new Lle(c,d,g,v)}function PA(c){return c=c.prototype,!(!c||!c.isReactComponent)}function zu(c,d){var g=c.alternate;return g===null?(g=as(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&31457280,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function aj(c,d){c.flags&=31457282;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,d=g.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Aw(c,d,g,v,E,P){var H=0;if(v=c,typeof c=="function")PA(c)&&(H=1);else if(typeof c=="string")H=wue(c,g,Re.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case l:return kd(g.children,E,P,d);case u:H=8,E|=24;break;case h:return c=as(12,g,d,E|2),c.elementType=h,c.lanes=P,c;case C:return c=as(13,g,d,E),c.elementType=C,c.lanes=P,c;case y:return c=as(19,g,d,E),c.elementType=y,c.lanes=P,c;case T:return lj(g,E,P,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case f:case m:H=10;break e;case p:H=9;break e;case b:H=11;break e;case x:H=14;break e;case R:H=16,v=null;break e}H=29,g=Error(r(130,c===null?"null":typeof c,"")),v=null}return d=as(H,g,d,E),d.elementType=c,d.type=v,d.lanes=P,d}function kd(c,d,g,v){return c=as(7,c,v,d),c.lanes=g,c}function lj(c,d,g,v){c=as(22,c,v,d),c.elementType=T,c.lanes=g;var E={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var P=E._current;if(P===null)throw Error(r(456));if((E._pendingVisibility&2)===0){var H=Iu(P,2);H!==null&&(E._pendingVisibility|=2,Ji(H,P,2))}},attach:function(){var P=E._current;if(P===null)throw Error(r(456));if((E._pendingVisibility&2)!==0){var H=Iu(P,2);H!==null&&(E._pendingVisibility&=-3,Ji(H,P,2))}}};return c.stateNode=E,c}function _A(c,d,g){return c=as(6,c,null,d),c.lanes=g,c}function OA(c,d,g){return d=as(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function Ol(c){c.flags|=4}function uj(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!qj(d)){if(d=is.current,d!==null&&((Qt&4194176)===Qt?Ia!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||d!==Ia))throw Fm=kT,TH;c.flags|=8192}}function Pw(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Tt():536870912,c.lanes|=d,Bf|=d)}function Qm(c,d){if(!sn)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function er(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,v=0;if(d)for(var E=c.child;E!==null;)g|=E.lanes|E.childLanes,v|=E.subtreeFlags&31457280,v|=E.flags&31457280,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)g|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=v,c.childLanes=g,d}function Nle(c,d,g){var v=d.pendingProps;switch(MT(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(d),null;case 1:return er(d),null;case 3:return g=d.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),Tl(Hr),Le(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(Om(d)?Ol(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,qs!==null&&(VA(qs),qs=null))),er(d),null;case 26:return g=d.memoizedState,c===null?(Ol(d),g!==null?(er(d),uj(d,g)):(er(d),d.flags&=-16777217)):g?g!==c.memoizedState?(Ol(d),er(d),uj(d,g)):(er(d),d.flags&=-16777217):(c.memoizedProps!==v&&Ol(d),er(d),d.flags&=-16777217),null;case 27:ze(d),g=Oe.current;var E=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Ol(d);else{if(!v){if(d.stateNode===null)throw Error(r(166));return er(d),null}c=Re.current,Om(d)?EH(d):(c=Bj(E,v,g),d.stateNode=c,Ol(d))}return er(d),null;case 5:if(ze(d),g=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Ol(d);else{if(!v){if(d.stateNode===null)throw Error(r(166));return er(d),null}if(c=Re.current,Om(d))EH(d);else{switch(E=Bw(Oe.current),c){case 1:c=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:c=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":c=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":c=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":c=E.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?c.multiple=!0:v.size&&(c.size=v.size);break;default:c=typeof v.is=="string"?E.createElement(g,{is:v.is}):E.createElement(g)}}c[en]=d,c[Vt]=v;e:for(E=d.child;E!==null;){if(E.tag===5||E.tag===6)c.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break e;for(;E.sibling===null;){if(E.return===null||E.return===d)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}d.stateNode=c;e:switch(yi(c,g,v),g){case"button":case"input":case"select":case"textarea":c=!!v.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ol(d)}}return er(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==v&&Ol(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(r(166));if(c=Oe.current,Om(d)){if(c=d.stateNode,g=d.memoizedProps,v=null,E=Zi,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}c[en]=d,c=!!(c.nodeValue===g||v!==null&&v.suppressHydrationWarning===!0||Mj(c.nodeValue,g)),c||Rd(d)}else c=Bw(c).createTextNode(v),c[en]=d,d.stateNode=c}return er(d),null;case 13:if(v=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(E=Om(d),v!==null&&v.dehydrated!==null){if(c===null){if(!E)throw Error(r(318));if(E=d.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[en]=d}else Dm(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;er(d),E=!1}else qs!==null&&(VA(qs),qs=null),E=!0;if(!E)return d.flags&256?(Sl(d),d):(Sl(d),null)}if(Sl(d),(d.flags&128)!==0)return d.lanes=g,d;if(g=v!==null,c=c!==null&&c.memoizedState!==null,g){v=d.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var P=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(P=v.memoizedState.cachePool.pool),P!==E&&(v.flags|=2048)}return g!==c&&g&&(d.child.flags|=8192),Pw(d,d.updateQueue),er(d),null;case 4:return Le(),c===null&&YA(d.stateNode.containerInfo),er(d),null;case 10:return Tl(d.type),er(d),null;case 19:if(ue(Br),E=d.memoizedState,E===null)return er(d),null;if(v=(d.flags&128)!==0,P=E.rendering,P===null)if(v)Qm(E,!1);else{if(hr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(P=dw(c),P!==null){for(d.flags|=128,Qm(E,!1),c=P.updateQueue,d.updateQueue=c,Pw(d,c),d.subtreeFlags=0,c=g,g=d.child;g!==null;)aj(g,c),g=g.sibling;return Se(Br,Br.current&1|2),d.child}c=c.sibling}E.tail!==null&&wt()>_w&&(d.flags|=128,v=!0,Qm(E,!1),d.lanes=4194304)}else{if(!v)if(c=dw(P),c!==null){if(d.flags|=128,v=!0,c=c.updateQueue,d.updateQueue=c,Pw(d,c),Qm(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!sn)return er(d),null}else 2*wt()-E.renderingStartTime>_w&&g!==536870912&&(d.flags|=128,v=!0,Qm(E,!1),d.lanes=4194304);E.isBackwards?(P.sibling=d.child,d.child=P):(c=E.last,c!==null?c.sibling=P:d.child=P,E.last=P)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=wt(),d.sibling=null,c=Br.current,Se(Br,v?c&1|2:c&1),d):(er(d),null);case 22:case 23:return Sl(d),NT(),v=d.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(g&536870912)!==0&&(d.flags&128)===0&&(er(d),d.subtreeFlags&6&&(d.flags|=8192)):er(d),g=d.updateQueue,g!==null&&Pw(d,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048),c!==null&&ue(Ad),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),Tl(Hr),er(d),null;case 25:return null}throw Error(r(156,d.tag))}function Vle(c,d){switch(MT(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Tl(Hr),Le(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return ze(d),null;case 13:if(Sl(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Dm()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return ue(Br),null;case 4:return Le(),null;case 10:return Tl(d.type),null;case 22:case 23:return Sl(d),NT(),c!==null&&ue(Ad),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Tl(Hr),null;case 25:return null;default:return null}}function cj(c,d){switch(MT(d),d.tag){case 3:Tl(Hr),Le();break;case 26:case 27:case 5:ze(d);break;case 4:Le();break;case 13:Sl(d);break;case 19:ue(Br);break;case 10:Tl(d.type);break;case 22:case 23:Sl(d),NT(),c!==null&&ue(Ad);break;case 24:Tl(Hr)}}var Ble={getCacheForType:function(c){var d=Mi(Hr),g=d.data.get(c);return g===void 0&&(g=c(),d.data.set(c,g)),g}},Hle=typeof WeakMap=="function"?WeakMap:Map,tr=0,kn=null,Nt=null,Qt=0,Ln=0,ko=null,Dl=!1,Vf=!1,DA=!1,Il=0,hr=0,Uu=0,Ld=0,IA=0,ls=0,Bf=0,Zm=null,Fa=null,MA=!1,FA=0,_w=1/0,Ow=null,Wu=null,Dw=!1,Nd=null,Jm=0,kA=0,LA=null,ev=0,NA=null;function Lo(){if((tr&2)!==0&&Qt!==0)return Qt&-Qt;if(O.T!==null){var c=Of;return c!==0?c:UA()}return Yo()}function dj(){ls===0&&(ls=(Qt&536870912)===0||sn?Kr():536870912);var c=is.current;return c!==null&&(c.flags|=32),ls}function Ji(c,d,g){(c===kn&&Ln===2||c.cancelPendingCommit!==null)&&(Hf(c,0),Ml(c,Qt,ls,!1)),xt(c,g),((tr&2)===0||c!==kn)&&(c===kn&&((tr&2)===0&&(Ld|=g),hr===4&&Ml(c,Qt,ls,!1)),ka(c))}function hj(c,d,g){if((tr&6)!==0)throw Error(r(327));var v=!g&&(d&60)===0&&(d&c.expiredLanes)===0||Mr(c,d),E=v?Gle(c,d):$A(c,d,!0),P=v;do{if(E===0){Vf&&!v&&Ml(c,d,0,!1);break}else if(E===6)Ml(c,d,0,!Dl);else{if(g=c.current.alternate,P&&!$le(g)){E=$A(c,d,!1),P=!1;continue}if(E===2){if(P=d,c.errorRecoveryDisabledLanes&P)var H=0;else H=c.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){d=H;e:{var W=c;E=Zm;var te=W.current.memoizedState.isDehydrated;if(te&&(Hf(W,H).flags|=256),H=$A(W,H,!1),H!==2){if(DA&&!te){W.errorRecoveryDisabledLanes|=P,Ld|=P,E=4;break e}P=Fa,Fa=E,P!==null&&VA(P)}E=H}if(P=!1,E!==2)continue}}if(E===1){Hf(c,0),Ml(c,d,0,!0);break}e:{switch(v=c,E){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Ml(v,d,ls,!Dl);break e}break;case 2:Fa=null;break;case 3:case 5:break;default:throw Error(r(329))}if(v.finishedWork=g,v.finishedLanes=d,(d&62914560)===d&&(P=FA+300-wt(),10<P)){if(Ml(v,d,ls,!Dl),En(v,0)!==0)break e;v.timeoutHandle=Lj(fj.bind(null,v,g,Fa,Ow,MA,d,ls,Ld,Bf,Dl,2,-0,0),P);break e}fj(v,g,Fa,Ow,MA,d,ls,Ld,Bf,Dl,0,-0,0)}}break}while(!0);ka(c)}function VA(c){Fa===null?Fa=c:Fa.push.apply(Fa,c)}function fj(c,d,g,v,E,P,H,W,te,oe,we,De,pe){var be=d.subtreeFlags;if((be&8192||(be&16785408)===16785408)&&(sv={stylesheets:null,count:0,unsuspend:Sue},rj(d),d=Eue(),d!==null)){c.cancelPendingCommit=d(Cj.bind(null,c,g,v,E,H,W,te,1,De,pe)),Ml(c,P,H,!oe);return}Cj(c,g,v,E,H,W,te,we,De,pe)}function $le(c){for(var d=c;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var v=0;v<g.length;v++){var E=g[v],P=E.getSnapshot;E=E.value;try{if(!Io(P(),E))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ml(c,d,g,v){d&=~IA,d&=~Ld,c.suspendedLanes|=d,c.pingedLanes&=~d,v&&(c.warmLanes|=d),v=c.expirationTimes;for(var E=d;0<E;){var P=31-Kt(E),H=1<<P;v[P]=-1,E&=~H}g!==0&&Oi(c,g,d)}function Iw(){return(tr&6)===0?(tv(0),!1):!0}function BA(){if(Nt!==null){if(Ln===0)var c=Nt.return;else c=Nt,Rl=Id=null,UT(c),Pf=null,km=0,c=Nt;for(;c!==null;)cj(c.alternate,c),c=c.return;Nt=null}}function Hf(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,sue(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),BA(),kn=c,Nt=g=zu(c.current,null),Qt=d,Ln=0,ko=null,Dl=!1,Vf=Mr(c,d),DA=!1,Bf=ls=IA=Ld=Uu=hr=0,Fa=Zm=null,MA=!1,(d&8)!==0&&(d|=d&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=d;0<v;){var E=31-Kt(v),P=1<<E;d|=c[E],v&=~P}return Il=d,nw(),g}function pj(c,d){_t=null,O.H=Ma,d===Mm?(d=_H(),Ln=3):d===TH?(d=_H(),Ln=4):Ln=d===A$?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ko=d,Nt===null&&(hr=1,Sw(c,ts(d,c.current)))}function gj(){var c=O.H;return O.H=Ma,c===null?Ma:c}function mj(){var c=O.A;return O.A=Ble,c}function HA(){hr=4,Dl||(Qt&4194176)!==Qt&&is.current!==null||(Vf=!0),(Uu&134217727)===0&&(Ld&134217727)===0||kn===null||Ml(kn,Qt,ls,!1)}function $A(c,d,g){var v=tr;tr|=2;var E=gj(),P=mj();(kn!==c||Qt!==d)&&(Ow=null,Hf(c,d)),d=!1;var H=hr;e:do try{if(Ln!==0&&Nt!==null){var W=Nt,te=ko;switch(Ln){case 8:BA(),H=6;break e;case 3:case 2:case 6:is.current===null&&(d=!0);var oe=Ln;if(Ln=0,ko=null,$f(c,W,te,oe),g&&Vf){H=0;break e}break;default:oe=Ln,Ln=0,ko=null,$f(c,W,te,oe)}}jle(),H=hr;break}catch(we){pj(c,we)}while(!0);return d&&c.shellSuspendCounter++,Rl=Id=null,tr=v,O.H=E,O.A=P,Nt===null&&(kn=null,Qt=0,nw()),H}function jle(){for(;Nt!==null;)vj(Nt)}function Gle(c,d){var g=tr;tr|=2;var v=gj(),E=mj();kn!==c||Qt!==d?(Ow=null,_w=wt()+500,Hf(c,d)):Vf=Mr(c,d);e:do try{if(Ln!==0&&Nt!==null){d=Nt;var P=ko;t:switch(Ln){case 1:Ln=0,ko=null,$f(c,d,P,1);break;case 2:if(AH(P)){Ln=0,ko=null,yj(d);break}d=function(){Ln===2&&kn===c&&(Ln=7),ka(c)},P.then(d,d);break e;case 3:Ln=7;break e;case 4:Ln=5;break e;case 7:AH(P)?(Ln=0,ko=null,yj(d)):(Ln=0,ko=null,$f(c,d,P,7));break;case 5:var H=null;switch(Nt.tag){case 26:H=Nt.memoizedState;case 5:case 27:var W=Nt;if(!H||qj(H)){Ln=0,ko=null;var te=W.sibling;if(te!==null)Nt=te;else{var oe=W.return;oe!==null?(Nt=oe,Mw(oe)):Nt=null}break t}}Ln=0,ko=null,$f(c,d,P,5);break;case 6:Ln=0,ko=null,$f(c,d,P,6);break;case 8:BA(),hr=6;break e;default:throw Error(r(462))}}zle();break}catch(we){pj(c,we)}while(!0);return Rl=Id=null,O.H=v,O.A=E,tr=g,Nt!==null?0:(kn=null,Qt=0,nw(),hr)}function zle(){for(;Nt!==null&&!dt();)vj(Nt)}function vj(c){var d=B$(c.alternate,c,Il);c.memoizedProps=c.pendingProps,d===null?Mw(c):Nt=d}function yj(c){var d=c,g=d.alternate;switch(d.tag){case 15:case 0:d=M$(g,d,d.pendingProps,d.type,void 0,Qt);break;case 11:d=M$(g,d,d.pendingProps,d.type.render,d.ref,Qt);break;case 5:UT(d);default:cj(g,d),d=Nt=aj(d,Il),d=B$(g,d,Il)}c.memoizedProps=c.pendingProps,d===null?Mw(c):Nt=d}function $f(c,d,g,v){Rl=Id=null,UT(d),Pf=null,km=0;var E=d.return;try{if(Ile(c,E,d,g,Qt)){hr=1,Sw(c,ts(g,c.current)),Nt=null;return}}catch(P){if(E!==null)throw Nt=E,P;hr=1,Sw(c,ts(g,c.current)),Nt=null;return}d.flags&32768?(sn||v===1?c=!0:Vf||(Qt&536870912)!==0?c=!1:(Dl=c=!0,(v===2||v===3||v===6)&&(v=is.current,v!==null&&v.tag===13&&(v.flags|=16384))),bj(d,c)):Mw(d)}function Mw(c){var d=c;do{if((d.flags&32768)!==0){bj(d,Dl);return}c=d.return;var g=Nle(d.alternate,d,Il);if(g!==null){Nt=g;return}if(d=d.sibling,d!==null){Nt=d;return}Nt=d=c}while(d!==null);hr===0&&(hr=5)}function bj(c,d){do{var g=Vle(c.alternate,c);if(g!==null){g.flags&=32767,Nt=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(c=c.sibling,c!==null)){Nt=c;return}Nt=c=g}while(c!==null);hr=6,Nt=null}function Cj(c,d,g,v,E,P,H,W,te,oe){var we=O.T,De=ee.p;try{ee.p=2,O.T=null,Ule(c,d,g,v,De,E,P,H,W,te,oe)}finally{O.T=we,ee.p=De}}function Ule(c,d,g,v,E,P,H,W){do jf();while(Nd!==null);if((tr&6)!==0)throw Error(r(327));var te=c.finishedWork;if(v=c.finishedLanes,te===null)return null;if(c.finishedWork=null,c.finishedLanes=0,te===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var oe=te.lanes|te.childLanes;if(oe|=OT,Ui(c,v,oe,P,H,W),c===kn&&(Nt=kn=null,Qt=0),(te.subtreeFlags&10256)===0&&(te.flags&10256)===0||Dw||(Dw=!0,kA=oe,LA=g,Yle(at,function(){return jf(),null})),g=(te.flags&15990)!==0,(te.subtreeFlags&15990)!==0||g?(g=O.T,O.T=null,P=ee.p,ee.p=2,H=tr,tr|=4,Fle(c,te),ej(te,c),gle(JA,c.containerInfo),Uw=!!ZA,JA=ZA=null,c.current=te,X$(c,te.alternate,te),Qe(),tr=H,ee.p=P,O.T=g):c.current=te,Dw?(Dw=!1,Nd=c,Jm=v):wj(c,oe),oe=c.pendingLanes,oe===0&&(Wu=null),Rn(te.stateNode),ka(c),d!==null)for(E=c.onRecoverableError,te=0;te<d.length;te++)oe=d[te],E(oe.value,{componentStack:oe.stack});return(Jm&3)!==0&&jf(),oe=c.pendingLanes,(v&4194218)!==0&&(oe&42)!==0?c===NA?ev++:(ev=0,NA=c):ev=0,tv(0),null}function wj(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Nm(d)))}function jf(){if(Nd!==null){var c=Nd,d=kA;kA=0;var g=Ko(Jm),v=O.T,E=ee.p;try{if(ee.p=32>g?32:g,O.T=null,Nd===null)var P=!1;else{g=LA,LA=null;var H=Nd,W=Jm;if(Nd=null,Jm=0,(tr&6)!==0)throw Error(r(331));var te=tr;if(tr|=4,oj(H.current),nj(H,H.current,W,g),tr=te,tv(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Gn,H)}catch{}P=!0}return P}finally{ee.p=E,O.T=v,wj(c,d)}}return!1}function Sj(c,d,g){d=ts(g,d),d=oA(c.stateNode,d,2),c=Hu(c,d,2),c!==null&&(xt(c,2),ka(c))}function Dn(c,d,g){if(c.tag===3)Sj(c,c,g);else for(;d!==null;){if(d.tag===3){Sj(d,c,g);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Wu===null||!Wu.has(v))){c=ts(g,c),g=R$(2),v=Hu(d,g,2),v!==null&&(T$(g,v,d,c),xt(v,2),ka(v));break}}d=d.return}}function jA(c,d,g){var v=c.pingCache;if(v===null){v=c.pingCache=new Hle;var E=new Set;v.set(d,E)}else E=v.get(d),E===void 0&&(E=new Set,v.set(d,E));E.has(g)||(DA=!0,E.add(g),c=Wle.bind(null,c,d,g),d.then(c,c))}function Wle(c,d,g){var v=c.pingCache;v!==null&&v.delete(d),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,kn===c&&(Qt&g)===g&&(hr===4||hr===3&&(Qt&62914560)===Qt&&300>wt()-FA?(tr&2)===0&&Hf(c,0):IA|=g,Bf===Qt&&(Bf=0)),ka(c)}function xj(c,d){d===0&&(d=Tt()),c=Iu(c,d),c!==null&&(xt(c,d),ka(c))}function qle(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),xj(c,g)}function Kle(c,d){var g=0;switch(c.tag){case 13:var v=c.stateNode,E=c.memoizedState;E!==null&&(g=E.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(d),xj(c,g)}function Yle(c,d){return it(c,d)}var Fw=null,Gf=null,GA=!1,kw=!1,zA=!1,Vd=0;function ka(c){c!==Gf&&c.next===null&&(Gf===null?Fw=Gf=c:Gf=Gf.next=c),kw=!0,GA||(GA=!0,Qle(Xle))}function tv(c,d){if(!zA&&kw){zA=!0;do for(var g=!1,v=Fw;v!==null;){if(c!==0){var E=v.pendingLanes;if(E===0)var P=0;else{var H=v.suspendedLanes,W=v.pingedLanes;P=(1<<31-Kt(42|c)+1)-1,P&=E&~(H&~W),P=P&201326677?P&201326677|1:P?P|2:0}P!==0&&(g=!0,Tj(v,P))}else P=Qt,P=En(v,v===kn?P:0),(P&3)===0||Mr(v,P)||(g=!0,Tj(v,P));v=v.next}while(g);zA=!1}}function Xle(){kw=GA=!1;var c=0;Vd!==0&&(oue()&&(c=Vd),Vd=0);for(var d=wt(),g=null,v=Fw;v!==null;){var E=v.next,P=Ej(v,d);P===0?(v.next=null,g===null?Fw=E:g.next=E,E===null&&(Gf=g)):(g=v,(c!==0||(P&3)!==0)&&(kw=!0)),v=E}tv(c)}function Ej(c,d){for(var g=c.suspendedLanes,v=c.pingedLanes,E=c.expirationTimes,P=c.pendingLanes&-62914561;0<P;){var H=31-Kt(P),W=1<<H,te=E[H];te===-1?((W&g)===0||(W&v)!==0)&&(E[H]=On(W,d)):te<=d&&(c.expiredLanes|=W),P&=~W}if(d=kn,g=Qt,g=En(c,c===d?g:0),v=c.callbackNode,g===0||c===d&&Ln===2||c.cancelPendingCommit!==null)return v!==null&&v!==null&&Ve(v),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||Mr(c,g)){if(d=g&-g,d===c.callbackPriority)return d;switch(v!==null&&Ve(v),Ko(g)){case 2:case 8:g=Mt;break;case 32:g=at;break;case 268435456:g=nn;break;default:g=at}return v=Rj.bind(null,c),g=it(g,v),c.callbackPriority=d,c.callbackNode=g,d}return v!==null&&v!==null&&Ve(v),c.callbackPriority=2,c.callbackNode=null,2}function Rj(c,d){var g=c.callbackNode;if(jf()&&c.callbackNode!==g)return null;var v=Qt;return v=En(c,c===kn?v:0),v===0?null:(hj(c,v,d),Ej(c,wt()),c.callbackNode!=null&&c.callbackNode===g?Rj.bind(null,c):null)}function Tj(c,d){if(jf())return null;hj(c,d,!0)}function Qle(c){aue(function(){(tr&6)!==0?it(ft,c):c()})}function UA(){return Vd===0&&(Vd=Kr()),Vd}function Aj(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Fn(""+c)}function Pj(c,d){var g=d.ownerDocument.createElement("input");return g.name=d.name,g.value=d.value,c.id&&g.setAttribute("form",c.id),d.parentNode.insertBefore(g,d),c=new FormData(c),g.parentNode.removeChild(g),c}function Zle(c,d,g,v,E){if(d==="submit"&&g&&g.stateNode===E){var P=Aj((E[Vt]||null).action),H=v.submitter;H&&(d=(d=H[Vt]||null)?Aj(d.formAction):H.getAttribute("formAction"),d!==null&&(P=d,H=null));var W=new pf("action","action",null,v,E);c.push({event:W,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Vd!==0){var te=H?Pj(E,H):new FormData(E);eA(g,{pending:!0,data:te,method:E.method,action:P},null,te)}}else typeof P=="function"&&(W.preventDefault(),te=H?Pj(E,H):new FormData(E),eA(g,{pending:!0,data:te,method:E.method,action:P},P,te))},currentTarget:E}]})}}for(var WA=0;WA<CH.length;WA++){var qA=CH[WA],Jle=qA.toLowerCase(),eue=qA[0].toUpperCase()+qA.slice(1);Ws(Jle,"on"+eue)}Ws(gH,"onAnimationEnd"),Ws(mH,"onAnimationIteration"),Ws(vH,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(vle,"onTransitionRun"),Ws(yle,"onTransitionStart"),Ws(ble,"onTransitionCancel"),Ws(yH,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tue=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nv));function _j(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var v=c[g],E=v.event;v=v.listeners;e:{var P=void 0;if(d)for(var H=v.length-1;0<=H;H--){var W=v[H],te=W.instance,oe=W.currentTarget;if(W=W.listener,te!==P&&E.isPropagationStopped())break e;P=W,E.currentTarget=oe;try{P(E)}catch(we){ww(we)}E.currentTarget=null,P=te}else for(H=0;H<v.length;H++){if(W=v[H],te=W.instance,oe=W.currentTarget,W=W.listener,te!==P&&E.isPropagationStopped())break e;P=W,E.currentTarget=oe;try{P(E)}catch(we){ww(we)}E.currentTarget=null,P=te}}}}function zt(c,d){var g=d[Wi];g===void 0&&(g=d[Wi]=new Set);var v=c+"__bubble";g.has(v)||(Oj(d,c,2,!1),g.add(v))}function KA(c,d,g){var v=0;d&&(v|=4),Oj(g,c,v,d)}var Lw="_reactListening"+Math.random().toString(36).slice(2);function YA(c){if(!c[Lw]){c[Lw]=!0,xa.forEach(function(g){g!=="selectionchange"&&(tue.has(g)||KA(g,!1,c),KA(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Lw]||(d[Lw]=!0,KA("selectionchange",!1,d))}}function Oj(c,d,g,v){switch(Jj(d)){case 2:var E=Aue;break;case 8:E=Pue;break;default:E=lP}g=E.bind(null,d,g,c),E=void 0,!Ze||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),v?E!==void 0?c.addEventListener(d,g,{capture:!0,passive:E}):c.addEventListener(d,g,!0):E!==void 0?c.addEventListener(d,g,{passive:E}):c.addEventListener(d,g,!1)}function XA(c,d,g,v,E){var P=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var H=v.tag;if(H===3||H===4){var W=v.stateNode.containerInfo;if(W===E||W.nodeType===8&&W.parentNode===E)break;if(H===4)for(H=v.return;H!==null;){var te=H.tag;if((te===3||te===4)&&(te=H.stateNode.containerInfo,te===E||te.nodeType===8&&te.parentNode===E))return;H=H.return}for(;W!==null;){if(H=Xr(W),H===null)return;if(te=H.tag,te===5||te===6||te===26||te===27){v=P=H;continue e}W=W.parentNode}}v=v.return}Du(function(){var oe=P,we=Oo(g),De=[];e:{var pe=bH.get(c);if(pe!==void 0){var be=pf,Je=c;switch(c){case"keypress":if(Do(g)===0)break e;case"keydown":case"keyup":be=Cf;break;case"focusin":Je="focus",be=vf;break;case"focusout":Je="blur",be=vf;break;case"beforeblur":case"afterblur":be=vf;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=ST;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=YC;break;case gH:case mH:case vH:be=yf;break;case yH:be=QC;break;case"scroll":case"scrollend":be=jC;break;case"wheel":be=wf;break;case"copy":case"cut":case"paste":be=bf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Tm;break;case"toggle":case"beforetoggle":be=JC}var bt=(d&4)!==0,fr=!bt&&(c==="scroll"||c==="scrollend"),se=bt?pe!==null?pe+"Capture":null:pe;bt=[];for(var ie=oe,ce;ie!==null;){var Ee=ie;if(ce=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||ce===null||se===null||(Ee=$e(ie,se),Ee!=null&&bt.push(rv(ie,Ee,ce))),fr)break;ie=ie.return}0<bt.length&&(pe=new be(pe,Je,null,g,we),De.push({event:pe,listeners:bt}))}}if((d&7)===0){e:{if(pe=c==="mouseover"||c==="pointerover",be=c==="mouseout"||c==="pointerout",pe&&g!==Lr&&(Je=g.relatedTarget||g.fromElement)&&(Xr(Je)||Je[br]))break e;if((be||pe)&&(pe=we.window===we?we:(pe=we.ownerDocument)?pe.defaultView||pe.parentWindow:window,be?(Je=g.relatedTarget||g.toElement,be=oe,Je=Je?Xr(Je):null,Je!==null&&(fr=U(Je),bt=Je.tag,Je!==fr||bt!==5&&bt!==27&&bt!==6)&&(Je=null)):(be=null,Je=oe),be!==Je)){if(bt=Jo,Ee="onMouseLeave",se="onMouseEnter",ie="mouse",(c==="pointerout"||c==="pointerover")&&(bt=Tm,Ee="onPointerLeave",se="onPointerEnter",ie="pointer"),fr=be==null?pe:Ao(be),ce=Je==null?pe:Ao(Je),pe=new bt(Ee,ie+"leave",be,g,we),pe.target=fr,pe.relatedTarget=ce,Ee=null,Xr(we)===oe&&(bt=new bt(se,ie+"enter",Je,g,we),bt.target=ce,bt.relatedTarget=fr,Ee=bt),fr=Ee,be&&Je)t:{for(bt=be,se=Je,ie=0,ce=bt;ce;ce=zf(ce))ie++;for(ce=0,Ee=se;Ee;Ee=zf(Ee))ce++;for(;0<ie-ce;)bt=zf(bt),ie--;for(;0<ce-ie;)se=zf(se),ce--;for(;ie--;){if(bt===se||se!==null&&bt===se.alternate)break t;bt=zf(bt),se=zf(se)}bt=null}else bt=null;be!==null&&Dj(De,pe,be,bt,!1),Je!==null&&fr!==null&&Dj(De,fr,Je,bt,!0)}}e:{if(pe=oe?Ao(oe):window,be=pe.nodeName&&pe.nodeName.toLowerCase(),be==="select"||be==="input"&&pe.type==="file")var Xe=iH;else if(Vr(pe))if(oH)Xe=fle;else{Xe=dle;var Ft=cle}else be=pe.nodeName,!be||be.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?oe&&ml(oe.elementType)&&(Xe=iH):Xe=hle;if(Xe&&(Xe=Xe(c,oe))){bl(De,Xe,g,we);break e}Ft&&Ft(c,pe,oe),c==="focusout"&&oe&&pe.type==="number"&&oe.memoizedProps.value!=null&&Gs(pe,"number",pe.value)}switch(Ft=oe?Ao(oe):window,c){case"focusin":(Vr(Ft)||Ft.contentEditable==="true")&&(Sf=Ft,AT=oe,_m=null);break;case"focusout":_m=AT=Sf=null;break;case"mousedown":PT=!0;break;case"contextmenu":case"mouseup":case"dragend":PT=!1,fH(De,g,we);break;case"selectionchange":if(mle)break;case"keydown":case"keyup":fH(De,g,we)}var tt;if(_a)e:{switch(c){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Yt?ge(c,g)&&(lt="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(lt="onCompositionStart");lt&&(B&&g.locale!=="ko"&&(Yt||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Yt&&(tt=vl()):(on=we,tn="value"in on?on.value:on.textContent,Yt=!0)),Ft=Nw(oe,lt),0<Ft.length&&(lt=new Em(lt,c,null,g,we),De.push({event:lt,listeners:Ft}),tt?lt.data=tt:(tt=Fe(g),tt!==null&&(lt.data=tt)))),(tt=k?Nr(c,g):Xt(c,g))&&(lt=Nw(oe,"onBeforeInput"),0<lt.length&&(Ft=new Em("onBeforeInput","beforeinput",null,g,we),De.push({event:Ft,listeners:lt}),Ft.data=tt)),Zle(De,c,oe,g,we)}_j(De,d)})}function rv(c,d,g){return{instance:c,listener:d,currentTarget:g}}function Nw(c,d){for(var g=d+"Capture",v=[];c!==null;){var E=c,P=E.stateNode;E=E.tag,E!==5&&E!==26&&E!==27||P===null||(E=$e(c,g),E!=null&&v.unshift(rv(c,E,P)),E=$e(c,d),E!=null&&v.push(rv(c,E,P))),c=c.return}return v}function zf(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function Dj(c,d,g,v,E){for(var P=d._reactName,H=[];g!==null&&g!==v;){var W=g,te=W.alternate,oe=W.stateNode;if(W=W.tag,te!==null&&te===v)break;W!==5&&W!==26&&W!==27||oe===null||(te=oe,E?(oe=$e(g,P),oe!=null&&H.unshift(rv(g,oe,te))):E||(oe=$e(g,P),oe!=null&&H.push(rv(g,oe,te)))),g=g.return}H.length!==0&&c.push({event:d,listeners:H})}var nue=/\r\n?/g,rue=/\u0000|\uFFFD/g;function Ij(c){return(typeof c=="string"?c:""+c).replace(nue,`
`).replace(rue,"")}function Mj(c,d){return d=Ij(d),Ij(c)===d}function Vw(){}function An(c,d,g,v,E,P){switch(g){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||Di(c,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&Di(c,""+v);break;case"className":kr(c,"class",v);break;case"tabIndex":kr(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(c,g,v);break;case"style":Yi(c,v,P);break;case"data":if(d!=="object"){kr(c,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||g!=="href")){c.removeAttribute(g);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(g);break}v=Fn(""+v),c.setAttribute(g,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(g==="formAction"?(d!=="input"&&An(c,d,"name",E.name,E,null),An(c,d,"formEncType",E.formEncType,E,null),An(c,d,"formMethod",E.formMethod,E,null),An(c,d,"formTarget",E.formTarget,E,null)):(An(c,d,"encType",E.encType,E,null),An(c,d,"method",E.method,E,null),An(c,d,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(g);break}v=Fn(""+v),c.setAttribute(g,v);break;case"onClick":v!=null&&(c.onclick=Vw);break;case"onScroll":v!=null&&zt("scroll",c);break;case"onScrollEnd":v!=null&&zt("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(g=v.__html,g!=null){if(E.children!=null)throw Error(r(60));c.innerHTML=g}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}g=Fn(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(g,""+v):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":v===!0?c.setAttribute(g,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(g,v):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(g,v):c.removeAttribute(g);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(g):c.setAttribute(g,v);break;case"popover":zt("beforetoggle",c),zt("toggle",c),Po(c,"popover",v);break;case"xlinkActuate":Xn(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Xn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Xn(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Xn(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Xn(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Xn(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Xn(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Xn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Xn(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Po(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=hf.get(g)||g,Po(c,g,v))}}function QA(c,d,g,v,E,P){switch(g){case"style":Yi(c,v,P);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(g=v.__html,g!=null){if(E.children!=null)throw Error(r(60));c.innerHTML=g}}break;case"children":typeof v=="string"?Di(c,v):(typeof v=="number"||typeof v=="bigint")&&Di(c,""+v);break;case"onScroll":v!=null&&zt("scroll",c);break;case"onScrollEnd":v!=null&&zt("scrollend",c);break;case"onClick":v!=null&&(c.onclick=Vw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(E=g.endsWith("Capture"),d=g.slice(2,E?g.length-7:void 0),P=c[Vt]||null,P=P!=null?P[g]:null,typeof P=="function"&&c.removeEventListener(d,P,E),typeof v=="function")){typeof P!="function"&&P!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(d,v,E);break e}g in c?c[g]=v:v===!0?c.setAttribute(g,""):Po(c,g,v)}}}function yi(c,d,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",c),zt("load",c);var v=!1,E=!1,P;for(P in g)if(g.hasOwnProperty(P)){var H=g[P];if(H!=null)switch(P){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:An(c,d,P,H,g,null)}}E&&An(c,d,"srcSet",g.srcSet,g,null),v&&An(c,d,"src",g.src,g,null);return;case"input":zt("invalid",c);var W=P=H=E=null,te=null,oe=null;for(v in g)if(g.hasOwnProperty(v)){var we=g[v];if(we!=null)switch(v){case"name":E=we;break;case"type":H=we;break;case"checked":te=we;break;case"defaultChecked":oe=we;break;case"value":P=we;break;case"defaultValue":W=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,d));break;default:An(c,d,v,we,g,null)}}js(c,P,W,te,oe,H,E,!1),$s(c);return;case"select":zt("invalid",c),v=H=P=null;for(E in g)if(g.hasOwnProperty(E)&&(W=g[E],W!=null))switch(E){case"value":P=W;break;case"defaultValue":H=W;break;case"multiple":v=W;default:An(c,d,E,W,g,null)}d=P,g=H,c.multiple=!!v,d!=null?Bt(c,!!v,d,!1):g!=null&&Bt(c,!!v,g,!0);return;case"textarea":zt("invalid",c),P=E=v=null;for(H in g)if(g.hasOwnProperty(H)&&(W=g[H],W!=null))switch(H){case"value":v=W;break;case"defaultValue":E=W;break;case"children":P=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:An(c,d,H,W,g,null)}_o(c,v,E,P),$s(c);return;case"option":for(te in g)if(g.hasOwnProperty(te)&&(v=g[te],v!=null))switch(te){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:An(c,d,te,v,g,null)}return;case"dialog":zt("cancel",c),zt("close",c);break;case"iframe":case"object":zt("load",c);break;case"video":case"audio":for(v=0;v<nv.length;v++)zt(nv[v],c);break;case"image":zt("error",c),zt("load",c);break;case"details":zt("toggle",c);break;case"embed":case"source":case"link":zt("error",c),zt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in g)if(g.hasOwnProperty(oe)&&(v=g[oe],v!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:An(c,d,oe,v,g,null)}return;default:if(ml(d)){for(we in g)g.hasOwnProperty(we)&&(v=g[we],v!==void 0&&QA(c,d,we,v,g,void 0));return}}for(W in g)g.hasOwnProperty(W)&&(v=g[W],v!=null&&An(c,d,W,v,g,null))}function iue(c,d,g,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,P=null,H=null,W=null,te=null,oe=null,we=null;for(be in g){var De=g[be];if(g.hasOwnProperty(be)&&De!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":te=De;default:v.hasOwnProperty(be)||An(c,d,be,null,v,De)}}for(var pe in v){var be=v[pe];if(De=g[pe],v.hasOwnProperty(pe)&&(be!=null||De!=null))switch(pe){case"type":P=be;break;case"name":E=be;break;case"checked":oe=be;break;case"defaultChecked":we=be;break;case"value":H=be;break;case"defaultValue":W=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,d));break;default:be!==De&&An(c,d,pe,be,v,De)}}Zo(c,H,W,te,oe,we,P,E);return;case"select":be=H=W=pe=null;for(P in g)if(te=g[P],g.hasOwnProperty(P)&&te!=null)switch(P){case"value":break;case"multiple":be=te;default:v.hasOwnProperty(P)||An(c,d,P,null,v,te)}for(E in v)if(P=v[E],te=g[E],v.hasOwnProperty(E)&&(P!=null||te!=null))switch(E){case"value":pe=P;break;case"defaultValue":W=P;break;case"multiple":H=P;default:P!==te&&An(c,d,E,P,v,te)}d=W,g=H,v=be,pe!=null?Bt(c,!!g,pe,!1):!!v!=!!g&&(d!=null?Bt(c,!!g,d,!0):Bt(c,!!g,g?[]:"",!1));return;case"textarea":be=pe=null;for(W in g)if(E=g[W],g.hasOwnProperty(W)&&E!=null&&!v.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:An(c,d,W,null,v,E)}for(H in v)if(E=v[H],P=g[H],v.hasOwnProperty(H)&&(E!=null||P!=null))switch(H){case"value":pe=E;break;case"defaultValue":be=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==P&&An(c,d,H,E,v,P)}zs(c,pe,be);return;case"option":for(var Je in g)if(pe=g[Je],g.hasOwnProperty(Je)&&pe!=null&&!v.hasOwnProperty(Je))switch(Je){case"selected":c.selected=!1;break;default:An(c,d,Je,null,v,pe)}for(te in v)if(pe=v[te],be=g[te],v.hasOwnProperty(te)&&pe!==be&&(pe!=null||be!=null))switch(te){case"selected":c.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:An(c,d,te,pe,v,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in g)pe=g[bt],g.hasOwnProperty(bt)&&pe!=null&&!v.hasOwnProperty(bt)&&An(c,d,bt,null,v,pe);for(oe in v)if(pe=v[oe],be=g[oe],v.hasOwnProperty(oe)&&pe!==be&&(pe!=null||be!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,d));break;default:An(c,d,oe,pe,v,be)}return;default:if(ml(d)){for(var fr in g)pe=g[fr],g.hasOwnProperty(fr)&&pe!==void 0&&!v.hasOwnProperty(fr)&&QA(c,d,fr,void 0,v,pe);for(we in v)pe=v[we],be=g[we],!v.hasOwnProperty(we)||pe===be||pe===void 0&&be===void 0||QA(c,d,we,pe,v,be);return}}for(var se in g)pe=g[se],g.hasOwnProperty(se)&&pe!=null&&!v.hasOwnProperty(se)&&An(c,d,se,null,v,pe);for(De in v)pe=v[De],be=g[De],!v.hasOwnProperty(De)||pe===be||pe==null&&be==null||An(c,d,De,pe,v,be)}var ZA=null,JA=null;function Bw(c){return c.nodeType===9?c:c.ownerDocument}function Fj(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kj(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function eP(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var tP=null;function oue(){var c=window.event;return c&&c.type==="popstate"?c===tP?!1:(tP=c,!0):(tP=null,!1)}var Lj=typeof setTimeout=="function"?setTimeout:void 0,sue=typeof clearTimeout=="function"?clearTimeout:void 0,Nj=typeof Promise=="function"?Promise:void 0,aue=typeof queueMicrotask=="function"?queueMicrotask:typeof Nj<"u"?function(c){return Nj.resolve(null).then(c).catch(lue)}:Lj;function lue(c){setTimeout(function(){throw c})}function nP(c,d){var g=d,v=0;do{var E=g.nextSibling;if(c.removeChild(g),E&&E.nodeType===8)if(g=E.data,g==="/$"){if(v===0){c.removeChild(E),dv(d);return}v--}else g!=="$"&&g!=="$?"&&g!=="$!"||v++;g=E}while(g);dv(d)}function rP(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var g=d;switch(d=d.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":rP(g),pi(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function uue(c,d,g,v){for(;c.nodeType===1;){var E=g;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[fi])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(P=c.getAttribute("rel"),P==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(P!==E.rel||c.getAttribute("href")!==(E.href==null?null:E.href)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||c.getAttribute("title")!==(E.title==null?null:E.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(P=c.getAttribute("src"),(P!==(E.src==null?null:E.src)||c.getAttribute("type")!==(E.type==null?null:E.type)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&P&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var P=E.name==null?null:""+E.name;if(E.type==="hidden"&&c.getAttribute("name")===P)return c}else return c;if(c=Ys(c.nextSibling),c===null)break}return null}function cue(c,d,g){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=Ys(c.nextSibling),c===null))return null;return c}function Ys(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}function Vj(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}function Bj(c,d,g){switch(d=Bw(g),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}var us=new Map,Hj=new Set;function Hw(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var Fl=ee.d;ee.d={f:due,r:hue,D:fue,C:pue,L:gue,m:mue,X:yue,S:vue,M:bue};function due(){var c=Fl.f(),d=Iw();return c||d}function hue(c){var d=Lt(c);d!==null&&d.tag===5&&d.type==="form"?f$(d):Fl.r(c)}var Uf=typeof document>"u"?null:document;function $j(c,d,g){var v=Uf;if(v&&typeof d=="string"&&d){var E=Mn(d);E='link[rel="'+c+'"][href="'+E+'"]',typeof g=="string"&&(E+='[crossorigin="'+g+'"]'),Hj.has(E)||(Hj.add(E),c={rel:c,crossOrigin:g,href:d},v.querySelector(E)===null&&(d=v.createElement("link"),yi(d,"link",c),dn(d),v.head.appendChild(d)))}}function fue(c){Fl.D(c),$j("dns-prefetch",c,null)}function pue(c,d){Fl.C(c,d),$j("preconnect",c,d)}function gue(c,d,g){Fl.L(c,d,g);var v=Uf;if(v&&c&&d){var E='link[rel="preload"][as="'+Mn(d)+'"]';d==="image"&&g&&g.imageSrcSet?(E+='[imagesrcset="'+Mn(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(E+='[imagesizes="'+Mn(g.imageSizes)+'"]')):E+='[href="'+Mn(c)+'"]';var P=E;switch(d){case"style":P=Wf(c);break;case"script":P=qf(c)}us.has(P)||(c=F({rel:"preload",href:d==="image"&&g&&g.imageSrcSet?void 0:c,as:d},g),us.set(P,c),v.querySelector(E)!==null||d==="style"&&v.querySelector(iv(P))||d==="script"&&v.querySelector(ov(P))||(d=v.createElement("link"),yi(d,"link",c),dn(d),v.head.appendChild(d)))}}function mue(c,d){Fl.m(c,d);var g=Uf;if(g&&c){var v=d&&typeof d.as=="string"?d.as:"script",E='link[rel="modulepreload"][as="'+Mn(v)+'"][href="'+Mn(c)+'"]',P=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=qf(c)}if(!us.has(P)&&(c=F({rel:"modulepreload",href:c},d),us.set(P,c),g.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(ov(P)))return}v=g.createElement("link"),yi(v,"link",c),dn(v),g.head.appendChild(v)}}}function vue(c,d,g){Fl.S(c,d,g);var v=Uf;if(v&&c){var E=Xo(v).hoistableStyles,P=Wf(c);d=d||"default";var H=E.get(P);if(!H){var W={loading:0,preload:null};if(H=v.querySelector(iv(P)))W.loading=5;else{c=F({rel:"stylesheet",href:c,"data-precedence":d},g),(g=us.get(P))&&iP(c,g);var te=H=v.createElement("link");dn(te),yi(te,"link",c),te._p=new Promise(function(oe,we){te.onload=oe,te.onerror=we}),te.addEventListener("load",function(){W.loading|=1}),te.addEventListener("error",function(){W.loading|=2}),W.loading|=4,$w(H,d,v)}H={type:"stylesheet",instance:H,count:1,state:W},E.set(P,H)}}}function yue(c,d){Fl.X(c,d);var g=Uf;if(g&&c){var v=Xo(g).hoistableScripts,E=qf(c),P=v.get(E);P||(P=g.querySelector(ov(E)),P||(c=F({src:c,async:!0},d),(d=us.get(E))&&oP(c,d),P=g.createElement("script"),dn(P),yi(P,"link",c),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},v.set(E,P))}}function bue(c,d){Fl.M(c,d);var g=Uf;if(g&&c){var v=Xo(g).hoistableScripts,E=qf(c),P=v.get(E);P||(P=g.querySelector(ov(E)),P||(c=F({src:c,async:!0,type:"module"},d),(d=us.get(E))&&oP(c,d),P=g.createElement("script"),dn(P),yi(P,"link",c),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},v.set(E,P))}}function jj(c,d,g,v){var E=(E=Oe.current)?Hw(E):null;if(!E)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(d=Wf(g.href),g=Xo(E).hoistableStyles,v=g.get(d),v||(v={type:"style",instance:null,count:0,state:null},g.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=Wf(g.href);var P=Xo(E).hoistableStyles,H=P.get(c);if(H||(E=E.ownerDocument||E,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(c,H),(P=E.querySelector(iv(c)))&&!P._p&&(H.instance=P,H.state.loading=5),us.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},us.set(c,g),P||Cue(E,c,g,H.state))),d&&v===null)throw Error(r(528,""));return H}if(d&&v!==null)throw Error(r(529,""));return null;case"script":return d=g.async,g=g.src,typeof g=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=qf(g),g=Xo(E).hoistableScripts,v=g.get(d),v||(v={type:"script",instance:null,count:0,state:null},g.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Wf(c){return'href="'+Mn(c)+'"'}function iv(c){return'link[rel="stylesheet"]['+c+"]"}function Gj(c){return F({},c,{"data-precedence":c.precedence,precedence:null})}function Cue(c,d,g,v){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=c.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),yi(d,"link",g),dn(d),c.head.appendChild(d))}function qf(c){return'[src="'+Mn(c)+'"]'}function ov(c){return"script[async]"+c}function zj(c,d,g){if(d.count++,d.instance===null)switch(d.type){case"style":var v=c.querySelector('style[data-href~="'+Mn(g.href)+'"]');if(v)return d.instance=v,dn(v),v;var E=F({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),dn(v),yi(v,"style",E),$w(v,g.precedence,c),d.instance=v;case"stylesheet":E=Wf(g.href);var P=c.querySelector(iv(E));if(P)return d.state.loading|=4,d.instance=P,dn(P),P;v=Gj(g),(E=us.get(E))&&iP(v,E),P=(c.ownerDocument||c).createElement("link"),dn(P);var H=P;return H._p=new Promise(function(W,te){H.onload=W,H.onerror=te}),yi(P,"link",v),d.state.loading|=4,$w(P,g.precedence,c),d.instance=P;case"script":return P=qf(g.src),(E=c.querySelector(ov(P)))?(d.instance=E,dn(E),E):(v=g,(E=us.get(P))&&(v=F({},g),oP(v,E)),c=c.ownerDocument||c,E=c.createElement("script"),dn(E),yi(E,"link",v),c.head.appendChild(E),d.instance=E);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,$w(v,g.precedence,c));return d.instance}function $w(c,d,g){for(var v=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,P=E,H=0;H<v.length;H++){var W=v[H];if(W.dataset.precedence===d)P=W;else if(P!==E)break}P?P.parentNode.insertBefore(c,P.nextSibling):(d=g.nodeType===9?g.head:g,d.insertBefore(c,d.firstChild))}function iP(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function oP(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var jw=null;function Uj(c,d,g){if(jw===null){var v=new Map,E=jw=new Map;E.set(g,v)}else E=jw,v=E.get(g),v||(v=new Map,E.set(g,v));if(v.has(c))return v;for(v.set(c,null),g=g.getElementsByTagName(c),E=0;E<g.length;E++){var P=g[E];if(!(P[fi]||P[en]||c==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var H=P.getAttribute(d)||"";H=c+H;var W=v.get(H);W?W.push(P):v.set(H,[P])}}return v}function Wj(c,d,g){c=c.ownerDocument||c,c.head.insertBefore(g,d==="title"?c.querySelector("head > title"):null)}function wue(c,d,g){if(g===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function qj(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var sv=null;function Sue(){}function xue(c,d,g){if(sv===null)throw Error(r(475));var v=sv;if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=Wf(g.href),P=c.querySelector(iv(E));if(P){c=P._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(v.count++,v=Gw.bind(v),c.then(v,v)),d.state.loading|=4,d.instance=P,dn(P);return}P=c.ownerDocument||c,g=Gj(g),(E=us.get(E))&&iP(g,E),P=P.createElement("link"),dn(P);var H=P;H._p=new Promise(function(W,te){H.onload=W,H.onerror=te}),yi(P,"link",g),d.instance=P}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(v.count++,d=Gw.bind(v),c.addEventListener("load",d),c.addEventListener("error",d))}}function Eue(){if(sv===null)throw Error(r(475));var c=sv;return c.stylesheets&&c.count===0&&sP(c,c.stylesheets),0<c.count?function(d){var g=setTimeout(function(){if(c.stylesheets&&sP(c,c.stylesheets),c.unsuspend){var v=c.unsuspend;c.unsuspend=null,v()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(g)}}:null}function Gw(){if(this.count--,this.count===0){if(this.stylesheets)sP(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var zw=null;function sP(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,zw=new Map,d.forEach(Rue,c),zw=null,Gw.call(c))}function Rue(c,d){if(!(d.state.loading&4)){var g=zw.get(c);if(g)var v=g.get(null);else{g=new Map,zw.set(c,g);for(var E=c.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<E.length;P++){var H=E[P];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(g.set(H.dataset.precedence,H),v=H)}v&&g.set(null,v)}E=d.instance,H=E.getAttribute("data-precedence"),P=g.get(H)||v,P===v&&g.set(null,E),g.set(H,E),this.count++,v=Gw.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),P?P.parentNode.insertBefore(E,P.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(E,c.firstChild)),d.state.loading|=4}}var av={$$typeof:m,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Tue(c,d,g,v,E,P,H,W){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=P,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Kj(c,d,g,v,E,P,H,W,te,oe,we,De){return c=new Tue(c,d,g,H,W,te,oe,De),d=1,P===!0&&(d|=24),P=as(3,null,null,d),c.current=P,P.stateNode=c,d=VT(),d.refCount++,c.pooledCache=d,d.refCount++,P.memoizedState={element:v,isDehydrated:g,cache:d},yA(P),c}function Yj(c){return c?(c=Rf,c):Rf}function Xj(c,d,g,v,E,P){E=Yj(E),v.context===null?v.context=E:v.pendingContext=E,v=Bu(d),v.payload={element:g},P=P===void 0?null:P,P!==null&&(v.callback=P),g=Hu(c,v,d),g!==null&&(Ji(g,c,d),zm(g,c,d))}function Qj(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function aP(c,d){Qj(c,d),(c=c.alternate)&&Qj(c,d)}function Zj(c){if(c.tag===13){var d=Iu(c,67108864);d!==null&&Ji(d,c,67108864),aP(c,67108864)}}var Uw=!0;function Aue(c,d,g,v){var E=O.T;O.T=null;var P=ee.p;try{ee.p=2,lP(c,d,g,v)}finally{ee.p=P,O.T=E}}function Pue(c,d,g,v){var E=O.T;O.T=null;var P=ee.p;try{ee.p=8,lP(c,d,g,v)}finally{ee.p=P,O.T=E}}function lP(c,d,g,v){if(Uw){var E=uP(v);if(E===null)XA(c,d,v,Ww,g),eG(c,v);else if(Oue(E,c,d,g,v))v.stopPropagation();else if(eG(c,v),d&4&&-1<_ue.indexOf(c)){for(;E!==null;){var P=Lt(E);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var H=Yn(P.pendingLanes);if(H!==0){var W=P;for(W.pendingLanes|=2,W.entangledLanes|=2;H;){var te=1<<31-Kt(H);W.entanglements[1]|=te,H&=~te}ka(P),(tr&6)===0&&(_w=wt()+500,tv(0))}}break;case 13:W=Iu(P,2),W!==null&&Ji(W,P,2),Iw(),aP(P,2)}if(P=uP(v),P===null&&XA(c,d,v,Ww,g),P===E)break;E=P}E!==null&&v.stopPropagation()}else XA(c,d,v,null,g)}}function uP(c){return c=Oo(c),cP(c)}var Ww=null;function cP(c){if(Ww=null,c=Xr(c),c!==null){var d=U(c);if(d===null)c=null;else{var g=d.tag;if(g===13){if(c=Z(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Ww=c,null}function Jj(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qt()){case ft:return 2;case Mt:return 8;case at:case xn:return 32;case nn:return 268435456;default:return 32}default:return 32}}var dP=!1,qu=null,Ku=null,Yu=null,lv=new Map,uv=new Map,Xu=[],_ue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eG(c,d){switch(c){case"focusin":case"focusout":qu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":Yu=null;break;case"pointerover":case"pointerout":lv.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":uv.delete(d.pointerId)}}function cv(c,d,g,v,E,P){return c===null||c.nativeEvent!==P?(c={blockedOn:d,domEventName:g,eventSystemFlags:v,nativeEvent:P,targetContainers:[E]},d!==null&&(d=Lt(d),d!==null&&Zj(d)),c):(c.eventSystemFlags|=v,d=c.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),c)}function Oue(c,d,g,v,E){switch(d){case"focusin":return qu=cv(qu,c,d,g,v,E),!0;case"dragenter":return Ku=cv(Ku,c,d,g,v,E),!0;case"mouseover":return Yu=cv(Yu,c,d,g,v,E),!0;case"pointerover":var P=E.pointerId;return lv.set(P,cv(lv.get(P)||null,c,d,g,v,E)),!0;case"gotpointercapture":return P=E.pointerId,uv.set(P,cv(uv.get(P)||null,c,d,g,v,E)),!0}return!1}function tG(c){var d=Xr(c.target);if(d!==null){var g=U(d);if(g!==null){if(d=g.tag,d===13){if(d=Z(g),d!==null){c.blockedOn=d,kt(c.priority,function(){if(g.tag===13){var v=Lo(),E=Iu(g,v);E!==null&&Ji(E,g,v),aP(g,v)}});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function qw(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=uP(c.nativeEvent);if(g===null){g=c.nativeEvent;var v=new g.constructor(g.type,g);Lr=v,g.target.dispatchEvent(v),Lr=null}else return d=Lt(g),d!==null&&Zj(d),c.blockedOn=g,!1;d.shift()}return!0}function nG(c,d,g){qw(c)&&g.delete(d)}function Due(){dP=!1,qu!==null&&qw(qu)&&(qu=null),Ku!==null&&qw(Ku)&&(Ku=null),Yu!==null&&qw(Yu)&&(Yu=null),lv.forEach(nG),uv.forEach(nG)}function Kw(c,d){c.blockedOn===d&&(c.blockedOn=null,dP||(dP=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Due)))}var Yw=null;function rG(c){Yw!==c&&(Yw=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yw===c&&(Yw=null);for(var d=0;d<c.length;d+=3){var g=c[d],v=c[d+1],E=c[d+2];if(typeof v!="function"){if(cP(v||g)===null)continue;break}var P=Lt(g);P!==null&&(c.splice(d,3),d-=3,eA(P,{pending:!0,data:E,method:g.method,action:v},v,E))}}))}function dv(c){function d(te){return Kw(te,c)}qu!==null&&Kw(qu,c),Ku!==null&&Kw(Ku,c),Yu!==null&&Kw(Yu,c),lv.forEach(d),uv.forEach(d);for(var g=0;g<Xu.length;g++){var v=Xu[g];v.blockedOn===c&&(v.blockedOn=null)}for(;0<Xu.length&&(g=Xu[0],g.blockedOn===null);)tG(g),g.blockedOn===null&&Xu.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(v=0;v<g.length;v+=3){var E=g[v],P=g[v+1],H=E[Vt]||null;if(typeof P=="function")H||rG(g);else if(H){var W=null;if(P&&P.hasAttribute("formAction")){if(E=P,H=P[Vt]||null)W=H.formAction;else if(cP(E)!==null)continue}else W=H.action;typeof W=="function"?g[v+1]=W:(g.splice(v,3),v-=3),rG(g)}}}function hP(c){this._internalRoot=c}Xw.prototype.render=hP.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var g=d.current,v=Lo();Xj(g,v,c,d,null,null)},Xw.prototype.unmount=hP.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;c.tag===0&&jf(),Xj(c.current,2,null,c,null,null),Iw(),d[br]=null}};function Xw(c){this._internalRoot=c}Xw.prototype.unstable_scheduleHydration=function(c){if(c){var d=Yo();c={blockedOn:null,target:c,priority:d};for(var g=0;g<Xu.length&&d!==0&&d<Xu[g].priority;g++);Xu.splice(g,0,c),g===0&&tG(c)}};var iG=t.version;if(iG!=="19.0.0")throw Error(r(527,iG,"19.0.0"));ee.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Q(d),c=c!==null?J(c):null,c=c===null?null:c.stateNode,c};var Iue={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Xr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qw.isDisabled&&Qw.supportsFiber)try{Gn=Qw.inject(Iue),Gt=Qw}catch{}}return fv.createRoot=function(c,d){if(!i(c))throw Error(r(299));var g=!1,v="",E=w$,P=S$,H=x$,W=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(W=d.unstable_transitionCallbacks)),d=Kj(c,1,!1,null,null,g,v,E,P,H,W,null),c[br]=d.current,YA(c.nodeType===8?c.parentNode:c),new hP(d)},fv.hydrateRoot=function(c,d,g){if(!i(c))throw Error(r(299));var v=!1,E="",P=w$,H=S$,W=x$,te=null,oe=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onUncaughtError!==void 0&&(P=g.onUncaughtError),g.onCaughtError!==void 0&&(H=g.onCaughtError),g.onRecoverableError!==void 0&&(W=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(te=g.unstable_transitionCallbacks),g.formState!==void 0&&(oe=g.formState)),d=Kj(c,1,!0,d,g??null,v,E,P,H,W,te,oe),d.context=Yj(null),g=d.current,v=Lo(),E=Bu(v),E.callback=null,Hu(g,E,v),d.current.lanes=v,xt(d,v),ka(d),c[br]=d.current,YA(c),new Xw(d)},fv.version="19.0.0",fv}var gG;function $ue(){if(gG)return mP.exports;gG=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mP.exports=Hue(),mP.exports}var jue=$ue(),pv={},mG;function Gue(){if(mG)return pv;mG=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.parse=s,pv.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function s(p,m){const b=new o,C=p.length;if(C<2)return b;const y=(m==null?void 0:m.decode)||h;let x=0;do{const R=p.indexOf("=",x);if(R===-1)break;const T=p.indexOf(";",x),M=T===-1?C:T;if(R>M){x=p.lastIndexOf(";",R-1)+1;continue}const A=a(p,x,R),D=l(p,R,A),_=p.slice(A,D);if(b[_]===void 0){let I=a(p,R+1,M),O=l(p,M,I);const F=y(p.slice(I,O));b[_]=F}x=M+1}while(x<C);return b}function a(p,m,b){do{const C=p.charCodeAt(m);if(C!==32&&C!==9)return m}while(++m<b);return b}function l(p,m,b){for(;m>b;){const C=p.charCodeAt(--m);if(C!==32&&C!==9)return m+1}return b}function u(p,m,b){const C=(b==null?void 0:b.encode)||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const y=C(m);if(!t.test(y))throw new TypeError(`argument val is invalid: ${m}`);let x=p+"="+y;if(!b)return x;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);x+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);x+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);x+="; Path="+b.path}if(b.expires){if(!f(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);x+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(x+="; HttpOnly"),b.secure&&(x+="; Secure"),b.partitioned&&(x+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return x}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return i.call(p)==="[object Date]"}return pv}Gue();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vG="popstate";function zue(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return nM("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xy(i)}return Wue(t,n,null,e)}function Zn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ha(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Uue(){return Math.random().toString(36).substring(2,10)}function yG(e,t){return{usr:e.state,key:e.key,idx:t}}function nM(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wg(t):t,state:n,key:t&&t.key||r||Uue()}}function xy({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Wue(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=h();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function h(){return(s.state||{idx:null}).idx}function f(){a="POP";let y=h(),x=y==null?null:y-u;u=y,l&&l({action:a,location:C.location,delta:x})}function p(y,x){a="PUSH";let R=nM(C.location,y,x);u=h()+1;let T=yG(R,u),M=C.createHref(R);try{s.pushState(T,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(M)}o&&l&&l({action:a,location:C.location,delta:1})}function m(y,x){a="REPLACE";let R=nM(C.location,y,x);u=h();let T=yG(R,u),M=C.createHref(R);s.replaceState(T,"",M),o&&l&&l({action:a,location:C.location,delta:0})}function b(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof y=="string"?y:xy(y);return R=R.replace(/ $/,"%20"),Zn(x,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,x)}let C={get action(){return a},get location(){return e(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vG,f),l=y,()=>{i.removeEventListener(vG,f),l=null}},createHref(y){return t(i,y)},createURL:b,encodeLocation(y){let x=b(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(y){return s.go(y)}};return C}function TY(e,t,n="/"){return que(e,t,n,!1)}function que(e,t,n,r){let i=typeof t=="string"?Wg(t):t,o=Lc(i.pathname||"/",n);if(o==null)return null;let s=AY(e);Kue(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=oce(o);a=rce(s[l],u,r)}return a}function AY(e,t=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Zn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Kl([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(Zn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),AY(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:tce(u,o.index),routesMeta:h})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of PY(o.path))i(o,s,l)}),t}function PY(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=PY(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Kue(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nce(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Yue=/^:[\w-]+$/,Xue=3,Que=2,Zue=1,Jue=10,ece=-2,bG=e=>e==="*";function tce(e,t){let n=e.split("/"),r=n.length;return n.some(bG)&&(r+=ece),t&&(r+=Que),n.filter(i=>!bG(i)).reduce((i,o)=>i+(Yue.test(o)?Xue:o===""?Zue:Jue),r)}function nce(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rce(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",f=DS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=DS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Kl([o,f.pathname]),pathnameBase:uce(Kl([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Kl([o,f.pathnameBase]))}return s}function DS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ice(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},p)=>{if(h==="*"){let b=a[p]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const m=a[p];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function ice(e,t=!1,n=!0){ha(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function oce(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ha(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Lc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sce(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Wg(e):e;return{pathname:n?n.startsWith("/")?n:ace(n,t):t,search:cce(r),hash:dce(i)}}function ace(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function CP(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lce(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function JL(e){let t=lce(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function eN(e,t,n,r=!1){let i;typeof e=="string"?i=Wg(e):(i={...e},Zn(!i.pathname||!i.pathname.includes("?"),CP("?","pathname","search",i)),Zn(!i.pathname||!i.pathname.includes("#"),CP("#","pathname","hash",i)),Zn(!i.search||!i.search.includes("#"),CP("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=sce(i,a),u=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Kl=e=>e.join("/").replace(/\/\/+/g,"/"),uce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cce=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dce=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hce(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var _Y=["POST","PUT","PATCH","DELETE"];new Set(_Y);var fce=["GET",..._Y];new Set(fce);var qg=w.createContext(null);qg.displayName="DataRouter";var ME=w.createContext(null);ME.displayName="DataRouterState";var OY=w.createContext({isTransitioning:!1});OY.displayName="ViewTransition";var pce=w.createContext(new Map);pce.displayName="Fetchers";var gce=w.createContext(null);gce.displayName="Await";var va=w.createContext(null);va.displayName="Navigation";var Xb=w.createContext(null);Xb.displayName="Location";var ll=w.createContext({outlet:null,matches:[],isDataRoute:!1});ll.displayName="Route";var tN=w.createContext(null);tN.displayName="RouteError";function mce(e,{relative:t}={}){Zn(Kg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(va),{hash:i,pathname:o,search:s}=Qb(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:Kl([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Kg(){return w.useContext(Xb)!=null}function Zc(){return Zn(Kg(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Xb).location}var DY="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IY(e){w.useContext(va).static||w.useLayoutEffect(e)}function qh(){let{isDataRoute:e}=w.useContext(ll);return e?_ce():vce()}function vce(){Zn(Kg(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(qg),{basename:t,navigator:n}=w.useContext(va),{matches:r}=w.useContext(ll),{pathname:i}=Zc(),o=JSON.stringify(JL(r)),s=w.useRef(!1);return IY(()=>{s.current=!0}),w.useCallback((l,u={})=>{if(ha(s.current,DY),!s.current)return;if(typeof l=="number"){n.go(l);return}let h=eN(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Kl([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}w.createContext(null);function Qb(e,{relative:t}={}){let{matches:n}=w.useContext(ll),{pathname:r}=Zc(),i=JSON.stringify(JL(n));return w.useMemo(()=>eN(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function yce(e,t){return MY(e,t)}function MY(e,t,n,r){var R;Zn(Kg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=w.useContext(va),{matches:s}=w.useContext(ll),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let T=f&&f.path||"";FY(u,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=Zc(),m;if(t){let T=typeof t=="string"?Wg(t):t;Zn(h==="/"||((R=T.pathname)==null?void 0:R.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),m=T}else m=p;let b=m.pathname||"/",C=b;if(h!=="/"){let T=h.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let y=!o&&n&&n.matches&&n.matches.length>0?n.matches:TY(e,{pathname:C});ha(f||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ha(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=xce(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Kl([h,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Kl([h,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return t&&x?w.createElement(Xb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function bce(){let e=Pce(),t=hce(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}var Cce=w.createElement(bce,null),wce=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(ll.Provider,{value:this.props.routeContext},w.createElement(tN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sce({routeContext:e,match:t,children:n}){let r=w.useContext(qg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(ll.Provider,{value:e},n)}function xce(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Zn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:f}=n,p=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,h)=>{let f,p=!1,m=null,b=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||Cce,s&&(a<0&&h===0?(FY("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):a===h&&(p=!0,b=u.route.hydrateFallbackElement||null)));let C=t.concat(i.slice(0,h+1)),y=()=>{let x;return f?x=m:p?x=b:u.route.Component?x=w.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=l,w.createElement(Sce,{match:u,routeContext:{outlet:l,matches:C,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?w.createElement(wce,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:y(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):y()},null)}function nN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ece(e){let t=w.useContext(qg);return Zn(t,nN(e)),t}function Rce(e){let t=w.useContext(ME);return Zn(t,nN(e)),t}function Tce(e){let t=w.useContext(ll);return Zn(t,nN(e)),t}function rN(e){let t=Tce(e),n=t.matches[t.matches.length-1];return Zn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ace(){return rN("useRouteId")}function Pce(){var r;let e=w.useContext(tN),t=Rce("useRouteError"),n=rN("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function _ce(){let{router:e}=Ece("useNavigate"),t=rN("useNavigate"),n=w.useRef(!1);return IY(()=>{n.current=!0}),w.useCallback(async(i,o={})=>{ha(n.current,DY),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var CG={};function FY(e,t,n){!t&&!CG[e]&&(CG[e]=!0,ha(!1,n))}w.memo(Oce);function Oce({routes:e,future:t,state:n}){return MY(e,void 0,n,t)}function e0({to:e,replace:t,state:n,relative:r}){Zn(Kg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(va);ha(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(ll),{pathname:s}=Zc(),a=qh(),l=eN(e,JL(o),s,r==="path"),u=JSON.stringify(l);return w.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function $r(e){Zn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dce({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Zn(!Kg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Wg(n));let{pathname:l="/",search:u="",hash:h="",state:f=null,key:p="default"}=n,m=w.useMemo(()=>{let b=Lc(l,s);return b==null?null:{location:{pathname:b,search:u,hash:h,state:f,key:p},navigationType:r}},[s,l,u,h,f,p,r]);return ha(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:w.createElement(va.Provider,{value:a},w.createElement(Xb.Provider,{children:t,value:m}))}function wG({children:e,location:t}){return yce(rM(e),t)}function rM(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let o=[...t,i];if(r.type===w.Fragment){n.push.apply(n,rM(r.props.children,o));return}Zn(r.type===$r,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=rM(r.props.children,o)),n.push(s)}),n}var K0="get",Y0="application/x-www-form-urlencoded";function FE(e){return e!=null&&typeof e.tagName=="string"}function Ice(e){return FE(e)&&e.tagName.toLowerCase()==="button"}function Mce(e){return FE(e)&&e.tagName.toLowerCase()==="form"}function Fce(e){return FE(e)&&e.tagName.toLowerCase()==="input"}function kce(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Lce(e,t){return e.button===0&&(!t||t==="_self")&&!kce(e)}var t0=null;function Nce(){if(t0===null)try{new FormData(document.createElement("form"),0),t0=!1}catch{t0=!0}return t0}var Vce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wP(e){return e!=null&&!Vce.has(e)?(ha(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Y0}"`),null):e}function Bce(e,t){let n,r,i,o,s;if(Mce(e)){let a=e.getAttribute("action");r=a?Lc(a,t):null,n=e.getAttribute("method")||K0,i=wP(e.getAttribute("enctype"))||Y0,o=new FormData(e)}else if(Ice(e)||Fce(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Lc(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||K0,i=wP(e.getAttribute("formenctype"))||wP(a.getAttribute("enctype"))||Y0,o=new FormData(a,e),!Nce()){let{name:u,type:h,value:f}=e;if(h==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,f)}}else{if(FE(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=K0,r=null,i=Y0,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function iN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Hce(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $ce(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function jce(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await Hce(o,n);return s.links?s.links():[]}return[]}));return Wce(r.flat(1).filter($ce).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function SG(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var h;return n[u].pathname!==l.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{var f;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Gce(e,t,{includeHydrateFallback:n}={}){return zce(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function zce(e){return[...new Set(e)]}function Uce(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Wce(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(Uce(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function qce(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Kce(){let e=w.useContext(qg);return iN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Yce(){let e=w.useContext(ME);return iN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var oN=w.createContext(void 0);oN.displayName="FrameworkContext";function kY(){let e=w.useContext(oN);return iN(e,"You must render this element inside a <HydratedRouter> element"),e}function Xce(e,t){let n=w.useContext(oN),[r,i]=w.useState(!1),[o,s]=w.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,p=w.useRef(null);w.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let C=x=>{x.forEach(R=>{s(R.isIntersecting)})},y=new IntersectionObserver(C,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[e]),w.useEffect(()=>{if(r){let C=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(C)}}},[r]);let m=()=>{i(!0)},b=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:gv(a,m),onBlur:gv(l,b),onMouseEnter:gv(u,m),onMouseLeave:gv(h,b),onTouchStart:gv(f,m)}]:[!1,p,{}]}function gv(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Qce({page:e,...t}){let{router:n}=Kce(),r=w.useMemo(()=>TY(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(Jce,{page:e,matches:r,...t}):null}function Zce(e){let{manifest:t,routeModules:n}=kY(),[r,i]=w.useState([]);return w.useEffect(()=>{let o=!1;return jce(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function Jce({page:e,matches:t,...n}){let r=Zc(),{manifest:i,routeModules:o}=kY(),{loaderData:s,matches:a}=Yce(),l=w.useMemo(()=>SG(e,t,a,i,r,"data"),[e,t,a,i,r]),u=w.useMemo(()=>SG(e,t,a,i,r,"assets"),[e,t,a,i,r]),h=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let m=new Set,b=!1;if(t.forEach(y=>{var R;let x=i.routes[y.route.id];!x||!x.hasLoader||(!l.some(T=>T.route.id===y.route.id)&&y.route.id in s&&((R=o[y.route.id])!=null&&R.shouldRevalidate)||x.hasClientLoader?b=!0:m.add(y.route.id))}),m.size===0)return[];let C=qce(e);return b&&m.size>0&&C.searchParams.set("_routes",t.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[C.pathname+C.search]},[s,r,i,l,t,e,o]),f=w.useMemo(()=>Gce(u,i),[u,i]),p=Zce(u);return w.createElement(w.Fragment,null,h.map(m=>w.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>w.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:b})=>w.createElement("link",{key:m,...b})))}function ede(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var LY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LY&&(window.__reactRouterVersion="7.2.0")}catch{}function tde({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=zue({window:n,v5Compat:!0}));let i=r.current,[o,s]=w.useState({action:i.action,location:i.location}),a=w.useCallback(l=>{w.startTransition(()=>s(l))},[s]);return w.useLayoutEffect(()=>i.listen(a),[i,a]),w.createElement(Dce,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var NY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VY=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f,...p},m){let{basename:b}=w.useContext(va),C=typeof u=="string"&&NY.test(u),y,x=!1;if(typeof u=="string"&&C&&(y=u,LY))try{let O=new URL(window.location.href),F=u.startsWith("//")?new URL(O.protocol+u):new URL(u),L=Lc(F.pathname,b);F.origin===O.origin&&L!=null?u=L+F.search+F.hash:x=!0}catch{ha(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=mce(u,{relative:i}),[T,M,A]=Xce(r,p),D=ide(u,{replace:s,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function _(O){t&&t(O),O.defaultPrevented||D(O)}let I=w.createElement("a",{...p,...A,href:y||R,onClick:x||o?t:_,ref:ede(m,M),target:l,"data-discover":!C&&n==="render"?"true":void 0});return T&&!C?w.createElement(w.Fragment,null,I,w.createElement(Qce,{page:R})):I});VY.displayName="Link";var sN=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},h){let f=Qb(s,{relative:u.relative}),p=Zc(),m=w.useContext(ME),{navigator:b,basename:C}=w.useContext(va),y=m!=null&&ude(f)&&a===!0,x=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,R=p.pathname,T=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(R=R.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&C&&(T=Lc(T,C)||T);const M=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let A=R===x||!i&&R.startsWith(x)&&R.charAt(M)==="/",D=T!=null&&(T===x||!i&&T.startsWith(x)&&T.charAt(x.length)==="/"),_={isActive:A,isPending:D,isTransitioning:y},I=A?t:void 0,O;typeof r=="function"?O=r(_):O=[r,A?"active":null,D?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(_):o;return w.createElement(VY,{...u,"aria-current":I,className:O,ref:h,style:F,to:s,viewTransition:a},typeof l=="function"?l(_):l)});sN.displayName="NavLink";var nde=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=K0,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:f,...p},m)=>{let b=ade(),C=lde(a,{relative:u}),y=s.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&NY.test(a),R=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,A=(M==null?void 0:M.getAttribute("formmethod"))||s;b(M||T.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:i,state:o,relative:u,preventScrollReset:h,viewTransition:f})};return w.createElement("form",{ref:m,method:y,action:C,onSubmit:r?l:R,...p,"data-discover":!x&&e==="render"?"true":void 0})});nde.displayName="Form";function rde(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BY(e){let t=w.useContext(qg);return Zn(t,rde(e)),t}function ide(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=qh(),l=Zc(),u=Qb(e,{relative:o});return w.useCallback(h=>{if(Lce(h,t)){h.preventDefault();let f=n!==void 0?n:xy(l)===xy(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,t,e,i,o,s])}var ode=0,sde=()=>`__${String(++ode)}__`;function ade(){let{router:e}=BY("useSubmit"),{basename:t}=w.useContext(va),n=Ace();return w.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=Bce(r,t);if(i.navigate===!1){let h=i.fetcherKey||sde();await e.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function lde(e,{relative:t}={}){let{basename:n}=w.useContext(va),r=w.useContext(ll);Zn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Qb(e||".",{relative:t})},s=Zc();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();o.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Kl([n,o.pathname])),xy(o)}function ude(e,t={}){let n=w.useContext(OY);Zn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BY("useViewTransitionState"),i=Qb(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Lc(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Lc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return DS(i.pathname,s)!=null||DS(i.pathname,o)!=null}new TextEncoder;var Zb=RY();const IS=Sn(Zb),cde=EY({__proto__:null,default:IS},[Zb]);var Yg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_h=typeof window>"u"||"Deno"in globalThis;function bs(){}function dde(e,t){return typeof e=="function"?e(t):e}function iM(e){return typeof e=="number"&&e>=0&&e!==1/0}function HY(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ep(e,t){return typeof e=="function"?e(t):e}function na(e,t){return typeof e=="function"?e(t):e}function xG(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==aN(s,t.options))return!1}else if(!Ey(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function EG(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Oh(t.options.mutationKey)!==Oh(o))return!1}else if(!Ey(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function aN(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oh)(e)}function Oh(e){return JSON.stringify(e,(t,n)=>oM(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ey(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ey(e[n],t[n])):!1}function $Y(e,t){if(e===t)return e;const n=RG(e)&&RG(t);if(n||oM(e)&&oM(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const h=n?u:o[u];(!n&&r.includes(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,l++):(a[h]=$Y(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&l++)}return i===s&&l===i?e:a}return t}function MS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function RG(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function oM(e){if(!TG(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!TG(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function TG(e){return Object.prototype.toString.call(e)==="[object Object]"}function hde(e){return new Promise(t=>{setTimeout(t,e)})}function sM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$Y(e,t):t}function fde(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function pde(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var lN=Symbol();function jY(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ah,mc,$p,dY,gde=(dY=class extends Yg{constructor(){super();ot(this,ah);ot(this,mc);ot(this,$p);je(this,$p,t=>{if(!_h&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){re(this,mc)||this.setEventListener(re(this,$p))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,mc))==null||t.call(this),je(this,mc,void 0))}setEventListener(t){var n;je(this,$p,t),(n=re(this,mc))==null||n.call(this),je(this,mc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){re(this,ah)!==t&&(je(this,ah,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof re(this,ah)=="boolean"?re(this,ah):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ah=new WeakMap,mc=new WeakMap,$p=new WeakMap,dY),uN=new gde,jp,vc,Gp,hY,mde=(hY=class extends Yg{constructor(){super();ot(this,jp,!0);ot(this,vc);ot(this,Gp);je(this,Gp,t=>{if(!_h&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){re(this,vc)||this.setEventListener(re(this,Gp))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,vc))==null||t.call(this),je(this,vc,void 0))}setEventListener(t){var n;je(this,Gp,t),(n=re(this,vc))==null||n.call(this),je(this,vc,t(this.setOnline.bind(this)))}setOnline(t){re(this,jp)!==t&&(je(this,jp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return re(this,jp)}},jp=new WeakMap,vc=new WeakMap,Gp=new WeakMap,hY),FS=new mde;function aM(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function vde(e){return Math.min(1e3*2**e,3e4)}function GY(e){return(e??"online")==="online"?FS.isOnline():!0}var zY=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function SP(e){return e instanceof zY}function UY(e){let t=!1,n=0,r=!1,i;const o=aM(),s=C=>{var y;r||(p(new zY(C)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>uN.isFocused()&&(e.networkMode==="always"||FS.isOnline())&&e.canRun(),h=()=>GY(e.networkMode)&&e.canRun(),f=C=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,C),i==null||i(),o.resolve(C))},p=C=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,C),i==null||i(),o.reject(C))},m=()=>new Promise(C=>{var y;i=x=>{(r||u())&&C(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var C;i=void 0,r||(C=e.onContinue)==null||C.call(e)}),b=()=>{if(r)return;let C;const y=n===0?e.initialPromise:void 0;try{C=y??e.fn()}catch(x){C=Promise.reject(x)}Promise.resolve(C).then(f).catch(x=>{var D;if(r)return;const R=e.retry??(_h?0:3),T=e.retryDelay??vde,M=typeof T=="function"?T(n,x):T,A=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,x);if(t||!A){p(x);return}n++,(D=e.onFail)==null||D.call(e,n,x),hde(M).then(()=>u()?void 0:m()).then(()=>{t?p(x):b()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?b():m().then(b),o)}}function yde(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{t?e.push(a):i(()=>{n(a)})},s=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Gr=yde(),lh,fY,WY=(fY=class{constructor(){ot(this,lh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iM(this.gcTime)&&je(this,lh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_h?1/0:5*60*1e3))}clearGcTimeout(){re(this,lh)&&(clearTimeout(re(this,lh)),je(this,lh,void 0))}},lh=new WeakMap,fY),zp,Up,ys,uh,Li,Wb,ch,Js,Nl,pY,bde=(pY=class extends WY{constructor(n){super();ot(this,Js);ot(this,zp);ot(this,Up);ot(this,ys);ot(this,uh);ot(this,Li);ot(this,Wb);ot(this,ch);je(this,ch,!1),je(this,Wb,n.defaultOptions),this.setOptions(n.options),this.observers=[],je(this,uh,n.client),je(this,ys,re(this,uh).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,je(this,zp,Cde(this.options)),this.state=n.state??re(this,zp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=re(this,Li))==null?void 0:n.promise}setOptions(n){this.options={...re(this,Wb),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,ys).remove(this)}setData(n,r){const i=sM(this.state.data,n,this.options);return Et(this,Js,Nl).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Et(this,Js,Nl).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=re(this,Li))==null?void 0:i.promise;return(o=re(this,Li))==null||o.cancel(n),r?r.then(bs).catch(bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,zp))}isActive(){return this.observers.some(n=>na(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!HY(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=re(this,Li))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=re(this,Li))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),re(this,ys).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(re(this,Li)&&(re(this,ch)?re(this,Li).cancel({revert:!0}):re(this,Li).cancelRetry()),this.scheduleGc()),re(this,ys).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Et(this,Js,Nl).call(this,{type:"invalidate"})}fetch(n,r){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(re(this,Li))return re(this,Li).continueRetry(),re(this,Li).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,o=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(je(this,ch,!0),i.signal)})},s=()=>{const p=jY(this.options,r),m={client:re(this,uh),queryKey:this.queryKey,meta:this.meta};return o(m),je(this,ch,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:re(this,uh),state:this.state,fetchFn:s};o(a),(u=this.options.behavior)==null||u.onFetch(a,this),je(this,Up,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Et(this,Js,Nl).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var m,b,C,y;SP(p)&&p.silent||Et(this,Js,Nl).call(this,{type:"error",error:p}),SP(p)||((b=(m=re(this,ys).config).onError)==null||b.call(m,p,this),(y=(C=re(this,ys).config).onSettled)==null||y.call(C,this.state.data,p,this)),this.scheduleGc()};return je(this,Li,UY({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var m,b,C,y;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){l(x);return}(b=(m=re(this,ys).config).onSuccess)==null||b.call(m,p,this),(y=(C=re(this,ys).config).onSettled)==null||y.call(C,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{Et(this,Js,Nl).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Et(this,Js,Nl).call(this,{type:"pause"})},onContinue:()=>{Et(this,Js,Nl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),re(this,Li).start()}},zp=new WeakMap,Up=new WeakMap,ys=new WeakMap,uh=new WeakMap,Li=new WeakMap,Wb=new WeakMap,ch=new WeakMap,Js=new WeakSet,Nl=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...qY(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return SP(o)&&o.revert&&re(this,Up)?{...re(this,Up),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Gr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),re(this,ys).notify({query:this,type:"updated",action:n})})},pY);function qY(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GY(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Cde(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $a,gY,wde=(gY=class extends Yg{constructor(t={}){super();ot(this,$a);this.config=t,je(this,$a,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??aN(i,n);let s=this.get(o);return s||(s=new bde({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){re(this,$a).has(t.queryHash)||(re(this,$a).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=re(this,$a).get(t.queryHash);n&&(t.destroy(),n===t&&re(this,$a).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return re(this,$a).get(t)}getAll(){return[...re(this,$a).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xG(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>xG(t,r)):n}notify(t){Gr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$a=new WeakMap,gY),ja,to,dh,Ga,rc,mY,Sde=(mY=class extends WY{constructor(n){super();ot(this,Ga);ot(this,ja);ot(this,to);ot(this,dh);this.mutationId=n.mutationId,je(this,to,n.mutationCache),je(this,ja,[]),this.state=n.state||KY(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){re(this,ja).includes(n)||(re(this,ja).push(n),this.clearGcTimeout(),re(this,to).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){je(this,ja,re(this,ja).filter(r=>r!==n)),this.scheduleGc(),re(this,to).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){re(this,ja).length||(this.state.status==="pending"?this.scheduleGc():re(this,to).remove(this))}continue(){var n;return((n=re(this,dh))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,s,a,l,u,h,f,p,m,b,C,y,x,R,T,M,A,D,_,I;je(this,dh,UY({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(O,F)=>{Et(this,Ga,rc).call(this,{type:"failed",failureCount:O,error:F})},onPause:()=>{Et(this,Ga,rc).call(this,{type:"pause"})},onContinue:()=>{Et(this,Ga,rc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,to).canRun(this)}));const r=this.state.status==="pending",i=!re(this,dh).canStart();try{if(!r){Et(this,Ga,rc).call(this,{type:"pending",variables:n,isPaused:i}),await((s=(o=re(this,to).config).onMutate)==null?void 0:s.call(o,n,this));const F=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));F!==this.state.context&&Et(this,Ga,rc).call(this,{type:"pending",context:F,variables:n,isPaused:i})}const O=await re(this,dh).start();return await((h=(u=re(this,to).config).onSuccess)==null?void 0:h.call(u,O,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,O,n,this.state.context)),await((b=(m=re(this,to).config).onSettled)==null?void 0:b.call(m,O,null,this.state.variables,this.state.context,this)),await((y=(C=this.options).onSettled)==null?void 0:y.call(C,O,null,n,this.state.context)),Et(this,Ga,rc).call(this,{type:"success",data:O}),O}catch(O){try{throw await((R=(x=re(this,to).config).onError)==null?void 0:R.call(x,O,n,this.state.context,this)),await((M=(T=this.options).onError)==null?void 0:M.call(T,O,n,this.state.context)),await((D=(A=re(this,to).config).onSettled)==null?void 0:D.call(A,void 0,O,this.state.variables,this.state.context,this)),await((I=(_=this.options).onSettled)==null?void 0:I.call(_,void 0,O,n,this.state.context)),O}finally{Et(this,Ga,rc).call(this,{type:"error",error:O})}}finally{re(this,to).runNext(this)}}},ja=new WeakMap,to=new WeakMap,dh=new WeakMap,Ga=new WeakSet,rc=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gr.batch(()=>{re(this,ja).forEach(i=>{i.onMutationUpdate(n)}),re(this,to).notify({mutation:this,type:"updated",action:n})})},mY);function KY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hl,ea,qb,vY,xde=(vY=class extends Yg{constructor(t={}){super();ot(this,Hl);ot(this,ea);ot(this,qb);this.config=t,je(this,Hl,new Set),je(this,ea,new Map),je(this,qb,0)}build(t,n,r){const i=new Sde({mutationCache:this,mutationId:++Zw(this,qb)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){re(this,Hl).add(t);const n=n0(t);if(typeof n=="string"){const r=re(this,ea).get(n);r?r.push(t):re(this,ea).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(re(this,Hl).delete(t)){const n=n0(t);if(typeof n=="string"){const r=re(this,ea).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&re(this,ea).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=n0(t);if(typeof n=="string"){const r=re(this,ea).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=n0(t);if(typeof n=="string"){const i=(r=re(this,ea).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Gr.batch(()=>{re(this,Hl).forEach(t=>{this.notify({type:"removed",mutation:t})}),re(this,Hl).clear(),re(this,ea).clear()})}getAll(){return Array.from(re(this,Hl))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>EG(n,r))}findAll(t={}){return this.getAll().filter(n=>EG(t,n))}notify(t){Gr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Gr.batch(()=>Promise.all(t.map(n=>n.continue().catch(bs))))}},Hl=new WeakMap,ea=new WeakMap,qb=new WeakMap,vY);function n0(e){var t;return(t=e.options.scope)==null?void 0:t.id}function AG(e){return{onFetch:(t,n)=>{var h,f,p,m,b;const r=t.options,i=(p=(f=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],s=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let C=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},x=jY(t.options,t.fetchOptions),R=async(T,M,A)=>{if(C)return Promise.reject();if(M==null&&T.pages.length)return Promise.resolve(T);const D={client:t.client,queryKey:t.queryKey,pageParam:M,direction:A?"backward":"forward",meta:t.options.meta};y(D);const _=await x(D),{maxPages:I}=t.options,O=A?pde:fde;return{pages:O(T.pages,_,I),pageParams:O(T.pageParams,M,I)}};if(i&&o.length){const T=i==="backward",M=T?Ede:PG,A={pages:o,pageParams:s},D=M(r,A);a=await R(A,D,T)}else{const T=e??o.length;do{const M=l===0?s[0]??r.initialPageParam:PG(r,a);if(l>0&&M==null)break;a=await R(a,M),l++}while(l<T)}return a};t.options.persister?t.fetchFn=()=>{var C,y;return(y=(C=t.options).persister)==null?void 0:y.call(C,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function PG(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Ede(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var pr,yc,bc,Wp,qp,Cc,Kp,Yp,yY,Rde=(yY=class{constructor(e={}){ot(this,pr);ot(this,yc);ot(this,bc);ot(this,Wp);ot(this,qp);ot(this,Cc);ot(this,Kp);ot(this,Yp);je(this,pr,e.queryCache||new wde),je(this,yc,e.mutationCache||new xde),je(this,bc,e.defaultOptions||{}),je(this,Wp,new Map),je(this,qp,new Map),je(this,Cc,0)}mount(){Zw(this,Cc)._++,re(this,Cc)===1&&(je(this,Kp,uN.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,pr).onFocus())})),je(this,Yp,FS.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,pr).onOnline())})))}unmount(){var e,t;Zw(this,Cc)._--,re(this,Cc)===0&&((e=re(this,Kp))==null||e.call(this),je(this,Kp,void 0),(t=re(this,Yp))==null||t.call(this),je(this,Yp,void 0))}isFetching(e){return re(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,yc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=re(this,pr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=re(this,pr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ep(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return re(this,pr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=re(this,pr).get(r.queryHash),o=i==null?void 0:i.state.data,s=dde(t,o);if(s!==void 0)return re(this,pr).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Gr.batch(()=>re(this,pr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=re(this,pr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=re(this,pr);Gr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=re(this,pr);return Gr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Gr.batch(()=>re(this,pr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(bs).catch(bs)}invalidateQueries(e,t={}){return Gr.batch(()=>(re(this,pr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Gr.batch(()=>re(this,pr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(bs)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(bs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=re(this,pr).build(this,t);return n.isStaleByTime(Ep(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bs).catch(bs)}fetchInfiniteQuery(e){return e.behavior=AG(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bs).catch(bs)}ensureInfiniteQueryData(e){return e.behavior=AG(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return FS.isOnline()?re(this,yc).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,pr)}getMutationCache(){return re(this,yc)}getDefaultOptions(){return re(this,bc)}setDefaultOptions(e){je(this,bc,e)}setQueryDefaults(e,t){re(this,Wp).set(Oh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...re(this,Wp).values()],n={};return t.forEach(r=>{Ey(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){re(this,qp).set(Oh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...re(this,qp).values()],n={};return t.forEach(r=>{Ey(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...re(this,bc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=aN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,bc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,pr).clear(),re(this,yc).clear()}},pr=new WeakMap,yc=new WeakMap,bc=new WeakMap,Wp=new WeakMap,qp=new WeakMap,Cc=new WeakMap,Kp=new WeakMap,Yp=new WeakMap,yY),mo,Ut,Kb,no,hh,Xp,wc,za,Yb,Qp,Zp,fh,ph,Sc,Jp,Cn,Iv,lM,uM,cM,dM,hM,fM,pM,YY,bY,Tde=(bY=class extends Yg{constructor(t,n){super();ot(this,Cn);ot(this,mo);ot(this,Ut);ot(this,Kb);ot(this,no);ot(this,hh);ot(this,Xp);ot(this,wc);ot(this,za);ot(this,Yb);ot(this,Qp);ot(this,Zp);ot(this,fh);ot(this,ph);ot(this,Sc);ot(this,Jp,new Set);this.options=n,je(this,mo,t),je(this,za,null),je(this,wc,aM()),this.options.experimental_prefetchInRender||re(this,wc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(re(this,Ut).addObserver(this),_G(re(this,Ut),this.options)?Et(this,Cn,Iv).call(this):this.updateResult(),Et(this,Cn,dM).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gM(re(this,Ut),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gM(re(this,Ut),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Et(this,Cn,hM).call(this),Et(this,Cn,fM).call(this),re(this,Ut).removeObserver(this)}setOptions(t,n){const r=this.options,i=re(this,Ut);if(this.options=re(this,mo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof na(this.options.enabled,re(this,Ut))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Et(this,Cn,pM).call(this),re(this,Ut).setOptions(this.options),r._defaulted&&!MS(this.options,r)&&re(this,mo).getQueryCache().notify({type:"observerOptionsUpdated",query:re(this,Ut),observer:this});const o=this.hasListeners();o&&OG(re(this,Ut),i,this.options,r)&&Et(this,Cn,Iv).call(this),this.updateResult(n),o&&(re(this,Ut)!==i||na(this.options.enabled,re(this,Ut))!==na(r.enabled,re(this,Ut))||Ep(this.options.staleTime,re(this,Ut))!==Ep(r.staleTime,re(this,Ut)))&&Et(this,Cn,lM).call(this);const s=Et(this,Cn,uM).call(this);o&&(re(this,Ut)!==i||na(this.options.enabled,re(this,Ut))!==na(r.enabled,re(this,Ut))||s!==re(this,Sc))&&Et(this,Cn,cM).call(this,s)}getOptimisticResult(t){const n=re(this,mo).getQueryCache().build(re(this,mo),t),r=this.createResult(n,t);return Pde(this,r)&&(je(this,no,r),je(this,Xp,this.options),je(this,hh,re(this,Ut).state)),r}getCurrentResult(){return re(this,no)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){re(this,Jp).add(t)}getCurrentQuery(){return re(this,Ut)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=re(this,mo).defaultQueryOptions(t),r=re(this,mo).getQueryCache().build(re(this,mo),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Et(this,Cn,Iv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),re(this,no)))}createResult(t,n){var I;const r=re(this,Ut),i=this.options,o=re(this,no),s=re(this,hh),a=re(this,Xp),u=t!==r?t.state:re(this,Kb),{state:h}=t;let f={...h},p=!1,m;if(n._optimisticResults){const O=this.hasListeners(),F=!O&&_G(t,n),L=O&&OG(t,r,n,i);(F||L)&&(f={...f,...qY(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:C,status:y}=f;if(n.select&&f.data!==void 0)if(o&&f.data===(s==null?void 0:s.data)&&n.select===re(this,Yb))m=re(this,Qp);else try{je(this,Yb,n.select),m=n.select(f.data),m=sM(o==null?void 0:o.data,m,n),je(this,Qp,m),je(this,za,null)}catch(O){je(this,za,O)}else m=f.data;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let O;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))O=o.data;else if(O=typeof n.placeholderData=="function"?n.placeholderData((I=re(this,Zp))==null?void 0:I.state.data,re(this,Zp)):n.placeholderData,n.select&&O!==void 0)try{O=n.select(O),je(this,za,null)}catch(F){je(this,za,F)}O!==void 0&&(y="success",m=sM(o==null?void 0:o.data,O,n),p=!0)}re(this,za)&&(b=re(this,za),m=re(this,Qp),C=Date.now(),y="error");const x=f.fetchStatus==="fetching",R=y==="pending",T=y==="error",M=R&&x,A=m!==void 0,_={status:y,fetchStatus:f.fetchStatus,isPending:R,isSuccess:y==="success",isError:T,isInitialLoading:M,isLoading:M,data:m,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:C,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!R,isLoadingError:T&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&A,isStale:cN(t,n),refetch:this.refetch,promise:re(this,wc)};if(this.options.experimental_prefetchInRender){const O=V=>{_.status==="error"?V.reject(_.error):_.data!==void 0&&V.resolve(_.data)},F=()=>{const V=je(this,wc,_.promise=aM());O(V)},L=re(this,wc);switch(L.status){case"pending":t.queryHash===r.queryHash&&O(L);break;case"fulfilled":(_.status==="error"||_.data!==L.value)&&F();break;case"rejected":(_.status!=="error"||_.error!==L.reason)&&F();break}}return _}updateResult(t){const n=re(this,no),r=this.createResult(re(this,Ut),this.options);if(je(this,hh,re(this,Ut).state),je(this,Xp,this.options),re(this,hh).data!==void 0&&je(this,Zp,re(this,Ut)),MS(r,n))return;je(this,no,r);const i={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!re(this,Jp).size)return!0;const l=new Set(a??re(this,Jp));return this.options.throwOnError&&l.add("error"),Object.keys(re(this,no)).some(u=>{const h=u;return re(this,no)[h]!==n[h]&&l.has(h)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),Et(this,Cn,YY).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Et(this,Cn,dM).call(this)}},mo=new WeakMap,Ut=new WeakMap,Kb=new WeakMap,no=new WeakMap,hh=new WeakMap,Xp=new WeakMap,wc=new WeakMap,za=new WeakMap,Yb=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,fh=new WeakMap,ph=new WeakMap,Sc=new WeakMap,Jp=new WeakMap,Cn=new WeakSet,Iv=function(t){Et(this,Cn,pM).call(this);let n=re(this,Ut).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(bs)),n},lM=function(){Et(this,Cn,hM).call(this);const t=Ep(this.options.staleTime,re(this,Ut));if(_h||re(this,no).isStale||!iM(t))return;const r=HY(re(this,no).dataUpdatedAt,t)+1;je(this,fh,setTimeout(()=>{re(this,no).isStale||this.updateResult()},r))},uM=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(re(this,Ut)):this.options.refetchInterval)??!1},cM=function(t){Et(this,Cn,fM).call(this),je(this,Sc,t),!(_h||na(this.options.enabled,re(this,Ut))===!1||!iM(re(this,Sc))||re(this,Sc)===0)&&je(this,ph,setInterval(()=>{(this.options.refetchIntervalInBackground||uN.isFocused())&&Et(this,Cn,Iv).call(this)},re(this,Sc)))},dM=function(){Et(this,Cn,lM).call(this),Et(this,Cn,cM).call(this,Et(this,Cn,uM).call(this))},hM=function(){re(this,fh)&&(clearTimeout(re(this,fh)),je(this,fh,void 0))},fM=function(){re(this,ph)&&(clearInterval(re(this,ph)),je(this,ph,void 0))},pM=function(){const t=re(this,mo).getQueryCache().build(re(this,mo),this.options);if(t===re(this,Ut))return;const n=re(this,Ut);je(this,Ut,t),je(this,Kb,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},YY=function(t){Gr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(re(this,no))}),re(this,mo).getQueryCache().notify({query:re(this,Ut),type:"observerResultsUpdated"})})},bY);function Ade(e,t){return na(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _G(e,t){return Ade(e,t)||e.state.data!==void 0&&gM(e,t,t.refetchOnMount)}function gM(e,t,n){if(na(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&cN(e,t)}return!1}function OG(e,t,n,r){return(e!==t||na(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&cN(e,n)}function cN(e,t){return na(t.enabled,e)!==!1&&e.isStaleByTime(Ep(t.staleTime,e))}function Pde(e,t){return!MS(e.getCurrentResult(),t)}var xc,Ec,vo,$l,au,X0,mM,CY,_de=(CY=class extends Yg{constructor(n,r){super();ot(this,au);ot(this,xc);ot(this,Ec);ot(this,vo);ot(this,$l);je(this,xc,n),this.setOptions(r),this.bindMethods(),Et(this,au,X0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=re(this,xc).defaultMutationOptions(n),MS(this.options,r)||re(this,xc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:re(this,vo),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Oh(r.mutationKey)!==Oh(this.options.mutationKey)?this.reset():((i=re(this,vo))==null?void 0:i.state.status)==="pending"&&re(this,vo).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=re(this,vo))==null||n.removeObserver(this)}onMutationUpdate(n){Et(this,au,X0).call(this),Et(this,au,mM).call(this,n)}getCurrentResult(){return re(this,Ec)}reset(){var n;(n=re(this,vo))==null||n.removeObserver(this),je(this,vo,void 0),Et(this,au,X0).call(this),Et(this,au,mM).call(this)}mutate(n,r){var i;return je(this,$l,r),(i=re(this,vo))==null||i.removeObserver(this),je(this,vo,re(this,xc).getMutationCache().build(re(this,xc),this.options)),re(this,vo).addObserver(this),re(this,vo).execute(n)}},xc=new WeakMap,Ec=new WeakMap,vo=new WeakMap,$l=new WeakMap,au=new WeakSet,X0=function(){var r;const n=((r=re(this,vo))==null?void 0:r.state)??KY();je(this,Ec,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},mM=function(n){Gr.batch(()=>{var r,i,o,s,a,l,u,h;if(re(this,$l)&&this.hasListeners()){const f=re(this,Ec).variables,p=re(this,Ec).context;(n==null?void 0:n.type)==="success"?((i=(r=re(this,$l)).onSuccess)==null||i.call(r,n.data,f,p),(s=(o=re(this,$l)).onSettled)==null||s.call(o,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=re(this,$l)).onError)==null||l.call(a,n.error,f,p),(h=(u=re(this,$l)).onSettled)==null||h.call(u,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(re(this,Ec))})})},CY),XY=w.createContext(void 0),dN=e=>{const t=w.useContext(XY);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ode=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),q.jsx(XY.Provider,{value:e,children:t})),QY=w.createContext(!1),Dde=()=>w.useContext(QY);QY.Provider;function Ide(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mde=w.createContext(Ide()),Fde=()=>w.useContext(Mde);function ZY(e,t){return typeof e=="function"?e(...t):!!e}function vM(){}var kde=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Lde=e=>{w.useEffect(()=>{e.clearReset()},[e])},Nde=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||ZY(n,[e.error,r])),Vde=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Bde=(e,t)=>e.isLoading&&e.isFetching&&!t,Hde=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,DG=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function $de(e,t,n){var f,p,m,b,C;const r=dN(),i=Dde(),o=Fde(),s=r.defaultQueryOptions(e);(p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,s),s._optimisticResults=i?"isRestoring":"optimistic",Vde(s),kde(s,o),Lde(o);const a=!r.getQueryCache().get(s.queryHash),[l]=w.useState(()=>new t(r,s)),u=l.getOptimisticResult(s),h=!i&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const x=h?l.subscribe(Gr.batchCalls(y)):vM;return l.updateResult(),x},[l,h]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),w.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),Hde(s,u))throw DG(s,l,o);if(Nde({result:u,errorResetBoundary:o,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((b=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||b.call(m,s,u),s.experimental_prefetchInRender&&!_h&&Bde(u,i)){const y=a?DG(s,l,o):(C=r.getQueryCache().get(s.queryHash))==null?void 0:C.promise;y==null||y.catch(vM).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function jde(e,t){return $de(e,Tde)}function IG(e,t){const n=dN(),[r]=w.useState(()=>new _de(n,e));w.useEffect(()=>{r.setOptions(e)},[r,e]);const i=w.useSyncExternalStore(w.useCallback(s=>r.subscribe(Gr.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=w.useCallback((s,a)=>{r.mutate(s,a).catch(vM)},[r]);if(i.error&&ZY(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}let Gde={data:""},zde=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Gde,Ude=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Wde=/\/\*[^]*?\*\/|  +/g,MG=/\n+/g,uc=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?uc(s,o):o+"{"+uc(s,o[1]=="k"?"":t)+"}":typeof s=="object"?r+=uc(s,t?t.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=uc.p?uc.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},kl={},JY=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+JY(e[n]);return t}return e},qde=(e,t,n,r,i)=>{let o=JY(e),s=kl[o]||(kl[o]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(o));if(!kl[s]){let l=o!==e?e:(u=>{let h,f,p=[{}];for(;h=Ude.exec(u.replace(Wde,""));)h[4]?p.shift():h[3]?(f=h[3].replace(MG," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][h[1]]=h[2].replace(MG," ").trim();return p[0]})(e);kl[s]=uc(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&kl.g?kl.g:null;return n&&(kl.g=kl[s]),((l,u,h,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(kl[s],t,r,a),s},Kde=(e,t,n)=>e.reduce((r,i,o)=>{let s=t[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":uc(a,""):a===!1?"":a}return r+i+(s??"")},"");function kE(e){let t=this||{},n=e.call?e(t.p):e;return qde(n.unshift?n.raw?Kde(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,zde(t.target),t.g,t.o,t.k)}let eX,yM,bM;kE.bind({g:1});let lu=kE.bind({k:1});function Yde(e,t,n,r){uc.p=t,eX=e,yM=n,bM=r}function Jc(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:yM&&yM()},a),n.o=/ *go\d+/.test(l),a.className=kE.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),bM&&u[0]&&bM(a),eX(u,a)}return i}}var Xde=e=>typeof e=="function",kS=(e,t)=>Xde(e)?e(t):e,Qde=(()=>{let e=0;return()=>(++e).toString()})(),tX=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Zde=20,nX=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Zde)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return nX(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Q0=[],Qd={toasts:[],pausedAt:void 0},Kh=e=>{Qd=nX(Qd,e),Q0.forEach(t=>{t(Qd)})},Jde={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ehe=(e={})=>{let[t,n]=w.useState(Qd),r=w.useRef(Qd);w.useEffect(()=>(r.current!==Qd&&n(Qd),Q0.push(n),()=>{let o=Q0.indexOf(n);o>-1&&Q0.splice(o,1)}),[]);let i=t.toasts.map(o=>{var s,a,l;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((s=e[o.type])==null?void 0:s.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((a=e[o.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||Jde[o.type],style:{...e.style,...(l=e[o.type])==null?void 0:l.style,...o.style}}});return{...t,toasts:i}},the=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Qde()}),Jb=e=>(t,n)=>{let r=the(t,e,n);return Kh({type:2,toast:r}),r.id},ai=(e,t)=>Jb("blank")(e,t);ai.error=Jb("error");ai.success=Jb("success");ai.loading=Jb("loading");ai.custom=Jb("custom");ai.dismiss=e=>{Kh({type:3,toastId:e})};ai.remove=e=>Kh({type:4,toastId:e});ai.promise=(e,t,n)=>{let r=ai.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?kS(t.success,i):void 0;return o?ai.success(o,{id:r,...n,...n==null?void 0:n.success}):ai.dismiss(r),i}).catch(i=>{let o=t.error?kS(t.error,i):void 0;o?ai.error(o,{id:r,...n,...n==null?void 0:n.error}):ai.dismiss(r)}),e};var nhe=(e,t)=>{Kh({type:1,toast:{id:e,height:t}})},rhe=()=>{Kh({type:5,time:Date.now()})},Yv=new Map,ihe=1e3,ohe=(e,t=ihe)=>{if(Yv.has(e))return;let n=setTimeout(()=>{Yv.delete(e),Kh({type:4,toastId:e})},t);Yv.set(e,n)},she=e=>{let{toasts:t,pausedAt:n}=ehe(e);w.useEffect(()=>{if(n)return;let o=Date.now(),s=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&ai.dismiss(a.id);return}return setTimeout(()=>ai.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=w.useCallback(()=>{n&&Kh({type:6,time:Date.now()})},[n]),i=w.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=s||{},h=t.filter(m=>(m.position||u)===(o.position||u)&&m.height),f=h.findIndex(m=>m.id===o.id),p=h.filter((m,b)=>b<f&&m.visible).length;return h.filter(m=>m.visible).slice(...a?[p+1]:[0,p]).reduce((m,b)=>m+(b.height||0)+l,0)},[t]);return w.useEffect(()=>{t.forEach(o=>{if(o.dismissed)ohe(o.id,o.removeDelay);else{let s=Yv.get(o.id);s&&(clearTimeout(s),Yv.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:nhe,startPause:rhe,endPause:r,calculateOffset:i}}},ahe=lu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lhe=lu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uhe=lu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,che=Jc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ahe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lhe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uhe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,dhe=lu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hhe=Jc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${dhe} 1s linear infinite;
`,fhe=lu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,phe=lu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ghe=Jc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fhe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${phe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mhe=Jc("div")`
  position: absolute;
`,vhe=Jc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yhe=lu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bhe=Jc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yhe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Che=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement(bhe,null,t):t:n==="blank"?null:w.createElement(vhe,null,w.createElement(hhe,{...r}),n!=="loading"&&w.createElement(mhe,null,n==="error"?w.createElement(che,{...r}):w.createElement(ghe,{...r})))},whe=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,She=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,xhe="0%{opacity:0;} 100%{opacity:1;}",Ehe="0%{opacity:1;} 100%{opacity:0;}",Rhe=Jc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,The=Jc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ahe=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=tX()?[xhe,Ehe]:[whe(n),She(n)];return{animation:t?`${lu(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${lu(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Phe=w.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?Ahe(e.position||t||"top-center",e.visible):{opacity:0},o=w.createElement(Che,{toast:e}),s=w.createElement(The,{...e.ariaProps},kS(e.message,e));return w.createElement(Rhe,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:s}):w.createElement(w.Fragment,null,o,s))});Yde(w.createElement);var _he=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=w.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:o,className:t,style:n},i)},Ohe=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:tX()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},Dhe=kE`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,r0=16,Ihe=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=she(n);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:r0,left:r0,right:r0,bottom:r0,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let h=u.position||t,f=l.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),p=Ohe(h,f);return w.createElement(_he,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?Dhe:"",style:p},u.type==="custom"?kS(u.message,u):i?i(u):w.createElement(Phe,{toast:u,position:h}))}))},vn=ai;const Mhe=()=>{};var FG={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Fhe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},iX={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(p=64)),r.push(n[h],n[f],n[p],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rX(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Fhe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new khe;const p=o<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class khe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lhe=function(e){const t=rX(e);return iX.encodeByteArray(t,!0)},LS=function(e){return Lhe(e).replace(/\./g,"")},oX=function(e){try{return iX.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nhe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vhe=()=>Nhe().__FIREBASE_DEFAULTS__,Bhe=()=>{if(typeof process>"u"||typeof FG>"u")return;const e=FG.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Hhe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&oX(e[1]);return t&&JSON.parse(t)},LE=()=>{try{return Mhe()||Vhe()||Bhe()||Hhe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sX=e=>{var t,n;return(n=(t=LE())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},$he=e=>{const t=sX(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},aX=()=>{var e;return(e=LE())===null||e===void 0?void 0:e.config},lX=e=>{var t;return(t=LE())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jhe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ghe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[LS(JSON.stringify(n)),LS(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zhe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gi())}function Uhe(){var e;const t=(e=LE())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Whe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qhe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Khe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yhe(){const e=Gi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Xhe(){return!Uhe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qhe(){try{return typeof indexedDB=="object"}catch{return!1}}function Zhe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jhe="FirebaseError";class wu extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Jhe,Object.setPrototypeOf(this,wu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eC.prototype.create)}}class eC{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?efe(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wu(i,a,r)}}function efe(e,t){return e.replace(tfe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const tfe=/\{\$([^}]+)}/g;function nfe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Nc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(kG(o)&&kG(s)){if(!Nc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kG(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Mv(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Fv(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function rfe(e,t){const n=new ife(e,t);return n.subscribe.bind(n)}class ife{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ofe(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=xP),i.error===void 0&&(i.error=xP),i.complete===void 0&&(i.complete=xP);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ofe(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function xP(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(e){return e&&e._delegate?e._delegate:e}let Dh=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new jhe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lfe(t))try{this.getOrInitializeService({instanceIdentifier:Gd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Gd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gd){return this.instances.has(t)}getOptions(t=Gd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:afe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gd){return this.component?this.component.multipleInstances?t:Gd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function afe(e){return e===Gd?void 0:e}function lfe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new sfe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ht||(Ht={}));const cfe={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},dfe=Ht.INFO,hfe={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},ffe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=hfe[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hN{constructor(t){this.name=t,this._logLevel=dfe,this._logHandler=ffe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cfe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const pfe=(e,t)=>t.some(n=>e instanceof n);let LG,NG;function gfe(){return LG||(LG=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mfe(){return NG||(NG=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uX=new WeakMap,CM=new WeakMap,cX=new WeakMap,EP=new WeakMap,fN=new WeakMap;function vfe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(_c(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&uX.set(n,e)}).catch(()=>{}),fN.set(t,e),t}function yfe(e){if(CM.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});CM.set(e,t)}let wM={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return CM.get(e);if(t==="objectStoreNames")return e.objectStoreNames||cX.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _c(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function bfe(e){wM=e(wM)}function Cfe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(RP(this),t,...n);return cX.set(r,t.sort?t.sort():[t]),_c(r)}:mfe().includes(e)?function(...t){return e.apply(RP(this),t),_c(uX.get(this))}:function(...t){return _c(e.apply(RP(this),t))}}function wfe(e){return typeof e=="function"?Cfe(e):(e instanceof IDBTransaction&&yfe(e),pfe(e,gfe())?new Proxy(e,wM):e)}function _c(e){if(e instanceof IDBRequest)return vfe(e);if(EP.has(e))return EP.get(e);const t=wfe(e);return t!==e&&(EP.set(e,t),fN.set(t,e)),t}const RP=e=>fN.get(e);function Sfe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=_c(s);return r&&s.addEventListener("upgradeneeded",l=>{r(_c(s.result),l.oldVersion,l.newVersion,_c(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const xfe=["get","getKey","getAll","getAllKeys","count"],Efe=["put","add","delete","clear"],TP=new Map;function VG(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(TP.get(t))return TP.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Efe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xfe.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return TP.set(t,o),o}bfe(e=>({...e,get:(t,n,r)=>VG(t,n)||e.get(t,n,r),has:(t,n)=>!!VG(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rfe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tfe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tfe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const SM="@firebase/app",BG="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new hN("@firebase/app"),Afe="@firebase/app-compat",Pfe="@firebase/analytics-compat",_fe="@firebase/analytics",Ofe="@firebase/app-check-compat",Dfe="@firebase/app-check",Ife="@firebase/auth",Mfe="@firebase/auth-compat",Ffe="@firebase/database",kfe="@firebase/data-connect",Lfe="@firebase/database-compat",Nfe="@firebase/functions",Vfe="@firebase/functions-compat",Bfe="@firebase/installations",Hfe="@firebase/installations-compat",$fe="@firebase/messaging",jfe="@firebase/messaging-compat",Gfe="@firebase/performance",zfe="@firebase/performance-compat",Ufe="@firebase/remote-config",Wfe="@firebase/remote-config-compat",qfe="@firebase/storage",Kfe="@firebase/storage-compat",Yfe="@firebase/firestore",Xfe="@firebase/vertexai",Qfe="@firebase/firestore-compat",Zfe="firebase",Jfe="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="[DEFAULT]",epe={[SM]:"fire-core",[Afe]:"fire-core-compat",[_fe]:"fire-analytics",[Pfe]:"fire-analytics-compat",[Dfe]:"fire-app-check",[Ofe]:"fire-app-check-compat",[Ife]:"fire-auth",[Mfe]:"fire-auth-compat",[Ffe]:"fire-rtdb",[kfe]:"fire-data-connect",[Lfe]:"fire-rtdb-compat",[Nfe]:"fire-fn",[Vfe]:"fire-fn-compat",[Bfe]:"fire-iid",[Hfe]:"fire-iid-compat",[$fe]:"fire-fcm",[jfe]:"fire-fcm-compat",[Gfe]:"fire-perf",[zfe]:"fire-perf-compat",[Ufe]:"fire-rc",[Wfe]:"fire-rc-compat",[qfe]:"fire-gcs",[Kfe]:"fire-gcs-compat",[Yfe]:"fire-fst",[Qfe]:"fire-fst-compat",[Xfe]:"fire-vertex","fire-js":"fire-js",[Zfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Map,tpe=new Map,EM=new Map;function HG(e,t){try{e.container.addComponent(t)}catch(n){uu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function eg(e){const t=e.name;if(EM.has(t))return uu.debug(`There were multiple attempts to register component ${t}.`),!1;EM.set(t,e);for(const n of NS.values())HG(n,e);for(const n of tpe.values())HG(n,e);return!0}function pN(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function xs(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const npe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oc=new eC("app","Firebase",npe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rpe{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=Jfe;function dX(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:xM,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Oc.create("bad-app-name",{appName:String(i)});if(n||(n=aX()),!n)throw Oc.create("no-options");const o=NS.get(i);if(o){if(Nc(n,o.options)&&Nc(r,o.config))return o;throw Oc.create("duplicate-app",{appName:i})}const s=new ufe(i);for(const l of EM.values())s.addComponent(l);const a=new rpe(n,r,s);return NS.set(i,a),a}function hX(e=xM){const t=NS.get(e);if(!t&&e===xM&&aX())return dX();if(!t)throw Oc.create("no-app",{appName:e});return t}function Dc(e,t,n){var r;let i=(r=epe[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),uu.warn(a.join(" "));return}eg(new Dh(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ipe="firebase-heartbeat-database",ope=1,Ry="firebase-heartbeat-store";let AP=null;function fX(){return AP||(AP=Sfe(ipe,ope,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ry)}catch(n){console.warn(n)}}}}).catch(e=>{throw Oc.create("idb-open",{originalErrorMessage:e.message})})),AP}async function spe(e){try{const n=(await fX()).transaction(Ry),r=await n.objectStore(Ry).get(pX(e));return await n.done,r}catch(t){if(t instanceof wu)uu.warn(t.message);else{const n=Oc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});uu.warn(n.message)}}}async function $G(e,t){try{const r=(await fX()).transaction(Ry,"readwrite");await r.objectStore(Ry).put(t,pX(e)),await r.done}catch(n){if(n instanceof wu)uu.warn(n.message);else{const r=Oc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});uu.warn(r.message)}}}function pX(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ape=1024,lpe=30;class upe{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dpe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jG();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>lpe){const s=hpe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){uu.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jG(),{heartbeatsToSend:r,unsentEntries:i}=cpe(this._heartbeatsCache.heartbeats),o=LS(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return uu.warn(n),""}}}function jG(){return new Date().toISOString().substring(0,10)}function cpe(e,t=ape){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),GG(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GG(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dpe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qhe()?Zhe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await spe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $G(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $G(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function GG(e){return LS(JSON.stringify({version:2,heartbeats:e})).length}function hpe(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fpe(e){eg(new Dh("platform-logger",t=>new Rfe(t),"PRIVATE")),eg(new Dh("heartbeat",t=>new upe(t),"PRIVATE")),Dc(SM,BG,e),Dc(SM,BG,"esm2017"),Dc("fire-js","")}fpe("");var zG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ic,gX;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,I){function O(){}O.prototype=I.prototype,_.D=I.prototype,_.prototype=new O,_.prototype.constructor=_,_.C=function(F,L,V){for(var N=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)N[Y-2]=arguments[Y];return I.prototype[L].apply(F,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,I,O){O||(O=0);var F=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)F[L]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(L=0;16>L;++L)F[L]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=_.g[0],O=_.g[1],L=_.g[2];var V=_.g[3],N=I+(V^O&(L^V))+F[0]+3614090360&4294967295;I=O+(N<<7&4294967295|N>>>25),N=V+(L^I&(O^L))+F[1]+3905402710&4294967295,V=I+(N<<12&4294967295|N>>>20),N=L+(O^V&(I^O))+F[2]+606105819&4294967295,L=V+(N<<17&4294967295|N>>>15),N=O+(I^L&(V^I))+F[3]+3250441966&4294967295,O=L+(N<<22&4294967295|N>>>10),N=I+(V^O&(L^V))+F[4]+4118548399&4294967295,I=O+(N<<7&4294967295|N>>>25),N=V+(L^I&(O^L))+F[5]+1200080426&4294967295,V=I+(N<<12&4294967295|N>>>20),N=L+(O^V&(I^O))+F[6]+2821735955&4294967295,L=V+(N<<17&4294967295|N>>>15),N=O+(I^L&(V^I))+F[7]+4249261313&4294967295,O=L+(N<<22&4294967295|N>>>10),N=I+(V^O&(L^V))+F[8]+1770035416&4294967295,I=O+(N<<7&4294967295|N>>>25),N=V+(L^I&(O^L))+F[9]+2336552879&4294967295,V=I+(N<<12&4294967295|N>>>20),N=L+(O^V&(I^O))+F[10]+4294925233&4294967295,L=V+(N<<17&4294967295|N>>>15),N=O+(I^L&(V^I))+F[11]+2304563134&4294967295,O=L+(N<<22&4294967295|N>>>10),N=I+(V^O&(L^V))+F[12]+1804603682&4294967295,I=O+(N<<7&4294967295|N>>>25),N=V+(L^I&(O^L))+F[13]+4254626195&4294967295,V=I+(N<<12&4294967295|N>>>20),N=L+(O^V&(I^O))+F[14]+2792965006&4294967295,L=V+(N<<17&4294967295|N>>>15),N=O+(I^L&(V^I))+F[15]+1236535329&4294967295,O=L+(N<<22&4294967295|N>>>10),N=I+(L^V&(O^L))+F[1]+4129170786&4294967295,I=O+(N<<5&4294967295|N>>>27),N=V+(O^L&(I^O))+F[6]+3225465664&4294967295,V=I+(N<<9&4294967295|N>>>23),N=L+(I^O&(V^I))+F[11]+643717713&4294967295,L=V+(N<<14&4294967295|N>>>18),N=O+(V^I&(L^V))+F[0]+3921069994&4294967295,O=L+(N<<20&4294967295|N>>>12),N=I+(L^V&(O^L))+F[5]+3593408605&4294967295,I=O+(N<<5&4294967295|N>>>27),N=V+(O^L&(I^O))+F[10]+38016083&4294967295,V=I+(N<<9&4294967295|N>>>23),N=L+(I^O&(V^I))+F[15]+3634488961&4294967295,L=V+(N<<14&4294967295|N>>>18),N=O+(V^I&(L^V))+F[4]+3889429448&4294967295,O=L+(N<<20&4294967295|N>>>12),N=I+(L^V&(O^L))+F[9]+568446438&4294967295,I=O+(N<<5&4294967295|N>>>27),N=V+(O^L&(I^O))+F[14]+3275163606&4294967295,V=I+(N<<9&4294967295|N>>>23),N=L+(I^O&(V^I))+F[3]+4107603335&4294967295,L=V+(N<<14&4294967295|N>>>18),N=O+(V^I&(L^V))+F[8]+1163531501&4294967295,O=L+(N<<20&4294967295|N>>>12),N=I+(L^V&(O^L))+F[13]+2850285829&4294967295,I=O+(N<<5&4294967295|N>>>27),N=V+(O^L&(I^O))+F[2]+4243563512&4294967295,V=I+(N<<9&4294967295|N>>>23),N=L+(I^O&(V^I))+F[7]+1735328473&4294967295,L=V+(N<<14&4294967295|N>>>18),N=O+(V^I&(L^V))+F[12]+2368359562&4294967295,O=L+(N<<20&4294967295|N>>>12),N=I+(O^L^V)+F[5]+4294588738&4294967295,I=O+(N<<4&4294967295|N>>>28),N=V+(I^O^L)+F[8]+2272392833&4294967295,V=I+(N<<11&4294967295|N>>>21),N=L+(V^I^O)+F[11]+1839030562&4294967295,L=V+(N<<16&4294967295|N>>>16),N=O+(L^V^I)+F[14]+4259657740&4294967295,O=L+(N<<23&4294967295|N>>>9),N=I+(O^L^V)+F[1]+2763975236&4294967295,I=O+(N<<4&4294967295|N>>>28),N=V+(I^O^L)+F[4]+1272893353&4294967295,V=I+(N<<11&4294967295|N>>>21),N=L+(V^I^O)+F[7]+4139469664&4294967295,L=V+(N<<16&4294967295|N>>>16),N=O+(L^V^I)+F[10]+3200236656&4294967295,O=L+(N<<23&4294967295|N>>>9),N=I+(O^L^V)+F[13]+681279174&4294967295,I=O+(N<<4&4294967295|N>>>28),N=V+(I^O^L)+F[0]+3936430074&4294967295,V=I+(N<<11&4294967295|N>>>21),N=L+(V^I^O)+F[3]+3572445317&4294967295,L=V+(N<<16&4294967295|N>>>16),N=O+(L^V^I)+F[6]+76029189&4294967295,O=L+(N<<23&4294967295|N>>>9),N=I+(O^L^V)+F[9]+3654602809&4294967295,I=O+(N<<4&4294967295|N>>>28),N=V+(I^O^L)+F[12]+3873151461&4294967295,V=I+(N<<11&4294967295|N>>>21),N=L+(V^I^O)+F[15]+530742520&4294967295,L=V+(N<<16&4294967295|N>>>16),N=O+(L^V^I)+F[2]+3299628645&4294967295,O=L+(N<<23&4294967295|N>>>9),N=I+(L^(O|~V))+F[0]+4096336452&4294967295,I=O+(N<<6&4294967295|N>>>26),N=V+(O^(I|~L))+F[7]+1126891415&4294967295,V=I+(N<<10&4294967295|N>>>22),N=L+(I^(V|~O))+F[14]+2878612391&4294967295,L=V+(N<<15&4294967295|N>>>17),N=O+(V^(L|~I))+F[5]+4237533241&4294967295,O=L+(N<<21&4294967295|N>>>11),N=I+(L^(O|~V))+F[12]+1700485571&4294967295,I=O+(N<<6&4294967295|N>>>26),N=V+(O^(I|~L))+F[3]+2399980690&4294967295,V=I+(N<<10&4294967295|N>>>22),N=L+(I^(V|~O))+F[10]+4293915773&4294967295,L=V+(N<<15&4294967295|N>>>17),N=O+(V^(L|~I))+F[1]+2240044497&4294967295,O=L+(N<<21&4294967295|N>>>11),N=I+(L^(O|~V))+F[8]+1873313359&4294967295,I=O+(N<<6&4294967295|N>>>26),N=V+(O^(I|~L))+F[15]+4264355552&4294967295,V=I+(N<<10&4294967295|N>>>22),N=L+(I^(V|~O))+F[6]+2734768916&4294967295,L=V+(N<<15&4294967295|N>>>17),N=O+(V^(L|~I))+F[13]+1309151649&4294967295,O=L+(N<<21&4294967295|N>>>11),N=I+(L^(O|~V))+F[4]+4149444226&4294967295,I=O+(N<<6&4294967295|N>>>26),N=V+(O^(I|~L))+F[11]+3174756917&4294967295,V=I+(N<<10&4294967295|N>>>22),N=L+(I^(V|~O))+F[2]+718787259&4294967295,L=V+(N<<15&4294967295|N>>>17),N=O+(V^(L|~I))+F[9]+3951481745&4294967295,_.g[0]=_.g[0]+I&4294967295,_.g[1]=_.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,_.g[2]=_.g[2]+L&4294967295,_.g[3]=_.g[3]+V&4294967295}r.prototype.u=function(_,I){I===void 0&&(I=_.length);for(var O=I-this.blockSize,F=this.B,L=this.h,V=0;V<I;){if(L==0)for(;V<=O;)i(this,_,V),V+=this.blockSize;if(typeof _=="string"){for(;V<I;)if(F[L++]=_.charCodeAt(V++),L==this.blockSize){i(this,F),L=0;break}}else for(;V<I;)if(F[L++]=_[V++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var I=1;I<_.length-8;++I)_[I]=0;var O=8*this.o;for(I=_.length-8;I<_.length;++I)_[I]=O&255,O/=256;for(this.u(_),_=Array(16),I=O=0;4>I;++I)for(var F=0;32>F;F+=8)_[O++]=this.g[I]>>>F&255;return _};function o(_,I){var O=a;return Object.prototype.hasOwnProperty.call(O,_)?O[_]:O[_]=I(_)}function s(_,I){this.h=I;for(var O=[],F=!0,L=_.length-1;0<=L;L--){var V=_[L]|0;F&&V==I||(O[L]=V,F=!1)}this.g=O}var a={};function l(_){return-128<=_&&128>_?o(_,function(I){return new s([I|0],0>I?-1:0)}):new s([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return y(u(-_));for(var I=[],O=1,F=0;_>=O;F++)I[F]=_/O|0,O*=4294967296;return new s(I,0)}function h(_,I){if(_.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_.charAt(0)=="-")return y(h(_.substring(1),I));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(I,8)),F=f,L=0;L<_.length;L+=8){var V=Math.min(8,_.length-L),N=parseInt(_.substring(L,L+V),I);8>V?(V=u(Math.pow(I,V)),F=F.j(V).add(u(N))):(F=F.j(O),F=F.add(u(N)))}return F}var f=l(0),p=l(1),m=l(16777216);e=s.prototype,e.m=function(){if(C(this))return-y(this).m();for(var _=0,I=1,O=0;O<this.g.length;O++){var F=this.i(O);_+=(0<=F?F:4294967296+F)*I,I*=4294967296}return _},e.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b(this))return"0";if(C(this))return"-"+y(this).toString(_);for(var I=u(Math.pow(_,6)),O=this,F="";;){var L=M(O,I).g;O=x(O,L.j(I));var V=((0<O.g.length?O.g[0]:O.h)>>>0).toString(_);if(O=L,b(O))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},e.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function b(_){if(_.h!=0)return!1;for(var I=0;I<_.g.length;I++)if(_.g[I]!=0)return!1;return!0}function C(_){return _.h==-1}e.l=function(_){return _=x(this,_),C(_)?-1:b(_)?0:1};function y(_){for(var I=_.g.length,O=[],F=0;F<I;F++)O[F]=~_.g[F];return new s(O,~_.h).add(p)}e.abs=function(){return C(this)?y(this):this},e.add=function(_){for(var I=Math.max(this.g.length,_.g.length),O=[],F=0,L=0;L<=I;L++){var V=F+(this.i(L)&65535)+(_.i(L)&65535),N=(V>>>16)+(this.i(L)>>>16)+(_.i(L)>>>16);F=N>>>16,V&=65535,N&=65535,O[L]=N<<16|V}return new s(O,O[O.length-1]&-2147483648?-1:0)};function x(_,I){return _.add(y(I))}e.j=function(_){if(b(this)||b(_))return f;if(C(this))return C(_)?y(this).j(y(_)):y(y(this).j(_));if(C(_))return y(this.j(y(_)));if(0>this.l(m)&&0>_.l(m))return u(this.m()*_.m());for(var I=this.g.length+_.g.length,O=[],F=0;F<2*I;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<_.g.length;L++){var V=this.i(F)>>>16,N=this.i(F)&65535,Y=_.i(L)>>>16,X=_.i(L)&65535;O[2*F+2*L]+=N*X,R(O,2*F+2*L),O[2*F+2*L+1]+=V*X,R(O,2*F+2*L+1),O[2*F+2*L+1]+=N*Y,R(O,2*F+2*L+1),O[2*F+2*L+2]+=V*Y,R(O,2*F+2*L+2)}for(F=0;F<I;F++)O[F]=O[2*F+1]<<16|O[2*F];for(F=I;F<2*I;F++)O[F]=0;return new s(O,0)};function R(_,I){for(;(_[I]&65535)!=_[I];)_[I+1]+=_[I]>>>16,_[I]&=65535,I++}function T(_,I){this.g=_,this.h=I}function M(_,I){if(b(I))throw Error("division by zero");if(b(_))return new T(f,f);if(C(_))return I=M(y(_),I),new T(y(I.g),y(I.h));if(C(I))return I=M(_,y(I)),new T(y(I.g),I.h);if(30<_.g.length){if(C(_)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var O=p,F=I;0>=F.l(_);)O=A(O),F=A(F);var L=D(O,1),V=D(F,1);for(F=D(F,2),O=D(O,2);!b(F);){var N=V.add(F);0>=N.l(_)&&(L=L.add(O),V=N),F=D(F,1),O=D(O,1)}return I=x(_,L.j(I)),new T(L,I)}for(L=f;0<=_.l(I);){for(O=Math.max(1,Math.floor(_.m()/I.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=u(O),N=V.j(I);C(N)||0<N.l(_);)O-=F,V=u(O),N=V.j(I);b(V)&&(V=p),L=L.add(V),_=x(_,N)}return new T(L,_)}e.A=function(_){return M(this,_).h},e.and=function(_){for(var I=Math.max(this.g.length,_.g.length),O=[],F=0;F<I;F++)O[F]=this.i(F)&_.i(F);return new s(O,this.h&_.h)},e.or=function(_){for(var I=Math.max(this.g.length,_.g.length),O=[],F=0;F<I;F++)O[F]=this.i(F)|_.i(F);return new s(O,this.h|_.h)},e.xor=function(_){for(var I=Math.max(this.g.length,_.g.length),O=[],F=0;F<I;F++)O[F]=this.i(F)^_.i(F);return new s(O,this.h^_.h)};function A(_){for(var I=_.g.length+1,O=[],F=0;F<I;F++)O[F]=_.i(F)<<1|_.i(F-1)>>>31;return new s(O,_.h)}function D(_,I){var O=I>>5;I%=32;for(var F=_.g.length-O,L=[],V=0;V<F;V++)L[V]=0<I?_.i(V+O)>>>I|_.i(V+O+1)<<32-I:_.i(V+O);return new s(L,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gX=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,Ic=s}).apply(typeof zG<"u"?zG:typeof self<"u"?self:typeof window<"u"?window:{});var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mX,kv,vX,Z0,RM,yX,bX,CX;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,k,B){return S==Array.prototype||S==Object.prototype||(S[k]=B.value),S};function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof i0=="object"&&i0];for(var k=0;k<S.length;++k){var B=S[k];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function i(S,k){if(k)e:{var B=r;S=S.split(".");for(var K=0;K<S.length-1;K++){var ae=S[K];if(!(ae in B))break e;B=B[ae]}S=S[S.length-1],K=B[S],k=k(K),k!=K&&k!=null&&t(B,S,{configurable:!0,writable:!0,value:k})}}function o(S,k){S instanceof String&&(S+="");var B=0,K=!1,ae={next:function(){if(!K&&B<S.length){var ge=B++;return{value:k(ge,S[ge]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(S){return S||function(){return o(this,function(k,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(S){var k=typeof S;return k=k!="object"?k:S?Array.isArray(S)?"array":k:"null",k=="array"||k=="object"&&typeof S.length=="number"}function u(S){var k=typeof S;return k=="object"&&S!=null||k=="function"}function h(S,k,B){return S.call.apply(S.bind,arguments)}function f(S,k,B){if(!S)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,K),S.apply(k,ae)}}return function(){return S.apply(k,arguments)}}function p(S,k,B){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function m(S,k){var B=Array.prototype.slice.call(arguments,1);return function(){var K=B.slice();return K.push.apply(K,arguments),S.apply(this,K)}}function b(S,k){function B(){}B.prototype=k.prototype,S.aa=k.prototype,S.prototype=new B,S.prototype.constructor=S,S.Qb=function(K,ae,ge){for(var Fe=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Fe[Yt-2]=arguments[Yt];return k.prototype[ae].apply(K,Fe)}}function C(S){const k=S.length;if(0<k){const B=Array(k);for(let K=0;K<k;K++)B[K]=S[K];return B}return[]}function y(S,k){for(let B=1;B<arguments.length;B++){const K=arguments[B];if(l(K)){const ae=S.length||0,ge=K.length||0;S.length=ae+ge;for(let Fe=0;Fe<ge;Fe++)S[ae+Fe]=K[Fe]}else S.push(K)}}class x{constructor(k,B){this.i=k,this.j=B,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function R(S){return/^[\s\xa0]*$/.test(S)}function T(){var S=a.navigator;return S&&(S=S.userAgent)?S:""}function M(S){return M[" "](S),S}M[" "]=function(){};var A=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function D(S,k,B){for(const K in S)k.call(B,S[K],K,S)}function _(S,k){for(const B in S)k.call(void 0,S[B],B,S)}function I(S){const k={};for(const B in S)k[B]=S[B];return k}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(S,k){let B,K;for(let ae=1;ae<arguments.length;ae++){K=arguments[ae];for(B in K)S[B]=K[B];for(let ge=0;ge<O.length;ge++)B=O[ge],Object.prototype.hasOwnProperty.call(K,B)&&(S[B]=K[B])}}function L(S){var k=1;S=S.split(":");const B=[];for(;0<k&&S.length;)B.push(S.shift()),k--;return S.length&&B.push(S.join(":")),B}function V(S){a.setTimeout(()=>{throw S},0)}function N(){var S=Z;let k=null;return S.g&&(k=S.g,S.g=S.g.next,S.g||(S.h=null),k.next=null),k}class Y{constructor(){this.h=this.g=null}add(k,B){const K=X.get();K.set(k,B),this.h?this.h.next=K:this.g=K,this.h=K}}var X=new x(()=>new j,S=>S.reset());class j{constructor(){this.next=this.g=this.h=null}set(k,B){this.h=k,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let G,U=!1,Z=new Y,$=()=>{const S=a.Promise.resolve(void 0);G=()=>{S.then(Q)}};var Q=()=>{for(var S;S=N();){try{S.h.call(S.g)}catch(B){V(B)}var k=X;k.j(S),100>k.h&&(k.h++,S.next=k.g,k.g=S)}U=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(S,k){this.type=S,this.g=this.target=k,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var S=!1,k=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const B=()=>{};a.addEventListener("test",B,k),a.removeEventListener("test",B,k)}catch{}return S}();function fe(S,k){if(ne.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var B=this.type=S.type,K=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=k,k=S.relatedTarget){if(A){e:{try{M(k.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(k=null)}}else B=="mouseover"?k=S.fromElement:B=="mouseout"&&(k=S.toElement);this.relatedTarget=k,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:me[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&fe.aa.h.call(this)}}b(fe,ne);var me={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function ue(S,k,B,K,ae){this.listener=S,this.proxy=null,this.src=k,this.type=B,this.capture=!!K,this.ha=ae,this.key=++Pe,this.da=this.fa=!1}function Se(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function Re(S){this.src=S,this.g={},this.h=0}Re.prototype.add=function(S,k,B,K,ae){var ge=S.toString();S=this.g[ge],S||(S=this.g[ge]=[],this.h++);var Fe=Oe(S,k,K,ae);return-1<Fe?(k=S[Fe],B||(k.fa=!1)):(k=new ue(k,this.src,ge,!!K,ae),k.fa=B,S.push(k)),k};function le(S,k){var B=k.type;if(B in S.g){var K=S.g[B],ae=Array.prototype.indexOf.call(K,k,void 0),ge;(ge=0<=ae)&&Array.prototype.splice.call(K,ae,1),ge&&(Se(k),S.g[B].length==0&&(delete S.g[B],S.h--))}}function Oe(S,k,B,K){for(var ae=0;ae<S.length;++ae){var ge=S[ae];if(!ge.da&&ge.listener==k&&ge.capture==!!B&&ge.ha==K)return ae}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),_e={};function Le(S,k,B,K,ae){if(Array.isArray(k)){for(var ge=0;ge<k.length;ge++)Le(S,k[ge],B,K,ae);return null}return B=qt(B),S&&S[xe]?S.K(k,B,u(K)?!!K.capture:!1,ae):Be(S,k,B,!1,K,ae)}function Be(S,k,B,K,ae,ge){if(!k)throw Error("Invalid event type");var Fe=u(ae)?!!ae.capture:!!ae,Yt=Qe(S);if(Yt||(S[Ie]=Yt=new Re(S)),B=Yt.add(k,B,K,Fe,ge),B.proxy)return B;if(K=ze(),B.proxy=K,K.src=S,K.listener=B,S.addEventListener)ee||(ae=Fe),ae===void 0&&(ae=!1),S.addEventListener(k.toString(),K,ae);else if(S.attachEvent)S.attachEvent(Ve(k.toString()),K);else if(S.addListener&&S.removeListener)S.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return B}function ze(){function S(B){return k.call(S.src,S.listener,B)}const k=dt;return S}function nt(S,k,B,K,ae){if(Array.isArray(k))for(var ge=0;ge<k.length;ge++)nt(S,k[ge],B,K,ae);else K=u(K)?!!K.capture:!!K,B=qt(B),S&&S[xe]?(S=S.i,k=String(k).toString(),k in S.g&&(ge=S.g[k],B=Oe(ge,B,K,ae),-1<B&&(Se(ge[B]),Array.prototype.splice.call(ge,B,1),ge.length==0&&(delete S.g[k],S.h--)))):S&&(S=Qe(S))&&(k=S.g[k.toString()],S=-1,k&&(S=Oe(k,B,K,ae)),(B=-1<S?k[S]:null)&&it(B))}function it(S){if(typeof S!="number"&&S&&!S.da){var k=S.src;if(k&&k[xe])le(k.i,S);else{var B=S.type,K=S.proxy;k.removeEventListener?k.removeEventListener(B,K,S.capture):k.detachEvent?k.detachEvent(Ve(B),K):k.addListener&&k.removeListener&&k.removeListener(K),(B=Qe(k))?(le(B,S),B.h==0&&(B.src=null,k[Ie]=null)):Se(S)}}}function Ve(S){return S in _e?_e[S]:_e[S]="on"+S}function dt(S,k){if(S.da)S=!0;else{k=new fe(k,this);var B=S.listener,K=S.ha||S.src;S.fa&&it(S),S=B.call(K,k)}return S}function Qe(S){return S=S[Ie],S instanceof Re?S:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(S){return typeof S=="function"?S:(S[wt]||(S[wt]=function(k){return S.handleEvent(k)}),S[wt])}function ft(){J.call(this),this.i=new Re(this),this.M=this,this.F=null}b(ft,J),ft.prototype[xe]=!0,ft.prototype.removeEventListener=function(S,k,B,K){nt(this,S,k,B,K)};function Mt(S,k){var B,K=S.F;if(K)for(B=[];K;K=K.F)B.push(K);if(S=S.M,K=k.type||k,typeof k=="string")k=new ne(k,S);else if(k instanceof ne)k.target=k.target||S;else{var ae=k;k=new ne(K,S),F(k,ae)}if(ae=!0,B)for(var ge=B.length-1;0<=ge;ge--){var Fe=k.g=B[ge];ae=at(Fe,K,!0,k)&&ae}if(Fe=k.g=S,ae=at(Fe,K,!0,k)&&ae,ae=at(Fe,K,!1,k)&&ae,B)for(ge=0;ge<B.length;ge++)Fe=k.g=B[ge],ae=at(Fe,K,!1,k)&&ae}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var S=this.i,k;for(k in S.g){for(var B=S.g[k],K=0;K<B.length;K++)Se(B[K]);delete S.g[k],S.h--}}this.F=null},ft.prototype.K=function(S,k,B,K){return this.i.add(String(S),k,!1,B,K)},ft.prototype.L=function(S,k,B,K){return this.i.add(String(S),k,!0,B,K)};function at(S,k,B,K){if(k=S.i.g[String(k)],!k)return!0;k=k.concat();for(var ae=!0,ge=0;ge<k.length;++ge){var Fe=k[ge];if(Fe&&!Fe.da&&Fe.capture==B){var Yt=Fe.listener,Nr=Fe.ha||Fe.src;Fe.fa&&le(S.i,Fe),ae=Yt.call(Nr,K)!==!1&&ae}}return ae&&!K.defaultPrevented}function xn(S,k,B){if(typeof S=="function")B&&(S=p(S,B));else if(S&&typeof S.handleEvent=="function")S=p(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:a.setTimeout(S,k||0)}function nn(S){S.g=xn(()=>{S.g=null,S.i&&(S.i=!1,nn(S))},S.l);const k=S.h;S.h=null,S.m.apply(null,k)}class jn extends J{constructor(k,B){super(),this.m=k,this.l=B,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:nn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cn(S){J.call(this),this.h=S,this.g={}}b(cn,J);var Gn=[];function Gt(S){D(S.g,function(k,B){this.g.hasOwnProperty(B)&&it(k)},S),S.g={}}cn.prototype.N=function(){cn.aa.N.call(this),Gt(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=a.JSON.stringify,hn=a.JSON.parse,Kt=class{stringify(S){return a.JSON.stringify(S,void 0)}parse(S){return a.JSON.parse(S,void 0)}};function Pi(){}Pi.prototype.h=null;function Sa(S){return S.h||(S.h=S.i())}function Bs(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uo(){ne.call(this,"d")}b(uo,ne);function Yn(){ne.call(this,"c")}b(Yn,ne);var En={},Mr=null;function On(){return Mr=Mr||new ft}En.La="serverreachability";function Kr(S){ne.call(this,En.La,S)}b(Kr,ne);function Tt(S){const k=On();Mt(k,new Kr(k))}En.STAT_EVENT="statevent";function At(S,k){ne.call(this,En.STAT_EVENT,S),this.stat=k}b(At,ne);function xt(S){const k=On();Mt(k,new At(k,S))}En.Ma="timingevent";function Ui(S,k){ne.call(this,En.Ma,S),this.size=k}b(Ui,ne);function Oi(S,k){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){S()},k)}function Pt(){this.g=!0}Pt.prototype.xa=function(){this.g=!1};function Ko(S,k,B,K,ae,ge){S.info(function(){if(S.g)if(ge)for(var Fe="",Yt=ge.split("&"),Nr=0;Nr<Yt.length;Nr++){var Xt=Yt[Nr].split("=");if(1<Xt.length){var ei=Xt[0];Xt=Xt[1];var Vr=ei.split("_");Fe=2<=Vr.length&&Vr[1]=="type"?Fe+(ei+"="+Xt+"&"):Fe+(ei+"=redacted&")}}else Fe=null;else Fe=ge;return"XMLHTTP REQ ("+K+") [attempt "+ae+"]: "+k+`
`+B+`
`+Fe})}function Yo(S,k,B,K,ae,ge,Fe){S.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ae+"]: "+k+`
`+B+`
`+ge+" "+Fe})}function kt(S,k,B,K){S.info(function(){return"XMLHTTP TEXT ("+k+"): "+en(S,B)+(K?" "+K:"")})}function Jt(S,k){S.info(function(){return"TIMEOUT: "+k})}Pt.prototype.info=function(){};function en(S,k){if(!S.g)return k;if(!k)return null;try{var B=JSON.parse(k);if(B){for(S=0;S<B.length;S++)if(Array.isArray(B[S])){var K=B[S];if(!(2>K.length)){var ae=K[1];if(Array.isArray(ae)&&!(1>ae.length)){var ge=ae[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var Fe=1;Fe<ae.length;Fe++)ae[Fe]=""}}}}return Rn(B)}catch{return k}}var Vt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wi;function hi(){}b(hi,Pi),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},Wi=new hi;function ur(S,k,B,K){this.j=S,this.i=k,this.l=B,this.R=K||1,this.U=new cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yr}function Yr(){this.i=null,this.g="",this.h=!1}var fi={},pi={};function Xr(S,k,B){S.L=1,S.v=zs(Mn(k)),S.m=B,S.P=!0,Lt(S,null)}function Lt(S,k){S.F=Date.now(),dn(S),S.A=Mn(S.v);var B=S.A,K=S.R;Array.isArray(K)||(K=[String(K)]),Ii(B.i,"t",K),S.C=0,B=S.j.J,S.h=new Yr,S.g=QC(S.j,B?k:null,!S.m),0<S.O&&(S.M=new jn(p(S.Y,S,S.g),S.O)),k=S.U,B=S.g,K=S.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(Gn[0]=ae.toString()),ae=Gn);for(var ge=0;ge<ae.length;ge++){var Fe=Le(B,ae[ge],K||k.handleEvent,!1,k.h||k);if(!Fe)break;k.g[Fe.key]=Fe}k=S.H?I(S.H):{},S.m?(S.u||(S.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,k)):(S.u="GET",S.g.ea(S.A,S.u,null,k)),Tt(),Ko(S.i,S.u,S.A,S.l,S.R,S.m)}ur.prototype.ca=function(S){S=S.target;const k=this.M;k&&Jo(S)==3?k.j():this.Y(S)},ur.prototype.Y=function(S){try{if(S==this.g)e:{const Vr=Jo(this.g);var k=this.g.Ba();const bl=this.g.Z();if(!(3>Vr)&&(Vr!=3||this.g&&(this.h.h||this.g.oa()||GC(this.g)))){this.J||Vr!=4||k==7||(k==8||0>=bl?Tt(3):Tt(2)),Ea(this);var B=this.g.Z();this.X=B;t:if(Ao(this)){var K=GC(this.g);S="";var ae=K.length,ge=Jo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),Qr(this);var Fe="";break t}this.h.i=new a.TextDecoder}for(k=0;k<ae;k++)this.h.h=!0,S+=this.h.i.decode(K[k],{stream:!(ge&&k==ae-1)});K.length=0,this.h.g+=S,this.C=0,Fe=this.h.g}else Fe=this.g.oa();if(this.o=B==200,Yo(this.i,this.u,this.A,this.l,this.R,Vr,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,Nr=this.g;if((Yt=Nr.g?Nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Yt)){var Xt=Yt;break t}}Xt=null}if(B=Xt)kt(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cr(this,B);else{this.o=!1,this.s=3,xt(12),Fr(this),Qr(this);break e}}if(this.P){B=!0;let gi;for(;!this.J&&this.C<Fe.length;)if(gi=Xo(this,Fe),gi==pi){Vr==4&&(this.s=4,xt(14),B=!1),kt(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==fi){this.s=4,xt(15),kt(this.i,this.l,Fe,"[Invalid Chunk]"),B=!1;break}else kt(this.i,this.l,gi,null),Cr(this,gi);if(Ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vr!=4||Fe.length!=0||this.h.h||(this.s=1,xt(16),B=!1),this.o=this.o&&B,!B)kt(this.i,this.l,Fe,"[Invalid Chunked Response]"),Fr(this),Qr(this);else if(0<Fe.length&&!this.W){this.W=!0;var ei=this.j;ei.g==this&&ei.ba&&!ei.M&&(ei.j.info("Great, no buffering proxy detected. Bytes received: "+Fe.length),Cd(ei),ei.M=!0,xt(11))}}else kt(this.i,this.l,Fe,null),Cr(this,Fe);Vr==4&&Fr(this),this.o&&!this.J&&(Vr==4?KC(this.j,this):(this.o=!1,dn(this)))}else ST(this.g),B==400&&0<Fe.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Fr(this),Qr(this)}}}catch{}finally{}};function Ao(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function Xo(S,k){var B=S.C,K=k.indexOf(`
`,B);return K==-1?pi:(B=Number(k.substring(B,K)),isNaN(B)?fi:(K+=1,K+B>k.length?pi:(k=k.slice(K,K+B),S.C=K+B,k)))}ur.prototype.cancel=function(){this.J=!0,Fr(this)};function dn(S){S.S=Date.now()+S.I,xa(S,S.I)}function xa(S,k){if(S.B!=null)throw Error("WatchDog timer not null");S.B=Oi(p(S.ba,S),k)}function Ea(S){S.B&&(a.clearTimeout(S.B),S.B=null)}ur.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(Jt(this.i,this.A),this.L!=2&&(Tt(),xt(17)),Fr(this),this.s=2,Qr(this)):xa(this,this.S-S)};function Qr(S){S.j.G==0||S.J||KC(S.j,S)}function Fr(S){Ea(S);var k=S.M;k&&typeof k.ma=="function"&&k.ma(),S.M=null,Gt(S.U),S.g&&(k=S.g,S.g=null,k.abort(),k.ma())}function Cr(S,k){try{var B=S.j;if(B.G!=0&&(B.g==S||Po(B.h,S))){if(!S.K&&Po(B.h,S)&&B.G==3){try{var K=B.Da.g.parse(k)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ae=K;if(ae[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<S.F)Cf(B),yf(B);else break e;Rm(B),xt(18)}}else B.za=ae[1],0<B.za-B.T&&37500>ae[2]&&B.F&&B.v==0&&!B.C&&(B.C=Oi(p(B.Za,B),6e3));if(1>=gl(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else yl(B,11)}else if((S.K||B.g==S)&&Cf(B),!R(k))for(ae=B.Da.g.parse(k),k=0;k<ae.length;k++){let Xt=ae[k];if(B.T=Xt[0],Xt=Xt[1],B.G==2)if(Xt[0]=="c"){B.K=Xt[1],B.ia=Xt[2];const ei=Xt[3];ei!=null&&(B.la=ei,B.j.info("VER="+B.la));const Vr=Xt[4];Vr!=null&&(B.Aa=Vr,B.j.info("SVER="+B.Aa));const bl=Xt[5];bl!=null&&typeof bl=="number"&&0<bl&&(K=1.5*bl,B.L=K,B.j.info("backChannelRequestTimeoutMs_="+K)),K=B;const gi=S.g;if(gi){const Oa=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var ge=K.h;ge.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(kr(ge,ge.h),ge.h=null))}if(K.D){const Am=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Am&&(K.ya=Am,Bt(K.I,K.D,Am))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-S.F,B.j.info("Handshake RTT: "+B.R+"ms")),K=B;var Fe=S;if(K.qa=XC(K,K.J?K.ia:null,K.W),Fe.K){Xn(K.h,Fe);var Yt=Fe,Nr=K.L;Nr&&(Yt.I=Nr),Yt.B&&(Ea(Yt),dn(Yt)),K.g=Fe}else WC(K);0<B.i.length&&bf(B)}else Xt[0]!="stop"&&Xt[0]!="close"||yl(B,7);else B.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?yl(B,7):xm(B):Xt[0]!="noop"&&B.l&&B.l.ta(Xt),B.v=0)}}Tt(4)}catch{}}var Ou=class{constructor(S,k){this.g=S,this.map=k}};function Qo(S){this.l=S||10,a.PerformanceNavigationTiming?(S=a.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qi(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function gl(S){return S.h?1:S.g?S.g.size:0}function Po(S,k){return S.h?S.h==k:S.g?S.g.has(k):!1}function kr(S,k){S.g?S.g.add(k):S.h=k}function Xn(S,k){S.h&&S.h==k?S.h=null:S.g&&S.g.has(k)&&S.g.delete(k)}Qo.prototype.cancel=function(){if(this.i=cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function cr(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let k=S.i;for(const B of S.g.values())k=k.concat(B.D);return k}return C(S.i)}function Hs(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(l(S)){for(var k=[],B=S.length,K=0;K<B;K++)k.push(S[K]);return k}k=[],B=0;for(K in S)k[B++]=S[K];return k}function co(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(l(S)||typeof S=="string"){var k=[];S=S.length;for(var B=0;B<S;B++)k.push(B);return k}k=[],B=0;for(const K in S)k[B++]=K;return k}}}function $s(S,k){if(S.forEach&&typeof S.forEach=="function")S.forEach(k,void 0);else if(l(S)||typeof S=="string")Array.prototype.forEach.call(S,k,void 0);else for(var B=co(S),K=Hs(S),ae=K.length,ge=0;ge<ae;ge++)k.call(void 0,K[ge],B&&B[ge],S)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(S,k){if(S){S=S.split("&");for(var B=0;B<S.length;B++){var K=S[B].indexOf("="),ae=null;if(0<=K){var ge=S[B].substring(0,K);ae=S[B].substring(K+1)}else ge=S[B];k(ge,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ki(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof Ki){this.h=S.h,Zo(this,S.j),this.o=S.o,this.g=S.g,js(this,S.s),this.l=S.l;var k=S.i,B=new Fn;B.i=k.i,k.g&&(B.g=new Map(k.g),B.h=k.h),Gs(this,B),this.m=S.m}else S&&(k=String(S).match(Ra))?(this.h=!1,Zo(this,k[1]||"",!0),this.o=_o(k[2]||""),this.g=_o(k[3]||"",!0),js(this,k[4]),this.l=_o(k[5]||"",!0),Gs(this,k[6]||"",!0),this.m=_o(k[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}Ki.prototype.toString=function(){var S=[],k=this.j;k&&S.push(Di(k,Us,!0),":");var B=this.g;return(B||k=="file")&&(S.push("//"),(k=this.o)&&S.push(Di(k,Us,!0),"@"),S.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&S.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&S.push("/"),S.push(Di(B,B.charAt(0)=="/"?ml:Yi,!0))),(B=this.i.toString())&&S.push("?",B),(B=this.m)&&S.push("#",Di(B,ff)),S.join("")};function Mn(S){return new Ki(S)}function Zo(S,k,B){S.j=B?_o(k,!0):k,S.j&&(S.j=S.j.replace(/:$/,""))}function js(S,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);S.s=k}else S.s=null}function Gs(S,k,B){k instanceof Fn?(S.i=k,Aa(S.i,S.h)):(B||(k=Di(k,hf)),S.i=new Fn(k,S.h))}function Bt(S,k,B){S.i.set(k,B)}function zs(S){return Bt(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function _o(S,k){return S?k?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function Di(S,k,B){return typeof S=="string"?(S=encodeURI(S).replace(k,gd),B&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function gd(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Us=/[#\/\?@]/g,Yi=/[#\?:]/g,ml=/[#\?]/g,hf=/[#\?@]/g,ff=/#/g;function Fn(S,k){this.h=this.g=null,this.i=S||null,this.j=!!k}function Lr(S){S.g||(S.g=new Map,S.h=0,S.i&&Ta(S.i,function(k,B){S.add(decodeURIComponent(k.replace(/\+/g," ")),B)}))}e=Fn.prototype,e.add=function(S,k){Lr(this),this.i=null,S=ho(this,S);var B=this.g.get(S);return B||this.g.set(S,B=[]),B.push(k),this.h+=1,this};function Oo(S,k){Lr(S),k=ho(S,k),S.g.has(k)&&(S.i=null,S.h-=S.g.get(k).length,S.g.delete(k))}function Zr(S,k){return Lr(S),k=ho(S,k),S.g.has(k)}e.forEach=function(S,k){Lr(this),this.g.forEach(function(B,K){B.forEach(function(ae){S.call(k,ae,K,this)},this)},this)},e.na=function(){Lr(this);const S=Array.from(this.g.values()),k=Array.from(this.g.keys()),B=[];for(let K=0;K<k.length;K++){const ae=S[K];for(let ge=0;ge<ae.length;ge++)B.push(k[K])}return B},e.V=function(S){Lr(this);let k=[];if(typeof S=="string")Zr(this,S)&&(k=k.concat(this.g.get(ho(this,S))));else{S=Array.from(this.g.values());for(let B=0;B<S.length;B++)k=k.concat(S[B])}return k},e.set=function(S,k){return Lr(this),this.i=null,S=ho(this,S),Zr(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[k]),this.h+=1,this},e.get=function(S,k){return S?(S=this.V(S),0<S.length?String(S[0]):k):k};function Ii(S,k,B){Oo(S,k),0<B.length&&(S.i=null,S.g.set(ho(S,k),C(B)),S.h+=B.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],k=Array.from(this.g.keys());for(var B=0;B<k.length;B++){var K=k[B];const ge=encodeURIComponent(String(K)),Fe=this.V(K);for(K=0;K<Fe.length;K++){var ae=ge;Fe[K]!==""&&(ae+="="+encodeURIComponent(String(Fe[K]))),S.push(ae)}}return this.i=S.join("&")};function ho(S,k){return k=String(k),S.j&&(k=k.toLowerCase()),k}function Aa(S,k){k&&!S.j&&(Lr(S),S.i=null,S.g.forEach(function(B,K){var ae=K.toLowerCase();K!=ae&&(Oo(this,K),Ii(this,ae,B))},S)),S.j=k}function Du(S,k){const B=new Pt;if(a.Image){const K=new Image;K.onload=m(Ze,B,"TestLoadImage: loaded",!0,k,K),K.onerror=m(Ze,B,"TestLoadImage: error",!1,k,K),K.onabort=m(Ze,B,"TestLoadImage: abort",!1,k,K),K.ontimeout=m(Ze,B,"TestLoadImage: timeout",!1,k,K),a.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=S}else k(!1)}function $e(S,k){const B=new Pt,K=new AbortController,ae=setTimeout(()=>{K.abort(),Ze(B,"TestPingServer: timeout",!1,k)},1e4);fetch(S,{signal:K.signal}).then(ge=>{clearTimeout(ae),ge.ok?Ze(B,"TestPingServer: ok",!0,k):Ze(B,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ae),Ze(B,"TestPingServer: error",!1,k)})}function Ze(S,k,B,K,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),K(B)}catch{}}function rn(){this.g=new Kt}function on(S,k,B){const K=B||"";try{$s(S,function(ae,ge){let Fe=ae;u(ae)&&(Fe=Rn(ae)),k.push(K+ge+"="+encodeURIComponent(Fe))})}catch(ae){throw k.push(K+"type="+encodeURIComponent("_badmap")),ae}}function tn(S){this.l=S.Ub||null,this.j=S.eb||!1}b(tn,Pi),tn.prototype.g=function(){return new fo(this.l,this.j)},tn.prototype.i=function(S){return function(){return S}}({});function fo(S,k){ft.call(this),this.D=S,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(fo,ft),e=fo.prototype,e.open=function(S,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=k,this.readyState=1,Xi(this)},e.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(k.body=S),(this.D||a).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Do(this)),this.readyState=0},e.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}e.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var k=S.value?S.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!S.done}))&&(this.response=this.responseText+=k)}S.done?Do(this):Xi(this),this.readyState==3&&vl(this)}},e.Ra=function(S){this.g&&(this.response=this.responseText=S,Do(this))},e.Qa=function(S){this.g&&(this.response=S,Do(this))},e.ga=function(){this.g&&Do(this)};function Do(S){S.readyState=4,S.l=null,S.j=null,S.v=null,Xi(S)}e.setRequestHeader=function(S,k){this.u.append(S,k)},e.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],k=this.h.entries();for(var B=k.next();!B.done;)B=B.value,S.push(B[0]+": "+B[1]),B=k.next();return S.join(`\r
`)};function Xi(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Sm(S){let k="";return D(S,function(B,K){k+=K,k+=":",k+=B,k+=`\r
`}),k}function Jr(S,k,B){e:{for(K in B){var K=!1;break e}K=!0}K||(B=Sm(B),typeof S=="string"?B!=null&&encodeURIComponent(String(B)):Bt(S,k,B))}function fn(S){ft.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(fn,ft);var pf=/^https?$/i,md=["POST","PUT"];e=fn.prototype,e.Ha=function(S){this.J=S},e.ea=function(S,k,B,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);k=k?k.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wi.g(),this.v=this.o?Sa(this.o):Sa(Wi),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(k,String(S),!0),this.B=!1}catch(ge){jC(this,ge);return}if(S=B||"",B=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ae in K)B.set(ae,K[ae]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const ge of K.keys())B.set(ge,K.get(ge));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(B.keys()).find(ge=>ge.toLowerCase()=="content-type"),ae=a.FormData&&S instanceof a.FormData,!(0<=Array.prototype.indexOf.call(md,k,void 0))||K||ae||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Fe]of B)this.g.setRequestHeader(ge,Fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vd(this),this.u=!0,this.g.send(S),this.u=!1}catch(ge){jC(this,ge)}};function jC(S,k){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=k,S.m=5,gf(S),Pa(S)}function gf(S){S.A||(S.A=!0,Mt(S,"complete"),Mt(S,"error"))}e.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,Mt(this,"complete"),Mt(this,"abort"),Pa(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pa(this,!0)),fn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?mf(this):this.bb())},e.bb=function(){mf(this)};function mf(S){if(S.h&&typeof s<"u"&&(!S.v[1]||Jo(S)!=4||S.Z()!=2)){if(S.u&&Jo(S)==4)xn(S.Ea,0,S);else if(Mt(S,"readystatechange"),Jo(S)==4){S.h=!1;try{const Fe=S.Z();e:switch(Fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var B;if(!(B=k)){var K;if(K=Fe===0){var ae=String(S.D).match(Ra)[1]||null;!ae&&a.self&&a.self.location&&(ae=a.self.location.protocol.slice(0,-1)),K=!pf.test(ae?ae.toLowerCase():"")}B=K}if(B)Mt(S,"complete"),Mt(S,"success");else{S.m=6;try{var ge=2<Jo(S)?S.g.statusText:""}catch{ge=""}S.l=ge+" ["+S.Z()+"]",gf(S)}}finally{Pa(S)}}}}function Pa(S,k){if(S.g){vd(S);const B=S.g,K=S.v[0]?()=>{}:null;S.g=null,S.v=null,k||Mt(S,"ready");try{B.onreadystatechange=K}catch{}}}function vd(S){S.I&&(a.clearTimeout(S.I),S.I=null)}e.isActive=function(){return!!this.g};function Jo(S){return S.g?S.g.readyState:0}e.Z=function(){try{return 2<Jo(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(S){if(this.g){var k=this.g.responseText;return S&&k.indexOf(S)==0&&(k=k.substring(S.length)),hn(k)}};function GC(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function ST(S){const k={};S=(S.g&&2<=Jo(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<S.length;K++){if(R(S[K]))continue;var B=L(S[K]);const ae=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const ge=k[ae]||[];k[ae]=ge,ge.push(B)}_(k,function(K){return K.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yd(S,k,B){return B&&B.internalChannelParams&&B.internalChannelParams[S]||k}function vf(S){this.Aa=0,this.i=[],this.j=new Pt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yd("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yd("baseRetryDelayMs",5e3,S),this.cb=yd("retryDelaySeedMs",1e4,S),this.Wa=yd("forwardChannelMaxRetries",2,S),this.wa=yd("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new Qo(S&&S.concurrentRequestLimit),this.Da=new rn,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=vf.prototype,e.la=8,e.G=1,e.connect=function(S,k,B,K){xt(0),this.W=S,this.H=k||{},B&&K!==void 0&&(this.H.OSID=B,this.H.OAID=K),this.F=this.X,this.I=XC(this,null,this.W),bf(this)};function xm(S){if(zC(S),S.G==3){var k=S.U++,B=Mn(S.I);if(Bt(B,"SID",S.K),Bt(B,"RID",k),Bt(B,"TYPE","terminate"),bd(S,B),k=new ur(S,S.j,k),k.L=2,k.v=zs(Mn(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(k.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=k.v,B=!0),B||(k.g=QC(k.j,null),k.g.ea(k.v)),k.F=Date.now(),dn(k)}YC(S)}function yf(S){S.g&&(Cd(S),S.g.cancel(),S.g=null)}function zC(S){yf(S),S.u&&(a.clearTimeout(S.u),S.u=null),Cf(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&a.clearTimeout(S.s),S.s=null)}function bf(S){if(!qi(S.h)&&!S.s){S.s=!0;var k=S.Ga;G||$(),U||(G(),U=!0),Z.add(k,S),S.B=0}}function xT(S,k){return gl(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=k.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=Oi(p(S.Ga,S,k),Tm(S,S.B)),S.B++,!0)}e.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const ae=new ur(this,this.j,S);let ge=this.o;if(this.S&&(ge?(ge=I(ge),F(ge,this.S)):ge=this.S),this.m!==null||this.O||(ae.H=ge,ge=null),this.P)e:{for(var k=0,B=0;B<this.i.length;B++){t:{var K=this.i[B];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(k+=K,4096<k){k=B;break e}if(k===4096||B===this.i.length-1){k=B+1;break e}}k=1e3}else k=1e3;k=UC(this,ae,k),B=Mn(this.I),Bt(B,"RID",S),Bt(B,"CVER",22),this.D&&Bt(B,"X-HTTP-Session-Id",this.D),bd(this,B),ge&&(this.O?k="headers="+encodeURIComponent(String(Sm(ge)))+"&"+k:this.m&&Jr(B,this.m,ge)),kr(this.h,ae),this.Ua&&Bt(B,"TYPE","init"),this.P?(Bt(B,"$req",k),Bt(B,"SID","null"),ae.T=!0,Xr(ae,B,null)):Xr(ae,B,k),this.G=2}}else this.G==3&&(S?Em(this,S):this.i.length==0||qi(this.h)||Em(this))};function Em(S,k){var B;k?B=k.l:B=S.U++;const K=Mn(S.I);Bt(K,"SID",S.K),Bt(K,"RID",B),Bt(K,"AID",S.T),bd(S,K),S.m&&S.o&&Jr(K,S.m,S.o),B=new ur(S,S.j,B,S.B+1),S.m===null&&(B.H=S.o),k&&(S.i=k.D.concat(S.i)),k=UC(S,B,1e3),B.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),kr(S.h,B),Xr(B,K,k)}function bd(S,k){S.H&&D(S.H,function(B,K){Bt(k,K,B)}),S.l&&$s({},function(B,K){Bt(k,K,B)})}function UC(S,k,B){B=Math.min(S.i.length,B);var K=S.l?p(S.l.Na,S.l,S):null;e:{var ae=S.i;let ge=-1;for(;;){const Fe=["count="+B];ge==-1?0<B?(ge=ae[0].g,Fe.push("ofs="+ge)):ge=0:Fe.push("ofs="+ge);let Yt=!0;for(let Nr=0;Nr<B;Nr++){let Xt=ae[Nr].g;const ei=ae[Nr].map;if(Xt-=ge,0>Xt)ge=Math.max(0,ae[Nr].g-100),Yt=!1;else try{on(ei,Fe,"req"+Xt+"_")}catch{K&&K(ei)}}if(Yt){K=Fe.join("&");break e}}}return S=S.i.splice(0,B),k.D=S,K}function WC(S){if(!S.g&&!S.u){S.Y=1;var k=S.Fa;G||$(),U||(G(),U=!0),Z.add(k,S),S.v=0}}function Rm(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=Oi(p(S.Fa,S),Tm(S,S.v)),S.v++,!0)}e.Fa=function(){if(this.u=null,qC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=Oi(p(this.ab,this),S)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),yf(this),qC(this))};function Cd(S){S.A!=null&&(a.clearTimeout(S.A),S.A=null)}function qC(S){S.g=new ur(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var k=Mn(S.qa);Bt(k,"RID","rpc"),Bt(k,"SID",S.K),Bt(k,"AID",S.T),Bt(k,"CI",S.F?"0":"1"),!S.F&&S.ja&&Bt(k,"TO",S.ja),Bt(k,"TYPE","xmlhttp"),bd(S,k),S.m&&S.o&&Jr(k,S.m,S.o),S.L&&(S.g.I=S.L);var B=S.g;S=S.ia,B.L=1,B.v=zs(Mn(k)),B.m=null,B.P=!0,Lt(B,S)}e.Za=function(){this.C!=null&&(this.C=null,yf(this),Rm(this),xt(19))};function Cf(S){S.C!=null&&(a.clearTimeout(S.C),S.C=null)}function KC(S,k){var B=null;if(S.g==k){Cf(S),Cd(S),S.g=null;var K=2}else if(Po(S.h,k))B=k.D,Xn(S.h,k),K=1;else return;if(S.G!=0){if(k.o)if(K==1){B=k.m?k.m.length:0,k=Date.now()-k.F;var ae=S.B;K=On(),Mt(K,new Ui(K,B)),bf(S)}else WC(S);else if(ae=k.s,ae==3||ae==0&&0<k.X||!(K==1&&xT(S,k)||K==2&&Rm(S)))switch(B&&0<B.length&&(k=S.h,k.i=k.i.concat(B)),ae){case 1:yl(S,5);break;case 4:yl(S,10);break;case 3:yl(S,6);break;default:yl(S,2)}}}function Tm(S,k){let B=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(B*=2),B*k}function yl(S,k){if(S.j.info("Error code "+k),k==2){var B=p(S.fb,S),K=S.Xa;const ae=!K;K=new Ki(K||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zo(K,"https"),zs(K),ae?Du(K.toString(),B):$e(K.toString(),B)}else xt(2);S.G=0,S.l&&S.l.sa(k),YC(S),zC(S)}e.fb=function(S){S?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function YC(S){if(S.G=0,S.ka=[],S.l){const k=cr(S.h);(k.length!=0||S.i.length!=0)&&(y(S.ka,k),y(S.ka,S.i),S.h.i.length=0,C(S.i),S.i.length=0),S.l.ra()}}function XC(S,k,B){var K=B instanceof Ki?Mn(B):new Ki(B);if(K.g!="")k&&(K.g=k+"."+K.g),js(K,K.s);else{var ae=a.location;K=ae.protocol,k=k?k+"."+ae.hostname:ae.hostname,ae=+ae.port;var ge=new Ki(null);K&&Zo(ge,K),k&&(ge.g=k),ae&&js(ge,ae),B&&(ge.l=B),K=ge}return B=S.D,k=S.ya,B&&k&&Bt(K,B,k),Bt(K,"VER",S.la),bd(S,K),K}function QC(S,k,B){if(k&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=S.Ca&&!S.pa?new fn(new tn({eb:B})):new fn(S.pa),k.Ha(S.J),k}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZC(){}e=ZC.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function wf(){}wf.prototype.g=function(S,k){return new Qi(S,k)};function Qi(S,k){ft.call(this),this.g=new vf(k),this.l=S,this.h=k&&k.messageUrlParams||null,S=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(S?S["X-WebChannel-Content-Type"]=k.messageContentType:S={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(S?S["X-WebChannel-Client-Profile"]=k.va:S={"X-WebChannel-Client-Profile":k.va}),this.g.S=S,(S=k&&k.Sb)&&!R(S)&&(this.g.m=S),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!R(k)&&(this.g.D=k,S=this.h,S!==null&&k in S&&(S=this.h,k in S&&delete S[k])),this.j=new _a(this)}b(Qi,ft),Qi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qi.prototype.close=function(){xm(this.g)},Qi.prototype.o=function(S){var k=this.g;if(typeof S=="string"){var B={};B.__data__=S,S=B}else this.u&&(B={},B.__data__=Rn(S),S=B);k.i.push(new Ou(k.Ya++,S)),k.G==3&&bf(k)},Qi.prototype.N=function(){this.g.l=null,delete this.j,xm(this.g),delete this.g,Qi.aa.N.call(this)};function JC(S){uo.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var k=S.__sm__;if(k){e:{for(const B in k){S=B;break e}S=void 0}(this.i=S)&&(S=this.i,k=k!==null&&S in k?k[S]:void 0),this.data=k}else this.data=S}b(JC,uo);function ew(){Yn.call(this),this.status=1}b(ew,Yn);function _a(S){this.g=S}b(_a,ZC),_a.prototype.ua=function(){Mt(this.g,"a")},_a.prototype.ta=function(S){Mt(this.g,new JC(S))},_a.prototype.sa=function(S){Mt(this.g,new ew)},_a.prototype.ra=function(){Mt(this.g,"b")},wf.prototype.createWebChannel=wf.prototype.g,Qi.prototype.send=Qi.prototype.o,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,CX=function(){return new wf},bX=function(){return On()},yX=En,RM={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vt.NO_ERROR=0,Vt.TIMEOUT=8,Vt.HTTP_ERROR=6,Z0=Vt,br.COMPLETE="complete",vX=br,Bs.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",ft.prototype.listen=ft.prototype.K,kv=Bs,fn.prototype.listenOnce=fn.prototype.L,fn.prototype.getLastError=fn.prototype.Ka,fn.prototype.getLastErrorCode=fn.prototype.Ba,fn.prototype.getStatus=fn.prototype.Z,fn.prototype.getResponseJson=fn.prototype.Oa,fn.prototype.getResponseText=fn.prototype.oa,fn.prototype.send=fn.prototype.ea,fn.prototype.setWithCredentials=fn.prototype.Ha,mX=fn}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});const UG="@firebase/firestore",WG="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new hN("@firebase/firestore");function rp(){return Ih.logLevel}function We(e,...t){if(Ih.logLevel<=Ht.DEBUG){const n=t.map(gN);Ih.debug(`Firestore (${Qg}): ${e}`,...n)}}function cu(e,...t){if(Ih.logLevel<=Ht.ERROR){const n=t.map(gN);Ih.error(`Firestore (${Qg}): ${e}`,...n)}}function tg(e,...t){if(Ih.logLevel<=Ht.WARN){const n=t.map(gN);Ih.warn(`Firestore (${Qg}): ${e}`,...n)}}function gN(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(e="Unexpected state"){const t=`FIRESTORE (${Qg}) INTERNAL ASSERTION FAILED: `+e;throw cu(t),new Error(t)}function wn(e,t){e||pt()}function Ct(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends wu{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ppe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Vi.UNAUTHENTICATED))}shutdown(){}}class gpe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mpe{constructor(t){this.t=t,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){wn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Yl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yl,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yl)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wn(typeof r.accessToken=="string"),new wX(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return wn(t===null||typeof t=="string"),new Vi(t)}}class vpe{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ype{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new vpe(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bpe{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xs(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){wn(this.o===void 0);const r=o=>{o.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,We("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qG(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(wn(typeof n.token=="string"),this.R=n.token,new qG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cpe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Cpe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function It(e,t){return e<t?-1:e>t?1:0}function TM(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return It(r,i);{const o=SX(),s=wpe(o.encode(KG(e,n)),o.encode(KG(t,n)));return s!==0?s:It(r,i)}}n+=r>65535?2:1}return It(e.length,t.length)}function KG(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function wpe(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return It(e[n],t[n]);return It(e.length,t.length)}function ng(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=-62135596800,XG=1e6;class Dr{static now(){return Dr.fromMillis(Date.now())}static fromDate(t){return Dr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*XG);return new Dr(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<YG)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XG}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-YG;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new Dr(0,0))}static max(){return new yt(new Dr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG="__name__";class Va{constructor(t,n,r){n===void 0?n=0:n>t.length&&pt(),r===void 0?r=t.length-n:r>t.length-n&&pt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Va.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Va?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=Va.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return It(t.length,n.length)}static compareSegments(t,n){const r=Va.isNumericId(t),i=Va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Va.extractNumericId(t).compare(Va.extractNumericId(n)):TM(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ic.fromString(t.substring(4,t.length-2))}}class Un extends Va{construct(t,n,r){return new Un(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Un(n)}static emptyPath(){return new Un([])}}const Spe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Va{construct(t,n,r){return new xi(t,n,r)}static isValidIdentifier(t){return Spe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QG}static keyField(){return new xi([QG])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Ke(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ke(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xi(n)}static emptyPath(){return new xi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.path=t}static fromPath(t){return new rt(Un.fromString(t))}static fromName(t){return new rt(Un.fromString(t).popFirst(5))}static empty(){return new rt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Un.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Un.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new Un(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-1;function xpe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(r===1e9?new Dr(n+1,0):new Dr(n,r));return new Vc(i,rt.empty(),t)}function Epe(e){return new Vc(e.readTime,e.key,Ty)}class Vc{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Vc(yt.min(),rt.empty(),Ty)}static max(){return new Vc(yt.max(),rt.empty(),Ty)}}function Rpe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=rt.comparator(e.documentKey,t.documentKey),n!==0?n:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tpe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ape{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(e){if(e.code!==Ae.FAILED_PRECONDITION||e.message!==Tpe)throw e;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Te.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Te.reject(n)}static resolve(t){return new Te((n,r)=>{n(t)})}static reject(t){return new Te((n,r)=>{r(t)})}static waitFor(t){return new Te((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=Te.resolve(!1);for(const r of t)n=n.next(i=>i?Te.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new Te((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(t,n){return new Te((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function Ppe(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jg(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}NE.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=-1;function VE(e){return e==null}function VS(e){return e===0&&1/e==-1/0}function _pe(e){return typeof e=="number"&&Number.isInteger(e)&&!VS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX="";function Ope(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ZG(t)),t=Dpe(e.get(n),t);return ZG(t)}function Dpe(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case EX:n+="";break;default:n+=o}}return n}function ZG(e){return e+EX+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ed(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function RX(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,n){this.comparator=t,this.root=n||wi.EMPTY}insert(t,n){return new ar(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(t){return new ar(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new o0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new o0(this.root,t,this.comparator,!1)}getReverseIterator(){return new o0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new o0(this.root,t,this.comparator,!0)}}class o0{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wi{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??wi.RED,this.left=i??wi.EMPTY,this.right=o??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new wi(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(t,n,r,i,o){return this}insert(t,n,r){return new wi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.comparator=t,this.data=new ar(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ez(this.data.getIterator())}getIteratorFrom(t){return new ez(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ur)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ur(this.comparator);return n.data=t,n}}class ez{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this.fields=t,t.sort(xi.comparator)}static empty(){return new Go([])}unionWith(t){let n=new Ur(xi.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Go(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ng(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TX("Invalid base64 string: "+o):o}}(t);return new Ai(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new Ai(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const Ipe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bc(e){if(wn(!!e),typeof e=="string"){let t=0;const n=Ipe.exec(e);if(wn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Er(e.seconds),nanos:Er(e.nanos)}}function Er(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Hc(e){return typeof e=="string"?Ai.fromBase64String(e):Ai.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AX="server_timestamp",PX="__type__",_X="__previous_value__",OX="__local_write_time__";function vN(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[PX])===null||n===void 0?void 0:n.stringValue)===AX}function BE(e){const t=e.mapValue.fields[_X];return vN(t)?BE(t):t}function Ay(e){const t=Bc(e.mapValue.fields[OX].timestampValue);return new Dr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mpe{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const BS="(default)";class Py{constructor(t,n){this.projectId=t,this.database=n||BS}static empty(){return new Py("","")}get isDefaultDatabase(){return this.database===BS}isEqual(t){return t instanceof Py&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX="__type__",Fpe="__max__",s0={mapValue:{}},IX="__vector__",HS="value";function $c(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vN(e)?4:Lpe(e)?9007199254740991:kpe(e)?10:11:pt()}function rl(e,t){if(e===t)return!0;const n=$c(e);if(n!==$c(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ay(e).isEqual(Ay(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Bc(i.timestampValue),a=Bc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Hc(i.bytesValue).isEqual(Hc(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Er(i.geoPointValue.latitude)===Er(o.geoPointValue.latitude)&&Er(i.geoPointValue.longitude)===Er(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Er(i.integerValue)===Er(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Er(i.doubleValue),a=Er(o.doubleValue);return s===a?VS(s)===VS(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return ng(e.arrayValue.values||[],t.arrayValue.values||[],rl);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(JG(s)!==JG(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!rl(s[l],a[l])))return!1;return!0}(e,t);default:return pt()}}function _y(e,t){return(e.values||[]).find(n=>rl(n,t))!==void 0}function rg(e,t){if(e===t)return 0;const n=$c(e),r=$c(t);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Er(o.integerValue||o.doubleValue),l=Er(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return tz(e.timestampValue,t.timestampValue);case 4:return tz(Ay(e),Ay(t));case 5:return TM(e.stringValue,t.stringValue);case 6:return function(o,s){const a=Hc(o),l=Hc(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=It(a[u],l[u]);if(h!==0)return h}return It(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=It(Er(o.latitude),Er(s.latitude));return a!==0?a:It(Er(o.longitude),Er(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nz(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a,l,u,h;const f=o.fields||{},p=s.fields||{},m=(a=f[HS])===null||a===void 0?void 0:a.arrayValue,b=(l=p[HS])===null||l===void 0?void 0:l.arrayValue,C=It(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:nz(m,b)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===s0.mapValue&&s===s0.mapValue)return 0;if(o===s0.mapValue)return 1;if(s===s0.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=TM(l[f],h[f]);if(p!==0)return p;const m=rg(a[l[f]],u[h[f]]);if(m!==0)return m}return It(l.length,h.length)}(e.mapValue,t.mapValue);default:throw pt()}}function tz(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const n=Bc(e),r=Bc(t),i=It(n.seconds,r.seconds);return i!==0?i:It(n.nanos,r.nanos)}function nz(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=rg(n[i],r[i]);if(o)return o}return It(n.length,r.length)}function ig(e){return AM(e)}function AM(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Bc(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Hc(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return rt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=AM(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${AM(n.fields[s])}`;return i+"}"}(e.mapValue):pt()}function J0(e){switch($c(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=BE(e);return t?16+J0(t):16;case 5:return 2*e.stringValue.length;case 6:return Hc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+J0(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return ed(r.fields,(o,s)=>{i+=o.length+J0(s)}),i}(e.mapValue);default:throw pt()}}function rz(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function PM(e){return!!e&&"integerValue"in e}function yN(e){return!!e&&"arrayValue"in e}function iz(e){return!!e&&"nullValue"in e}function oz(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eS(e){return!!e&&"mapValue"in e}function kpe(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[DX])===null||n===void 0?void 0:n.stringValue)===IX}function Xv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ed(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Xv(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Lpe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Fpe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.value=t}static empty(){return new Co({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!eS(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xv(n)}setAll(t){let n=xi.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Xv(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());eS(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return rl(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];eS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ed(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Co(Xv(this.value))}}function MX(e){const t=[];return ed(e.fields,(n,r)=>{const i=new xi([n]);if(eS(r)){const o=MX(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Go(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Bi(t,0,yt.min(),yt.min(),yt.min(),Co.empty(),0)}static newFoundDocument(t,n,r,i){return new Bi(t,1,n,yt.min(),r,i,0)}static newNoDocument(t,n){return new Bi(t,2,n,yt.min(),yt.min(),Co.empty(),0)}static newUnknownDocument(t,n){return new Bi(t,3,n,yt.min(),yt.min(),Co.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Co.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Bi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t,n){this.position=t,this.inclusive=n}}function sz(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=rt.comparator(rt.fromName(s.referenceValue),n.key):r=rg(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function az(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rl(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,n="asc"){this.field=t,this.dir=n}}function Npe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{}class Or extends FX{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Bpe(t,n,r):n==="array-contains"?new jpe(t,r):n==="in"?new Gpe(t,r):n==="not-in"?new zpe(t,r):n==="array-contains-any"?new Upe(t,r):new Or(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Hpe(t,r):new $pe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rg(n,this.value)):n!==null&&$c(this.value)===$c(n)&&this.matchesComparison(rg(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fa extends FX{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new fa(t,n)}matches(t){return kX(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function kX(e){return e.op==="and"}function LX(e){return Vpe(e)&&kX(e)}function Vpe(e){for(const t of e.filters)if(t instanceof fa)return!1;return!0}function _M(e){if(e instanceof Or)return e.field.canonicalString()+e.op.toString()+ig(e.value);if(LX(e))return e.filters.map(t=>_M(t)).join(",");{const t=e.filters.map(n=>_M(n)).join(",");return`${e.op}(${t})`}}function NX(e,t){return e instanceof Or?function(r,i){return i instanceof Or&&r.op===i.op&&r.field.isEqual(i.field)&&rl(r.value,i.value)}(e,t):e instanceof fa?function(r,i){return i instanceof fa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&NX(s,i.filters[a]),!0):!1}(e,t):void pt()}function VX(e){return e instanceof Or?function(n){return`${n.field.canonicalString()} ${n.op} ${ig(n.value)}`}(e):e instanceof fa?function(n){return n.op.toString()+" {"+n.getFilters().map(VX).join(" ,")+"}"}(e):"Filter"}class Bpe extends Or{constructor(t,n,r){super(t,n,r),this.key=rt.fromName(r.referenceValue)}matches(t){const n=rt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Hpe extends Or{constructor(t,n){super(t,"in",n),this.keys=BX("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class $pe extends Or{constructor(t,n){super(t,"not-in",n),this.keys=BX("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function BX(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}class jpe extends Or{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yN(n)&&_y(n.arrayValue,this.value)}}class Gpe extends Or{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&_y(this.value.arrayValue,n)}}class zpe extends Or{constructor(t,n){super(t,"not-in",n)}matches(t){if(_y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!_y(this.value.arrayValue,n)}}class Upe extends Or{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yN(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_y(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wpe{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function lz(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Wpe(e,t,n,r,i,o,s)}function bN(e){const t=Ct(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>_M(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),VE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ig(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ig(r)).join(",")),t.le=n}return t.le}function CN(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Npe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!NX(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!az(e.startAt,t.startAt)&&az(e.endAt,t.endAt)}function OM(e){return rt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function qpe(e,t,n,r,i,o,s,a){return new nC(e,t,n,r,i,o,s,a)}function HE(e){return new nC(e)}function uz(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function HX(e){return e.collectionGroup!==null}function Qv(e){const t=Ct(e);if(t.he===null){t.he=[];const n=new Set;for(const o of t.explicitOrderBy)t.he.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ur(xi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.he.push(new jS(o,r))}),n.has(xi.keyField().canonicalString())||t.he.push(new jS(xi.keyField(),r))}return t.he}function qa(e){const t=Ct(e);return t.Pe||(t.Pe=Kpe(t,Qv(e))),t.Pe}function Kpe(e,t){if(e.limitType==="F")return lz(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new jS(i.field,o)});const n=e.endAt?new $S(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new $S(e.startAt.position,e.startAt.inclusive):null;return lz(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function DM(e,t){const n=e.filters.concat([t]);return new nC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function IM(e,t,n){return new nC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $E(e,t){return CN(qa(e),qa(t))&&e.limitType===t.limitType}function $X(e){return`${bN(qa(e))}|lt:${e.limitType}`}function ip(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VX(i)).join(", ")}]`),VE(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ig(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ig(i)).join(",")),`Target(${r})`}(qa(e))}; limitType=${e.limitType})`}function jE(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):rt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of Qv(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=sz(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Qv(r),i)||r.endAt&&!function(s,a,l){const u=sz(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Qv(r),i))}(e,t)}function Ype(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jX(e){return(t,n)=>{let r=!1;for(const i of Qv(e)){const o=Xpe(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Xpe(e,t,n){const r=e.field.isKeyField()?rt.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?rg(l,u):pt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ed(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return RX(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qpe=new ar(rt.comparator);function du(){return Qpe}const GX=new ar(rt.comparator);function Lv(...e){let t=GX;for(const n of e)t=t.insert(n.key,n);return t}function zX(e){let t=GX;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Zd(){return Zv()}function UX(){return Zv()}function Zv(){return new Yh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Zpe=new ar(rt.comparator),Jpe=new Ur(rt.comparator);function $t(...e){let t=Jpe;for(const n of e)t=t.add(n);return t}const ege=new Ur(It);function tge(){return ege}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:VS(t)?"-0":t}}function WX(e){return{integerValue:""+e}}function nge(e,t){return _pe(t)?WX(t):wN(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this._=void 0}}function rge(e,t,n){return e instanceof GS?function(i,o){const s={fields:{[PX]:{stringValue:AX},[OX]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vN(o)&&(o=BE(o)),o&&(s.fields[_X]=o),{mapValue:s}}(n,t):e instanceof og?KX(e,t):e instanceof Oy?YX(e,t):function(i,o){const s=qX(i,o),a=cz(s)+cz(i.Ie);return PM(s)&&PM(i.Ie)?WX(a):wN(i.serializer,a)}(e,t)}function ige(e,t,n){return e instanceof og?KX(e,t):e instanceof Oy?YX(e,t):n}function qX(e,t){return e instanceof zS?function(r){return PM(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class GS extends GE{}class og extends GE{constructor(t){super(),this.elements=t}}function KX(e,t){const n=XX(t);for(const r of e.elements)n.some(i=>rl(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oy extends GE{constructor(t){super(),this.elements=t}}function YX(e,t){let n=XX(t);for(const r of e.elements)n=n.filter(i=>!rl(i,r));return{arrayValue:{values:n}}}class zS extends GE{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function cz(e){return Er(e.integerValue||e.doubleValue)}function XX(e){return yN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oge{constructor(t,n){this.field=t,this.transform=n}}function sge(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof og&&i instanceof og||r instanceof Oy&&i instanceof Oy?ng(r.elements,i.elements,rl):r instanceof zS&&i instanceof zS?rl(r.Ie,i.Ie):r instanceof GS&&i instanceof GS}(e.transform,t.transform)}class age{constructor(t,n){this.version=t,this.transformResults=n}}class aa{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new aa}static exists(t){return new aa(void 0,t)}static updateTime(t){return new aa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function tS(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class zE{}function QX(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new SN(e.key,aa.none()):new rC(e.key,e.data,aa.none());{const n=e.data,r=Co.empty();let i=new Ur(xi.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new td(e.key,r,new Go(i.toArray()),aa.none())}}function lge(e,t,n){e instanceof rC?function(i,o,s){const a=i.value.clone(),l=hz(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof td?function(i,o,s){if(!tS(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=hz(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(ZX(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Jv(e,t,n,r){return e instanceof rC?function(o,s,a,l){if(!tS(o.precondition,s))return a;const u=o.value.clone(),h=fz(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof td?function(o,s,a,l){if(!tS(o.precondition,s))return a;const u=fz(o.fieldTransforms,l,s),h=s.data;return h.setAll(ZX(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(o,s,a){return tS(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function uge(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=qX(r.transform,i||null);o!=null&&(n===null&&(n=Co.empty()),n.set(r.field,o))}return n||null}function dz(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ng(r,i,(o,s)=>sge(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rC extends zE{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class td extends zE{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ZX(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function hz(e,t,n){const r=new Map;wn(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ige(s,a,n[i]))}return r}function fz(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,rge(o,s,t))}return r}class SN extends zE{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cge extends zE{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dge{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&lge(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Jv(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Jv(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=UX();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=QX(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),$t())}isEqual(t){return this.batchId===t.batchId&&ng(this.mutations,t.mutations,(n,r)=>dz(n,r))&&ng(this.baseMutations,t.baseMutations,(n,r)=>dz(n,r))}}class xN{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){wn(t.mutations.length===r.length);let i=function(){return Zpe}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new xN(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hge{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fge{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr,Zt;function pge(e){switch(e){case Ae.OK:return pt();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return pt()}}function JX(e){if(e===void 0)return cu("GRPC error has no .code"),Ae.UNKNOWN;switch(e){case Pr.OK:return Ae.OK;case Pr.CANCELLED:return Ae.CANCELLED;case Pr.UNKNOWN:return Ae.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return Ae.INTERNAL;case Pr.UNAVAILABLE:return Ae.UNAVAILABLE;case Pr.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Pr.NOT_FOUND:return Ae.NOT_FOUND;case Pr.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Pr.ABORTED:return Ae.ABORTED;case Pr.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Pr.DATA_LOSS:return Ae.DATA_LOSS;default:return pt()}}(Zt=Pr||(Pr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gge=new Ic([4294967295,4294967295],0);function pz(e){const t=SX().encode(e),n=new gX;return n.update(t),new Uint8Array(n.digest())}function gz(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ic([n,r],0),new Ic([i,o],0)]}class EN{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nv(`Invalid padding: ${n}`);if(r<0)throw new Nv(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nv(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Nv(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Ic.fromNumber(this.Ee)}Ae(t,n,r){let i=t.add(n.multiply(Ic.fromNumber(r)));return i.compare(gge)===1&&(i=new Ic([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=pz(t),[r,i]=gz(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new EN(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Ee===0)return;const n=pz(t),[r,i]=gz(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Nv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,iC.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new UE(yt.min(),i,new ar(It),du(),$t())}}class iC{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new iC(r,n,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,n,r,i){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i}}class eQ{constructor(t,n){this.targetId=t,this.ge=n}}class tQ{constructor(t,n,r=Ai.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mz{constructor(){this.pe=0,this.ye=vz(),this.we=Ai.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=$t(),n=$t(),r=$t();return this.ye.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pt()}}),new iC(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=vz()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,wn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class mge{constructor(t){this.ke=t,this.qe=new Map,this.Qe=du(),this.$e=a0(),this.Ue=a0(),this.Ke=new ar(It)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:pt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(t){const n=t.targetId,r=t.ge.count,i=this.Xe(n);if(i){const o=i.target;if(OM(o))if(r===0){const s=new rt(o.path);this.ze(n,s,Bi.newNoDocument(s,yt.min()))}else wn(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(t),l=a?this.nt(a,t,s):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Hc(r).toUint8Array()}catch(l){if(l instanceof TX)return tg("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new EN(s,i,o)}catch(l){return tg(l instanceof Nv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(t){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&OM(a.target)){const l=new rt(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,Bi.newNoDocument(l,t))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=$t();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(t));const i=new UE(t,n,this.Ke,this.Qe,r);return this.Qe=du(),this.$e=a0(),this.Ue=a0(),this.Ke=new ar(It),i}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const i=this.He(t);this.ut(t,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new mz,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Ur(It),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ur(It),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||We("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new mz),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function a0(){return new ar(rt.comparator)}function vz(){return new ar(rt.comparator)}const vge={asc:"ASCENDING",desc:"DESCENDING"},yge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bge={and:"AND",or:"OR"};class Cge{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function MM(e,t){return e.useProto3Json||VE(t)?t:{value:t}}function US(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nQ(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wge(e,t){return US(e,t.toTimestamp())}function Ka(e){return wn(!!e),yt.fromTimestamp(function(n){const r=Bc(n);return new Dr(r.seconds,r.nanos)}(e))}function RN(e,t){return FM(e,t).canonicalString()}function FM(e,t){const n=function(i){return new Un(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function rQ(e){const t=Un.fromString(e);return wn(lQ(t)),t}function kM(e,t){return RN(e.databaseId,t.path)}function PP(e,t){const n=rQ(t);if(n.get(1)!==e.databaseId.projectId)throw new Ke(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ke(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rt(oQ(n))}function iQ(e,t){return RN(e.databaseId,t)}function Sge(e){const t=rQ(e);return t.length===4?Un.emptyPath():oQ(t)}function LM(e){return new Un(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oQ(e){return wn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function yz(e,t,n){return{name:kM(e,t),fields:n.value.mapValue.fields}}function xge(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(wn(h===void 0||typeof h=="string"),Ai.fromBase64String(h||"")):(wn(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ai.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const h=u.code===void 0?Ae.UNKNOWN:JX(u.code);return new Ke(h,u.message||"")}(s);n=new tQ(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=PP(e,r.document.name),o=Ka(r.document.updateTime),s=r.document.createTime?Ka(r.document.createTime):yt.min(),a=new Co({mapValue:{fields:r.document.fields}}),l=Bi.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new nS(u,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=PP(e,r.document),o=r.readTime?Ka(r.readTime):yt.min(),s=Bi.newNoDocument(i,o),a=r.removedTargetIds||[];n=new nS([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=PP(e,r.document),o=r.removedTargetIds||[];n=new nS([],o,i,null)}else{if(!("filter"in t))return pt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new fge(i,o),a=r.targetId;n=new eQ(a,s)}}return n}function Ege(e,t){let n;if(t instanceof rC)n={update:yz(e,t.key,t.value)};else if(t instanceof SN)n={delete:kM(e,t.key)};else if(t instanceof td)n={update:yz(e,t.key,t.data),updateMask:Mge(t.fieldMask)};else{if(!(t instanceof cge))return pt();n={verify:kM(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof GS)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof og)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oy)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zS)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw pt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:wge(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:pt()}(e,t.precondition)),n}function Rge(e,t){return e&&e.length>0?(wn(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?Ka(i.updateTime):Ka(o);return s.isEqual(yt.min())&&(s=Ka(o)),new age(s,i.transformResults||[])}(n,t))):[]}function Tge(e,t){return{documents:[iQ(e,t.path)]}}function Age(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iQ(e,i);const o=function(u){if(u.length!==0)return aQ(fa.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:op(p.field),direction:Oge(p.dir)}}(h))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=MM(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ht:n,parent:i}}function Pge(e){let t=Sge(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wn(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let o=[];n.where&&(o=function(f){const p=sQ(f);return p instanceof fa&&LX(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(p=>function(b){return new jS(sp(b.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,VE(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new $S(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new $S(m,p)}(n.endAt)),qpe(t,i,s,o,a,"F",l,u)}function _ge(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function sQ(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sp(n.unaryFilter.field);return Or.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sp(n.unaryFilter.field);return Or.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=sp(n.unaryFilter.field);return Or.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=sp(n.unaryFilter.field);return Or.create(s,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(e):e.fieldFilter!==void 0?function(n){return Or.create(sp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return fa.create(n.compositeFilter.filters.map(r=>sQ(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pt()}}(n.compositeFilter.op))}(e):pt()}function Oge(e){return vge[e]}function Dge(e){return yge[e]}function Ige(e){return bge[e]}function op(e){return{fieldPath:e.canonicalString()}}function sp(e){return xi.fromServerFormat(e.fieldPath)}function aQ(e){return e instanceof Or?function(n){if(n.op==="=="){if(oz(n.value))return{unaryFilter:{field:op(n.field),op:"IS_NAN"}};if(iz(n.value))return{unaryFilter:{field:op(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oz(n.value))return{unaryFilter:{field:op(n.field),op:"IS_NOT_NAN"}};if(iz(n.value))return{unaryFilter:{field:op(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:op(n.field),op:Dge(n.op),value:n.value}}}(e):e instanceof fa?function(n){const r=n.getFilters().map(i=>aQ(i));return r.length===1?r[0]:{compositeFilter:{op:Ige(n.op),filters:r}}}(e):pt()}function Mge(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function lQ(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n,r,i,o=yt.min(),s=yt.min(),a=Ai.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Rc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fge{constructor(t){this.Tt=t}}function kge(e){const t=Pge({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?IM(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lge{constructor(){this.Tn=new Nge}addToCollectionParentIndex(t,n){return this.Tn.add(n),Te.resolve()}getCollectionParents(t,n){return Te.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Te.resolve()}deleteFieldIndex(t,n){return Te.resolve()}deleteAllFieldIndexes(t){return Te.resolve()}createTargetIndexes(t,n){return Te.resolve()}getDocumentsMatchingTarget(t,n){return Te.resolve(null)}getIndexType(t,n){return Te.resolve(0)}getFieldIndexes(t,n){return Te.resolve([])}getNextCollectionGroupToUpdate(t){return Te.resolve(null)}getMinOffset(t,n){return Te.resolve(Vc.min())}getMinOffsetFromCollectionGroup(t,n){return Te.resolve(Vc.min())}updateCollectionGroup(t,n,r){return Te.resolve()}updateIndexEntries(t,n){return Te.resolve()}}class Nge{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ur(Un.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ur(Un.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uQ=41943040;class yo{static withCacheSize(t){return new yo(t,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(uQ,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new sg(0)}static Kn(){return new sg(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz="LruGarbageCollector",Vge=1048576;function wz([e,t],[n,r]){const i=It(e,n);return i===0?It(t,r):i}class Bge{constructor(t){this.Hn=t,this.buffer=new Ur(wz),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wz(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hge{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){We(Cz,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jg(n)?We(Cz,"Ignoring IndexedDB error during garbage collection: ",n):await Zg(n)}await this.er(3e5)})}}class $ge{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Te.resolve(NE.ae);const r=new Bge(n);return this.tr.forEachTarget(t,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(t,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(We("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(bz)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bz):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,i,o,s,a,l,u;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(t,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),rp()<=Ht.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function jge(e,t){return new $ge(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gge{constructor(){this.changes=new Yh(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Bi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Te.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zge{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uge{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Jv(r.mutation,i,Go.empty(),Dr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,$t()).next(()=>r))}getLocalViewOfDocuments(t,n,r=$t()){const i=Zd();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=Lv();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Zd();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,$t()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=du();const s=Zv(),a=function(){return Zv()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof td)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Jv(h.mutation,u,h.mutation.getFieldMask(),Dr.now())):s.set(u.key,Go.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new zge(h,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Zv();let i=new ar((s,a)=>s-a),o=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Go.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(i.get(a.batchId)||$t()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=UX();h.forEach(p=>{if(!o.has(p)){const m=QX(n.get(p),r.get(p));m!==null&&f.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return Te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return rt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HX(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):Te.resolve(Zd());let a=Ty,l=o;return s.next(u=>Te.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?Te.resolve():this.remoteDocumentCache.getEntry(t,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,$t())).next(h=>({batchId:a,changes:zX(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new rt(n)).next(r=>{let i=Lv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=Lv();return this.indexManager.getCollectionParents(t,o).next(a=>Te.forEach(a,l=>{const u=function(f,p){return new nC(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(h=>{h.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,Bi.newInvalidDocument(h)))});let a=Lv();return s.forEach((l,u)=>{const h=o.get(l);h!==void 0&&Jv(h.mutation,u,Go.empty(),Dr.now()),jE(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wge{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Te.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ka(i.createTime)}}(n)),Te.resolve()}getNamedQuery(t,n){return Te.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:kge(i.bundledQuery),readTime:Ka(i.readTime)}}(n)),Te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qge{constructor(){this.overlays=new ar(rt.comparator),this.Rr=new Map}getOverlay(t,n){return Te.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Zd();return Te.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.Et(t,n,o)}),Te.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Te.resolve()}getOverlaysForCollection(t,n,r){const i=Zd(),o=n.length+1,s=new rt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Te.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new ar((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Zd(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Zd(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return Te.resolve(a)}Et(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new hge(n,r));let o=this.Rr.get(n);o===void 0&&(o=$t(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kge{constructor(){this.sessionToken=Ai.EMPTY_BYTE_STRING}getSessionToken(t){return Te.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Vr=new Ur(oi.mr),this.gr=new Ur(oi.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new oi(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new oi(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new rt(new Un([])),r=new oi(n,t),i=new oi(n,t+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new rt(new Un([])),r=new oi(n,t),i=new oi(n,t+1);let o=$t();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new oi(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class oi{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return rt.comparator(t.key,n.key)||It(t.Cr,n.Cr)}static pr(t,n){return It(t.Cr,n.Cr)||rt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yge{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ur(oi.mr)}checkEmpty(t){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new dge(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new oi(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Te.resolve(s)}lookupMutationBatch(t,n){return Te.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return Te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?mN:this.Fr-1)}getAllMutationBatches(t){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new oi(n,0),i=new oi(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),Te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ur(It);return n.forEach(i=>{const o=new oi(i,0),s=new oi(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),Te.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;rt.isDocumentKey(o)||(o=o.child(""));const s=new oi(new rt(o),0);let a=new Ur(It);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)},s),Te.resolve(this.Br(a))}Br(t){const n=[];return t.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){wn(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Te.forEach(n.mutations,i=>{const o=new oi(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new oi(n,0),i=this.Mr.firstAfterOrEqual(r);return Te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Te.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xge{constructor(t){this.kr=t,this.docs=function(){return new ar(rt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Te.resolve(r?r.document.mutableCopy():Bi.newInvalidDocument(n))}getEntries(t,n){let r=du();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bi.newInvalidDocument(i))}),Te.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=du();const s=n.path,a=new rt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Rpe(Epe(h),r)<=0||(i.has(h.key)||jE(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return Te.resolve(o)}getAllFromCollectionGroup(t,n,r,i){pt()}qr(t,n){return Te.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Qge(this)}getSize(t){return Te.resolve(this.size)}}class Qge extends Gge{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(r)}),Te.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zge{constructor(t){this.persistence=t,this.Qr=new Yh(n=>bN(n),CN),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new TN,this.targetCount=0,this.Kr=sg.Un()}forEachTarget(t,n){return this.Qr.forEach((r,i)=>n(i)),Te.resolve()}getLastRemoteSnapshotVersion(t){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Te.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Te.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new sg(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Te.resolve()}updateTargetData(t,n){return this.zn(n),Te.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Te.waitFor(o).next(()=>i)}getTargetCount(t){return Te.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return Te.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),Te.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),Te.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Te.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return Te.resolve(r)}containsKey(t,n){return Te.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new NE(0),this.zr=!1,this.zr=!0,this.jr=new Kge,this.referenceDelegate=t(this),this.Hr=new Zge(this),this.indexManager=new Lge,this.remoteDocumentCache=function(i){return new Xge(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Fge(n),this.Yr=new Wge(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qge,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new Yge(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){We("MemoryPersistence","Starting transaction:",t);const i=new Jge(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(t,n){return Te.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class Jge extends Ape{constructor(t){super(),this.currentSequenceNumber=t}}class AN{constructor(t){this.persistence=t,this.ti=new TN,this.ni=null}static ri(t){return new AN(t)}get ii(){if(this.ni)return this.ni;throw pt()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Te.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Te.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.ii,r=>{const i=rt.fromPath(r);return this.si(t,i).next(o=>{o||n.removeEntry(i,yt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Te.or([()=>Te.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class WS{constructor(t,n){this.persistence=t,this.oi=new Yh(r=>Ope(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=jge(this,n)}static ri(t,n){return new WS(t,n)}Zr(){}Xr(t){return Te.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return Te.forEach(this.oi,(r,i)=>this.ar(t,r,i).next(o=>o?Te.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(t,s=>this.ar(t,s,n).next(a=>{a||(r++,o.removeEntry(s,yt.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Te.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Te.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Te.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Te.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=J0(t.data.value)),n}ar(t,n,r){return Te.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.oi.get(n);return Te.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(t,n){let r=$t(),i=$t();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new PN(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tme{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Xhe()?8:Ppe(Gi())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.rs(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new eme;return this._s(t,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(t,n,s,a.size)})}).next(()=>o.result)}us(t,n,r,i){return r.documentReadCount<this.es?(rp()<=Ht.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",ip(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Te.resolve()):(rp()<=Ht.DEBUG&&We("QueryEngine","Query:",ip(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(rp()<=Ht.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",ip(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qa(n))):Te.resolve())}rs(t,n){if(uz(n))return Te.resolve(null);let r=qa(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=IM(n,null,"F"),r=qa(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=$t(...o);return this.ns.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,s,l.readTime)?this.rs(t,IM(n,null,"F")):this.hs(t,u,n,l)}))})))}ss(t,n,r,i){return uz(n)||i.isEqual(yt.min())?Te.resolve(null):this.ns.getDocuments(t,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?Te.resolve(null):(rp()<=Ht.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ip(n)),this.hs(t,s,n,xpe(i,Ty)).next(a=>a))})}cs(t,n){let r=new Ur(jX(t));return n.forEach((i,o)=>{jE(t,o)&&(r=r.add(o))}),r}ls(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(t,n,r){return rp()<=Ht.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",ip(n)),this.ns.getDocumentsMatchingQuery(t,n,Vc.min(),r)}hs(t,n,r,i){return this.ns.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="LocalStore",nme=3e8;class rme{constructor(t,n,r,i){this.persistence=t,this.Ps=n,this.serializer=i,this.Ts=new ar(It),this.Is=new Yh(o=>bN(o),CN),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Uge(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function ime(e,t,n,r){return new rme(e,t,n,r)}async function dQ(e,t){const n=Ct(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=$t();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:s,addedBatchIds:a}))})})}function ome(e,t){const n=Ct(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,p=f.keys();let m=Te.resolve();return p.forEach(b=>{m=m.next(()=>h.getEntry(l,b)).next(C=>{const y=u.docVersions.get(b);wn(y!==null),C.version.compareTo(y)<0&&(f.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),h.addEntry(C)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$t();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function hQ(e){const t=Ct(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function sme(e,t){const n=Ct(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.Hr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(o,h.addedDocuments,f)));let m=p.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(Ai.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(f,m),function(C,y,x){return C.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=nme?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,h)&&a.push(n.Hr.updateTargetData(o,m))});let l=du(),u=$t();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(ame(o,s,t.documentUpdates).next(h=>{l=h.Vs,u=h.fs})),!r.isEqual(yt.min())){const h=n.Hr.getLastRemoteSnapshotVersion(o).next(f=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return Te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ts=i,o))}function ame(e,t,n){let r=$t(),i=$t();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=du();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(yt.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):We(_N,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function lme(e,t){const n=Ct(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=mN),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function ume(e,t){const n=Ct(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,t).next(o=>o?(i=o,Te.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new Rc(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function NM(e,t,n){const r=Ct(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Jg(s))throw s;We(_N,`Failed to update sequence numbers for target ${t}: ${s}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Sz(e,t,n){const r=Ct(e);let i=yt.min(),o=$t();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const f=Ct(l),p=f.Is.get(h);return p!==void 0?Te.resolve(f.Ts.get(p)):f.Hr.getTargetData(u,h)}(r,s,qa(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,t,n?i:yt.min(),n?o:$t())).next(a=>(cme(r,Ype(t),a),{documents:a,gs:o})))}function cme(e,t,n){let r=e.Es.get(t)||yt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Es.set(t,r)}class xz{constructor(){this.activeTargetIds=tge()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dme{constructor(){this.ho=new xz,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new xz,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hme{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="ConnectivityMonitor";class Rz{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){We(Ez,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){We(Ez,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0=null;function VM(){return l0===null?l0=function(){return 268435456+Math.round(2147483648*Math.random())}():l0++,"0x"+l0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="RestConnection",fme={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pme{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===BS?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(t,n,r,i,o){const s=VM(),a=this.bo(t,n.toUriEncodedString());We(_P,`Sending RPC '${t}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(t,a,l,r).then(u=>(We(_P,`Received RPC '${t}' ${s}: `,u),u),u=>{throw tg(_P,`RPC '${t}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}Co(t,n,r,i,o,s){return this.So(t,n,r,i,o)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qg}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}bo(t,n){const r=fme[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gme{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="WebChannelConnection";class mme extends pme{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,i){const o=VM();return new Promise((s,a)=>{const l=new mX;l.setWithCredentials(!0),l.listenOnce(vX.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Z0.NO_ERROR:const h=l.getResponseJson();We(ki,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),s(h);break;case Z0.TIMEOUT:We(ki,`RPC '${t}' ${o} timed out`),a(new Ke(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Z0.HTTP_ERROR:const f=l.getStatus();if(We(ki,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const b=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(x)>=0?x:Ae.UNKNOWN}(m.status);a(new Ke(b,m.message))}else a(new Ke(Ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ke(Ae.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{We(ki,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);We(ki,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(t,n,r){const i=VM(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=CX(),a=bX(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");We(ki,`Creating RPC '${t}' stream ${i}: ${h}`,l);const f=s.createWebChannel(h,l);let p=!1,m=!1;const b=new gme({Fo:y=>{m?We(ki,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(p||(We(ki,`Opening RPC '${t}' stream ${i} transport.`),f.open(),p=!0),We(ki,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},Mo:()=>f.close()}),C=(y,x,R)=>{y.listen(x,T=>{try{R(T)}catch(M){setTimeout(()=>{throw M},0)}})};return C(f,kv.EventType.OPEN,()=>{m||(We(ki,`RPC '${t}' stream ${i} transport opened.`),b.Qo())}),C(f,kv.EventType.CLOSE,()=>{m||(m=!0,We(ki,`RPC '${t}' stream ${i} transport closed`),b.Uo())}),C(f,kv.EventType.ERROR,y=>{m||(m=!0,tg(ki,`RPC '${t}' stream ${i} transport errored:`,y),b.Uo(new Ke(Ae.UNAVAILABLE,"The operation could not be completed")))}),C(f,kv.EventType.MESSAGE,y=>{var x;if(!m){const R=y.data[0];wn(!!R);const T=R,M=(T==null?void 0:T.error)||((x=T[0])===null||x===void 0?void 0:x.error);if(M){We(ki,`RPC '${t}' stream ${i} received error:`,M);const A=M.status;let D=function(O){const F=Pr[O];if(F!==void 0)return JX(F)}(A),_=M.message;D===void 0&&(D=Ae.INTERNAL,_="Unknown error status: "+A+" with message "+M.message),m=!0,b.Uo(new Ke(D,_)),f.close()}else We(ki,`RPC '${t}' stream ${i} received:`,R),b.Ko(R)}}),C(a,yX.STAT_EVENT,y=>{y.stat===RM.PROXY?We(ki,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===RM.NOPROXY&&We(ki,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function OP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(e){return new Cge(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz="PersistentStream";class pQ{constructor(t,n,r,i,o,s,a,l){this.Ti=t,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fQ(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Ae.RESOURCE_EXHAUSTED?(cu(n.toString()),cu("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{t(()=>{const i=new Ke(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return We(Tz,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(We(Tz,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vme extends pQ{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=xge(this.serializer,t),r=function(o){if(!("targetChange"in o))return yt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?yt.min():s.readTime?Ka(s.readTime):yt.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=LM(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=OM(l)?{documents:Tge(o,l)}:{query:Age(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=nQ(o,s.resumeToken);const u=MM(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(yt.min())>0){a.readTime=US(o,s.snapshotVersion.toTimestamp());const u=MM(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=_ge(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=LM(this.serializer),n.removeTarget=t,this.I_(n)}}class yme extends pQ{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return wn(!!t.streamToken),this.lastStreamToken=t.streamToken,wn(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){wn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=Rge(t.writeResults,t.commitTime),r=Ka(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=LM(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Ege(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bme{}class Cme extends bme{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ke(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(t,FM(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Ae.UNKNOWN,o.toString())})}Co(t,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(t,FM(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Ae.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class wme{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(cu(n),this.N_=!1):We("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="RemoteStore";class Sme{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Xh(this)&&(We(Mh,"Restarting streams for network reachability change."),await async function(l){const u=Ct(l);u.W_.add(4),await oC(u),u.j_.set("Unknown"),u.W_.delete(4),await qE(u)}(this))})}),this.j_=new wme(r,i)}}async function qE(e){if(Xh(e))for(const t of e.G_)await t(!0)}async function oC(e){for(const t of e.G_)await t(!1)}function gQ(e,t){const n=Ct(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),MN(n)?IN(n):em(n).c_()&&DN(n,t))}function ON(e,t){const n=Ct(e),r=em(n);n.K_.delete(t),r.c_()&&mQ(n,t),n.K_.size===0&&(r.c_()?r.P_():Xh(n)&&n.j_.set("Unknown"))}function DN(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}em(e).y_(t)}function mQ(e,t){e.H_.Ne(t),em(e).w_(t)}function IN(e){e.H_=new mge({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),em(e).start(),e.j_.B_()}function MN(e){return Xh(e)&&!em(e).u_()&&e.K_.size>0}function Xh(e){return Ct(e).W_.size===0}function vQ(e){e.H_=void 0}async function xme(e){e.j_.set("Online")}async function Eme(e){e.K_.forEach((t,n)=>{DN(e,t)})}async function Rme(e,t){vQ(e),MN(e)?(e.j_.q_(t),IN(e)):e.j_.set("Unknown")}async function Tme(e,t,n){if(e.j_.set("Online"),t instanceof tQ&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))}(e,t)}catch(r){We(Mh,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await qS(e,r)}else if(t instanceof nS?e.H_.We(t):t instanceof eQ?e.H_.Ze(t):e.H_.je(t),!n.isEqual(yt.min()))try{const r=await hQ(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.K_.get(u);h&&o.K_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.K_.get(l);if(!h)return;o.K_.set(l,h.withResumeToken(Ai.EMPTY_BYTE_STRING,h.snapshotVersion)),mQ(o,l);const f=new Rc(h.target,l,u,h.sequenceNumber);DN(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){We(Mh,"Failed to raise snapshot:",r),await qS(e,r)}}async function qS(e,t,n){if(!Jg(t))throw t;e.W_.add(1),await oC(e),e.j_.set("Offline"),n||(n=()=>hQ(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{We(Mh,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await qE(e)})}function yQ(e,t){return t().catch(n=>qS(e,n,t))}async function KE(e){const t=Ct(e),n=jc(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:mN;for(;Ame(t);)try{const i=await lme(t.localStore,r);if(i===null){t.U_.length===0&&n.P_();break}r=i.batchId,Pme(t,i)}catch(i){await qS(t,i)}bQ(t)&&CQ(t)}function Ame(e){return Xh(e)&&e.U_.length<10}function Pme(e,t){e.U_.push(t);const n=jc(e);n.c_()&&n.S_&&n.b_(t.mutations)}function bQ(e){return Xh(e)&&!jc(e).u_()&&e.U_.length>0}function CQ(e){jc(e).start()}async function _me(e){jc(e).C_()}async function Ome(e){const t=jc(e);for(const n of e.U_)t.b_(n.mutations)}async function Dme(e,t,n){const r=e.U_.shift(),i=xN.from(r,t,n);await yQ(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await KE(e)}async function Ime(e,t){t&&jc(e).S_&&await async function(r,i){if(function(s){return pge(s)&&s!==Ae.ABORTED}(i.code)){const o=r.U_.shift();jc(r).h_(),await yQ(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await KE(r)}}(e,t),bQ(e)&&CQ(e)}async function Az(e,t){const n=Ct(e);n.asyncQueue.verifyOperationInProgress(),We(Mh,"RemoteStore received new credentials");const r=Xh(n);n.W_.add(3),await oC(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await qE(n)}async function Mme(e,t){const n=Ct(e);t?(n.W_.delete(2),await qE(n)):t||(n.W_.add(2),await oC(n),n.j_.set("Unknown"))}function em(e){return e.J_||(e.J_=function(n,r,i){const o=Ct(n);return o.M_(),new vme(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{xo:xme.bind(null,e),No:Eme.bind(null,e),Lo:Rme.bind(null,e),p_:Tme.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),MN(e)?IN(e):e.j_.set("Unknown")):(await e.J_.stop(),vQ(e))})),e.J_}function jc(e){return e.Y_||(e.Y_=function(n,r,i){const o=Ct(n);return o.M_(),new yme(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:_me.bind(null,e),Lo:Ime.bind(null,e),D_:Ome.bind(null,e),v_:Dme.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await KE(e)):(await e.Y_.stop(),e.U_.length>0&&(We(Mh,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new FN(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kN(e,t){if(cu("AsyncQueue",`${t}: ${e}`),Jg(e))return new Ke(Ae.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{static emptySet(t){return new Rp(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=Lv(),this.sortedSet=new ar(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Rp)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Rp;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(){this.Z_=new ar(rt.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):pt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class ag{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ag(t,n,Rp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$E(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fme{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class kme{constructor(){this.queries=_z(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Ct(n),o=i.queries;i.queries=_z(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Ke(Ae.ABORTED,"Firestore shutting down"))}}function _z(){return new Yh(e=>$X(e),$E)}async function LN(e,t){const n=Ct(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new Fme,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=kN(s,`Initialization of query '${ip(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&VN(n)}async function NN(e,t){const n=Ct(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(t);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lme(e,t){const n=Ct(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&VN(n)}function Nme(e,t,n){const r=Ct(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function VN(e){e.ia.forEach(t=>{t.next()})}var BM,Oz;(Oz=BM||(BM={}))._a="default",Oz.Cache="cache";class BN{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new ag(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=ag.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==BM.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(t){this.key=t}}class SQ{constructor(t){this.key=t}}class Vme{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$t(),this.mutatedKeys=$t(),this.ya=jX(t),this.wa=new Rp(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new Pz,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((h,f)=>{const p=i.get(h),m=jE(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),C=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;p&&m?p.data.isEqual(m.data)?b!==C&&(r.track({type:3,doc:m}),y=!0):this.va(p,m)||(r.track({type:2,doc:m}),y=!0,(l&&this.ya(m,l)>0||u&&this.ya(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),y=!0):p&&!m&&(r.track({type:1,doc:p}),y=!0,(l||u)&&(a=!0)),y&&(m?(s=s.add(m),o=C?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const s=t.Da.X_();s.sort((h,f)=>function(m,b){const C=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return C(m)-C(b)}(h.type,f.type)||this.ya(h.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,s.length!==0||u?{snapshot:new ag(this.query,t.wa,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Pz,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=$t(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new SQ(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new wQ(r))}),n}Oa(t){this.fa=t.gs,this.pa=$t();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return ag.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const HN="SyncEngine";class Bme{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Hme{constructor(t){this.key=t,this.Ba=!1}}class $me{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Yh(a=>$X(a),$E),this.qa=new Map,this.Qa=new Set,this.$a=new ar(rt.comparator),this.Ua=new Map,this.Ka=new TN,this.Wa={},this.Ga=new Map,this.za=sg.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function jme(e,t,n=!0){const r=PQ(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await xQ(r,t,n,!0),i}async function Gme(e,t){const n=PQ(e);await xQ(n,t,!0,!1)}async function xQ(e,t,n,r){const i=await ume(e.localStore,qa(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await zme(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&gQ(e.remoteStore,i),a}async function zme(e,t,n,r,i){e.Ha=(f,p,m)=>async function(C,y,x,R){let T=y.view.ba(x);T.ls&&(T=await Sz(C.localStore,y.query,!1).then(({documents:_})=>y.view.ba(_,T)));const M=R&&R.targetChanges.get(y.targetId),A=R&&R.targetMismatches.get(y.targetId)!=null,D=y.view.applyChanges(T,C.isPrimaryClient,M,A);return Iz(C,y.targetId,D.Ma),D.snapshot}(e,f,p,m);const o=await Sz(e.localStore,t,!0),s=new Vme(t,o.gs),a=s.ba(o.documents),l=iC.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);Iz(e,n,u.Ma);const h=new Bme(t,n,s);return e.ka.set(t,h),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),u.snapshot}async function Ume(e,t,n){const r=Ct(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!$E(s,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await NM(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ON(r.remoteStore,i.targetId),HM(r,i.targetId)}).catch(Zg)):(HM(r,i.targetId),await NM(r.localStore,i.targetId,!0))}async function Wme(e,t){const n=Ct(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ON(n.remoteStore,r.targetId))}async function qme(e,t,n){const r=eve(e);try{const i=await function(s,a){const l=Ct(s),u=Dr.now(),h=a.reduce((m,b)=>m.add(b.key),$t());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=du(),C=$t();return l.ds.getEntries(m,h).next(y=>{b=y,b.forEach((x,R)=>{R.isValidDocument()||(C=C.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,b)).next(y=>{f=y;const x=[];for(const R of a){const T=uge(R,f.get(R.key).overlayedDocument);T!=null&&x.push(new td(R.key,T,MX(T.value.mapValue),aa.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,a)}).next(y=>{p=y;const x=y.applyToLocalDocumentSet(f,C);return l.documentOverlayCache.saveOverlays(m,y.batchId,x)})}).then(()=>({batchId:p.batchId,changes:zX(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Wa[s.currentUser.toKey()];u||(u=new ar(It)),u=u.insert(a,l),s.Wa[s.currentUser.toKey()]=u}(r,i.batchId,n),await sC(r,i.changes),await KE(r.remoteStore)}catch(i){const o=kN(i,"Failed to persist write");n.reject(o)}}async function EQ(e,t){const n=Ct(e);try{const r=await sme(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(wn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?wn(s.Ba):i.removedDocuments.size>0&&(wn(s.Ba),s.Ba=!1))}),await sC(n,r,t)}catch(r){await Zg(r)}}function Dz(e,t,n){const r=Ct(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ct(s);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const p of f.ta)p.sa(a)&&(u=!0)}),u&&VN(l)}(r.eventManager,t),i.length&&r.La.p_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Kme(e,t,n){const r=Ct(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),o=i&&i.key;if(o){let s=new ar(rt.comparator);s=s.insert(o,Bi.newNoDocument(o,yt.min()));const a=$t().add(o),l=new UE(yt.min(),new Map,new ar(It),s,a);await EQ(r,l),r.$a=r.$a.remove(o),r.Ua.delete(t),$N(r)}else await NM(r.localStore,t,!1).then(()=>HM(r,t,n)).catch(Zg)}async function Yme(e,t){const n=Ct(e),r=t.batch.batchId;try{const i=await ome(n.localStore,t);TQ(n,r,null),RQ(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sC(n,i)}catch(i){await Zg(i)}}async function Xme(e,t,n){const r=Ct(e);try{const i=await function(s,a){const l=Ct(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(wn(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,t);TQ(r,t,n),RQ(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sC(r,i)}catch(i){await Zg(i)}}function RQ(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function TQ(e,t,n){const r=Ct(e);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function HM(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(r=>{e.Ka.containsKey(r)||AQ(e,r)})}function AQ(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(ON(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),$N(e))}function Iz(e,t,n){for(const r of n)r instanceof wQ?(e.Ka.addReference(r.key,t),Qme(e,r)):r instanceof SQ?(We(HN,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||AQ(e,r.key)):pt()}function Qme(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(We(HN,"New document in limbo: "+n),e.Qa.add(r),$N(e))}function $N(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new rt(Un.fromString(t)),r=e.za.next();e.Ua.set(r,new Hme(n)),e.$a=e.$a.insert(n,r),gQ(e.remoteStore,new Rc(qa(HE(n.path)),r,"TargetPurposeLimboResolution",NE.ae))}}async function sC(e,t,n){const r=Ct(e),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,t,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=PN.Yi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,u){const h=Ct(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Te.forEach(u,p=>Te.forEach(p.Hi,m=>h.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>Te.forEach(p.Ji,m=>h.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Jg(f))throw f;We(_N,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=h.Ts.get(p),b=m.snapshotVersion,C=m.withLastLimboFreeSnapshotVersion(b);h.Ts=h.Ts.insert(p,C)}}}(r.localStore,o))}async function Zme(e,t){const n=Ct(e);if(!n.currentUser.isEqual(t)){We(HN,"User change. New user:",t.toKey());const r=await dQ(n.localStore,t);n.currentUser=t,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Ke(Ae.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await sC(n,r.Rs)}}function Jme(e,t){const n=Ct(e),r=n.Ua.get(t);if(r&&r.Ba)return $t().add(r.key);{let i=$t();const o=n.qa.get(t);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function PQ(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=EQ.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jme.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kme.bind(null,t),t.La.p_=Lme.bind(null,t.eventManager),t.La.Ja=Nme.bind(null,t.eventManager),t}function eve(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yme.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xme.bind(null,t),t}class KS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=WE(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return ime(this.persistence,new tme,t.initialUser,this.serializer)}Xa(t){return new cQ(AN.ri,this.serializer)}Za(t){return new dme}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}KS.provider={build:()=>new KS};class tve extends KS{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){wn(this.persistence.referenceDelegate instanceof WS);const r=this.persistence.referenceDelegate.garbageCollector;return new Hge(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new cQ(r=>WS.ri(r,n),this.serializer)}}class $M{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dz(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zme.bind(null,this.syncEngine),await Mme(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new kme}()}createDatastore(t){const n=WE(t.databaseInfo.databaseId),r=function(o){return new mme(o)}(t.databaseInfo);return function(o,s,a,l){return new Cme(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new Sme(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Dz(this.syncEngine,n,0),function(){return Rz.D()?new Rz:new hme}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,h){const f=new $me(i,o,s,a,l,u);return h&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=Ct(i);We(Mh,"RemoteStore shutting down."),o.W_.add(5),await oC(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$M.provider={build:()=>new $M};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):cu("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="FirestoreClient";class nve{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vi.UNAUTHENTICATED,this.clientId=xX.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{We(Gc,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(We(Gc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=kN(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function DP(e,t){e.asyncQueue.verifyOperationInProgress(),We(Gc,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dQ(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Mz(e,t){e.asyncQueue.verifyOperationInProgress();const n=await rve(e);We(Gc,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Az(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Az(t.remoteStore,i)),e._onlineComponents=t}async function rve(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){We(Gc,"Using user provided OfflineComponentProvider");try{await DP(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===Ae.FAILED_PRECONDITION||i.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tg("Error using user provided cache. Falling back to memory cache: "+n),await DP(e,new KS)}}else We(Gc,"Using default OfflineComponentProvider"),await DP(e,new tve(void 0));return e._offlineComponents}async function _Q(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(We(Gc,"Using user provided OnlineComponentProvider"),await Mz(e,e._uninitializedComponentsProvider._online)):(We(Gc,"Using default OnlineComponentProvider"),await Mz(e,new $M))),e._onlineComponents}function ive(e){return _Q(e).then(t=>t.syncEngine)}async function YS(e){const t=await _Q(e),n=t.eventManager;return n.onListen=jme.bind(null,t.syncEngine),n.onUnlisten=Ume.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Gme.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Wme.bind(null,t.syncEngine),n}function ove(e,t,n={}){const r=new Yl;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new jN({next:p=>{h.su(),s.enqueueAndForget(()=>NN(o,f));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new Ke(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Ke(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new BN(HE(a.path),h,{includeMetadataChanges:!0,Ta:!0});return LN(o,f)}(await YS(e),e.asyncQueue,t,n,r)),r.promise}function sve(e,t,n={}){const r=new Yl;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new jN({next:p=>{h.su(),s.enqueueAndForget(()=>NN(o,f)),p.fromCache&&l.source==="server"?u.reject(new Ke(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new BN(a,h,{includeMetadataChanges:!0,Ta:!0});return LN(o,f)}(await YS(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQ(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(e,t,n){if(!n)throw new Ke(Ae.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ave(e,t,n,r){if(t===!0&&r===!0)throw new Ke(Ae.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function kz(e){if(!rt.isDocumentKey(e))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Lz(e){if(rt.isDocumentKey(e))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function YE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":pt()}function Os(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ke(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=YE(e);throw new Ke(Ae.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ="firestore.googleapis.com",Nz=!0;class Vz{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ke(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IQ,this.ssl=Nz}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Nz;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uQ;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Vge)throw new Ke(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ave("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OQ((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ke(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ke(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ke(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class XE{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vz({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ke(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vz(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ppe;switch(r.type){case"firstParty":return new ype(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fz.get(n);r&&(We("ComponentProvider","Removing Datastore"),Fz.delete(n),r.terminate())}(this),Promise.resolve()}}function lve(e,t,n,r={}){var i;const o=(e=Os(e,XE))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;o.host!==IQ&&o.host!==a&&tg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Nc(l,s)&&(e._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Vi.MOCK_USER;else{u=Ghe(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ke(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Vi(f)}e._authCredentials=new gpe(new wX(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qh(this.firestore,t,this._query)}}class so{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new so(this.firestore,t,this._key)}}class Mc extends Qh{constructor(t,n,r){super(t,n,HE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new so(this.firestore,null,new rt(t))}withConverter(t){return new Mc(this.firestore,t,this._path)}}function ji(e,t,...n){if(e=Ti(e),DQ("collection","path",t),e instanceof XE){const r=Un.fromString(t,...n);return Lz(r),new Mc(e,null,r)}{if(!(e instanceof so||e instanceof Mc))throw new Ke(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Un.fromString(t,...n));return Lz(r),new Mc(e.firestore,null,r)}}function zc(e,t,...n){if(e=Ti(e),arguments.length===1&&(t=xX.newId()),DQ("doc","path",t),e instanceof XE){const r=Un.fromString(t,...n);return kz(r),new so(e,null,new rt(r))}{if(!(e instanceof so||e instanceof Mc))throw new Ke(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Un.fromString(t,...n));return kz(r),new so(e.firestore,e instanceof Mc?e.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="AsyncQueue";class Hz{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fQ(this,"async_queue_retry"),this.Su=()=>{const r=OP();r&&We(Bz,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=OP();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=OP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Yl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Jg(t))throw t;We(Bz,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw cu("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const i=FN.createAndSchedule(this,t,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&pt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function $z(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(e,["next","error","complete"])}class Uc extends XE{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Hz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Hz(t),this._firestoreClient=void 0,await t}}}function uve(e,t){const n=typeof e=="object"?e:hX(),r=typeof e=="string"?e:BS,i=pN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$he("firestore");o&&lve(i,...o)}return i}function QE(e){if(e._terminated)throw new Ke(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cve(e),e._firestoreClient}function cve(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,h){return new Mpe(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,OQ(h.experimentalLongPollingOptions),h.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new nve(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lg(Ai.fromBase64String(t))}catch(n){throw new Ke(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new lg(Ai.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ke(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ke(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ke(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dve=/^__.*__$/;class hve{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new td(t,this.data,this.fieldMask,n,this.fieldTransforms):new rC(t,this.data,n,this.fieldTransforms)}}class MQ{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new td(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function FQ(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class eR{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new eR(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.$u(t),i}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return XS(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(FQ(this.Lu)&&dve.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class fve{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||WE(t)}ju(t,n,r,i=!1){return new eR({Lu:t,methodName:n,zu:r,path:xi.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UN(e){const t=e._freezeSettings(),n=WE(e._databaseId);return new fve(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pve(e,t,n,r,i,o={}){const s=e.ju(o.merge||o.mergeFields?2:0,t,n,i);qN("Data must be an object, but it was:",s,r);const a=kQ(r,s);let l,u;if(o.merge)l=new Go(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const p=jM(t,f,n);if(!s.contains(p))throw new Ke(Ae.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);NQ(h,p)||h.push(p)}l=new Go(h),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new hve(new Co(a),l,u)}class tR extends JE{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tR}}function gve(e,t,n){return new eR({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class WN extends JE{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=gve(this,t,!0),r=this.Hu.map(o=>tm(o,n)),i=new og(r);return new oge(t.path,i)}isEqual(t){return t instanceof WN&&Nc(this.Hu,t.Hu)}}function mve(e,t,n,r){const i=e.ju(1,t,n);qN("Data must be an object, but it was:",i,r);const o=[],s=Co.empty();ed(r,(l,u)=>{const h=KN(t,l,n);u=Ti(u);const f=i.Uu(h);if(u instanceof tR)o.push(h);else{const p=tm(u,f);p!=null&&(o.push(h),s.set(h,p))}});const a=new Go(o);return new MQ(s,a,i.fieldTransforms)}function vve(e,t,n,r,i,o){const s=e.ju(1,t,n),a=[jM(t,r,n)],l=[i];if(o.length%2!=0)throw new Ke(Ae.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(jM(t,o[p])),l.push(o[p+1]);const u=[],h=Co.empty();for(let p=a.length-1;p>=0;--p)if(!NQ(u,a[p])){const m=a[p];let b=l[p];b=Ti(b);const C=s.Uu(m);if(b instanceof tR)u.push(m);else{const y=tm(b,C);y!=null&&(u.push(m),h.set(m,y))}}const f=new Go(u);return new MQ(h,f,s.fieldTransforms)}function yve(e,t,n,r=!1){return tm(n,e.ju(r?4:3,t))}function tm(e,t){if(LQ(e=Ti(e)))return qN("Unsupported field value:",t,e),kQ(e,t);if(e instanceof JE)return function(r,i){if(!FQ(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=tm(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=Ti(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nge(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Dr.fromDate(r);return{timestampValue:US(i.serializer,o)}}if(r instanceof Dr){const o=new Dr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:US(i.serializer,o)}}if(r instanceof GN)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lg)return{bytesValue:nQ(i.serializer,r._byteString)};if(r instanceof so){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:RN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zN)return function(s,a){return{mapValue:{fields:{[DX]:{stringValue:IX},[HS]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return wN(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${YE(r)}`)}(e,t)}function kQ(e,t){const n={};return RX(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ed(e,(r,i)=>{const o=tm(i,t.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function LQ(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Dr||e instanceof GN||e instanceof lg||e instanceof so||e instanceof JE||e instanceof zN)}function qN(e,t,n){if(!LQ(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=YE(n);throw r==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function jM(e,t,n){if((t=Ti(t))instanceof ZE)return t._internalPath;if(typeof t=="string")return KN(e,t);throw XS("Field path arguments must be of type string or ",e,!1,void 0,n)}const bve=new RegExp("[~\\*/\\[\\]]");function KN(e,t,n){if(t.search(bve)>=0)throw XS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ZE(...t.split("."))._internalPath}catch{throw XS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function XS(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ke(Ae.INVALID_ARGUMENT,a+e+l)}function NQ(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new so(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Cve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(YN("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Cve extends VQ{data(){return super.data()}}function YN(e,t){return typeof t=="string"?KN(e,t):t instanceof ZE?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ke(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XN{}class wve extends XN{}function aC(e,t,...n){let r=[];t instanceof XN&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof QN).length,a=o.filter(l=>l instanceof nR).length;if(s>1||s>0&&a>0)throw new Ke(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class nR extends wve{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new nR(t,n,r)}_apply(t){const n=this._parse(t);return HQ(t._query,n),new Qh(t.firestore,t.converter,DM(t._query,n))}_parse(t){const n=UN(t.firestore);return function(o,s,a,l,u,h,f){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ke(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Gz(f,h);const b=[];for(const C of f)b.push(jz(l,o,C));p={arrayValue:{values:b}}}else p=jz(l,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Gz(f,h),p=yve(a,s,f,h==="in"||h==="not-in");return Or.create(u,h,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Fh(e,t,n){const r=t,i=YN("where",e);return nR._create(i,r,n)}class QN extends XN{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new QN(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fa.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)HQ(s,l),s=DM(s,l)}(t._query,n),new Qh(t.firestore,t.converter,DM(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jz(e,t,n){if(typeof(n=Ti(n))=="string"){if(n==="")throw new Ke(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HX(t)&&n.indexOf("/")!==-1)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Un.fromString(n));if(!rt.isDocumentKey(r))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rz(e,new rt(r))}if(n instanceof so)return rz(e,n._key);throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${YE(n)}.`)}function Gz(e,t){if(!Array.isArray(e)||e.length===0)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HQ(e,t){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ke(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ke(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Sve{convertValue(t,n="none"){switch($c(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Er(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ed(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[HS].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Er(s.doubleValue));return new zN(o)}convertGeoPoint(t){return new GN(Er(t.latitude),Er(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=BE(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ay(t));default:return null}}convertTimestamp(t){const n=Bc(t);return new Dr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Un.fromString(t);wn(lQ(r));const i=new Py(r.get(1),r.get(3)),o=new rt(r.popFirst(5));return i.isEqual(n)||cu(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xve(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $Q extends VQ{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new rS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(YN("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rS extends $Q{data(t={}){return super.data(t)}}class jQ{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vv(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new rS(this._firestore,this._userDataWriter,r.key,r,new Vv(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new rS(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new rS(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Eve(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Eve(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(e){e=Os(e,so);const t=Os(e.firestore,Uc);return ove(QE(t),e._key).then(n=>GQ(t,e,n))}class ZN extends Sve{constructor(t){super(),this.firestore=t}convertBytes(t){return new lg(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new so(this.firestore,null,n)}}function la(e){e=Os(e,Qh);const t=Os(e.firestore,Uc),n=QE(t),r=new ZN(t);return BQ(e._query),sve(n,e._query).then(i=>new jQ(t,r,e,i))}function JN(e,t,n,...r){e=Os(e,so);const i=Os(e.firestore,Uc),o=UN(i);let s;return s=typeof(t=Ti(t))=="string"||t instanceof ZE?vve(o,"updateDoc",e._key,t,n,r):mve(o,"updateDoc",e._key,t),t2(i,[s.toMutation(e._key,aa.exists(!0))])}function e2(e){return t2(Os(e.firestore,Uc),[new SN(e._key,aa.none())])}function rR(e,t){const n=Os(e.firestore,Uc),r=zc(e),i=xve(e.converter,t);return t2(n,[pve(UN(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,aa.exists(!1))]).then(()=>r)}function Rve(e,...t){var n,r,i;e=Ti(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||$z(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if($z(t[s])){const f=t[s];t[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,h;if(e instanceof so)u=Os(e.firestore,Uc),h=HE(e._key.path),l={next:f=>{t[s]&&t[s](GQ(u,e,f))},error:t[s+1],complete:t[s+2]};else{const f=Os(e,Qh);u=Os(f.firestore,Uc),h=f._query;const p=new ZN(u);l={next:m=>{t[s]&&t[s](new jQ(u,p,f,m))},error:t[s+1],complete:t[s+2]},BQ(e._query)}return function(p,m,b,C){const y=new jN(C),x=new BN(m,y,b);return p.asyncQueue.enqueueAndForget(async()=>LN(await YS(p),x)),()=>{y.su(),p.asyncQueue.enqueueAndForget(async()=>NN(await YS(p),x))}}(QE(u),h,a,l)}function t2(e,t){return function(r,i){const o=new Yl;return r.asyncQueue.enqueueAndForget(async()=>qme(await ive(r),i,o)),o.promise}(QE(e),t)}function GQ(e,t,n){const r=n.docs.get(t._key),i=new ZN(e);return new $Q(e,i,t._key,r,new Vv(n.hasPendingWrites,n.fromCache),t.converter)}function Tve(...e){return new WN("arrayUnion",e)}(function(t,n=!0){(function(i){Qg=i})(Xg),eg(new Dh("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Uc(new mpe(r.getProvider("auth-internal")),new bpe(s,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ke(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Py(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Dc(UG,WG,t),Dc(UG,WG,"esm2017")})();var Ave="firebase",Pve="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dc(Ave,Pve,"app");function n2(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function zQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _ve=zQ,UQ=new eC("auth","Firebase",zQ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new hN("@firebase/auth");function Ove(e,...t){QS.logLevel<=Ht.WARN&&QS.warn(`Auth (${Xg}): ${e}`,...t)}function iS(e,...t){QS.logLevel<=Ht.ERROR&&QS.error(`Auth (${Xg}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(e,...t){throw r2(e,...t)}function Ya(e,...t){return r2(e,...t)}function WQ(e,t,n){const r=Object.assign(Object.assign({},_ve()),{[t]:n});return new eC("auth","Firebase",r).create(t,{appName:e.name})}function Xl(e){return WQ(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r2(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return UQ.create(e,...t)}function ht(e,t,...n){if(!e)throw r2(t,...n)}function jl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw iS(t),new Error(t)}function hu(e,t){e||jl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Dve(){return Uz()==="http:"||Uz()==="https:"}function Uz(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ive(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dve()||qhe()||"connection"in navigator)?navigator.onLine:!0}function Mve(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t,n){this.shortDelay=t,this.longDelay=n,hu(n>t,"Short delay should be less than long delay!"),this.isMobile=zhe()||Khe()}get(){return Ive()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(e,t){hu(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kve=new lC(3e4,6e4);function nd(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rd(e,t,n,r,i={}){return KQ(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=tC(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return Whe()||(u.referrerPolicy="no-referrer"),qQ.fetch()(YQ(e,e.config.apiHost,n,a),u)})}async function KQ(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fve),t);try{const i=new Nve(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw u0(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw u0(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw u0(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw u0(e,"user-disabled",s);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WQ(e,h,u);pa(e,h)}}catch(i){if(i instanceof wu)throw i;pa(e,"network-request-failed",{message:String(i)})}}async function uC(e,t,n,r,i={}){const o=await rd(e,t,n,r,i);return"mfaPendingCredential"in o&&pa(e,"multi-factor-auth-required",{_serverResponse:o}),o}function YQ(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?i2(e.config,i):`${e.config.apiScheme}://${i}`}function Lve(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nve{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ya(this.auth,"network-request-failed")),kve.get())})}}function u0(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ya(e,t,r);return i.customData._tokenResponse=n,i}function Wz(e){return e!==void 0&&e.enterprise!==void 0}class Vve{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Lve(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Bve(e,t){return rd(e,"GET","/v2/recaptchaConfig",nd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hve(e,t){return rd(e,"POST","/v1/accounts:delete",t)}async function XQ(e,t){return rd(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $ve(e,t=!1){const n=Ti(e),r=await n.getIdToken(t),i=o2(r);ht(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ey(IP(i.auth_time)),issuedAtTime:ey(IP(i.iat)),expirationTime:ey(IP(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function IP(e){return Number(e)*1e3}function o2(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return iS("JWT malformed, contained fewer than 3 sections"),null;try{const i=oX(n);return i?JSON.parse(i):(iS("Failed to decode base64 JWT payload"),null)}catch(i){return iS("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qz(e){const t=o2(e);return ht(t,"internal-error"),ht(typeof t.exp<"u","internal-error"),ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dy(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof wu&&jve(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function jve({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gve{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ey(this.lastLoginAt),this.creationTime=ey(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Dy(e,XQ(n,{idToken:r}));ht(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?QQ(o.providerUserInfo):[],a=Uve(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zM(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}async function zve(e){const t=Ti(e);await ZS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Uve(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function QQ(e){return e.map(t=>{var{providerId:n}=t,r=n2(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wve(e,t){const n=await KQ(e,{},async()=>{const r=tC({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=YQ(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qQ.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qve(e,t){return rd(e,"POST","/v2/accounts:revokeToken",nd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ht(t.idToken,"internal-error"),ht(typeof t.idToken<"u","internal-error"),ht(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):qz(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ht(t.length!==0,"internal-error");const n=qz(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Wve(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Tp;return r&&(ht(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ht(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(ht(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Tp,this.toJSON())}_performRefresh(){return jl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(e,t){ht(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Gl{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=n2(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zM(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Dy(this,this.stsTokenManager.getToken(this.auth,t));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return $ve(this,t)}reload(){return zve(this)}_assign(t){this!==t&&(ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Gl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ZS(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xs(this.auth.app))return Promise.reject(Xl(this.auth));const t=await this.getIdToken();return await Dy(this,Hve(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,R=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:M,isAnonymous:A,providerData:D,stsTokenManager:_}=n;ht(T&&_,t,"internal-error");const I=Tp.fromJSON(this.name,_);ht(typeof T=="string",t,"internal-error"),Zu(f,t.name),Zu(p,t.name),ht(typeof M=="boolean",t,"internal-error"),ht(typeof A=="boolean",t,"internal-error"),Zu(m,t.name),Zu(b,t.name),Zu(C,t.name),Zu(y,t.name),Zu(x,t.name),Zu(R,t.name);const O=new Gl({uid:T,auth:t,email:p,emailVerified:M,displayName:f,isAnonymous:A,photoURL:b,phoneNumber:m,tenantId:C,stsTokenManager:I,createdAt:x,lastLoginAt:R});return D&&Array.isArray(D)&&(O.providerData=D.map(F=>Object.assign({},F))),y&&(O._redirectEventId=y),O}static async _fromIdTokenResponse(t,n,r=!1){const i=new Tp;i.updateFromServerResponse(n);const o=new Gl({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ZS(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ht(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?QQ(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Tp;a.updateFromIdToken(r);const l=new Gl({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zM(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=new Map;function zl(e){hu(e instanceof Function,"Expected a class definition");let t=Kz.get(e);return t?(hu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kz.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ZQ.type="NONE";const Yz=ZQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(e,t,n){return`firebase:${e}:${t}:${n}`}class Ap{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=oS(this.userKey,i.apiKey,o),this.fullPersistenceKey=oS("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Gl._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ap(zl(Yz),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||zl(Yz);const s=oS(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const h=await u._get(s);if(h){const f=Gl._fromJSON(t,h);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ap(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ap(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nZ(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(JQ(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iZ(t))return"Blackberry";if(oZ(t))return"Webos";if(eZ(t))return"Safari";if((t.includes("chrome/")||tZ(t))&&!t.includes("edge/"))return"Chrome";if(rZ(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JQ(e=Gi()){return/firefox\//i.test(e)}function eZ(e=Gi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tZ(e=Gi()){return/crios\//i.test(e)}function nZ(e=Gi()){return/iemobile/i.test(e)}function rZ(e=Gi()){return/android/i.test(e)}function iZ(e=Gi()){return/blackberry/i.test(e)}function oZ(e=Gi()){return/webos/i.test(e)}function s2(e=Gi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Kve(e=Gi()){var t;return s2(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Yve(){return Yhe()&&document.documentMode===10}function sZ(e=Gi()){return s2(e)||rZ(e)||oZ(e)||iZ(e)||/windows phone/i.test(e)||nZ(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(e,t=[]){let n;switch(e){case"Browser":n=Xz(Gi());break;case"Worker":n=`${Xz(Gi())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xg}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xve{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qve(e,t={}){return rd(e,"GET","/v2/passwordPolicy",nd(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zve=6;class Jve{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Zve,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eye{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qz(this),this.idTokenSubscription=new Qz(this),this.beforeStateQueue=new Xve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UQ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=zl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ap.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await XQ(this,{idToken:t}),r=await Gl._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(xs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ZS(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Mve()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xs(this.app))return Promise.reject(Xl(this));const n=t?Ti(t):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xs(this.app)?Promise.reject(Xl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xs(this.app)?Promise.reject(Xl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Qve(this),n=new Jve(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new eC("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qve(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&zl(t)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await Ap.create(this,[zl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aZ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(xs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Ove(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zh(e){return Ti(e)}class Qz{constructor(t){this.auth=t,this.observer=null,this.addObserver=rfe(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iR={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tye(e){iR=e}function lZ(e){return iR.loadJS(e)}function nye(){return iR.recaptchaEnterpriseScript}function rye(){return iR.gapiScript}function iye(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class oye{constructor(){this.enterprise=new sye}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class sye{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const aye="recaptcha-enterprise",uZ="NO_RECAPTCHA";class lye{constructor(t){this.type=aye,this.auth=Zh(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Bve(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Vve(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Wz(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{s(u)}).catch(()=>{s(uZ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oye().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Wz(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nye();l.length!==0&&(l+=a),lZ(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function Zz(e,t,n,r=!1,i=!1){const o=new lye(e);let s;if(i)s=uZ;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function UM(e,t,n,r,i){var o;if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Zz(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Zz(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uye(e,t){const n=pN(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Nc(o,t??{}))return i;pa(i,"already-initialized")}return n.initialize({options:t})}function cye(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function dye(e,t,n){const r=Zh(e);ht(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=cZ(t),{host:s,port:a}=hye(t),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ht(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ht(Nc(u,r.config.emulator)&&Nc(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,fye()}function cZ(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function hye(e){const t=cZ(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Jz(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Jz(s)}}}function Jz(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function fye(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return jl("not implemented")}_getIdTokenResponse(t){return jl("not implemented")}_linkToIdToken(t,n){return jl("not implemented")}_getReauthenticationResolver(t){return jl("not implemented")}}async function pye(e,t){return rd(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gye(e,t){return uC(e,"POST","/v1/accounts:signInWithPassword",nd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mye(e,t){return uC(e,"POST","/v1/accounts:signInWithEmailLink",nd(e,t))}async function vye(e,t){return uC(e,"POST","/v1/accounts:signInWithEmailLink",nd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends a2{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Iy(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Iy(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UM(t,n,"signInWithPassword",gye);case"emailLink":return mye(t,{email:this._email,oobCode:this._password});default:pa(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UM(t,r,"signUpPassword",pye);case"emailLink":return vye(t,{idToken:n,email:this._email,oobCode:this._password});default:pa(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(e,t){return uC(e,"POST","/v1/accounts:signInWithIdp",nd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yye="http://localhost";class kh extends a2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new kh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):pa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=n2(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new kh(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Pp(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Pp(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Pp(t,n)}buildRequest(){const t={requestUri:yye,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=tC(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bye(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cye(e){const t=Mv(Fv(e)).link,n=t?Mv(Fv(t)).deep_link_id:null,r=Mv(Fv(e)).deep_link_id;return(r?Mv(Fv(r)).link:null)||r||n||t||e}class l2{constructor(t){var n,r,i,o,s,a;const l=Mv(Fv(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=bye((i=l.mode)!==null&&i!==void 0?i:null);ht(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=Cye(t);try{return new l2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.providerId=nm.PROVIDER_ID}static credential(t,n){return Iy._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=l2.parseLink(n);return ht(r,"argument-error"),Iy._fromEmailAndCode(t,r.code,r.tenantId)}}nm.PROVIDER_ID="password";nm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends dZ{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends cC{constructor(){super("facebook.com")}static credential(t){return kh._fromParams({providerId:cc.PROVIDER_ID,signInMethod:cc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cc.credentialFromTaggedObject(t)}static credentialFromError(t){return cc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cc.credential(t.oauthAccessToken)}catch{return null}}}cc.FACEBOOK_SIGN_IN_METHOD="facebook.com";cc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends cC{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return kh._fromParams({providerId:dc.PROVIDER_ID,signInMethod:dc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return dc.credentialFromTaggedObject(t)}static credentialFromError(t){return dc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return dc.credential(n,r)}catch{return null}}}dc.GOOGLE_SIGN_IN_METHOD="google.com";dc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends cC{constructor(){super("github.com")}static credential(t){return kh._fromParams({providerId:hc.PROVIDER_ID,signInMethod:hc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hc.credentialFromTaggedObject(t)}static credentialFromError(t){return hc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hc.credential(t.oauthAccessToken)}catch{return null}}}hc.GITHUB_SIGN_IN_METHOD="github.com";hc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends cC{constructor(){super("twitter.com")}static credential(t,n){return kh._fromParams({providerId:fc.PROVIDER_ID,signInMethod:fc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return fc.credentialFromTaggedObject(t)}static credentialFromError(t){return fc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fc.credential(n,r)}catch{return null}}}fc.TWITTER_SIGN_IN_METHOD="twitter.com";fc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wye(e,t){return uC(e,"POST","/v1/accounts:signUp",nd(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Gl._fromIdTokenResponse(t,r,i),s=eU(r);return new Lh({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=eU(r);return new Lh({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function eU(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends wu{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,JS.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new JS(t,n,r,i)}}function hZ(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?JS._fromErrorAndOperation(e,o,t,r):o})}async function Sye(e,t,n=!1){const r=await Dy(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Lh._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xye(e,t,n=!1){const{auth:r}=e;if(xs(r.app))return Promise.reject(Xl(r));const i="reauthenticate";try{const o=await Dy(e,hZ(r,i,t,e),n);ht(o.idToken,r,"internal-error");const s=o2(o.idToken);ht(s,r,"internal-error");const{sub:a}=s;return ht(e.uid===a,r,"user-mismatch"),Lh._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&pa(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fZ(e,t,n=!1){if(xs(e.app))return Promise.reject(Xl(e));const r="signIn",i=await hZ(e,r,t),o=await Lh._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Eye(e,t){return fZ(Zh(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pZ(e){const t=Zh(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function gZ(e,t,n){if(xs(e.app))return Promise.reject(Xl(e));const r=Zh(e),s=await UM(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wye).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pZ(e),l}),a=await Lh._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Rye(e,t,n){return xs(e.app)?Promise.reject(Xl(e)):Eye(Ti(e),nm.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pZ(e),r})}function Tye(e,t,n,r){return Ti(e).onIdTokenChanged(t,n,r)}function Aye(e,t,n){return Ti(e).beforeAuthStateChanged(t,n)}const ex="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ex,"1"),this.storage.removeItem(ex),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pye=1e3,_ye=10;class vZ extends mZ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sZ(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Yve()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,_ye):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Pye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}vZ.type="LOCAL";const Oye=vZ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ extends mZ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yZ.type="SESSION";const bZ=yZ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dye(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new oR(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Dye(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oR.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iye{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=u2("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(){return window}function Mye(e){Xa().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(){return typeof Xa().WorkerGlobalScope<"u"&&typeof Xa().importScripts=="function"}async function Fye(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kye(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Lye(){return CZ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ="firebaseLocalStorageDb",Nye=1,tx="firebaseLocalStorage",SZ="fbase_key";class dC{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sR(e,t){return e.transaction([tx],t?"readwrite":"readonly").objectStore(tx)}function Vye(){const e=indexedDB.deleteDatabase(wZ);return new dC(e).toPromise()}function WM(){const e=indexedDB.open(wZ,Nye);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(tx,{keyPath:SZ})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(tx)?t(r):(r.close(),await Vye(),t(await WM()))})})}async function tU(e,t,n){const r=sR(e,!0).put({[SZ]:t,value:n});return new dC(r).toPromise()}async function Bye(e,t){const n=sR(e,!1).get(t),r=await new dC(n).toPromise();return r===void 0?null:r.value}function nU(e,t){const n=sR(e,!0).delete(t);return new dC(n).toPromise()}const Hye=800,$ye=3;class xZ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WM(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>$ye)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CZ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oR._getInstance(Lye()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Fye(),!this.activeServiceWorker)return;this.sender=new Iye(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kye()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await WM();return await tU(t,ex,"1"),await nU(t,ex),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tU(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Bye(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>nU(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=sR(i,!1).getAll();return new dC(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xZ.type="LOCAL";const jye=xZ;new lC(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gye(e,t){return t?zl(t):(ht(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2 extends a2{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Pp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Pp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function zye(e){return fZ(e.auth,new c2(e),e.bypassAuthState)}function Uye(e){const{auth:t,user:n}=e;return ht(n,t,"internal-error"),xye(n,new c2(e),e.bypassAuthState)}async function Wye(e){const{auth:t,user:n}=e;return ht(n,t,"internal-error"),Sye(n,new c2(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zye;case"linkViaPopup":case"linkViaRedirect":return Wye;case"reauthViaPopup":case"reauthViaRedirect":return Uye;default:pa(this.auth,"internal-error")}}resolve(t){hu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qye=new lC(2e3,1e4);class up extends EZ{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,up.currentPopupAction&&up.currentPopupAction.cancel(),up.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ht(t,this.auth,"internal-error"),t}async onExecution(){hu(this.filter.length===1,"Popup operations only handle one event");const t=u2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ya(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ya(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,up.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ya(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qye.get())};t()}}up.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kye="pendingRedirect",sS=new Map;class Yye extends EZ{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=sS.get(this.auth._key());if(!t){try{const r=await Xye(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}sS.set(this.auth._key(),t)}return this.bypassAuthState||sS.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xye(e,t){const n=Jye(t),r=Zye(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Qye(e,t){sS.set(e._key(),t)}function Zye(e){return zl(e._redirectPersistence)}function Jye(e){return oS(Kye,e.config.apiKey,e.name)}async function ebe(e,t,n=!1){if(xs(e.app))return Promise.reject(Xl(e));const r=Zh(e),i=Gye(r,t),s=await new Yye(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tbe=10*60*1e3;class nbe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rbe(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!RZ(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ya(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tbe&&this.cachedEventUids.clear(),this.cachedEventUids.has(rU(t))}saveEventToCache(t){this.cachedEventUids.add(rU(t)),this.lastProcessedEventTime=Date.now()}}function rU(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function RZ({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function rbe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RZ(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ibe(e,t={}){return rd(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const obe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sbe=/^https?/;async function abe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ibe(e);for(const n of t)try{if(lbe(n))return}catch{}pa(e,"unauthorized-domain")}function lbe(e){const t=GM(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!sbe.test(n))return!1;if(obe.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ube=new lC(3e4,6e4);function iU(){const e=Xa().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function cbe(e){return new Promise((t,n)=>{var r,i,o;function s(){iU(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iU(),n(Ya(e,"network-request-failed"))},timeout:ube.get()})}if(!((i=(r=Xa().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Xa().gapi)===null||o===void 0)&&o.load)s();else{const a=iye("iframefcb");return Xa()[a]=()=>{gapi.load?s():n(Ya(e,"network-request-failed"))},lZ(`${rye()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw aS=null,t})}let aS=null;function dbe(e){return aS=aS||cbe(e),aS}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hbe=new lC(5e3,15e3),fbe="__/auth/iframe",pbe="emulator/auth/iframe",gbe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mbe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vbe(e){const t=e.config;ht(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?i2(t,pbe):`https://${e.config.authDomain}/${fbe}`,r={apiKey:t.apiKey,appName:e.name,v:Xg},i=mbe.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${tC(r).slice(1)}`}async function ybe(e){const t=await dbe(e),n=Xa().gapi;return ht(n,e,"internal-error"),t.open({where:document.body,url:vbe(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gbe,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ya(e,"network-request-failed"),a=Xa().setTimeout(()=>{o(s)},hbe.get());function l(){Xa().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bbe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cbe=500,wbe=600,Sbe="_blank",xbe="http://localhost";class oU{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ebe(e,t,n,r=Cbe,i=wbe){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},bbe),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Gi().toLowerCase();n&&(a=tZ(u)?Sbe:n),JQ(u)&&(t=t||xbe,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[m,b])=>`${p}${m}=${b},`,"");if(Kve(u)&&a!=="_self")return Rbe(t||"",a),new oU(null);const f=window.open(t||"",a,h);ht(f,e,"popup-blocked");try{f.focus()}catch{}return new oU(f)}function Rbe(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tbe="__/auth/handler",Abe="emulator/auth/handler",Pbe=encodeURIComponent("fac");async function sU(e,t,n,r,i,o){ht(e.config.authDomain,e,"auth-domain-config-required"),ht(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Xg,eventId:i};if(t instanceof dZ){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",nfe(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,f]of Object.entries({}))s[h]=f}if(t instanceof cC){const h=t.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await e._getAppCheckToken(),u=l?`#${Pbe}=${encodeURIComponent(l)}`:"";return`${_be(e)}?${tC(a).slice(1)}${u}`}function _be({config:e}){return e.emulator?i2(e,Abe):`https://${e.authDomain}/${Tbe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="webStorageSupport";class Obe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bZ,this._completeRedirectFn=ebe,this._overrideRedirectResult=Qye}async _openPopup(t,n,r,i){var o;hu((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await sU(t,n,r,GM(),i);return Ebe(t,s,u2())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await sU(t,n,r,GM(),i);return Mye(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(hu(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await ybe(t),r=new nbe(t);return n.register("authEvent",i=>(ht(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(MP,{type:MP},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[MP];s!==void 0&&n(!!s),pa(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=abe(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return sZ()||eZ()||s2()}}const Dbe=Obe;var aU="@firebase/auth",lU="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ibe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mbe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fbe(e){eg(new Dh("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ht(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aZ(e)},u=new eye(r,i,o,l);return cye(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),eg(new Dh("auth-internal",t=>{const n=Zh(t.getProvider("auth").getImmediate());return(r=>new Ibe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dc(aU,lU,Mbe(e)),Dc(aU,lU,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kbe=5*60,Lbe=lX("authIdTokenMaxAge")||kbe;let uU=null;const Nbe=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lbe)return;const i=n==null?void 0:n.token;uU!==i&&(uU=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Vbe(e=hX()){const t=pN(e,"auth");if(t.isInitialized())return t.getImmediate();const n=uye(e,{popupRedirectResolver:Dbe,persistence:[jye,Oye,bZ]}),r=lX("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Nbe(o.toString());Aye(n,s,()=>s(n.currentUser)),Tye(n,a=>s(a))}}const i=sX("auth");return i&&dye(n,`http://${i}`),n}function Bbe(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}tye({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Ya("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Bbe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fbe("Browser");const Hbe={apiKey:"AIzaSyAVW37W3yPGzpdBLgdZieVVIMDbzUX3za0",authDomain:"library-7e775.firebaseapp.com",projectId:"library-7e775",storageBucket:"library-7e775.firebasestorage.app",messagingSenderId:"74644157354",appId:"1:74644157354:web:caccbf58e8d11e79ec71d3",measurementId:"G-V69HZXZ4WX"},TZ=dX(Hbe),sr=uve(TZ),d2=Vbe(TZ),$be=async()=>{try{const e=ji(sr,"books");return(await la(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching books:",e),new Error("Error while getting list of books")}},jbe=async e=>{try{const t=zc(sr,"books",e);await e2(t)}catch(t){throw console.error("Error deleting book:",t),new Error("Failed to delete book")}},Gbe=async(e,t)=>{try{const n=zc(sr,"books",e);await JN(n,t)}catch(n){throw console.error("Error updating book:",n),new Error("Failed to update book")}};var Nh=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const r=(a,l)=>a.forEach(u=>{if(!l.has(u))return;const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);t?this.dispatchAsync(h):h()}),i=this.getListeners(n,t,!1)??new Set,o=new Set(i);o.size>0&&r(o,i),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(n,e)):()=>a(n,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function zbe(e,t){return t}function AZ(e){return(e==null?void 0:e.getLocaleTextFunc())??zbe}function Su(e,t,n){n==null||typeof n=="string"&&n==""?PZ(e,t):ya(e,t,n)}function ya(e,t,n){e.setAttribute(_Z(t),n.toString())}function PZ(e,t){e.removeAttribute(_Z(t))}function _Z(e){return`aria-${e}`}function ga(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Ube(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Wbe(e){return e.getAttribute("aria-label")}function aR(e,t){Su(e,"label",t)}function qM(e,t){Su(e,"labelledby",t)}function OZ(e,t){Su(e,"live",t)}function qbe(e,t){Su(e,"atomic",t)}function Kbe(e,t){Su(e,"relevant",t)}function Ybe(e,t){Su(e,"disabled",t)}function DZ(e,t){Su(e,"hidden",t)}function KM(e,t){ya(e,"expanded",t)}function Xbe(e,t){ya(e,"setsize",t)}function Qbe(e,t){ya(e,"posinset",t)}function Zbe(e,t){ya(e,"rowcount",t)}function IZ(e,t){ya(e,"rowindex",t)}function Jbe(e,t){ya(e,"rowspan",t)}function eCe(e,t){ya(e,"colcount",t)}function MZ(e,t){ya(e,"colindex",t)}function tCe(e,t){ya(e,"colspan",t)}function nCe(e,t){ya(e,"sort",t)}function rCe(e){PZ(e,"sort")}function YM(e,t){Su(e,"selected",t)}function iCe(e,t){Su(e,"controls",t.id),qM(t,e.id)}function h2(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var FP,kP,LP,NP,VP,XM,QM,BP;function id(){return FP===void 0&&(FP=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),FP}function FZ(){if(kP===void 0){const e=window;kP=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return kP}function kZ(){return LP===void 0&&(LP=/(firefox)/i.test(navigator.userAgent)),LP}function LZ(){return NP===void 0&&(NP=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),NP}function gh(){return VP===void 0&&(VP=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),VP}function ZM(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!kZ())?null:t.toString()}function oCe(){if(BP!==void 0)return BP;if(!document.body)return-1;let e=1e6;const t=kZ()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),BP=e,e}function sCe(){return QM==null&&NZ(),QM}function NZ(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(QM=n,XM=n===0)}function VZ(){return XM==null&&NZ(),XM}var c0,aCe="[tabindex], input, select, button, textarea, [href]",BZ="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function f2(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(e,"input, select, button, textarea"),i=t.call(e,BZ),o=il(e);return r&&!i&&o}function rr(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||DZ(e,!t)}function lCe(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||DZ(e,!t)}function My(e,t){const n="disabled",r=t?i=>i.setAttribute(n,""):i=>i.removeAttribute(n);r(e),GZ(e.querySelectorAll("input"),i=>r(i))}function mh(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function Jh(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:h,marginTop:f,marginRight:p,marginBottom:m,marginLeft:b,boxSizing:C}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(b||"0"),boxSizing:C}}function p2(e){const t=Jh(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Fy(e){const t=Jh(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function HZ(e){const{height:t,marginBottom:n,marginTop:r}=Jh(e);return Math.floor(t+n+r)}function nx(e){const{width:t,marginLeft:n,marginRight:r}=Jh(e);return Math.floor(t+n+r)}function $Z(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:o}=Jh(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(o||0)}}function rx(){if(typeof c0=="boolean")return c0;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,c0=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),c0}function ix(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n),FZ()&&!rx()&&(n=e.scrollWidth-e.getBoundingClientRect().width-n)),n}function ox(e,t,n){n&&(rx()?t*=-1:(id()||FZ())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function qo(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Vh(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function jZ(e){return!!e.offsetParent}function il(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!jZ(e)||window.getComputedStyle(e).visibility!=="visible")}function ky(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function uCe(e){return e.clientWidth<e.scrollWidth}function cCe(e){return e.clientHeight<e.scrollHeight}function sx(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Qa(e,t)}function Qa(e,t){t=g2(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function ty(e,t){t=g2(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function g2(e){return typeof e=="number"?`${e}px`:e}function m2(e){return e instanceof Node||e instanceof HTMLElement}function dCe(e){if(e==null)return[];const t=[];return GZ(e,n=>t.push(n)),t}function hCe(e,t){if(e)for(let n=0;n<e.length;n++){const r=e[n];t(r.name,r.value)}}function Ds(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function GZ(e,t){if(e!=null)for(let n=0;n<e.length;n++)t(e[n])}function xu(e,t,n){const i=QZ(e).ResizeObserver,o=i?new i(n):null;return o==null||o.observe(t),()=>o==null?void 0:o.disconnect()}function Ql(e){return e==null||e===""?null:e}function ke(e){return e!=null&&e!==""}function qn(e){return!ke(e)}function JM(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Ly(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function fCe(e,t,n=!1){const r=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof e!="string"||!n)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var zZ="https://www.ag-grid.com",cU={};function UZ(e,t){cU[t]||(e(),cU[t]=!0)}function Bh(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function ny(e,...t){UZ(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function _p(e,...t){UZ(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var HP=[],$P=!1;function dU(e){HP.push(e),!$P&&($P=!0,window.setTimeout(()=>{const t=HP.slice();HP.length=0,$P=!1,t.forEach(n=>n())},0))}function Ei(e,t,n){let r;return function(...i){const o=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(o,i)},n)}}function hU(e,t){let n=0;return function(...r){const i=this,o=new Date().getTime();o-n<t||(n=o,e.apply(i,r))}}function pCe(e,t,n=100,r){const i=new Date().getTime();let o=null,s=!1;const a=()=>{const l=new Date().getTime()-i>n;(e()||l)&&(t(),s=!0,o!=null&&(window.clearInterval(o),o=null))};a(),s||(o=window.setInterval(a,10))}var Ne="33.1.1",fU=2e3,pU=100,WZ="_version_",lS=null,vh=`${zZ}/javascript-data-grid`;function gCe(e){lS=e}function mCe(e){vh=e}function qZ(e,t,n){return(lS==null?void 0:lS.getConsoleMessage(e,t))??[CCe(e,t,n)]}function v2(e,t,n,r){e(`error #${t}`,...qZ(t,n,r))}function vCe(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function yCe(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=vCe(e)),t}function ax(e){return e===void 0?"undefined":e===null?"null":e}function eF(e,t){return`${e}?${t.toString()}`}function bCe(e,t,n){const r=Array.from(t.entries()).sort((o,s)=>s[1].length-o[1].length);let i=eF(e,t);for(const[o,s]of r){if(o===WZ)continue;const a=i.length-n;if(a<=0)break;const l="...",u=a+l.length,h=s.length-u>pU?s.slice(0,s.length-u)+l:s.slice(0,pU)+l;t.set(o,h),i=eF(e,t)}return i}function KZ(e,t){const n=new URLSearchParams;if(n.append(WZ,Ne),t)for(const o of Object.keys(t))n.append(o,yCe(t[o]));const r=`${vh}/errors/${e}`,i=eF(r,n);return i.length<=fU?i:bCe(r,n,fU)}var CCe=(e,t,n)=>{const r=KZ(e,t);return`${n?n+` 
`:""}Visit ${r}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Me(...e){v2(ny,e[0],e[1])}function bn(...e){v2(_p,e[0],e[1])}function tF(e,t,n){v2(_p,e,t,n)}function wCe(e,t){const n=t[0];return`error #${n} `+qZ(n,t[1],e).join(" ")}function Fc(...e){return wCe(void 0,e)}function YZ(e,t){return e.get("rowModelType")===t}function Hi(e,t){return YZ(e,"clientSide")}function ef(e,t){return YZ(e,"serverSide")}function Ri(e,t){return e.get("domLayout")===t}function yh(e){return ux(e)!==void 0}function XZ(e){return typeof e.get("getRowHeight")=="function"}function SCe(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function ug(e,t,n=!1,r){const{gos:i,environment:o}=e;if(r==null&&(r=o.getDefaultRowHeight()),XZ(i)){if(n)return{height:r,estimated:!0};const l={node:t,data:t.data},u=i.getCallback("getRowHeight")(l);if(nF(u))return u===0&&Me(23),{height:Math.max(1,u),estimated:!1}}if(t.detail&&i.get("masterDetail"))return xCe(i);const s=i.get("rowHeight");return{height:s&&nF(s)?s:r,estimated:!1}}function xCe(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return nF(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function bh(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||qn(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(Me(24),t.getDefaultRowHeight())}function nF(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function lx(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function Hh(e,t,n,r){const i=e.getDomDataKey();let o=t[i];qn(o)&&(o={},t[i]=o),o[n]=r}function vr(e){const{gos:t,eGridDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&ke(i)?r=i():n&&(r=n.ownerDocument),r&&ke(r)?r:document}function QZ(e){return vr(e).defaultView||window}function Ny(e){return e.eGridDiv.getRootNode()}function lr(e){return Ny(e).activeElement}function y2(e){let t=null,n=null;try{t=vr(e).fullscreenElement}catch{}finally{t||(t=Ny(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t==null?void 0:t.documentElement:n=t}return n}function ECe(e){const t=y2(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function RCe(e){const t=y2(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function TCe(e,t,n){const i=e.getBoundingClientRect().height,o=ECe(n)-2,s=RCe(n)-2;if(!e.offsetParent)return;const l=$Z(e.offsetParent),{clientY:u,clientX:h}=t;let f=u-l.top-i/2,p=h-l.left-10;const m=vr(n),b=m.defaultView||window,C=b.pageYOffset||m.documentElement.scrollTop,y=b.pageXOffset||m.documentElement.scrollLeft;o>0&&p+e.clientWidth>o+y&&(p=o+y-e.clientWidth),p<0&&(p=0),s>0&&f+e.clientHeight>s+C&&(f=s+C-e.clientHeight),f<0&&(f=0),e.style.left=`${p}px`,e.style.top=`${f}px`}function ZZ(e){const t=vr(e),n=lr(e);return n===null||n===t.body}function Op(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function JZ(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Ri(e,"print"))}function Ua(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function rF(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function ACe(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function b2(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function cg(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(Me(25,{id:r}),r=String(r)),r}}function PCe(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function _Ce(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Dp(e){return(e==null?void 0:e.checkboxes)??!0}function uS(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function iF(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function jP(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function OCe(e){return typeof e.get("rowSelection")!="string"}function Wc(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function eJ(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function DCe(e){const t=eJ(e);return t===!0||t==="enableSelection"}function ICe(e){const t=eJ(e);return t===!0||t==="enableDeselection"}function oF(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function ux(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function cx(e){return ux(e)==="multiRow"}function MCe(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function dx(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function tJ(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Vy(e){const t=dx(e);return t==="descendants"||t==="filteredDescendants"}function gU(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function GP(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Ho(e){return e.get("columnMenu")==="legacy"}function FCe(e){return!Ho(e)}function nJ(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function kCe(e,t,n){typeof e!="object"&&(e={});const r={...e};return n.forEach(i=>{const o=t[i];typeof o<"u"&&(r[i]=o)}),r}function LCe(e,t){if(!e)return;const n={};let r=!1;if(Object.keys(e).forEach(s=>{n[s]=e[s],r=!0}),!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const o={type:"componentStateChanged",...n};t.dispatchEvent(o)}function st(e,t){return e.addGridCommonParams(t)}var rJ="__ag_Grid_Stop_Propagation",NCe=["touchstart","touchend","touchmove","touchcancel","scroll"],VCe=["wheel"],zP={};function dg(e){e[rJ]=!0}function Zl(e){return e[rJ]===!0}var iJ=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof zP[n]=="boolean")return zP[n];const r=document.createElement(e[n]||"div");return n="on"+n,zP[n]=n in r}})();function oJ(e,t,n){let r=t;for(;r;){const i=lx(e,r,n);if(i)return i;r=r.parentElement}return null}function BCe(e,t){return!t||!e?!1:$Ce(t).indexOf(e)>=0}function HCe(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function $Ce(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():HCe(t)}function jCe(e,t,n,r){const i=sJ(n);let o;i!=null&&(o={passive:i}),e&&e.addEventListener&&e.addEventListener(t,n,r,o)}var sJ=e=>{const t=NCe.includes(e),n=VCe.includes(e);if(t)return!0;if(n)return!1},ye=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Nh),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var r;(r=this.localEventService)==null||r.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;return GCe(e)?(e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?jCe(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),r=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const o={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(o)};e.forEach(i=>this.setupGridOptionListener(i,r))}getLocaleTextFunc(){return AZ(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function GCe(e){return e.__addEventListener!==void 0}var aJ=new Set(["__proto__","constructor","prototype"]);function zCe(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e))t(n,e[n])}}function Eo(e,t,n=!0,r=!1){ke(t)&&zCe(t,(i,o)=>{if(aJ.has(i))return;let s=e[i];s!==o&&(r&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},e[i]=s),mU(o)&&mU(s)&&!Array.isArray(s)?Eo(s,o,n,r):(n||o!==void 0)&&(e[i]=o))})}function ry(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let o=0;o<r.length;o++){if(i==null)return;i=i[r[o]]}return i}function mU(e){return typeof e=="object"&&e!==null}var UCe=/[&<>"']/g,WCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Jl(e,t){if(e==null)return null;const n=e.toString().toString();return t?n:n.replace(UCe,r=>WCe[r])}var qCe={resizable:!0,sortable:!0},KCe=0;function lJ(){return KCe++}function qc(e){return e instanceof C2}var C2=class extends ye{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=lJ(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Nh,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Jl(n)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t==null||t.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n==null||n.initCol(this),r==null||r.initCol(this)}setColDef(e,t,n){var i;const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&((i=this.beans.rowSpanSvc)==null||i.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=ke(t)&&t.indexOf(".")>=0&&!r,this.tooltipFieldContainsDots=ke(n)&&n.indexOf(".")>=0&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var r,i,o;this.frameworkEventListenerService=(i=(r=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:i.call(r,this.frameworkEventListenerService,this.colEventSvc);const n=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(t))??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){var r;const n=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(t))??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return st(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??qCe[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return st(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return qn(this.sort)}isSorting(){return ke(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return Me(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return st(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(qn(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(qn(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&Eo(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function ro(e){return e instanceof cS}var cS=class extends ye{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=lJ(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{qc(t)?e.push(t):ro(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let o=0,s=r.length;o<s;o++){const a=r[o];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(r=>{ro(r)&&r.isPadding()?t(r.children):e.push(r)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},YCe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},XCe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=JM(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);n++}}},vU=Object.freeze([]);function yn(e){if(e!=null&&e.length)return e[e.length-1]}function tf(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((r,i)=>n?n(r,t[i]):t[i]===r)}function QCe(e){return e.sort((t,n)=>t-n)}function ma(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function yU(e,t,n){for(let r=0;r<t.length;r++)ma(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var lR="ag-Grid-AutoColumn",uJ="ag-Grid-SelectionColumn",ZCe="ag-Grid-RowNumbersColumn";function cJ(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const o=r[i];qc(o)?t.push(o):ro(o)&&n(o.getChildren())}};return n(e),t}function Bl(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function hx(e,t,n){const r={};if(!t)return;eu(null,t,o=>{r[o.getInstanceId()]=o}),n&&eu(null,n,o=>{r[o.getInstanceId()]=null});const i=Object.values(r).filter(o=>o!=null);e.context.destroyBeans(i)}function w2(e){return e.getId().startsWith(lR)}function fu(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(uJ))??!1}function hC(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(ZCe))??!1}function fx(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function JCe(e,t){return tf(e,t,(n,r)=>n.getColId()===r.getColId())}function ewe(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Ip(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function dJ(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var twe=(e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let o=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],o=!0),ke(r)&&e[r]!==void 0&&(i.value2=e[r],o=!0)),!o&&t&&(t[n]!==void 0&&(i.value1=t[n]),ke(r)&&t[r]!==void 0&&(i.value2=t[r])),i};function nwe(e,t=null,n,r,i){const o=new XCe,{existingCols:s,existingGroups:a,existingColKeys:l}=rwe(r);o.addExistingKeys(l);const u=hJ(e,t,0,n,s,o,a,i),{colGroupSvc:h}=e,f=(h==null?void 0:h.findMaxDepth(u,0))??0,p=h?h.balanceColumnTree(u,0,f,o):u;return eu(null,p,(b,C)=>{ro(b)&&b.setupExpandable(),b.originalParent=C}),{columnTree:p,treeDept:f}}function rwe(e){const t=[],n=[],r=[];return e&&eu(null,e,i=>{if(ro(i)){const o=i;n.push(o)}else{const o=i;r.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function hJ(e,t,n,r,i,o,s,a){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let h=0;h<u.length;h++){const f=t[h];l&&uwe(f)?u[h]=l.createProvidedColumnGroup(r,f,n,i,o,s,a):u[h]=iwe(e,r,f,i,o,a)}return u}function iwe(e,t,n,r,i,o){var l;const s=swe(n,r);s&&(r==null||r.splice(s.idx,1));let a=s==null?void 0:s.column;if(a){const u=sF(e,n,a.getColId());a.setColDef(u,n,o),owe(e,a,u,o)}else{const u=i.getUniqueKey(n.colId,n.field),h=sF(e,n,u);a=new C2(h,n,u,t),e.context.createBean(a)}return(l=e.dataTypeSvc)==null||l.addColumnListeners(a),a}function fJ(e,t,n,r,i,o,s,a){const{sortSvc:l,pinnedCols:u,colFlex:h}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,r,a),i!==void 0&&l.setColSortIndex(t,i)),o!==void 0&&(u==null||u.setColPinned(t,o)),s!==void 0&&(h==null||h.setColFlex(t,s))}function owe(e,t,n,r){fJ(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const o=t.getActualWidth();t.setActualWidth(o,r)}}function swe(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function sF(e,t,n,r){const{gos:i,dataTypeSvc:o,validation:s}=e,a={},l=i.get("defaultColDef");Eo(a,l,!1,!0);const u=awe(e,a,t,n);u&&lwe(e,u,a),Eo(a,t,!1,!0);const h=i.get("autoGroupColumnDef"),f=Ua(i);return t.rowGroup&&h&&f&&Eo(a,{sort:h.sort,initialSort:h.initialSort},!1,!0),o==null||o.validateColDef(a),s==null||s.validateColDef(a,n,r),a}function awe(e,t,n,r){var s;const i=(s=e.dataTypeSvc)==null?void 0:s.updateColDefAndGetColumnType(t,n,r),o=n.type??i??t.type;return t.type=o,o?fx(o):void 0}function lwe(e,t,n){if(!t.length)return;const r=Object.assign({},YCe),i=e.gos.get("columnTypes")||{};for(const o of Object.keys(i)){const s=i[o];o in r?Me(34,{key:o}):(s.type&&Me(35),r[o]=s)}t.forEach(o=>{const s=r[o.trim()];s?Eo(n,s,!1,!0):Me(36,{t:o})})}function uwe(e){return e.children!==void 0}function eu(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];ro(i)&&eu(i,i.getChildren(),n),n(i,e)}}function pJ(e,t){const n=[],r=[],i=[];return e.forEach(s=>{const a=s.getColDef().lockPosition;a==="right"?i.push(s):a==="left"||a===!0?n.push(s):r.push(s)}),t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function gJ(e,t){let n=!0;return eu(null,t,r=>{if(!ro(r))return;const i=r,o=i.getColGroupDef();if(!(o&&o.marryChildren))return;const a=[];i.getLeafColumns().forEach(p=>{const m=e.indexOf(p);a.push(m)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),h=l-u,f=i.getLeafColumns().length-1;h>f&&(n=!1)}),n}function mJ(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function vJ(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=mJ(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:r,source:n})}function cwe(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=mJ(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}function dwe(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function hg(e,t,n,r,i=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function Is(e,t,n){var M;const{colModel:r,rowGroupColsSvc:i,pivotColsSvc:o,autoColSvc:s,selectionColSvc:a,colAnimation:l,visibleCols:u,pivotResultCols:h,environment:f,valueColsSvc:p,eventSvc:m,gos:b}=e,C=r.getColDefCols()||[];if(!(C!=null&&C.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return Me(32),!1;const y=(A,D,_,I,O)=>{if(!A)return;const F=twe(D,t.defaultState),L=F("flex").value1;if(fJ(e,A,F("hide").value1,F("sort").value1,F("sortIndex").value1,F("pinned").value1,L,n),L==null){const V=F("width").value1;if(V!=null){const N=A.getColDef().minWidth??f.getDefaultColumnMinWidth();N!=null&&V>=N&&A.setActualWidth(V,n)}}O||!A.isPrimary()||(p==null||p.syncColumnWithState(A,n,F),i==null||i.syncColumnWithState(A,n,F,_),o==null||o.syncColumnWithState(A,n,F,I))},x=(A,D,_)=>{var $,Q;const I=yJ(e,n),O=D.slice(),F={},L={},V=[],N=[],Y=[];let X=0;const j=(i==null?void 0:i.columns.slice())??[],G=(o==null?void 0:o.columns.slice())??[];A.forEach(J=>{const ne=J.colId;if(ne.startsWith(lR)){V.push(J),Y.push(J);return}if(fu(ne)){N.push(J),Y.push(J);return}const fe=_(ne);fe?(y(fe,J,F,L,!1),ma(O,fe)):(Y.push(J),X+=1)});const U=J=>y(J,null,F,L,!1);O.forEach(U),i==null||i.sortColumns(bU.bind(i,F,j)),o==null||o.sortColumns(bU.bind(o,L,G)),r.refreshCols(!1);const Z=(J,ne,ee=[])=>{ne.forEach(fe=>{const me=J(fe.colId);ma(ee,me),y(me,fe,null,null,!0)}),ee.forEach(U)};return Z(J=>(s==null?void 0:s.getColumn(J))??null,V,($=s==null?void 0:s.getColumns())==null?void 0:$.slice()),Z(J=>(a==null?void 0:a.getColumn(J))??null,N,(Q=a==null?void 0:a.getColumns())==null?void 0:Q.slice()),fwe(t,r,b),u.refresh(n),m.dispatchEvent({type:"columnEverythingChanged",source:n}),I(),{unmatchedAndAutoStates:Y,unmatchedCount:X}};l==null||l.start();let{unmatchedAndAutoStates:R,unmatchedCount:T}=x(t.state||[],C,A=>r.getColDefCol(A));if(R.length>0||ke(t.defaultState)){const A=((M=h==null?void 0:h.getPivotResultCols())==null?void 0:M.list)??[];T=x(R,A,D=>(h==null?void 0:h.getPivotResultCol(D))??null).unmatchedCount}return l==null||l.finish(),T===0}function hwe(e,t){const{colModel:n,autoColSvc:r}=e,i=n.getColDefCols();if(!(i!=null&&i.length))return;const o=n.getColDefColTree(),s=cJ(o),a=[];let l=1e3,u=1e3,h=[];const f=r==null?void 0:r.getColumns();f&&(h=h.concat(f)),s&&(h=h.concat(s)),h.forEach(p=>{const m=bJ(p);qn(m.rowGroupIndex)&&m.rowGroup&&(m.rowGroupIndex=l++),qn(m.pivotIndex)&&m.pivot&&(m.pivotIndex=u++),a.push(m)}),Is(e,{state:a,applyOrder:!0},t)}function yJ(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:o,sortSvc:s,eventSvc:a}=e,l={rowGroupColumns:(n==null?void 0:n.columns.slice())??[],pivotColumns:(r==null?void 0:r.columns.slice())??[],valueColumns:(i==null?void 0:i.columns.slice())??[]},u=By(e),h={};return u.forEach(f=>{h[f.colId]=f}),()=>{const f=o.getAllCols(),p=(_,I,O,F)=>{const L=I.map(F),V=O.map(F);if(tf(L,V))return;const Y=new Set(I);O.forEach(j=>{Y.delete(j)||Y.add(j)});const X=[...Y];a.dispatchEvent({type:_,columns:X,column:X.length===1?X[0]:null,source:t})},m=_=>{const I=[];return f.forEach(O=>{const F=h[O.getColId()];F&&_(F,O)&&I.push(O)}),I},b=_=>_.getColId();p("columnRowGroupChanged",l.rowGroupColumns,(n==null?void 0:n.columns)??[],b),p("columnPivotChanged",l.pivotColumns,(r==null?void 0:r.columns)??[],b);const y=m((_,I)=>{const O=_.aggFunc!=null,F=O!=I.isValueActive(),L=O&&_.aggFunc!=I.getAggFunc();return F||L});y.length>0&&dwe(a,"columnValueChanged",y,t),hg(a,m((_,I)=>_.width!=I.getActualWidth()),!0,t),vJ(a,m((_,I)=>_.pinned!=I.getPinned()),t),cwe(a,m((_,I)=>_.hide==I.isVisible()),t);const A=m((_,I)=>_.sort!=I.getSort()||_.sortIndex!=I.getSortIndex());A.length>0&&(s==null||s.dispatchSortChangedEvents(t,A));const D=By(e);gwe(u,D,t,o,a)}}function By(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,i=t.getColDefCols();if(qn(i)||!t.isAlive())return[];const o=t.getAllCols(),s=n==null?void 0:n.columns,a=r==null?void 0:r.columns,l=f=>{const p=f.isRowGroupActive()&&s?s.indexOf(f):null,m=f.isPivotActive()&&a?a.indexOf(f):null,b=f.isValueActive()?f.getAggFunc():null,C=f.getSort()!=null?f.getSort():null,y=f.getSortIndex()!=null?f.getSortIndex():null;return{colId:f.getColId(),width:f.getActualWidth(),hide:!f.isVisible(),pinned:f.getPinned(),sort:C,sortIndex:y,aggFunc:b,rowGroup:f.isRowGroupActive(),rowGroupIndex:p,pivot:f.isPivotActive(),pivotIndex:m,flex:f.getFlex()??null}},u=o.map(f=>l(f)),h=new Map(t.getCols().map((f,p)=>[f.getColId(),p]));return u.sort((f,p)=>{const m=h.has(f.colId)?h.get(f.colId):-1,b=h.has(p.colId)?h.get(p.colId):-1;return m-b}),u}function bJ(e){const t=(b,C)=>b??C??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),s=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let u=t(n.rowGroupIndex,n.initialRowGroupIndex),h=t(n.rowGroup,n.initialRowGroup);u==null&&(h==null||h==!1)&&(u=null,h=null);let f=t(n.pivotIndex,n.initialPivotIndex),p=t(n.pivot,n.initialPivot);f==null&&(p==null||p==!1)&&(f=null,p=null);const m=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:o,pinned:s,width:a,flex:l,rowGroup:h,rowGroupIndex:u,pivot:p,pivotIndex:f,aggFunc:m}}function fwe(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];e.state.forEach(i=>{i.colId!=null&&r.push(i.colId)}),pwe(t.cols,r,t,n)}function pwe(e,t,n,r){if(e==null)return;let i=[];const o={};t.forEach(a=>{if(o[a])return;const l=e.map[a];l&&(i.push(l),o[a]=!0)});let s=0;if(e.list.forEach(a=>{const l=a.getColId();if(o[l]!=null)return;l.startsWith(lR)?i.splice(s++,0,a):i.push(a)}),i=pJ(i,r),!gJ(i,n.getColTree())){Me(39);return}e.list=i}function gwe(e,t,n,r,i){const o={};t.forEach(h=>o[h.colId]=h);const s={};e.forEach(h=>{o[h.colId]&&(s[h.colId]=!0)});const a=e.filter(h=>s[h.colId]),l=t.filter(h=>s[h.colId]),u=[];l.forEach((h,f)=>{const p=a&&a[f];if(p&&p.colId!==h.colId){const m=r.getCol(p.colId);m&&u.push(m)}}),u.length&&i.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,finished:!0,source:n})}var bU=(e,t,n,r)=>{const i=e[n.getId()],o=e[r.getId()],s=i!=null,a=o!=null;if(s&&a)return i-o;if(s)return-1;if(a)return 1;const l=t.indexOf(n),u=t.indexOf(r),h=l>=0,f=u>=0;return h&&f?l-u:h?-1:1},mwe=class extends ye{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Ip(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Ip(e.source)))}createColsFromColDefs(e){var R,T,M;const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:o,valueColsSvc:s,visibleCols:a,colViewport:l,eventSvc:u}=t,h=this.colDefs?yJ(t,e):void 0;n==null||n.expire();const f=(R=this.colDefCols)==null?void 0:R.list,p=(T=this.colDefCols)==null?void 0:T.tree,m=nwe(t,this.colDefs,!0,p,e);hx(t,(M=this.colDefCols)==null?void 0:M.tree,m.columnTree);const b=m.columnTree,C=m.treeDept,y=cJ(b),x={};y.forEach(A=>x[A.getId()]=A),this.colDefCols={tree:b,treeDepth:C,list:y,map:x},i==null||i.extractCols(e,f),o==null||o.extractCols(e,f),s==null||s.extractCols(e,f),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),u.dispatchEvent({type:"columnEverythingChanged",source:e}),h&&(this.changeEventsDispatching=!0,h(),this.changeEventsDispatching=!1),u.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(r==null||r.applyAutosizeStrategy())}refreshCols(e){var C;if(!this.colDefCols)return;const t=(C=this.cols)==null?void 0:C.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:r,rowNumbersSvc:i,quickFilter:o,pivotResultCols:s,showRowGroupCols:a,rowAutoHeight:l,visibleCols:u,colViewport:h,eventSvc:f}=this.beans,p=this.selectCols(s,this.colDefCols);this.createColumnsForService([n,r,i],p);const m=SCe(this.gos,this.showingPivotResult);(!e||m)&&this.restoreColOrder(p),this.positionLockedCols(p),a==null||a.refresh(),o==null||o.refreshCols(),this.setColSpanActive(),l==null||l.setAutoHeightActive(p),u.clear(),h.clear(),!tf(t,this.cols.tree)&&f.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,r=>{this.lastOrder=r(this.lastOrder),this.lastPivotOrder=r(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=n!=null;const{map:r,list:i,tree:o,treeDepth:s}=n??t;return this.cols={list:i.slice(),map:{...r},tree:o.slice(),treeDepth:s},n&&(n.list.some(l=>{var u;return((u=this.cols)==null?void 0:u.map[l.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var r;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(r=this.beans.valueColsSvc)==null?void 0:r.columns;return this.cols.list.filter(i=>{const o=w2(i);if(e){const s=t==null?void 0:t.includes(i);return o||s}else return o||i.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Is(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=new Map(t.map((u,h)=>[u,h]));if(!e.list.some(u=>n.has(u)))return;const i=new Map(e.list.map(u=>[u,!0])),o=t.filter(u=>i.has(u)),s=new Map(o.map(u=>[u,!0])),a=e.list.filter(u=>!s.has(u)),l=o.slice();a.forEach(u=>{let h=u.getOriginalParent();if(!h){l.push(u);return}const f=[];for(;!f.length&&h;)h.getLeafColumns().forEach(C=>{const y=l.indexOf(C)>=0,x=f.indexOf(C)<0;y&&x&&f.push(C)}),h=h.getOriginalParent();if(!f.length){l.push(u);return}const p=f.map(b=>l.indexOf(b)),m=Math.max(...p);l.splice(m+1,0,u)}),e.list=l}positionLockedCols(e){e.list=pJ(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var n;if(!this.cols)return;(n=this.beans.autoColSvc)==null||n.updateColumns(e);const t=Ip(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;hx(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var i,o,s,a;const{pivotResultCols:e,autoColSvc:t,selectionColSvc:n}=this.beans,r=(i=e==null?void 0:e.getPivotResultCols())==null?void 0:i.list;return[((o=this.colDefCols)==null?void 0:o.list)??[],((s=t==null?void 0:t.columns)==null?void 0:s.list)??[],((a=n==null?void 0:n.columns)==null?void 0:a.list)??[],r??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var i,o;if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let s=0;s<r.length;s++)if(dJ(r[s],e))return r[s];return((i=this.beans.autoColSvc)==null?void 0:i.getColumn(e))??((o=this.beans.selectionColSvc)==null?void 0:o.getColumn(e))??null}},CJ=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},rm=class extends ye{};function fC(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var pC=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){r.forEach(i=>this.addOrRemoveCssClass(i,t));return}}if(this.cssClassStates[e]!==t&&e.length){const r=this.getGui();r&&r.classList.toggle(e,t),this.cssClassStates[e]=t}}},vwe=0,et=null,Kn=class extends ye{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=vwe++,this.cssClassManager=new pC(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){var t,n,r;this.wireTemplate(this.getGui());const e="component-"+((n=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:n.name);(r=this.css)==null||r.forEach(i=>this.beans.environment.addGlobalCSS(i,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===et)this[t]=r??e;else{const o=n&&n[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){dCe(e.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const i=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},t);if(i){if(i.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const o=Array.prototype.slice.call(r.children);i.addItems(o)}this.swapComponentForNode(i,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)})}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),o=r.indexOf("AG-")===0,s=o?this.componentSelectors.get(r):null;let a=null;if(s){const l=n&&i?n[i]:void 0;a=new s.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(o)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,a),a}copyAttributesFromNode(e,t){hCe(e.attributes,(n,r)=>t.setAttribute(n,r))}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){const r=ky(e);this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const o=t[i];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),m2(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;lCe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;rr(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},Wn=class Bv{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new Bv(n=>{let r=t.length;const i=new Array(r);t.forEach((o,s)=>{o.then(a=>{i[s]=a,r--,r===0&&n(i)})})}):Bv.resolve()}static resolve(t=null){return new Bv(n=>n(t))}then(t){return new Bv(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function ywe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function wJ(e,t,n,r){const{name:i}=n;let o,s,a,l,u,h;if(t){const f=t,p=f[i+"Selector"],m=p?p(r):null,b=C=>{typeof C=="string"?o=C:C!=null&&C!==!0&&(e.isFrameworkComponent(C)?a=C:s=C)};m?(b(m.component),l=m.params,u=m.popup,h=m.popupPosition):b(f[i])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:h}}var bwe=class extends ye{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){var R;const{name:o,cellRenderer:s}=t;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:h,popupFromSelector:f,popupPositionFromSelector:p}=wJ(this.beans.frameworkOverrides,e,t,r),m;const b=T=>{const M=this.registry.getUserComponent(o,T);M&&(l=M.componentFromFramework?void 0:M.component,u=M.componentFromFramework?M.component:void 0,m=M.params)};if(a!=null&&b(a),l==null&&u==null&&n!=null&&b(n),l&&s&&!ywe(l)&&(l=(R=this.agCompUtils)==null?void 0:R.adaptFunction(t,l)),!l&&!u){const{validation:T}=this.beans;i&&(a!==n||!n)?a?T!=null&&T.isProvidedUserComp(a)||bn(50,{compName:a}):n?T||bn(260,{...this.gos.getModuleErrorParams(),propName:o,compName:n}):bn(216,{name:o}):n&&!T&&bn(146,{comp:n});return}const C=this.mergeParams(e,t,r,h,m),y=l==null,x=l??u;return{componentFromFramework:y,componentClass:x,params:C,type:t,popupFromSelector:f,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(x,y,C,t)}}newAgStackInstance(e,t,n,r){var a;const i=!t;let o;i?o=new e:o=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(o);const s=(a=o.init)==null?void 0:a.call(o,n);return s==null?Wn.resolve(o):s.then(()=>o)}mergeParams(e,t,n,r=null,i){const o={...n,...i},s=e,a=s&&s[t.name+"Params"];if(typeof a=="function"){const l=a(n);Eo(o,l)}else typeof a=="object"&&Eo(o,a);return Eo(o,r),o}},Cwe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},wwe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Swe={name:"headerComponent",optionalMethods:["refresh"]},xwe={name:"innerHeaderComponent"},Ewe={name:"innerHeaderGroupComponent"},Rwe={name:"headerGroupComponent"},Twe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Awe={name:"loadingCellRenderer",cellRenderer:!0},Pwe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},_we={name:"loadingOverlayComponent",optionalMethods:["refresh"]},Owe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},Dwe={name:"tooltipComponent"},S2={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Iwe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Mwe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Fwe={name:"loadingCellRenderer",cellRenderer:!0},kwe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},Lwe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Nwe(e,t){return e.getCompDetailsFromGridOptions(wwe,"agDragAndDropImage",t,!0)}function Vwe(e,t,n){return e.getCompDetails(t,Swe,"agColumnHeader",n)}function Bwe(e,t,n){return e.getCompDetails(t,xwe,void 0,n)}function Hwe(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Rwe,"agColumnGroupHeader",t)}function $we(e,t,n){return e.getCompDetails(t,Ewe,void 0,n)}function jwe(e,t){return e.getCompDetailsFromGridOptions(Mwe,void 0,t,!0)}function Gwe(e,t){return e.getCompDetailsFromGridOptions(Fwe,"agLoadingCellRenderer",t,!0)}function zwe(e,t){return e.getCompDetailsFromGridOptions(kwe,"agGroupRowRenderer",t,!0)}function Uwe(e,t){return e.getCompDetailsFromGridOptions(Lwe,"agDetailCellRenderer",t,!0)}function Wwe(e,t,n){return e.getCompDetails(t,Twe,void 0,n)}function qwe(e,t,n){return e.getCompDetails(t,Awe,"agSkeletonCellRenderer",n,!0)}function CU(e,t,n){return e.getCompDetails(t,Pwe,"agCellEditor",n,!0)}function Kwe(e,t,n,r){return e.getCompDetails(t,S2,r,n,!0)}function Ywe(e,t){return e.getCompDetailsFromGridOptions(Cwe,"agDateInput",t,!0)}function Xwe(e,t){return e.getCompDetailsFromGridOptions(_we,"agLoadingOverlay",t,!0)}function Qwe(e,t){return e.getCompDetailsFromGridOptions(Owe,"agNoRowsOverlay",t,!0)}function Zwe(e,t){return e.getCompDetails(t.colDef,Dwe,"agTooltipComponent",t,!0)}function Jwe(e,t,n,r){return e.getCompDetails(t,Iwe,r,n)}function e0e(e,t){return wJ(e,t,S2)}function t0e(e,t,n){return e.mergeParams(t,S2,n)}function Hy(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var SJ=new Set,px={},Ch={},dS,xJ=!1,n0e=!1;function r0e(e){const[t,n]=e.version.split(".")||[],[r,i]=dS.split(".")||[];return t===r&&n===i}function i0e(e){dS||(dS=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?r0e(e)||_p(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${dS}.`)):_p(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||_p(`${n.message}`)}}function $y(e,t){i0e(e);const n=e.rowModels??["all"];SJ.add(e);let r;t!==void 0?(xJ=!0,Ch[t]===void 0&&(Ch[t]={}),r=Ch[t]):r=px,n.forEach(i=>{r[i]===void 0&&(r[i]={}),r[i][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(i=>$y(i,t))}function o0e(e){delete Ch[e]}function EJ(e,t,n){const r=i=>{var o,s,a;return!!((o=px[i])!=null&&o[e])||!!((a=(s=Ch[t])==null?void 0:s[i])!=null&&a[e])};return r(n)||r("all")}function x2(){return xJ}function s0e(e,t){const n=Ch[e]??{};return[...Object.values(px.all??{}),...Object.values(n.all??{}),...Object.values(px[t]??{}),...Object.values(n[t]??{})]}function a0e(){return new Set(SJ)}function l0e(e,t){const n=Ch[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function u0e(){return n0e}var c0e=class{static register(e){$y(e,void 0)}static registerModules(e){e.forEach(t=>$y(t,void 0))}},d0e=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const n of Object.keys(e.providedBeanInstances))this.beans[n]=e.providedBeanInstances[n];e.beanClasses.forEach(n=>{const r=new n;r.beanName?this.beans[r.beanName]=r:console.error(`Bean ${n.name} is missing beanName`),this.createdBeans.push(r)}),(t=e.derivedBeans)==null||t.forEach(n=>{const{beanName:r,bean:i}=n(this);this.beans[r]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{var r,i;(r=n.preWireBeans)==null||r.call(n,this.beans),(i=n.wireBeans)==null||i.call(n,this.beans)}),e.forEach(n=>{var r;return(r=n.preConstruct)==null?void 0:r.call(n)}),t&&e.forEach(t),e.forEach(n=>{var r;return(r=n.postConstruct)==null?void 0:r.call(n)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},h0e=class extends d0e{init(t){this.gridId=t.gridId,this.beans.context=this,this.destroyCallback=t.destroyCallback,super.init(t)}destroy(){var t;super.destroy(),o0e(this.gridId),(t=this.destroyCallback)==null||t.call(this)}getGridId(){return this.gridId}},f0e="ag-column-first",p0e="ag-column-last";function RJ(e,t,n,r){return qn(e)?[]:m0e(e.headerClass,e,t,n,r)}function TJ(e,t,n){e.addOrRemoveCssClass(f0e,n.isColAtEdge(t,"first")),e.addOrRemoveCssClass(p0e,n.isColAtEdge(t,"last"))}function g0e(e,t,n,r){return st(t,{colDef:e,column:n,columnGroup:r})}function m0e(e,t,n,r,i){if(qn(e))return[];let o;if(typeof e=="function"){const s=g0e(t,n,r,i);o=e(s)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}function Eu(e,t){const n=QZ(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var v0e=class extends ye{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const{gos:t,pagination:n}=this.beans,r=t.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,r&&e===0){const i=(n==null?void 0:n.getCurrentPage())??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame")}verifyAnimationFrameOn(e){this.active===!1&&Me(92,{methodName:e})}createTask(e,t,n){this.verifyAnimationFrameOn(n);const r={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],r),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,n=t.list,r=this.createTasksP2,i=r.list,o=this.destroyTasks,s=new Date().getTime();let a=new Date().getTime()-s;const l=e<=0,u=this.beans.ctrlsSvc.getScrollFeature();for(;l||a<e;){if(!u.scrollGridIfNeeded()){let f;if(n.length)this.sortTaskList(t),f=n.pop().task;else if(i.length)this.sortTaskList(r),f=i.pop().task;else if(o.length)f=o.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(f)||f()}a=new Date().getTime()-s}n.length||i.length||o.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);Eu(this.beans,e)}isQueueEmpty(){return!this.ticking}},ve={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},aF=!1,gx=0;function y0e(e){gx>0||(e.addEventListener("keydown",mx),e.addEventListener("mousedown",mx))}function b0e(e){gx>0||(e.removeEventListener("keydown",mx),e.removeEventListener("mousedown",mx))}function mx(e){const t=aF,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(aF=n)}function C0e(e){const t=vr(e);return y0e(t),gx++,()=>{gx--,b0e(t)}}function w0e(){return aF}function S0e(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===ve.TAB){const i=r.shiftKey;nf(e,n,!1,i)||fg(e,i)&&r.preventDefault()}}})}function Mp(e,t,n=!1){const r=aCe;let i=BZ;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(l=>il(l)),s=Array.prototype.slice.apply(e.querySelectorAll(i));return s.length?((l,u)=>l.filter(h=>u.indexOf(h)===-1))(o,s):o}function $h(e,t=!1,n=!1,r=!1){const i=Mp(e,r?".ag-tab-guard":null,n),o=t?yn(i):i[0];return o?(o.focus({preventScroll:!0}),!0):!1}function nf(e,t,n,r){const i=Mp(t,n?':not([tabindex="-1"])':null),o=lr(e);let s;n?s=i.findIndex(l=>l.contains(o)):s=i.indexOf(o);const a=s+(r?-1:1);return a<0||a>=i.length?null:i[a]}function AJ(e,t=5){let n=0;for(;e&&ZM(e)===null&&++n<=t;)e=e.parentElement;return ZM(e)===null?null:e}function x0e(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function wh(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function uR(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function fg(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function E0e(e,t=!1){return e===ve.DELETE?!0:!t&&e===ve.BACKSPACE?LZ():!1}var R0e=class extends ye{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case ve.ENTER:this.onEnterKeyDown(e);break;case ve.F2:this.onF2KeyDown(e);break;case ve.ESCAPE:this.onEscapeKeyDown(e);break;case ve.TAB:this.onTabKeyDown(e);break;case ve.BACKSPACE:case ve.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ve.DOWN:case ve.UP:case ve.RIGHT:case ve.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var n;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const r=this.cellCtrl.getFocusedCellPosition();(n=this.beans.navigation)==null||n.navigateToNextCell(e,t,r,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(n==null||n.ensureCellVisible(r))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var l;const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:o,rangeSvc:s,eventSvc:a}=r;if(!n.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),E0e(e,o.get("enableCellEditingOnBackspace"))){if(s&&Wc(o))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:u}=n,h=this.beans.valueSvc.getDeleteValue(u,i);i.setDataValue(u,h,"cellClear")}}else(l=r.editSvc)==null||l.startRowOrCellEdit(n,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var r,i;const{cellCtrl:t,beans:n}=this;if(t.editing||this.rowCtrl.editing)t.stopEditingAndFocus(!1,e.shiftKey);else if(n.gos.get("enterNavigatesVertically")){const o=e.shiftKey?ve.UP:ve.DOWN;(r=n.navigation)==null||r.navigateToNextCell(null,o,t.cellPosition,!1)}else(i=n.editSvc)==null||i.startRowOrCellEdit(t,ve.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var r;const{cellCtrl:t,beans:n}=this;t.editing||(r=n.editSvc)==null||r.startRowOrCellEdit(t,ve.F2,e)}onEscapeKeyDown(e){var r;const{cellCtrl:t,beans:n}=this;t.editing&&((r=n.editSvc)==null||r.stopRowOrCellEdit(t,!0),t.focusCell(!0))}processCharacter(e){var i;if(e.target!==this.eGui||this.cellCtrl.editing)return;const r=e.key;r===ve.SPACE?this.onSpaceKeyDown(e):(i=this.beans.editSvc)!=null&&i.startRowOrCellEdit(this.cellCtrl,r,e)&&e.preventDefault()}onSpaceKeyDown(e){var n;const{gos:t}=this.beans;!this.cellCtrl.editing&&yh(t)&&((n=this.beans.selectionSvc)==null||n.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},T0e=class extends ye{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Zl(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var u;if((u=this.beans.touchSvc)!=null&&u.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,gos:r,editSvc:i}=this.beans,o=e.ctrlKey||e.metaKey;n&&o&&n.getCellRangeCount(this.cellCtrl.cellPosition)>1&&n.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(s);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(s)})},0),(r.get("singleClickEdit")||a.singleClickEdit)&&!r.get("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&(i==null||i.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:o,gos:s,editSvc:a}=n,l=t.getColDef(),u=r.createEvent(e,"cellDoubleClicked");i.dispatchEvent(u),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{l.onCellDoubleClicked(u)})},0),!s.get("singleClickEdit")&&!s.get("suppressClickEdit")&&(a==null||a.startRowOrCellEdit(r,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:o,beans:s}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:u,focusSvc:h,gos:f}=s;if(this.isRightClickInExistingRange(e))return;const p=l&&!l.isEmpty(),m=this.containsWidget(i),{cellPosition:b}=o,C=hC(b.column);if(u&&C&&!u.handleMouseDownOnCell(b,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!p){const x=f.get("enableCellTextSelection")&&e.defaultPrevented,R=(id()||x)&&!o.editing&&!f2(i)&&!m;o.focusCell(R)}if(r&&p&&!h.isCellFocused(b)){e.preventDefault();const y=h.getFocusedCell();if(y){const{column:x,rowIndex:R,rowPinned:T}=y,M=s.rowRenderer.getRowByPosition({rowIndex:R,rowPinned:T}),A=M==null?void 0:M.getCellCtrl(x);A!=null&&A.editing&&A.stopEditing(),h.setFocusedCell({column:x,rowIndex:R,rowPinned:T,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!m){if(l)if(C&&e.preventDefault(),r)l.extendLatestRangeToCell(b);else{const y=t||n;l.setRangeToCell(b,y)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&r)return!0}return!1}containsWidget(e){return mh(e,"ag-selection-checkbox",3)||mh(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n==null||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n==null||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}destroy(){super.destroy()}},A0e=class extends ye{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{modelUpdated:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();tf(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let i=e;const o=e.getPinned();for(let s=0;i&&s<n&&(r.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||qn(i)||o!==i.getPinned()));s++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=yn(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=bh(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},P0e="ag-cell",_0e="ag-cell-auto-height",O0e="ag-cell-normal-height",D0e="ag-cell-focus",I0e="ag-cell-first-right-pinned",M0e="ag-cell-last-left-pinned",F0e="ag-cell-not-inline-editing",k0e="ag-cell-wrap-text",vx="cellCtrl";function PJ(e,t){return oJ(e,t,vx)}var L0e=0,iy=class extends ye{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=n;const{colId:i,colIdSanitised:o}=e;this.instanceId=i+"-"+L0e++,this.colIdSanitised=o,this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusSvc.clearRestoreFocus()}addFeatures(){var r;const{beans:e}=this;this.positionFeature=new A0e(this,e),this.customStyleFeature=(r=e.cellStyles)==null?void 0:r.createCellCustomStyleFeature(this,e),this.mouseListener=new T0e(this,e,this.column),this.keyboardListener=new R0e(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Wc(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,n,r,i,o,s){var a,l,u,h,f,p;this.comp=e,this.eGui=t,this.printLayout=i,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.positionFeature)==null||a.init(),(l=this.customStyleFeature)==null||l.setComp(e),(u=this.tooltipFeature)==null||u.refreshTooltip(),(h=this.keyboardListener)==null||h.init(),(f=this.rangeFeature)==null||f.setComp(e),o&&this.isCellEditable()?(p=this.beans.editSvc)==null||p.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(m=>m()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var n;this.isAutoHeight=((n=this.beans.rowAutoHeight)==null?void 0:n.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var h;const{beans:n,column:r,rowNode:i,rangeFeature:o}=this,{userCompFactory:s}=n,a=this.getValueToDisplay();let l;if(i.stub&&((h=i.groupData)==null?void 0:h[r.getId()])==null){const f=this.createCellRendererParams();l=qwe(s,r.getColDef(),f)}else if(this.isCellRenderer()){const f=this.createCellRendererParams();l=Wwe(s,r.getColDef(),f)}this.comp.setRenderDetails(l,a,e),!t&&o&&Eu(n,()=>o==null?void 0:o.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||fu(this.column)&&t&&typeof t!="string"&&Dp(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:o,beans:{valueSvc:s,gos:a}}=this;return st(a,{value:e,valueFormatted:t,getValue:()=>s.getValueForDisplay(n,r),setValue:u=>s.setValue(r,n,u),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:i.getParentOfValue(),registerRowDragger:(u,h,f,p)=>this.registerRowDragger(u,h,p),setTooltip:(u,h)=>{var f;a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(u,h),(f=this.tooltipFeature)==null||f.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var u,h,f,p,m,b;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),n=e!=null&&!!e.newData,r=e!=null&&!!e.suppressFlash,i=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,o=e&&e.forceRefresh||i||n,s=!!this.comp,a=this.updateAndFormatValue(s),l=o||a;if(s){if(l){this.showValue(n,!1);const C=(u=this.beans.filterManager)==null?void 0:u.isSuppressFlashingCellsBecauseFiltering();!r&&!C&&t.enableCellChangeFlash&&((h=this.beans.cellFlashSvc)==null||h.flashCell(this)),(f=this.customStyleFeature)==null||f.applyUserStyles(),(p=this.customStyleFeature)==null||p.applyClassesFromColDef()}(m=this.tooltipFeature)==null||m.refreshTooltip(),(b=this.customStyleFeature)==null||b.applyCellClassRules()}}stopEditingAndFocus(e=!1,t=!1){var n;(n=this.beans.editSvc)==null||n.stopEditingAndFocus(this,e,t)}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;Hh(this.beans.gos,t,vx,this),e.addDestroyFunc(()=>Hh(this.beans.gos,t,vx,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:o}=this;return st(o.gos,{type:t,node:n,data:n.data,value:i,column:r,colDef:r.getColDef(),rowPinned:n.rowPinned,event:e,rowIndex:n.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.mouseListener)==null||n.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;TJ(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);MZ(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(hC(this.column)&&(e=!0),Ds(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(I0e,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(M0e,e)}isCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}onCellFocused(e){var i;const{beans:t}=this;if(uR(t))return;const n=this.isCellFocused();if(!this.comp){n&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass(D0e,n),n&&e&&e.forceBrowserFocus){let o=this.comp.getFocusableElement();if(this.editing){const s=Mp(o,null,!0);s.length&&(o=s[0])}o.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const r=t.gos.get("editType")==="fullRow";!n&&!r&&this.editing&&((i=t.editSvc)==null||i.stopRowOrCellEdit(this)),n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Ql(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(P0e,!0),e.addOrRemoveCssClass(F0e,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(_0e,t),e.addOrRemoveCssClass(O0e,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(k0e,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,t,n){var i;const r=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},_J="__ag_grid_instance";function OJ(e,t){t[_J]=e.gridInstanceId}function yx(e,t){return DJ(e,t.target)}function DJ(e,t){let n=t;for(;n;){const r=n[_J];if(ke(r))return r===e.gridInstanceId;n=n.parentElement}return!1}function N0e(e,t){var n;return((n=PJ(e,t.target))==null?void 0:n.getFocusedCellPosition())??null}function UP(e,t){const n=Ri(e.gos,"normal"),r=t;let i,o;if(r.clientX!=null||r.clientY!=null?(i=r.clientX,o=r.clientY):(i=r.x,o=r.y),n){const s=e.ctrlsSvc.getScrollFeature(),a=s.getVScrollPosition(),l=s.getHScrollPosition();i+=l.left,o+=a.top}return{x:i,y:o}}var V0e=class extends ye{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,r=t.find(i=>i.dragSource===e);r&&(n.removeDragSource(r.params),ma(t,r))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(r=>t.removeDragSource(r.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(n=e.onDragStarted)==null||n.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var n,r;(r=(n=this.dragSource)==null?void 0:n.onDragStopped)==null||r.call(n);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const i=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){var n;const{dragSource:e,lastDropTarget:t}=this;(n=e==null?void 0:e.onDragCancelled)==null||n.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var h,f;const n=this.getHorizontalDirection(e),r=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(p=>this.isMouseOnDropTarget(e,p)),o=this.findCurrentDropTarget(e,i),{lastDropTarget:s,dragSource:a,dragAndDropImageComp:l,dragItem:u}=this;if(o!==s){if(this.leaveLastTargetIfExists(e,n,r,t),s!==null&&o===null&&((h=a==null?void 0:a.onGridExit)==null||h.call(a,u)),s===null&&o!==null&&((f=a==null?void 0:a.onGridEnter)==null||f.call(a,u)),this.enterDragTargetIfExists(o,e,n,r,t),o&&l){const{comp:p,promise:m}=l;p?p.setIcon(o.getIconName?o.getIconName():null,!1):m.then(b=>{b&&b.setIcon(o.getIconName?o.getIconName():null,!1)})}this.lastDropTarget=o}else if(o&&o.onDragging){const p=this.createDropTargetEvent(o,e,n,r,t);o.onDragging(p)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(a,l)=>{for(const u of l){const{width:h,height:f,left:p,right:m,top:b,bottom:C}=u.getBoundingClientRect();if(h===0||f===0)return!1;const y=a.clientX>=p&&a.clientX<m,x=a.clientY>=b&&a.clientY<C;if(!y||!x)return!1}return!0};for(const a of n)if(i(e,a)){r=!0;break}const{eElement:o,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:r&&t.isInterestedIn(s,o)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const i=Ny(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const o of i)for(const s of t)if(this.getAllContainersFromDropTarget(s).flatMap(l=>l).indexOf(o)!==-1)return s;return null}enterDragTargetIfExists(e,t,n,r,i){if(e&&e.onDragEnter){const o=this.createDropTargetEvent(e,t,n,r,i);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,n,r){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const s=this.createDropTargetEvent(i,e,t,n,r);i.onDragLeave(s)}const o=this.getDragAndDropImageComponent();o&&o.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:r}=e;return n.contains(r)}getHorizontalDirection(e){var r;const t=(r=this.eventLastTime)==null?void 0:r.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){var r;const t=(r=this.eventLastTime)==null?void 0:r.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,r,i){const o=e.getContainer(),s=o.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:u}=this,h=t.clientX-s.left,f=t.clientY-s.top;return st(u,{event:t,x:h,y:f,vDirection:r,hDirection:n,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:o})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&TCe(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:n}=e;if(n){const r=n.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(r),this.destroyBean(n)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const r=Nwe(n,st(t,{dragSource:e}));if(!r)return;const i=r.newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),OJ(this.gos,r),n.applyThemeClasses(r),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),r.style.top="20px",r.style.left="20px";const o=y2(this.beans);this.dragAndDropImageParent=o,o?o.appendChild(r):Me(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},B0e=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function H0e(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function lF(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function $0e(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ke(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function j0e(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function G0e(e){let t=0,n;const{pinnedRowModel:r,rowModel:i,pageBounds:o}=e;return r!=null&&r.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=o.getFirstRow()):r!=null&&r.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function z0e(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,o=r==null?void 0:r.getPinnedBottomRowCount(),s=r==null?void 0:r.getPinnedTopRowCount();return o?(n="bottom",t=o-1):e.rowModel.getRowCount()?(n=null,t=i.getLastRow()):s&&(n="top",t=s-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function bx(e,t){var n,r;switch(t.rowPinned){case"top":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return(r=e.pinnedRowModel)==null?void 0:r.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function cp(e,t){var i;const n=(i=e.spannedRowRenderer)==null?void 0:i.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}var U0e=class extends ye{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;Hi(t)&&(this.clientSideRowModel=e),n.whenReady(this,r=>{const i=r.gridBodyCtrl;this.autoScrollService=new B0e({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>i.scrollFeature.getVScrollPosition().top,setVerticalPosition:o=>i.scrollFeature.setVerticalScrollPosition(o),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(n==null?void 0:n.isSortActive()))}getRowNodes(e){var r;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=[...((r=this.beans.selectionSvc)==null?void 0:r.getSelectedNodes())??[]].sort((o,s)=>o.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(s));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=UP(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const{dragAndDrop:n,gos:r}=this.beans,i=this.isFromThisGrid(e),o=r.get("rowDragManaged"),s=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(r.get("suppressMoveWhenRowDragging")||!i?n.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(s[0],t):this.moveRows(s,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(yn(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel,n=t.getLastHighlightedRowNode(),r=n&&n.highlighted==="Below",i=UP(this.beans,e).y,o=e.dragItem.rowNodes;let s=r?1:0;if(this.isFromThisGrid(e))o.forEach(a=>{a.rowTop<i&&(s-=1)}),this.moveRows(o,i,s);else{const a=cg(this.gos);let l=t.getRowIndexAtPixel(i)+1;t.getHighlightPosition(i)==="Above"&&l--,t.updateRowData({add:o.filter(u=>!t.getRowNode((a==null?void 0:a({data:u.data,level:0,rowPinned:u.rowPinned}))??u.data.id)).map(u=>u.data),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,n=0){const r=this.beans.focusSvc,i=r.getFocusedCell(),o=i&&cp(this.beans,i);this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(o?o.focusCell():r.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){Me(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){Me(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(n.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(n.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(n.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(n.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const r={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),o=this.onDragStop.bind(this),s=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{r(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:r,onDragging:e.onDragging?l=>{i(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:i,onDragStop:e.onDragStop?l=>{o(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:o,onDragCancel:e.onDragCancel?l=>{s(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:s,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:r,onDragging:i,onDragStop:o,onDragCancel:s,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:r,rowModel:i,gos:o}=n,s=UP(n,t).y,a=s>r.getCurrentPageHeight();let l=-1,u;return a||(l=i.getRowIndexAtPixel(s),u=i.getRow(l)),st(o,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:u,y:s,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function IJ(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}var W0e=class extends ye{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const r=e.touchStartListener;t.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(r=>r.dragSource===e);n&&(this.removeListener(n),ma(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:r,stopPropagationForTouch:i}=e;n.addEventListener("mousedown",t);let o=null;const s=this.gos.get("suppressTouch");r&&!s&&(o=a=>{f2(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!r})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const r=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),o=l=>{l.cancelable&&l.preventDefault()},s=t.target,a=[{target:Ny(this.beans),type:"touchmove",listener:o,options:{passive:!1}},{target:s,type:"touchmove",listener:r,options:{passive:!0}},{target:s,type:"touchend",listener:i,options:{passive:!0}},{target:s,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const r=u=>this.onMouseMove(u,e.eElement),i=u=>this.onMouseUp(u,e.eElement),o=u=>u.preventDefault(),s=u=>{u.key===ve.ESCAPE&&this.cancelDrag(e.eElement)},a=Ny(this.beans),l=[{target:a,type:"mousemove",listener:r},{target:a,type:"mouseup",listener:i},{target:a,type:"contextmenu",listener:o},{target:a,type:"keydown",listener:s}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:r,listener:i,options:o}=t;n.addEventListener(r,i,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:r,listener:i,options:o}=t;n.removeEventListener(r,i,o)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,r=ke(n)?n:4;return IJ(e,t,r)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){var r;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(r=this.currentDragParams)==null||r.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){var n;id()&&((n=vr(this.beans).getSelection())==null||n.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),r=e.type==="mousemove",i=o=>{const s=o.target,a=s==null?void 0:s.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))};return n&&r&&e.cancelable&&yx(t,e)&&!i(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,n;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(n=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||n.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function MJ(e,t){return e+"_"+t}function nr(e){return e instanceof FJ}var FJ=class extends ye{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return MJ(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{nr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=yn(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(n=>{e+=n.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{qc(t)?e.push(t):nr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{qc(t)?e.push(t):nr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(nr(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},uF="row-group-",kJ="t-",LJ="b-",q0e=0,pg=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=q0e++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var a;const{valueCache:n,selectionSvc:r,rowSpanSvc:i}=this.beans,o=this.data;this.data=e,n==null||n.onDataChanged(),this.updateDataOnDetailNode(),r==null||r.updateRowSelectable(this),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,o,t);(a=this.__localEventService)==null||a.dispatchEvent(s),i==null||i.onRowDataUpdated(this)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(bn(13),null):this.rowPinned==="top"?kJ+this.rowIndex:this.rowPinned==="bottom"?LJ+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var s,a;const{selectionSvc:n}=this.beans,r=(s=n==null?void 0:n.createDaemonNode)==null?void 0:s.call(n,this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const o=this.createDataChangedEvent(e,i,!1);(a=this.__localEventService)==null||a.dispatchEvent(o)}setId(e){var n;const t=cg(this.beans.gos);if(t)if(this.data){const r=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=t({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(uF)&&bn(14,{groupPrefix:uF})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){var r;(r=this.beans.expansionSvc)==null||r.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:r,valueSvc:i,gos:o,selectionSvc:s,rowSpanSvc:a}=this.beans,l=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!l)return!1;const u=i.getValueForDisplay(l,this);if(o.get("readOnlyEdit")){const{beans:{eventSvc:f},data:p,rowIndex:m,rowPinned:b}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:b,column:l,colDef:l.colDef,data:p,node:this,oldValue:u,newValue:t,value:t,source:n}),!1}const h=i.setValue(this,l,t,n);return this.dispatchCellChangedEvent(l,t,u),s==null||s.updateRowSelectable(this),a==null||a.onRowDataUpdated(this),h}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){var i;const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};(i=this.__localEventService)==null||i.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(n=>n.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){var r;(r=this.beans.selectionSvc)==null||r.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Nh),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var r,i,o,s;(r=this.beans.validation)==null||r.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Nh),this.frameworkEventListenerService=(o=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:o.call(i,this.frameworkEventListenerService,this.__localEventService);const n=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(t))??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){var r;const n=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(t))??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){var n,r;(n=this.__localEventService)==null||n.removeEventListener(e,t),(r=this.__localEventService)!=null&&r.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Me(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function K0e(e,t,n){return st(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Y0e=class extends Kn{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??Wn.resolve()}afterGuiAttached(e){var t,n;(n=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||n.then(r=>{var i;(i=r==null?void 0:r.afterGuiAttached)==null||i.call(r,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(n=>{var r;(r=n==null?void 0:n.afterGuiDetached)==null||r.call(n)})}createFilter(e){var r,i;const{column:t,source:n}=this;this.filterWrapper=((r=this.beans.filterManager)==null?void 0:r.getOrCreateFilterWrapper(t))??null,(i=this.filterWrapper)!=null&&i.filterPromise&&this.filterWrapper.filterPromise.then(o=>{const s=o.getGui();ke(s)||Me(69,{guiFromFilter:s}),this.appendChild(s),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(qo(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},NJ="ag-resizer-wrapper",Ju=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,X0e=`<div class="${NJ}">
        ${Ju("eTopLeft","topLeft")}
        ${Ju("eTop","top")}
        ${Ju("eTopRight","topRight")}
        ${Ju("eRight","right")}
        ${Ju("eBottomRight","bottomRight")}
        ${Ju("eBottom","bottom")}
        ${Ju("eBottomLeft","bottomLeft")}
        ${Ju("eLeft","left")}
    </div>`,Q0e=class extends ye{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,r=e/2-this.getHeight()/2;this.offsetElement(n,r)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:r,minHeight:i,height:o,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const h=il(this.element);if(h){const f=this.findBoundaryElement(),p=window.getComputedStyle(f);if(p.minWidth!=null){const m=f.offsetWidth-this.element.offsetWidth;u=parseInt(p.minWidth,10)-m}if(p.minHeight!=null){const m=f.offsetHeight-this.element.offsetHeight;l=parseInt(p.minHeight,10)-m}}if(this.minHeight=i||l,this.minWidth=n||u,r&&this.setWidth(r),o&&this.setHeight(o),(!r||!o)&&this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(h&&t){let f=this.boundaryEl,p=!0;if(f||(f=this.findBoundaryElement(),p=!1),f){const m=parseFloat(f.style.top),b=parseFloat(f.style.left);p?this.offsetElement(isNaN(b)?0:b,isNaN(m)?0:m):this.setPosition(b,m)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var r,i;if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((r=this.dragSvc)==null||r.addDragSource(n),this.moveElementDragListener=n):((i=this.dragSvc)==null||i.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var s;const r=!!e[t],i=this.getResizerElement(t),o={dragStartPixels:0,eElement:i,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(r||!this.isAlive()&&!r)&&(r?((s=this.dragSvc)==null||s.addDragSource(o),this.resizeListeners.push(o),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ty(n,e),e=HZ(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?ty(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:r.top,s=e?0:i.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:h}=u.getBoundingClientRect();a=h-r.bottom}}return n+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Qa(t,e),e=nx(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,o=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+o>i&&(e=i-o)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Qa(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var i;const{forcePopupParentAsOffsetParent:n}=this.config,r=n?this.boundaryEl:this.element;r&&((i=this.popupSvc)==null||i.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(e){var n;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=xu(this.beans,(n=this.popupSvc)==null?void 0:n.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!i,s)?0:s,u=this.shouldSkipY(t,!!r,o,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return l?!0:(t?l=r<0&&e.clientX>a+o.left||r>0&&e.clientX<a+o.left:n?l=r<0&&e.clientX>s.right||r>0&&e.clientX<a+o.left:l=r<0&&e.clientX>s.right||r>0&&e.clientX<s.right,l)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return l?!0:(t?l=r<0&&e.clientY>a+o.top+n||r>0&&e.clientY<a+o.top:l=r<0&&e.clientY>s.bottom||r>0&&e.clientY<s.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const n=new DOMParser().parseFromString(X0e,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${NJ}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],o=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(o){const l=window.getComputedStyle(i);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=i.offsetHeight,a=i.offsetWidth;t+=s,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:o,isLeft:s}=this.currentResizer,a=i||s,l=o||r,{movementX:u,movementY:h}=this.calculateMouseMovement({e,isLeft:s,isTop:r}),f=this.position.x,p=this.position.y;let m=0,b=0;if(a&&u){const C=s?-1:1,y=this.getWidth(),x=y+u*C;let R=!1;s&&(m=y-x,(f+m<=0||x<=this.minWidth)&&(R=!0,m=0)),R||this.setWidth(x)}if(l&&h){const C=r?-1:1,y=this.getHeight(),x=y+h*C;let R=!1;r?(b=y-x,(p+b<=0||x<=this.minHeight)&&(R=!0,b=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&y<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(R=!0),R||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&m||b)&&this.offsetElement(f+m,p+b)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Z0e="ag-focus-managed",im=class extends ye{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=nf(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(Z0e),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Zl(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){dg(t);return}t.key===ve.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},VJ={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function E2(e,t){const{debounceMs:n}=e;return Cx(e)?(n!=null&&Me(71),0):n??t}function Cx(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var J0e=class extends Kn{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=et,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new im(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Q0e(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=Cx(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=Cx(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:n,readOnly:r}=t??{},{buttons:i,readOnly:o}=e;if(r===o&&Ly(n,i))return;const s=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(qo(this.eButtonsPanel),this.buttonListeners.forEach(u=>u()),this.buttonListeners=[]):s&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!s){this.eButtonsPanel&&Vh(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=u=>{let h;const f=u?this.translate(`${u}Filter`):void 0;switch(u){case"apply":h=b=>this.onBtApply(!1,!1,b);break;case"clear":h=()=>this.onBtClear();break;case"reset":h=()=>this.onBtReset();break;case"cancel":h=b=>{this.onBtCancel(b)};break;default:Me(75);return}const m=ky(`<button
                    type="${u==="apply"?"submit":"button"}"
                    data-ref="${u}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${f}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(m,{click:h})),a.append(m)};i.forEach(u=>l(u)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=E2(this.params,this.defaultDebounceMs),t=Ei(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:r}=this.params;r&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let r;(n==="Enter"||n==="Space")&&(r={keyboardEvent:t}),this.hidePopup(r),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),r=this.queryForHtmlElement('[data-ref="applyFilterButton"]');r&&My(r,!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,VJ[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function eSe(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:o,fwComp:s}=e0e(e,t);return i?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:o==null&&s==null&&t.filter===!0&&(r=n()),r}var hS={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},R2=class extends ye{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?hS.AUTO_HEIGHT:t.print?hS.PRINT:hS.NORMAL;this.view.updateLayoutClasses(n,t)}},ec="Viewport",wU="fakeVScrollComp",SU=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],xU=100,WP=150,tSe=class extends ye{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ei(this,()=>this.lastScrollSource[1]=null,WP),this.resetLastVScrollDebounced=Ei(this,()=>this.lastScrollSource[0]=null,WP)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,ec)});for(const e of SU){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Ei(this,this.onVScroll.bind(this,ec),xU):this.onVScroll.bind(this,ec),r=t?Ei(this,this.onVScroll.bind(this,wU),xU):this.onVScroll.bind(this,wU);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...SU,ec]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);ox(n,e,this.enableRtl)}}getViewportForSource(e){return e===ec?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=ix(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===ec?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n==null||n.setScrollTop(t),this.nextScrollTop=t,e===ec?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,!n||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded(!0):n.schedule(),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},WP)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!gh()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=p2(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&rx()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(ec)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.requireUpdatedScrollPosition(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&rx()?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),ox(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.requireUpdatedScrollPosition(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.needsRefreshedScrollPosition=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let o=0;o<r;o++){const s=n.getRow(o);if(typeof e=="function"){if(s&&e(s)){i=o;break}}else if(e===s||e===s.data){i=o;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t){if(Ri(this.gos,"print"))return;const{rowModel:n}=this.beans,r=n.getRowCount();if(typeof e!="number"||e<0||e>=r){Me(88,{index:e});return}const o=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides:s,pagination:a,pageBounds:l,rowContainerHeight:u,rowRenderer:h}=this.beans;s.wrapIncoming(()=>{var y;o||a==null||a.goToPageWithIndex(e);const f=this.ctrlsSvc.getGridBodyCtrl(),p=f.stickyTopHeight,m=f.stickyBottomHeight,b=n.getRow(e);let C;do{const x=b.rowTop,R=b.rowHeight,T=l.getPixelOffset(),M=b.rowTop-T,A=M+b.rowHeight,D=this.getVScrollPosition(),_=u.divStretchOffset,I=D.top+_,O=D.bottom+_,F=O-I,L=u.getScrollPositionForPixel(M),V=u.getScrollPositionForPixel(A-F),N=Math.min((L+V)/2,M),Y=I+p>M,X=O-m<A;let j=null;t==="top"?j=L:t==="bottom"?j=V:t==="middle"?j=N:Y?j=L-p:X&&(j=V+m),j!==null&&(this.setVerticalScrollPosition(j),h.redraw({afterScroll:!0})),C=x!==b.rowTop||R!==b.rowHeight}while(C);(y=this.animationFrameSvc)==null||y.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const o=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{var s;o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),(s=this.animationFrameSvc)==null||s.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let a=(s?n:r)||i,l=s?r:n;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:h,colMiddle:f,colRight:p}=this.getColumnBounds(e);return u?f-o/2:a?s?p:h:s?h-o:p-o}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),o=this.enableRtl,s=o?t>i:n<i,a=o?n<r:t>r;return{columnBeforeStart:s,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),o=t?-1:1,s=t?n-i:i,a=s+r*o,l=s+r/2*o;return{colLeft:s,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},T2=class extends ye{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Ri(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth();let s;e?s=r+i+o:(s=r,this.addSpacer&&(this.gos.get("enableRtl")?i:o)===0&&n.verticalScrollShowing&&(s+=n.getScrollbarWidth())),this.callback(s)}},nSe=class extends ye{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{Eu(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=p2(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function A2(e,t,n,r,i,o){if(n==null&&t==null)return;const s={},a={},l=(u,h)=>{u.split(" ").forEach(f=>{f.trim()!=""&&h(f)})};if(n){const u=Object.keys(n);for(let h=0;h<u.length;h++){const f=u[h],p=n[f];let m;typeof p=="string"?m=e?e.evaluate(p,r):!0:typeof p=="function"&&(m=p(r)),l(f,b=>{m?s[b]=!0:a[b]=!0})}}t&&o&&Object.keys(t).forEach(u=>l(u,h=>{s[h]||(a[h]=!0)})),o&&Object.keys(a).forEach(o),Object.keys(s).forEach(i)}function EU(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var rSe=class extends ye{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=s=>{typeof s=="string"?e.push(s):Array.isArray(s)&&s.forEach(a=>e.push(a))},i=n.get("rowClass");i&&r(i);const o=n.getCallback("getRowClass");if(o){const s={data:t.data,node:t,rowIndex:t.rowIndex},a=o(s);r(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:i}=this.beans,o=st(r,{data:e.data,node:e,rowIndex:e.rowIndex});A2(i,void 0,r.get("rowClassRules"),o,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let i;if(r){const o={data:e.data,node:e,rowIndex:e.rowIndex};i=r(o)}if(i||n)return Object.assign({},n,i)}},iSe=0,jy="renderedRow",wx=class extends ye{constructor(e,t,n,r,i){var o;super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((o=t.pagination)==null?void 0:o.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+iSe++,this.rowId=Jl(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=EU(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Jl(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){r=fC(this,this.beans.context,r);const i={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(i),this.updateGui(n,i),this.initialiseRowComp(i),!(this.rowType==="FullWidthLoading"||this.rowNode.stub)&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),yh(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(i=>n.addOrRemoveCssClass(i,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&KM(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Hh(t,e.element,jy,this),e.compBean.addDestroyFunc(()=>Hh(t,e.element,jy,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Jl(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(dU(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(dU(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var r;const t=(r=this.beans.rowDragSvc)==null?void 0:r.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var r;return(r=n==null?void 0:n.rowComp)==null?void 0:r.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),o=!!t,s=!!n||!r.isPinningRight();return i&&o&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&b2(this.gos,r);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n||e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var n;if(!((n=this.beans.rowSpanSvc)!=null&&n.isCellSpanning(e,this.rowNode)))return new iy(e,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(e){var t;return!!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(s,a,l)=>{l!=null?r.list.splice(l,0,a):r.list.push(a),r.map[s]=a},o=[];for(const s of t){const a=s.getInstanceId();let l=e.map[a];l&&this.shouldRecreateCellCtrl(l)&&(l.destroy(),l=void 0),l||(l=this.getNewCellCtrl(s)),l&&i(a,l)}for(const s of e.list){const a=s.column.getInstanceId();if(r.map[a]!=null)continue;!this.isCellEligibleToBeRemoved(s,n)?o.push([a,s]):s.destroy()}if(o.length)for(const[s,a]of o){const l=r.list.findIndex(h=>h.column.getLeft()>a.column.getLeft()),u=l===-1?void 0:Math.max(l-1,0);i(s,a,u)}return r}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t)return!0;const{editing:o,cellPosition:s}=e,{focusSvc:a,visibleCols:l}=this.beans,u=a.isCellFocused(s);return o||u?!(l.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Ri(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ke(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=r,o.right=i}else{const{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=r,o.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(s,a)=>s?s.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(s.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const n=e==="Above",r=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}verifyCells(){this.onDisplayedColumnsChanged()}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ql(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const s=this.rowNode,{focusSvc:a,navigation:l}=this.beans,u=a.getFocusedCell(),h={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:(u==null?void 0:u.column)??r};l==null||l.navigateToNextCell(e,e.key,h,!0),e.preventDefault()}onTabKeyDown(e){var a;if(e.defaultPrevented||Zl(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=lr(this.beans);let o=!1;n&&i&&(o=n.contains(i)&&i.classList.contains("ag-cell"));let s=null;!r&&!o&&(s=nf(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!s)&&((a=this.beans.navigation)==null||a.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(n=>il(n.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{Ds(n.element,"tabindex",t)})}onFullWidthRowFocused(e){var i;const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,r=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;r&&(r.classList.toggle("ag-full-width-focus",n),n&&(e!=null&&e.forceBrowserFocus)&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(r=>{r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return st(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Zl(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=mh(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:r}=this.beans;n==null||n.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:o,column:s}=i,a=o.element,l=e.target;let u=e.defaultPrevented||id();a&&a.contains(l)&&f2(l)&&(u=!1),r.setFocusedCell({rowIndex:t.rowIndex,column:s,rowPinned:t.rowPinned,forceBrowserFocus:u})}onRowClick(e){if(Zl(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:r}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),r==null||r.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=st(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,a,l,u)=>this.addFullWidthRowDragging(s,a,l,u),setTooltip:(s,a)=>{n.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(s,a)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Uwe(o,i);case"FullWidthGroup":return zwe(o,i);case"FullWidthLoading":return Gwe(o,i);default:return jwe(o,i)}}refreshRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:o}=this.beans;if(!i||!this.isFullWidth())return;const s=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(s,o),this.addDestroyFunc(()=>{this.destroyBean(s,o)})}onUiLevelChanged(){const e=EU(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(t,!0),r.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(n=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var a;const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&o.push("ag-row-pinned"),r.isSelected()&&o.push("ag-row-selected"),r.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),r.stub&&o.push("ag-row-loading"),n&&o.push("ag-full-width-row"),(a=i.expansionSvc)==null||a.addExpandedCss(o,r),r.dragging&&o.push("ag-row-dragging");const{rowStyleSvc:s}=i;return s&&(s.processClassesFromGridOptions(o,r),s.preProcessRowClassRules(o,r)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),n&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,n=>{(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:o}=this;n.addManagedListeners(t,{mouseenter:()=>r.dispatchRowEvent("mouseEnter"),mouseleave:()=>r.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(r,{mouseEnter:()=>{var s;!((s=i.dragSvc)!=null&&s.dragging)&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=XZ(this.gos)?ug(this.beans,this.rowNode).height:void 0,o=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,s=>{s.element.style.height=`${t}px`,o&&s.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&Op(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=n=>(n.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,n=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ke(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(r=>{r.column==e&&(n=r)}),n!=null||t||this.getAllCellCtrls().forEach(r=>{r.getColSpanningList().indexOf(e)>=0&&(n=r)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var o,s;const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(((o=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:o.getRowCount())??0)+(((s=this.beans.filterManager)==null?void 0:s.getHeaderRowCount())??0),r=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(t),a.rowComp.addOrRemoveCssClass("ag-row-even",r),a.rowComp.addOrRemoveCssClass("ag-row-odd",!r),IZ(a.element,i)})}};function BJ(e){var n;return e.altKey||e.ctrlKey||e.metaKey?!1:((n=e.key)==null?void 0:n.length)===1}function cF(e,t,n,r,i){const o=r?r.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const s=st(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(o&&o(s))}function oSe(e){const{pinnedRowModel:t,rowModel:n}=e,[r,i]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],o=r?null:"top";let s,a;i?(s=null,a=n.getRowCount()-1):(s="bottom",a=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:l,rangeSvc:u}=e,h=l.allCols;!u||!(h!=null&&h.length)||u.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:s})}var sSe=65,aSe=67,lSe=86,uSe=68,cSe=90,dSe=89;function hSe(e){const{keyCode:t}=e;let n;switch(t){case sSe:n=ve.A;break;case aSe:n=ve.C;break;case lSe:n=ve.V;break;case uSe:n=ve.D;break;case cSe:n=ve.Z;break;case dSe:n=ve.Y;break;default:n=e.code}return n}var fSe=class extends ye{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",iJ("touchstart")?"touchstart":"mousedown"].forEach(n=>{const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})})}processMouseEvent(e,t){var i;if(!yx(this.gos,t)||Zl(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n!=null&&n.column&&n.dispatchCellContextMenuEvent(t),(i=this.beans.contextMenuSvc)==null||i.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:PJ(t,e),rowCtrl:oJ(t,e,jy)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){var a;const{rowNode:r,column:i,editing:o}=e;!cF(this.gos,n,r,i,o)&&t==="keydown"&&(!o&&((a=this.beans.navigation)!=null&&a.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,e.editing),BJ(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:o}=this.beans,s=i.getFocusedCell(),a=s&&s.column;if(!cF(this.gos,n,r,a,!1)){const u=n.key;if(t==="keydown")switch(u){case ve.PAGE_HOME:case ve.PAGE_END:case ve.PAGE_UP:case ve.PAGE_DOWN:o==null||o.handlePageScrollingKey(n,!0);break;case ve.UP:case ve.DOWN:e.onKeyboardNavigate(n);break;case ve.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!yx(this.gos,e))return;const n=hSe(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===ve.A)return this.onCtrlAndA(e);if(n===ve.C)return this.onCtrlAndC(r,e);if(n===ve.D)return this.onCtrlAndD(r,e);if(n===ve.V)return this.onCtrlAndV(r,e);if(n===ve.X)return this.onCtrlAndX(r,e);if(n===ve.Y)return this.onCtrlAndY(i);if(n===ve.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&Wc(i)&&t.isRowsToRender()?oSe(this.beans):r&&(r==null||r.selectAllRowNodes({source:"keyboardSelectAll",selectAll:tJ(i)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||r!=null&&r.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||r!=null&&r.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||r!=null&&r.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},HJ=class extends ye{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},d0=e=>e.topRowCtrls,h0=e=>e.getStickyTopRowCtrls(),f0=e=>e.getStickyBottomRowCtrls(),p0=e=>e.bottomRowCtrls,g0=e=>e.allRowCtrls,qP=e=>e.getCtrls("top"),KP=e=>e.getCtrls("center"),YP=e=>e.getCtrls("bottom"),pSe={center:{type:"center",name:"center-cols",getRowCtrls:g0,getSpannedRowCtrls:KP},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:g0,getSpannedRowCtrls:KP},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:g0,getSpannedRowCtrls:KP},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:g0},topCenter:{type:"center",name:"floating-top",getRowCtrls:d0,getSpannedRowCtrls:qP},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:d0,getSpannedRowCtrls:qP},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:d0,getSpannedRowCtrls:qP},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:d0},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:h0},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:h0},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:h0},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:h0},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:f0},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:f0},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:f0},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:f0},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:p0,getSpannedRowCtrls:YP},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:p0,getSpannedRowCtrls:YP},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:p0,getSpannedRowCtrls:YP},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:p0}};function $J(e){return`ag-${gC(e).name}-viewport`}function fS(e){const t=gC(e);return t.container??`ag-${t.name}-container`}function gSe(e){return`ag-${gC(e).name}-spanned-cells-container`}function gC(e){return pSe[e]}var mSe=["topCenter","topLeft","topRight"],vSe=["bottomCenter","bottomLeft","bottomRight"],ySe=["center","left","right"],bSe=["center","left","right","fullWidth"],CSe=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],wSe=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],SSe=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],jJ=["stickyTopCenter","stickyTopLeft","stickyTopRight"],GJ=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],xSe=[...jJ,"stickyTopFullWidth",...GJ,"stickyBottomFullWidth"],ESe=[...mSe,...vSe,...ySe,...jJ,...GJ],RSe=class extends ye{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=gC(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new nSe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new fSe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:o}=this.beans,s=()=>this.onPinnedWidthChanged();this.forContainers(wSe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i==null?void 0:i.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(SSe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i==null?void 0:i.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(bSe,()=>this.createManagedBean(new HJ(this.eContainer,this.name==="center"?r:void 0))),o&&this.forContainers(ESe,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(CSe,()=>this.createManagedBean(new T2(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:n=>this.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const n=this.options.getSpannedRowCtrls(e);n&&this.comp.setSpannedRowCtrls(n,!1)}})}listenOnDomOrder(){if(xSe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=Ri(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Fy(this.eViewport)}getCenterViewportScrollLeft(){return ix(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=xu(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return jZ(this.eViewport)}getViewportScrollLeft(){return ix(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||uCe(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){ox(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Ri(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,o=t.filter(s=>{const a=s.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},TSe="ag-force-vertical-scroll",ASe="ag-selectable",PSe="ag-column-moving",_Se=class extends ye{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,o,s){var a,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=o,this.eStickyBottom=s,this.eCenterColsViewport=n.querySelector(`.${$J("center")}`),this.eFullWidthContainer=n.querySelector(`.${fS("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${fS("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${fS("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",u=>this.setCellTextSelection(u.currentValue)),this.createManagedBean(new R2(this.comp)),this.scrollFeature=this.createManagedBean(new tSe(this.eBodyViewport)),(a=this.beans.rowDragSvc)==null||a.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,o,s]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(l=this.filterManager)==null||l.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=VZ()?16:0,i=`calc(100% + ${n+r}px)`;Eu(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=mh(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,o=t.contains(i),s=mh(i,"ag-root",t);mh(r,"ag-root",t)||(!o||s)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(PSe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(ASe,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var i,o;const e=(((i=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:i.getRowCount())??0)+(((o=this.filterManager)==null?void 0:o.getHeaderRowCount())??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?TSe:null,n=Ri(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&cCe(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const i=n&&Op(this.gos)&&!e.stretching,o=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,i)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,n=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:n}),t==null||t.mockBodyContextMenu(this,n),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&yx(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e,i=r||Math.abs(t)>Math.abs(n),o=e.target;i?(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){var i;if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&((i=this.beans.contextMenuSvc)==null||i.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,n=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var i,o;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((i=this.filterManager)==null?void 0:i.getHeaderHeight())??0),n=((o=this.pinnedRowModel)==null?void 0:o.getPinnedTopTotalHeight())??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,s=r+o;n.setStickyBottomBottom(`${s}px`)}},zJ=class extends Kn{constructor(e,t){super(),this.direction=t,this.eViewport=et,this.eContainer=et,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",LZ()||gh())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=VZ(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Eu(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;pCe(()=>il(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},OSe=class extends zJ{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=et,this.eRightSpacer=et,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new T2(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),Qa(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),Qa(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=n?0:r===0&&t?16:r,s=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ty(this.getGui(),o),ty(this.eViewport,o),ty(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(s,100):s()}getScrollPosition(){return ix(this.eViewport,this.enableRtl)}setScrollPosition(e){il(this.eViewport)||this.attemptSettingScrollPosition(e),ox(this.eViewport,e,this.enableRtl)}},DSe=class extends zJ{constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new HJ(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Qa(this.getGui(),i),Qa(this.eViewport,i),Qa(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!il(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function ISe(e){return e.cols?e.cols.treeDepth+1:-1}function Ul(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function P2(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const i=r.getGroupRowCount()||0;for(let o=0;o<i;o++){const s=r.getGroupRowCtrlAtIndex(o),a=t[o];if(s){const l=MSe(e,s);(a==null||l>a)&&(t[o]=l)}}}return t}function MSe(e,t){const n=e.colModel.isPivotMode()?kSe(e):WJ(e);let r=0;const i=t.getHeaderCtrls();for(const o of i){const{column:s}=o;if(s.isAutoHeaderHeight()){const a=s.getAutoHeaderHeight();a!=null&&a>r&&(r=a)}}return Math.max(n,r)}function _2(e){const t=e.colModel.isPivotMode()?FSe(e):mC(e),r=e.visibleCols.allCols.filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(t,...r)}function mC(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function UJ(e){return e.gos.get("floatingFiltersHeight")??mC(e)}function WJ(e){return e.gos.get("groupHeaderHeight")??mC(e)}function FSe(e){return e.gos.get("pivotHeaderHeight")??mC(e)}function kSe(e){return e.gos.get("pivotGroupHeaderHeight")??WJ(e)}var LSe=class extends ye{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:o,ctrlsSvc:s}=r;i&&this.createManagedBean(new im(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),o==null||o.mockHeaderContextMenu(this,a),s.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Eu(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var o;const{beans:e}=this;let t=0;const n=P2(e).reduce((s,a)=>s+a,0),r=_2(e);if((o=e.filterManager)!=null&&o.hasFloatingFilters()&&(t+=UJ(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:o,focusSvc:s}=i;(o.navigateHorizontally(r,!0,e)||!n&&s.focusOverlay(!1)||fg(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case ve.LEFT:t="LEFT";case ve.RIGHT:{ke(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case ve.UP:t="UP";case ve.DOWN:{ke(t)||(t="DOWN"),n.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(lr(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var s;const{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!(r!=null&&r.isHeaderContextMenuEnabled()))return;const{target:o}=e??t;(o===this.eGui||o===((s=i.getHeaderRowContainerCtrl())==null?void 0:s.eViewport))&&r.showHeaderContextMenu(void 0,e,n)}},O2=class extends ye{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?yn(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=ke(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!Ri(n,"print")||e.getPinned()==="left")return t;const o=r.getColsLeftWidth();if(e.getPinned()==="right"){const s=r.bodyWidth;return o+s+t}return o+t}setLeft(e){if(ke(e)&&(this.eCell.style.left=`${e}px`),nr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&tCe(this.ariaEl,t.length)}}},NSe=0,qJ="headerCtrl",D2=class extends ye{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+NSe++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r&&r.suppressHeaderKeyboardEvent;if(!ke(i))return!1;const o=st(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!i(o)}getWrapperHasFocus(){return lr(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,o=f=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:b,borderTopWidth:C}=Jh(this.eGui),y=p+m+b+C,R=t.offsetHeight+y;if(f<5){const T=vr(i),M=!T||!T.contains(t),A=R==0;if(M||A){Eu(i,()=>o(f+1));return}}this.setColHeaderHeight(this.column,R)};let s=!1,a;const l=()=>{const f=this.column.isAutoHeaderHeight();f&&!s&&u(),!f&&s&&h()},u=()=>{s=!0,o(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=xu(this.beans,t,()=>o(0))},h=()=>{s=!1,a&&a(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0};l(),r.addDestroyFunc(()=>h()),r.addManagedListeners(this.column,{widthChanged:()=>s&&o(0)}),r.addManagedEventListeners({sortChanged:()=>{s&&window.setTimeout(()=>o(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(TJ(e,t,n.visibleCols),MZ(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=wh(this.beans);this.eGui&&Ds(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var o;const t=lr(this.beans),n=e.key===ve.LEFT||e.key===ve.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const i=e.key===ve.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===ve.LEFT!==t.get("enableRtl");const i=n.getPinned(),o=t.get("enableRtl");return i&&o!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case ve.PAGE_DOWN:case ve.PAGE_UP:case ve.PAGE_HOME:case ve.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=qJ,{eGui:n,gos:r}=this;Hh(r,n,t,this),e.addDestroyFunc(()=>Hh(r,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&r.preventDefault(),i!=null&&i.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},VSe=class extends D2{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,r,i){this.comp=e;const{rowCtrl:o,column:s,beans:a}=this,{colResize:l,context:u,colHover:h,rangeSvc:f}=a,p=fC(this,u,i);this.setGui(t,p),this.updateState(),this.setupWidth(p),this.setupMovingCss(p),this.setupMenuClass(p),this.setupSortableClass(p),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:b=>this.setRefreshFunction("measuring",b),compBean:p}),this.addColumnHoverListener(p),this.setupFilterClass(p),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(p),this.setupSelectAll(p),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=p.createManagedBean(l.createResizeFeature(o.pinned,s,n,e,this)):rr(n,!1),h==null||h.createHoverFeature(p,[s],t),f==null||f.createRangeHighlightFeature(p,s,e),p.createManagedBean(new O2(s,t,a)),p.createManagedBean(new im(t,{shouldStopEventPropagation:b=>this.shouldStopEventPropagation(b),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(p),p.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),p.addManagedListeners(s,{colDefChanged:()=>this.refresh()}),p.addManagedListeners(s,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const m=()=>this.checkDisplayName();p.addManagedEventListeners({columnValueChanged:m,columnRowGroupChanged:m,columnPivotChanged:m,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),p.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;(n=this.beans.colResize)==null||n.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return st(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Vwe(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return st(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||Ho(this.gos)),showColumnMenu:(o,s)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:s})},showColumnMenuAfterMouseClick:(o,s)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:s})},showFilter:o=>{e==null||e.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t==null||t.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,s)=>{t==null||t.setSortForColumn(this.column,o,!!s,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,s)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,s)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===ve.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===ve.ENTER&&this.onEnterKeyDown(e),e.key===ve.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();RU(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),w0e()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=RJ(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(i=>{r.has(i)?r.delete(i):this.comp.addOrRemoveCssClass(i,!0)}),r.forEach(i=>this.comp.addOrRemoveCssClass(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var n;(n=this.comp)==null||n.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,i=P2(this.beans),o=i.reduce((h,f)=>h+=f,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:s,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",s>0);const l=_2(r);if(s===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.addOrRemoveCssClass("ag-header-span-total",a);let u=0;for(let h=0;h<s;h++)u+=i[i.length-1-h];e.style.setProperty("top",`${-u}px`),e.style.setProperty("height",`${l+u}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),n=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(Ube(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Ho(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(lr(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((n,r)=>n==="filter"?-1:r.charCodeAt(0)-n.charCodeAt(0)).map(n=>this.ariaDescriptionProperties.get(n)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return RU(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function RU(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var BSe=0,XP=class extends ye{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=BSe++;const r=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${r}`}postConstruct(){this.isPrintLayout=Ri(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=fC(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls){for(const t of this.headerCellCtrls.values())if(t.column===e)return t}}onDisplayedColumnsChanged(){this.isPrintLayout=Ri(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],n=P2(this.beans),r=_2(this.beans);t.push(...n),t.push(r),e!=null&&e.hasFloatingFilters()&&t.push(UJ(this.beans));let i=0;for(let s=0;s<this.rowIndex;s++)i+=t[s];const o=t[this.rowIndex];return{topOffset:i,rowHeight:o}}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,e);const n=r=>{const{focusSvc:i,visibleCols:o}=this.beans;return i.isHeaderWrapperFocused(r)?o.isVisible(r.column):!1};if(e)for(const[r,i]of e)n(i)?this.headerCellCtrls.set(r,i):this.destroyBean(i);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const n=e.getUniqueId();let r;if(t&&(r=t.get(n),t.delete(n)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new VSe(e,this));break}this.headerCellCtrls.set(n,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(r=>{const i=n.getHeadersToRender(r,t);e=e.concat(i)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let n;return typeof e=="function"?n=t.find(e):n=t.find(r=>r.column==e),n}focusHeader(e,t){const n=this.findHeaderCellCtrl(e);return n?n.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},HSe=class extends ye{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:o,filterManager:s}=this.beans;this.setupCenterWidth(),n==null||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this,s);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(l,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:n,filterManager:r}=this.beans;let i=0;const o=t.getFocusHeaderToUseAfterRefresh(),s=()=>{const h=ISe(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let f=0;f<h;f++){const p=this.createBean(new XP(i++,this.pinned,"group"));this.groupsRowCtrls.push(p)}},a=()=>{const h=i++,f=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==h);(f||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),f&&(this.columnsRowCtrl=this.createBean(new XP(h,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!(r!=null&&r.hasFloatingFilters())&&!this.hidden;const h=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){h();return}const f=i++;if(this.filtersRowCtrl){const p=this.filtersRowCtrl.rowIndex!==f;(!e||p)&&h()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new XP(f,this.pinned,"filter")))};s(),a(),l();const u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,o)}getHeaderCtrlForColumn(e){var t;if(qc(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(r)return r}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e==null?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new T2(e=>this.comp.setCenterWidth(`${e}px`),!0))}},$Se=class extends ye{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,r=t&&Ho(this.gos)?t:n;this.showColumnMenuCommon(r,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){var r;(r=this.activeMenuFactory)==null||r.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var n;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((n=this.activeMenuFactory)!=null&&n.isMenuEnabled(e))&&(Ho(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&qc(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(gh()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Ho(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!Ho(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Ho(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:i,onClosedCallback:o}=t,s=t.column;if(i==="button"){const{buttonElement:a}=t;e==null||e.showMenuAfterButtonClick(s,a,n,o,r)}else if(i==="mouse"){const{mouseEvent:a}=t;e==null||e.showMenuAfterMouseEvent(s,a,n,o,r)}else if(s){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(s,"auto"),Eu(a,()=>{var h;const u=(h=l.getHeaderRowContainerCtrl(s.getPinned()))==null?void 0:h.getHeaderCtrlForColumn(s);u&&(e==null||e.showMenuAfterButtonClick(s,u.getAnchorElementForMenu(r),n,o,!0))})}}};function TU(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var KJ=class extends Kn{constructor(){super()}},jSe=class extends KJ{init(){var t;const e=Ql((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}},GSe=class extends KJ{init(){var t;const e=Ql((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}};function zSe(e,t,n){const r=Rs(e,t,n);if(r){const{className:o}=r;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return r}const i=document.createElement("span");return i.appendChild(r),i}function Rs(e,t,n){var o;let r=null;e==="smallDown"?Me(262):e==="smallLeft"?Me(263):e==="smallRight"&&Me(264);const i=n&&n.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){const s=t.gos.get("icons");s&&(r=s[e])}if(r){let s;if(typeof r=="function")s=r();else if(typeof r=="string")s=r;else{Me(38,{iconName:e});return}if(typeof s=="string")return ky(s);if(m2(s))return s;Me(133,{iconName:e});return}else{const s=document.createElement("span"),a=t.registry.getIcon(e);a||(o=t.validation)==null||o.validateIcon(e);const l=a??e;return s.setAttribute("class",`ag-icon ag-icon-${l}`),s.setAttribute("unselectable","on"),ga(s,"presentation"),s}}var USe=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",WSe=class extends Kn{constructor(){super(),this.dragSource=null,this.eIcon=et,this.eLabel=et,this.registerCSS(USe)}postConstruct(){const e=t=>zSe(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:r,dropIconMap:i,gos:o}=this;qo(n);let s=null;e||(e=r!=null&&r.getDefaultIconName?r.getDefaultIconName():"notAllowed"),s=i[e],n.classList.toggle("ag-shake-left-to-right",t),!(s===i.hide&&o.get("suppressDragLeaveHidesColumns"))&&s&&n.appendChild(s)}setLabel(e){this.eLabel.textContent=e}},qSe=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",KSe=class extends Kn{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(qSe)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;qo(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(rr(t,!1),ga(t,"presentation")):(rr(t,!0),ga(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(sx(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return My(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},YJ=class extends KSe{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||Wbe(e)!==null?qM(e,""):qM(e,t??"")}setAriaLabel(e){return aR(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Qa(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Jd=class extends YJ{constructor(e,t,n="text",r="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${r} data-ref="eInput" class="ag-input-field-input"></${r}>
                </div>
            </div>`,[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=et,this.eWrapper=et,this.eInput=et}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCssClass("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:o}=this.config;i!=null&&this.setInputName(i),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return sx(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Ds(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return aR(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return My(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Ds(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Ds(this.eInput,"autocomplete",t)}return this}},I2=class extends Jd{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},M2={selector:"AG-CHECKBOX",component:I2},YSe=".ag-checkbox-cell{height:100%}",XSe=class extends Kn{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[M2]),this.eCheckbox=et,this.registerCSS(YSe)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),OZ(r,"polite"),this.addManagedListeners(r,{click:i=>{if(dg(i),t.isDisabled())return;const o=t.getValue();this.onCheckboxChanged(o)},dblclick:i=>{dg(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===ve.SPACE&&!t.isDisabled()){e.eGridCell===lr(n)&&t.toggle();const o=t.getValue();this.onCheckboxChanged(o),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:o}=e;if(o.group&&i)if(typeof r=="boolean")t=r;else{const f=i.getColId();f.startsWith(lR)?t=r==null||r===""?void 0:r==="true":o.aggData&&o.aggData[f]!==void 0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:s}=this;if(!n){s.setDisplayed(!1);return}s.setValue(t);const a=e.disabled??!(i!=null&&i.isCellEditable(o));s.setDisabled(a);const l=this.getLocaleTextFunc(),u=h2(l,t),h=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;s.setInputAriaLabel(h)}onCheckboxChanged(e){const{eventSvc:t,params:n}=this,{column:r,node:i,value:o}=n,s={column:r,colDef:r.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:o};t.dispatchEvent({type:"cellEditingStarted",...s});const a=i.setDataValue(r,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...s,oldValue:o,newValue:e,valueChanged:a}),a||this.updateCheckbox(n)}},QSe="ROOT_NODE_ID",ZSe=class extends ye{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(n=>n.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=QSe,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,n)=>this.createRowNode(t,n)))??[]}setImmutableRowData(e,t){const n=cg(this.gos),r=!this.gos.get("suppressMaintainUnsortedOrder"),i=e.changedRowNodes,o=new Set,s=this.rootNode,a=s.allLeafChildren,l=a.length;let u=!1,h=!1,f=!1,p=!1;for(let b=0,C=-1,y=t.length;b<y;b++){const x=t[b];let R=this.getRowNode(n({data:x,level:0}));if(!R)u=!0,R=this.createRowNode(x,-1),i.add(R);else{if(r){const T=R.sourceRowIndex;p||(p=T<=C||u),C=T}R.data!==x&&(f=!0,R.updateData(x),i.update(R))}o.add(R)}const m=[];for(let b=0;b<l;b++){const C=a[b];o.has(C)||(h=!0,C.isSelected()&&m.push(C),this.rowNodeDeleted(C),i.remove(C))}if(u||h||p){const b=new Array(o.size);let C=0;if(!r)for(let x=0;x<l;++x){const R=a[x];o.delete(R)&&(R.sourceRowIndex=C,b[C++]=R)}for(const x of o)x.sourceRowIndex=C,b[C++]=x;s.allLeafChildren=b;const y=s.sibling;y&&(y.allLeafChildren=b),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=p)}(u||h||p||f)&&(this.deselectNodes(m),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[],i=cg(this.gos);return this.executeRemove(i,e,n,r),this.executeUpdate(i,e,n,r),this.executeAdd(e,n),this.deselectNodes(r),n}executeAdd(e,t){const n=e.add;if(!(n!=null&&n.length))return;let r=this.rootNode.allLeafChildren,i=r.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let f=0;f<r.length;f++){const p=r[f];if((p==null?void 0:p.rowIndex)==i-1){i=f+1;break}}const o=n.length,s=t.changedRowNodes,a=new Array(o);for(let h=0;h<o;h++){const f=this.createRowNode(n[h],i+h);s.add(f),a[h]=f}const l=this.rootNode;if(i<r.length){const h=r.slice(0,i),f=r.slice(i,r.length),p=h.length+a.length;for(let m=0,b=f.length;m<b;++m)f[m].sourceRowIndex=p+m;r=[...h,...a,...f],t.rowsInserted=!0}else r=r.concat(a);l.allLeafChildren=r;const u=l.sibling;u&&(u.allLeafChildren=r),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){var u,h;const{remove:o}=t;if(!(o!=null&&o.length))return;const s={};o.forEach(f=>{const p=this.lookupRowNode(e,f);p&&(p.isSelected()&&i.push(p),p.clearRowTopAndRowIndex(),s[p.id]=!0,delete this.allNodesMap[p.id],r.remove.push(p),n.remove(p))});const a=this.rootNode;a.allLeafChildren=((u=a.allLeafChildren)==null?void 0:u.filter(f=>!s[f.id]))??null,(h=a.allLeafChildren)==null||h.forEach((f,p)=>{f.sourceRowIndex=p});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{update:o}=t;o!=null&&o.length&&o.forEach(s=>{const a=this.lookupRowNode(e,s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&i.push(a),r.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var i;const t="rowDataChanged",n=this.beans.selectionSvc,r=e.length>0;r&&(n==null||n.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(i=n==null?void 0:n.updateGroupsFromChildrenSelections)==null||i.call(n,t),r&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t})}sanitizeAddIndex(e){var n;const t=((n=this.rootNode.allLeafChildren)==null?void 0:n.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new pg(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&Me(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){var r,i;let n;if(e){const o=e({data:t,level:0});if(n=this.allNodesMap[o],!n)return bn(4,{id:o}),null}else if(n=(i=(r=this.rootNode)==null?void 0:r.allLeafChildren)==null?void 0:i.find(o=>o.data===t),!n)return bn(5,{data:t}),null;return n||null}},JSe=class extends Kn{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[M2]),this.eCheckbox=et}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=h2(e,r),[o,s]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(o,s);n.setValue(r,!0),n.setInputAriaLabel(`${a} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:dg,click:r=>{var i;dg(r),(i=this.beans.selectionSvc)==null||i.handleSelectionEvent(r,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const o=typeof r=="object"?jP(r):void 0,s=typeof i=="object"?jP(i):void 0;o!==s&&this.onSelectableChanged()}),oF(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this;let i=t.selectable;const o=this.getIsVisible();if(i)if(typeof o=="function"){const l=n==null?void 0:n.callbackParams;if(!e)i=o({...l,node:t,data:t.data});else{const u=e.createColumnFunctionCallbackParams(t);i=o({...l,...u})}}else i=o??!1;const s=r.get("rowSelection");if(s&&typeof s!="string"?!jP(s):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!i),this.setVisible(!0),this.setDisplayed(!0);return}if(n!=null&&n.removeHidden){this.setDisplayed(i);return}this.setVisible(i)}getIsVisible(){var n,r;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Dp(t):(r=(n=this.column)==null?void 0:n.getColDef())==null?void 0:r.checkboxSelection}},exe=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),o=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:o}:{keep:o,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&i.push(o)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const r=this.rowModel.getNodesInRangeForSelection(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}},txe=class extends ye{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(lr(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new I2);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),ga(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:r})=>{const i=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;i(n)!==i(r)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,s=r.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${a} (${s})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return cx(this.gos)?!0:(Me(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Hi(t)||ef(t)?!0:(Me(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){var u;const{column:e,gos:t,beans:n}=this,r=t.get("rowSelection"),i=e.getColDef(),{headerCheckboxSelection:o}=i;let s=!1;const a=typeof r=="object";if(a){const h=fu(e),f=w2(e);(iF(r)==="autoGroupColumn"&&f||h&&((u=n.selectionColSvc)!=null&&u.isSelectionColumnEnabled()))&&(s=uS(r))}else typeof o=="function"?s=o(st(t,{column:e,colDef:i})):s=!!o;const l=a?"headerCheckbox":"headerCheckboxSelection";return s&&this.checkRightRowModelType(l)&&this.checkSelectionType(l)}getSelectAllMode(){const e=tJ(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}},nxe=class extends ye{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new exe(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=oF(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=oF(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new JSe}createSelectAllFeature(e){return new txe(e)}isMultiSelect(){return cx(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.addOrRemoveCssClass("ag-row-selected",r);const o=i.element;YM(o,r),o.contains(lr(this.beans))&&t(i)})}announceAriaRowSelection(e){var i;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const r=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(i=this.beans.ariaAnnounce)==null||i.announceValue(r,"rowSelection")}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e})}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!yh(this.gos)}updateRowSelectable(e,t){var r;const n=((r=this.isRowSelectable)==null?void 0:r.call(this,e))??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Vy(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var r;let t=!1,n=!1;if(!((r=e.childrenAfterGroup)!=null&&r.length))return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const o=e.childrenAfterGroup[i];let s=o.isSelected();if(!o.selectable){const a=this.calculateSelectedFromChildren(o);if(a===null)continue;s=a}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){const i=!e.selectable&&t,o=e.__selected===t;if(i||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const s=e.sibling;return s&&s.footer&&s.__localEventService&&s.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...K0e(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=fu(e)&&Dp(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:i,selectionCtx:o}=this,s=e.isSelected(),a=Vy(i),l=DCe(i),u=ICe(i),h=this.isMultiSelect(),f=r==="rowClicked";if(f&&a&&e.group||f&&!(l||u))return null;if(t&&n&&h){const p=o.getRoot();if(p)if(p.isSelected()){const m=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{deselect:m.discard,select:m.keep,reset:!1}}else{const m=o.extend(e,a);return{select:[],deselect:m.keep,reset:!1}}else return null}else if(t&&h){const p=o.selectAll?this.beans.rowModel.getRow(0):void 0,m=o.getRoot(p),b=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{select:b.keep,deselect:b.discard,reset:o.selectAll||!!(m&&!m.isSelected())}}else{if(n)return o.setRoot(e),f&&s&&!u?null:{node:e,newValue:!s,clearSelection:!h};{o.setRoot(e);const p=MCe(i),m=dx(i)==="filteredDescendants",b=f&&(!p||!l);if(m&&s===void 0&&Hi(i))return{node:e,newValue:!1,clearSelection:!h||b};if(f){const C=s?!p:l;return C===s&&!b||C&&!l||!C&&!u?null:{node:e,newValue:C,clearSelection:!h||b}}return{node:e,newValue:!s,clearSelection:!h||b}}}}},rxe=class extends I2{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},rf=class extends Jd{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=ke(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{BJ(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{var i;const r=(i=n.clipboardData)==null?void 0:i.getData("text");r&&r.split("").some(o=>!e.test(o))&&n.preventDefault()}})}},cR={selector:"AG-INPUT-TEXT-FIELD",component:rf},ixe=class extends Jd{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},oxe={selector:"AG-INPUT-TEXT-AREA",component:ixe},F2=class extends rf{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const o=parseFloat(e.value),s=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){lr(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:n,max:r}=this;return n!=null&&t<n?e=n.toString():r!=null&&t>r&&(e=r.toString()),e}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=parseFloat(e).toFixed(n);return parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Ds(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Ds(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Ds(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(ke(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},sxe={selector:"AG-INPUT-NUMBER-FIELD",component:F2};function oy(e,t){return e.toString().padStart(t,"0")}function Ms(e,t=!0,n="-"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>oy(i,2)).join(n);return t&&(r+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>oy(i,2)).join(":")),r}var QP=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function sy(e,t="YYYY-MM-DD"){const n=oy(e.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>r[e.getMonth()],MMM:()=>r[e.getMonth()].slice(0,3),MM:()=>oy(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${QP(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${QP(e.getDate())}`,DD:()=>oy(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${QP(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,a=>a in o?o[a]():a)}function wo(e){if(!e)return null;const[t,n]=e.split(" ");if(!t)return null;const r=t.split("-").map(f=>parseInt(f,10));if(r.filter(f=>!isNaN(f)).length!==3)return null;const[i,o,s]=r,a=new Date(i,o-1,s);if(a.getFullYear()!==i||a.getMonth()!==o-1||a.getDate()!==s)return null;if(!n||n==="00:00:00")return a;const[l,u,h]=n.split(":").map(f=>parseInt(f,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),h>=0&&h<60&&a.setSeconds(h),a}var axe=class extends rf{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=id();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){lr(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Ms(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Ds(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Ms(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Ds(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Ds(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return wo(this.getValue())??void 0}setDate(e,t){this.setValue(Ms(e??null,!1),t)}},XJ={selector:"AG-INPUT-DATE-FIELD",component:axe},lxe=1e3,uxe=1e3,AU=100,PU,m0=!1,cxe=class extends ye{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,n,r,i;return e==="show"?((n=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:n.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((i=(r=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:i.call(r))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!gh()&&(m0?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},AU):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var i;const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&(r!=null&&r.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||m0)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return new Date().getTime()-PU<lxe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var s,a,l,u,h,f,p;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!ke(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=(s=t.getRowNode)==null?void 0:s.call(t),r=st(this.gos,{location:((a=t.getLocation)==null?void 0:a.call(t))??"UNKNOWN",colDef:(l=t.getColDef)==null?void 0:l.call(t),column:(u=t.getColumn)==null?void 0:u.call(t),rowIndex:(h=t.getRowIndex)==null?void 0:h.call(t),node:n,data:n==null?void 0:n.data,value:e,valueFormatted:(f=t.getValueFormatted)==null?void 0:f.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((p=t.getAdditionalParams)==null?void 0:p.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),o=Zwe(this.userCompFactory,r);o==null||o.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),PU=new Date().getTime()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var s;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),o=(s=this.popupSvc)==null?void 0:s.addPopup({eChild:r,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(vr(this.beans),{keydown:a=>{r.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const e=(n=this.tooltipComp)==null?void 0:n.getGui(),t=lr(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,n;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(n=this.popupSvc)==null||n.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?uxe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){m0=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},AU)}unlockService(){m0=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function ZP(e){return e.get("tooltipShowMode")==="whenTruncated"}function pS(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var dxe=class extends ye{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(t,e):n.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new cxe(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},hxe=class extends Kn{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case ve.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case ve.DOWN:case ve.UP:e.preventDefault(),this.navigate(t);break;case ve.PAGE_DOWN:case ve.PAGE_UP:case ve.PAGE_HOME:case ve.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===ve.DOWN;let n;const{itemEls:r,highlightedEl:i}=this;if(!i)n=r[t?0:r.length-1];else{let s=r.indexOf(i)+(t?1:-1);s=Math.min(Math.max(s,0),r.length-1),n=r[s]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),i=this.options.length-1,o=t[0].clientHeight,s=Math.floor(this.getGui().clientHeight/o);let a=-1;e===ve.PAGE_HOME?a=0:e===ve.PAGE_END?a=i:e===ve.PAGE_DOWN?a=Math.min(r+s,i):e===ve.PAGE_UP&&(a=Math.max(r-s,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,r=n||t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Vh(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,n)=>{Qbe(t,n+1),Xbe(t,e.length)})}renderOption(e,t){const n=vr(this.beans),r=n.createElement("div");ga(r,"option"),r.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const i=n.createElement("span");r.appendChild(i),i.textContent=t,this.unFocusable||(r.tabIndex=-1),this.itemEls.push(r),this.addManagedListeners(r,{mouseover:()=>this.highlightItem(r),mousedown:o=>{o.preventDefault(),o.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>r,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(r)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!il(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),YM(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:r}=t,{offsetTop:i,offsetHeight:o}=e;(i+o>n+r||i<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!il(e)||(e.classList.remove(this.activeClass),YM(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},fxe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",pxe=class extends YJ{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=et,this.eWrapper=et,this.eDisplayField=et,this.eIcon=et,this.registerCSS(fxe),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=Rs(n,this.beans);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),KM(e,!1),this.ariaRole&&ga(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ve.UP:case ve.DOWN:case ve.ENTER:case ve.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ve.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:o,minPickerWidth:s,maxPickerWidth:a,variableWidth:l,beans:u,eWrapper:h}=this,f={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const C=ZZ(u);this.beforeHidePicker(),C&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:h};e.style.position="absolute";const p=u.popupSvc,m=p.addPopup(f);l?(s&&(e.style.minWidth=s),e.style.width=g2(nx(h)),a&&(e.style.maxWidth=a)):sx(e,a??nx(h));const b=o??`${p2(p.getPopupParent())}px`;return e.style.setProperty("max-height",b),this.alignPickerToComponent(),m.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:o}=this,s=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:o.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();KM(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return sx(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},gxe=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",k2=class extends pxe{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(gxe)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:pS(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new hxe("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),iCe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r==null||r.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:t}=e;switch(t===ve.TAB&&this.hidePicker(),t){case ve.ENTER:case ve.UP:case ve.DOWN:case ve.PAGE_UP:case ve.PAGE_DOWN:case ve.PAGE_HOME:case ve.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(e):super.onKeyDown(e);break;case ve.ESCAPE:super.onKeyDown(e);break;case ve.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:i},eDisplayField:o,tooltipFeature:s}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let l=r.getDisplayValue();return l==null&&i&&(l=i),o.textContent=l,s==null||s.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},mxe={selector:"AG-SELECT",component:k2},Fp={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},QJ=class extends ye{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:h,onTabKeyDown:f,handleKeyDown:p,isEmpty:m,eFocusableElement:b}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=a,this.eFocusableElement=b,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=p,this.providedIsEmpty=m}postConstruct(){this.createManagedBean(new im(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Mp(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var l;const t=vr(this.beans),n=Mp(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,o;e?(i=0,o=r):(i=r+1,o=n.length);const s=n.slice(i,o),a=this.gos.get("tabIndex");s.sort((u,h)=>{const f=parseInt(u.getAttribute("tabindex")||"0"),p=parseInt(h.getAttribute("tabindex")||"0");return p===a?1:f===a?-1:f===0?1:p===0?-1:f-p}),(l=s[e?s.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Mp(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return nf(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},vxe=class extends ye{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],o={setTabIndex:y=>{i.forEach(x=>y!=null?x.setAttribute("tabindex",y):x.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:b,isFocusableContainer:C}=e;this.tabGuardCtrl=this.createManagedBean(new QJ({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:f,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:b,isFocusableContainer:C}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=vr(this.beans).createElement("div"),n=e==="top"?Fp.TAB_GUARD_TOP:Fp.TAB_GUARD_BOTTOM;return t.classList.add(Fp.TAB_GUARD,n),ga(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];qo(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){m2(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eFocusableElement:e,eTopGuard:t,eBottomGuard:n}=this;e.removeChild(t),e.removeChild(n),super.destroy()}},yxe=class extends Kn{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new vxe(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},om=class extends Kn{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},ap=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Nh,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",r,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",r,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const r={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(r)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!IJ(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},ZJ=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${zZ}/${this.frameworkName}-data-grid`,mCe(this.baseDocLink)}setInterval(e,t){return new Wn(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,r){let i={};if(typeof r=="object"?i=r:typeof r=="boolean"&&(i={capture:r}),i.passive==null){const o=sJ(t);o!=null&&(i.passive=o)}e.addEventListener(t,n,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function bxe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var Cxe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","rowSpanSvc","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],_U=Object.fromEntries(Cxe.map((e,t)=>[e,t]));function wxe(e,t){const n=(e.beanName?_U[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?_U[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function Sxe(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var xxe=class extends ye{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;r==null||r.registerGridDropTarget(()=>this.eGui,this),OJ(this.gos,t),this.createManagedBean(new R2(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const o=xu(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),i.register("gridCtrl",this)}isDetailGrid(){var t;const e=AJ(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,n,r,i;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(n=e.sideBar)==null?void 0:n.getSelector(),statusBarSelector:(r=e.registry)==null?void 0:r.getSelector("AG-STATUS-BAR"),watermarkSelector:(i=e.licenseManager)==null?void 0:i.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:i,focusSvc:o}=this.beans,s=i.allCols,a=yn(s);if(o.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,o=i.allCols;if(e){if(n.length>1)return this.focusContainer(yn(n),e);const s=yn(o);if(r.focusGridView({column:s,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||wh(this.beans)){if(r.focusGridView({column:o[0],backwards:e}))return!0;for(let s=1;s<n.length;s++)if($h(n[s].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var o;const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const i=t[n];(o=i.setAllowFocus)==null||o.call(i,!0),setTimeout(()=>{var s;(s=i.setAllowFocus)==null||s.call(i,!1)})}isFocusable(){var t,n;const e=this.beans;return!uR(e)||!wh(e)||!!((n=(t=e.sideBar)==null?void 0:t.comp)!=null&&n.isDisplayed())}getNextFocusableIndex(e,t){const n=lr(this.beans),r=e.findIndex(o=>o.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){var r,i;(r=e.setAllowFocus)==null||r.call(e,!0);const n=$h(e.getGui(),t,!1,!0);return(i=e.setAllowFocus)==null||i.call(e,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},mt=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},OU={dispatchEvent:"CommunityCore",...mt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...mt("GridState",{getState:0}),...mt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...mt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...mt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...mt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...mt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...mt("ValueCache",{expireValueCache:0}),...mt("CellApi",{getCellValue:0}),...mt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...mt("Sort",{onSortChanged:0}),...mt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...mt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...mt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...mt("HighlightChanges",{flashCells:0}),...mt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...mt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...mt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...mt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...mt("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...mt("ColumnResize",{setColumnWidths:0}),...mt("ColumnHover",{isColumnHovered:0}),...mt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...mt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...mt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...mt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...mt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...mt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...mt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...mt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...mt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...mt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...mt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...mt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...mt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...mt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...mt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...mt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...mt("ContextMenu",{showContextMenu:0}),...mt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...mt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...mt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...mt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...mt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...mt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...mt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...mt("StatusBar",{getStatusPanel:0})},JP={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Exe=(e,t)=>e.eventSvc.dispatchEvent(t),JJ=class{};Reflect.defineProperty(JJ,"name",{value:"GridApi"});var Rxe=class extends ye{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new JJ,this.fns={...JP,dispatchEvent:Exe},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(OU))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var i;const{fns:n,beans:r}=this;n!==JP&&(n[e]=((i=r==null?void 0:r.validation)==null?void 0:i.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)Me(26,{fnName:e,preDestroyLink:r});else{const i=OU[e];n.assertModuleRegistered(i,`api.${e}`)&&Me(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=JP,this.beans=null}};function Txe(e){return e.context.getGridId()}function Axe(e){e.gridDestroySvc.destroy()}function Pxe(e){return e.gridDestroySvc.destroyCalled}function _xe(e,t){return e.gos.get(t)}function Oxe(e,t,n){eee(e,{[t]:n})}function eee(e,t){e.gos.updateGridOptions({options:t})}var Dxe=class extends Kn{constructor(e,t,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Rs("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:i}=this,o=n.getColDef().dndSourceOnRowDrag,s=e.dataTransfer;if(s.setDragImage(r,0,0),o){const a=st(i,{rowNode:t,dragEvent:e});o(a)}else try{const a=JSON.stringify(t.data);s.setData("application/json",a),s.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Ixe(e,t){var n,r;(r=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null||r.addRowDropZone(t)}function Mxe(e,t){var r,i;const n=(r=e.dragAndDrop)==null?void 0:r.findExternalZone(t);n&&((i=e.dragAndDrop)==null||i.removeDropTarget(n))}function Fxe(e,t){var n,r;return(r=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null?void 0:r.getRowDropZone(t)}var kxe=class extends ye{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},Lxe=class extends Kn{constructor(e,t,n,r,i,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:r}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Rs("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=r.get("rowDragManaged")?new Vxe(this,t,n):new Nxe(this,t,n);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var r;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=((r=this.beans.selectionSvc)==null?void 0:r.getSelectedNodes())??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r==null||r.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var s;const r=this.getDragItem(),i=((s=r.rowNodes)==null?void 0:s.length)||1,o=this.getRowDragText(this.column);return o?o(r,i):i===1?this.cellValueFn():`${i} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},tee=class extends ye{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,r=!1;const{column:i,rowNode:o,parent:s}=this;i&&(n=i.isRowDrag(o)||s.isCustomGui(),r=typeof i.getColDef().rowDrag=="function"),r?(s.setDisplayed(!0,t),s.setVisible(n,t)):(s.setDisplayed(n,t),s.setVisible(!0,t))}}},Nxe=class extends tee{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Vxe=class extends tee{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,r=e.rowDragFeature,i=r&&r.shouldPreventRowMove(),o=n.get("suppressRowDrag"),s=t.hasExternalDropZones(),a=i&&!s||o;this.setDisplayedOrVisible(a)}},Bxe=class extends ye{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new U0e(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,i,o){return new Lxe(e,t,n,r,i,o)}createRowDragCompForRow(e,t){if(Wc(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,o){const s=this.gos;return s.get("rowDragManaged")&&(!Hi(s)||s.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,i,o)}},nee={moduleName:"Drag",version:Ne,beans:[W0e]},Hxe={moduleName:"DragAndDrop",version:Ne,dynamicBeans:{dndSourceComp:Dxe},icons:{rowDrag:"grip"}},ree={moduleName:"SharedDragAndDrop",version:Ne,beans:[V0e],dependsOn:[nee],userComponents:{agDragAndDropImage:WSe},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},$xe={moduleName:"RowDrag",version:Ne,beans:[Bxe],apiFunctions:{addRowDropZone:Ixe,removeRowDropZone:Mxe,getRowDropZoneParams:Fxe},dependsOn:[ree]},jxe={moduleName:"HorizontalResize",version:Ne,beans:[kxe],dependsOn:[nee]},Gxe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",zxe=class extends ye{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const i=o=>{for(;o.length;){const s=o.pop();s&&s()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function Uxe(e,t,n){var r;(r=e.colMoves)==null||r.moveColumnByIndex(t,n,"api")}function Wxe(e,t,n){var r;(r=e.colMoves)==null||r.moveColumns(t,n,"api")}var qxe=class extends ye{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(n==null||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(r==null||r.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function Kxe(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,i)=>{const o=e.indexOf(r),s=e.indexOf(i);return o-s})}function iee(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:o,pinned:s,gos:a,colModel:l,colMoves:u,visibleCols:h}=e;let{allMovingColumns:f}=e;if(t){const A=[];f.forEach(D=>{var O;let _=null,I=D.getParent();for(;I!=null&&I.getDisplayedLeafColumns().length===1;)_=I,I=I.getParent();_!=null?(!!((O=_.getColGroupDef())!=null&&O.marryChildren)?_.getProvidedColumnGroup().getLeafColumns():_.getLeafColumns()).forEach(V=>{A.includes(V)||A.push(V)}):A.includes(D)||A.push(D)}),f=A}const p=f.slice();Kxe(l.getCols(),p);const m=Zxe({movingCols:p,draggingRight:n,xPosition:r,pinned:s,gos:a,colModel:l,visibleCols:h}),b=Yxe(p,l);if(m.length===0)return;const C=m[0];let y=b!==null&&!i;if(t&&(y=b!==null),y&&!o&&(!n&&C>=b||n&&C<=b))return;const x=h.allCols,R=[];let T=null;for(let A=0;A<m.length;A++){const D=m[A],_=u.getProposedColumnOrder(p,D);if(!u.doesOrderPassRules(_))continue;const I=_.filter(F=>x.includes(F));if(T===null)T=I;else if(!tf(I,T))break;const O=Xxe(_);R.push({move:D,fragCount:O})}if(R.length===0)return;R.sort((A,D)=>A.fragCount-D.fragCount);const M=R[0].move;if(!(M>l.getCols().length-f.length))return{columns:f,toIndex:M}}function oee(e){const{columns:t,toIndex:n}=iee(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function Yxe(e,t){const n=t.getCols(),r=QCe(e.map(l=>n.indexOf(l))),i=r[0];return yn(r)-i!==r.length-1?null:i}function Xxe(e){function t(r){const i=[];let o=r.getOriginalParent();for(;o!=null;)i.push(o),o=o.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),o=t(e[r+1]);[i,o]=i.length>o.length?[i,o]:[o,i],i.forEach(s=>{o.indexOf(s)===-1&&n++})}return n}function Qxe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function Zxe(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:o,colModel:s,visibleCols:a}=e;if(o.get("suppressMovableColumns")||t.some(T=>T.getColDef().suppressMovable))return[];const u=Qxe(a,i),h=s.getCols(),f=u.filter(T=>t.includes(T)),p=u.filter(T=>!t.includes(T)),m=h.filter(T=>!t.includes(T));let b=0,C=r;if(n){let T=0;f.forEach(M=>T+=M.getActualWidth()),C-=T}if(C>0){for(let T=0;T<p.length;T++){const M=p[T];if(C-=M.getActualWidth(),C<0)break;b++}n&&b++}let y;if(b>0){const T=p[b-1];y=m.indexOf(T)+1}else y=m.indexOf(p[0]),y===-1&&(y=0);const x=[y],R=(T,M)=>T-M;if(n){let T=y+1;const M=h.length-1;for(;T<=M;)x.push(T),T++;x.sort(R)}else{let T=y;const M=h.length-1;let A=h[T];for(;T<=M&&u.indexOf(A)<0;)T++,x.push(T),A=h[T];T=y-1;const D=0;for(;T>=D;)x.push(T),T--;x.sort(R).reverse()}return x}function dF(e){var u;const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:o,skipScrollPadding:s}=e;let a=(u=i.getHeaderRowContainerCtrl(t))==null?void 0:u.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),r.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!s&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function e1(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var DU=7,hF=100,v0=hF/2,Jxe=5,eEe=100,tEe=class extends ye{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ke(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,n=(t==null?void 0:t.dragItem.columns)??[];for(const r of n){const i=r.getPinned();if(r.getColDef().lockPinned){if(i==e)return"move";continue}if(i===e||!e)return"move";if(!i&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,o=(n||[]).filter(s=>i[s.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:o}=this.beans,s=i.get("suppressMoveWhenColumnDragging");if(r&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&qn(e.hDirection))return;const a=dF({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:o});t||this.checkCenterForScrolling(a),s?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,r):this.handleColumnDragWhileAllowingMovement(e,t,n,a,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;const r=e.filter(i=>!i.getColDef().lockVisible);this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const o=this.getAllMovingColumns(e,!0);if(i){const s=this.isAttemptingToPin(o);s&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(o,s)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const o=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:r,fromLeft:s,fromEnter:t,fakeEvent:n}),u=oee({...l,finished:i});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:o,fakeEvent:s}=e,{gos:a,colModel:l,colMoves:u,visibleCols:h}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:o,fakeEvent:s,gos:a,colModel:l,colMoves:u,visibleCols:h}}highlightHoveredColumn(e,t){var h;const{gos:n,colModel:r}=this.beans,i=n.get("enableRtl"),o=r.getCols().filter(f=>f.isVisible()&&f.getPinned()===this.pinned);let s=null,a=null,l=null;for(const f of o){if(a=f.getActualWidth(),s=this.getNormalisedColumnLeft(f,0,i),s!=null){const p=s+a;if(s<=t&&p>=t){l=f;break}}s=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let f=o.length-1;f>=0;f--){const p=o[f],m=o[f].getParent();if(!m){l=p;break}const b=m==null?void 0:m.getDisplayedLeafColumns();if(b.length){l=yn(b);break}}if(!l)return;s=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(((h=this.lastHighlightedColumn)==null?void 0:h.column)!==l&&this.clearHighlighted(),l==null||s==null||a==null)return;let u;t-s<a/2!==i?u=0:u=1,IU(l,u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:o,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!o||!s||a==null)return;const l=r.allCols,u=l.indexOf(o),h=l.indexOf(s),f=a===0!==i,p=u<h||u===h&&!f;let m=0;if(f?p&&(m-=1):p||(m+=1),h+m===u)return;const b=l[h+m];if(!b)return;const C=this.getNormalisedColumnLeft(b,20,i);return{fromLeft:p,xPosition:C}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:o}=nEe(e);if(!i||!o||r.column||!t)return{firstMovingCol:i,...r};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==n?i:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,o=e.getLeft();if(o==null)return null;const s=e.getActualWidth();return dF({x:n?o+s-t:o+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>DU;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:o}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:o,fromEnter:r,fakeEvent:i}),{columns:a,toIndex:l}=iee(s)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(IU(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,o;this.gos.get("enableRtl")?(i=e<n+v0,o=e>r-v0):(o=e<n+v0,i=e>r-v0),this.needToMoveRight=i,this.needToMoveLeft=o,o||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),eEe),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var r,i;let e;this.intervalCount++,e=10+this.intervalCount*Jxe,e>hF&&(e=hF);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:o,dragAndDrop:s,gos:a}=this.beans;if(this.failedMoveAttempts<=DU+1||!o)return;if((r=s.getDragAndDropImageComponent())==null||r.setIcon("pinned",!1),!a.get("suppressMoveWhenColumnDragging")){const l=(i=this.lastDraggingEvent)==null?void 0:i.dragItem.columns;this.attemptToPinColumns(l,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(s=>!s.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:o}=this.beans;return i==null||i.setColsPinned(r,t,"uiColumnDragged"),n&&o.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function IU(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function nEe(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const o=e[i];o.getLeft()!=null&&(n=o)}if(!r){const o=e[t-1-i];o.getLeft()!=null&&(r=o)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var rEe=class extends ye{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let i;const o=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[o,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":i=[[o,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:i=[[o,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new tEe(n)),this.bodyDropPivotTarget=this.createManagedBean(new qxe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},iEe=class extends ye{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:o,visibleCols:s,eventSvc:a}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){Me(30,{toIndex:t});return}o==null||o.start();const u=i.getColsForKeys(e);this.doesMovePassRules(u,t)&&(yU(i.getCols(),u,t),s.refresh(n),a.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,toIndex:t,finished:r,source:n})),o==null||o.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!gJ(e,t.getColTree())||!(i=>{const o=u=>u?u==="left"||u===!0?-1:1:0,s=n.get("enableRtl");let a=s?1:-1,l=!0;return i.forEach(u=>{const h=o(u.getColDef().lockPosition);s?h>a&&(l=!1):h<a&&(l=!1),a=h}),l})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return yU(r,e,t),r}createBodyDropTarget(e,t){return new rEe(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:o,gos:s,colModel:a,visibleCols:l,focusSvc:u}=this.beans,h=t.getBoundingClientRect(),f=h.left,p=nr(n),m=p?h.width:n.getActualWidth(),b=e==="left"!==s.get("enableRtl"),C=dF({x:b?f-20:f+m+20,pinned:r,fromKeyboard:!0,gos:s,ctrlsSvc:o}),y=u.focusedHeader;oee({allMovingColumns:p?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:C,pinned:r,fromEnter:!1,fakeEvent:!1,gos:s,colModel:a,colMoves:this,visibleCols:l,finished:!0});let x;if(p){const R=n.getDisplayedLeafColumns();x=b?R[0]:yn(R)}else x=n;if(o.getScrollFeature().ensureColumnVisible(x,"auto"),(!i.isAlive()||s.get("ensureDomOrder"))&&y){let R;if(p){const T=n.getGroupId(),M=n.getLeafColumns();if(!M.length)return;const A=M[0].getParent();if(!A)return;R=oEe(A,T)}else R=n;R&&u.focusHeaderPosition({headerPosition:{...y,column:R}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:o,visibleCols:s}=this.beans;let a=!r.get("suppressDragLeaveHidesColumns");const l=nr(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],f={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>aEe(t,s.allCols):()=>sEe(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),e1(u,!0)},onDragStopped:()=>e1(u,!1),onDragCancelled:()=>e1(u,!1),onGridEnter:p=>{if(a){const{columns:m=[],visibleState:b}=p??{},C=l?x=>!b||b[x.getColId()]:()=>!0,y=m.filter(x=>!x.getColDef().lockVisible&&C(x));i.setColsVisible(y,!0,"uiColumnMoved")}},onGridExit:p=>{var m;if(a){const b=((m=p==null?void 0:p.columns)==null?void 0:m.filter(C=>!C.getColDef().lockVisible))||[];i.setColsVisible(b,!1,"uiColumnMoved")}}};return o.addDragSource(f,!0),f}};function oEe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function sEe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function aEe(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(a=>r[a.getId()]=a.isVisible());const i=[];t.forEach(a=>{n.indexOf(a)>=0&&(i.push(a),ma(n,a))}),n.forEach(a=>i.push(a));const o=[],s=e.getLeafColumns();for(const a of i)s.indexOf(a)!==-1&&o.push(a);return{columns:i,columnsInSplit:o,visibleState:r}}var lEe={moduleName:"ColumnMove",version:Ne,beans:[iEe,zxe],apiFunctions:{moveColumnByIndex:Uxe,moveColumns:Wxe},dependsOn:[ree],css:[Gxe]},uEe=class extends ye{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;e.forEach(o=>this.cloneItemIntoDummy(o,n)),r.appendChild(n);const i=n.offsetWidth;return r.removeChild(n),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(l=>s.classList.contains(l))){for(let l=0;l<s.classList.length;l++){const u=s.classList[l];u!="ag-row-position-absolute"&&i.add(u)}break}s=s.parentElement}r.appendChild(n),t.appendChild(r)}},see={moduleName:"AutoWidth",version:Ne,beans:[uEe]};function cEe(e,t,n=!0,r="api"){var i;(i=e.colResize)==null||i.setColumnWidths(t,!1,n,r)}var dEe=class extends ye{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:o,groupAfterRatios:s}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){var l;const t=u=>u.reduce((h,f)=>h+f.getActualWidth(),0),n=(u,h)=>u.map(f=>f.getActualWidth()/h),r=this.getColumnsToResize(),i=t(r),o=n(r,i),s={columnsToResize:r,resizeStartWidth:i,resizeRatios:o};let a=null;if(e&&(a=((l=this.beans.colGroupSvc)==null?void 0:l.getGroupAtDirection(this.columnGroup,"After"))??null),a){const u=a.getDisplayedLeafColumns(),h=s.groupAfterColumns=u.filter(p=>p.isResizable()),f=s.groupAfterStartWidth=t(h);s.groupAfterRatios=n(h,f)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){var f;const{columnsToResize:i,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,h=[];if(h.push({columns:i,ratios:s,width:t}),a){const p=t-o;h.push({columns:a,ratios:u,width:l-p})}(f=this.beans.colResize)==null||f.resizeColumnSets({resizeSets:h,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},hEe=class extends ye{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(rr(this.eResize,t),!t)return;const{horizontalResizeSvc:s,colAutosize:a}=this.beans,l=s.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(s=>s()),e.length=0},o=()=>{const s=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||a!==n)&&(t=s,n=a,i(),r())};o(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:o}=this,s=this.normaliseResizeAmount(t),a=i+s,l=[{key:n,newWidth:a}],{pinnedCols:u,ctrlsSvc:h,colResize:f}=o;if(this.column.getPinned()){const p=(u==null?void 0:u.leftWidth)??0,m=(u==null?void 0:u.rightWidth)??0,b=Fy(h.getGridBodyCtrl().eBodyViewport)-50;if(p+m+(s-r)>b)return}this.lastResizeAmount=s,f==null||f.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},fEe=class extends ye{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:o,gos:s,visibleCols:a}=this.beans;e.forEach(l=>{const u=o.getColDefCol(l.key)||o.getCol(l.key);if(!u)return;if(i.push({width:l.newWidth,ratios:[1],columns:[u]}),s.get("colResizeDefault")==="shift"&&(t=!t),t){const f=a.getColAfter(u);if(!f)return;const p=u.getActualWidth()-l.newWidth,m=f.getActualWidth()+p;i.push({width:m,ratios:[1],columns:[f]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(h=>pEe(h)))){if(n){const h=t&&t.length>0?t[0].columns:null;hg(this.eventSvc,h,n,r)}return}const o=[],s=[];t.forEach(h=>{const{width:f,columns:p,ratios:m}=h,b={},C={};p.forEach(R=>s.push(R));let y=!0,x=0;for(;y;){if(x++,x>1e3){bn(31);break}y=!1;const R=[];let T=0,M=f;p.forEach((D,_)=>{if(C[D.getId()])M-=b[D.getId()];else{R.push(D);const O=m[_];T+=O}});const A=1/T;R.forEach((D,_)=>{const I=_===R.length-1;let O;I?O=M:(O=Math.round(m[_]*f*A),M-=O);const F=D.getMinWidth(),L=D.getMaxWidth();O<F?(O=F,C[D.getId()]=!0,y=!0):L>0&&O>L&&(O=L,C[D.getId()]=!0,y=!0),b[D.getId()]=O})}p.forEach(R=>{const T=b[R.getId()];R.getActualWidth()!==T&&(R.setActualWidth(T,r),o.push(R))})});const a=o.length>0;let l=[];if(a){const{colFlex:h,visibleCols:f,colViewport:p}=this.beans;l=(h==null?void 0:h.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0}))??[],f.setLeftValues(r),f.updateBodyWidths(),p.checkViewportColumns()}const u=s.concat(l);(a||n)&&hg(this.eventSvc,u,n,r,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),o=e.getMaxWidth(),s=Math.min(Math.max(r+t,i),o);this.setColumnWidths([{key:e,newWidth:s}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new hEe(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new dEe(e,t,n,r)}};function pEe(e){const{columns:t,width:n}=e;let r=0,i=0,o=!0;t.forEach(l=>{const u=l.getMinWidth();r+=u||0;const h=l.getMaxWidth();h>0?i+=h:o=!1});const s=n>=r,a=!o||n<=i;return s&&a}var gEe={moduleName:"ColumnResize",version:Ne,beans:[fEe],apiFunctions:{setColumnWidths:cEe},dependsOn:[jxe,see]},mEe=class extends ye{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},vEe=class extends D2{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,r,i){const{column:o,beans:s}=this,{context:a,colNames:l,colHover:u,rangeSvc:h,colResize:f}=s;this.comp=e,i=fC(this,a,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const p=this.rowCtrl.pinned,m=o.getProvidedColumnGroup().getLeafColumns();u==null||u.createHoverFeature(i,m,t),h==null||h.createRangeHighlightFeature(i,o,e),i.createManagedBean(new O2(o,t,s)),i.createManagedBean(new mEe(e,o)),f?this.resizeFeature=i.createManagedBean(f.createGroupResizeFeature(e,n,p,o)):e.setResizableDisplayed(!1),i.createManagedBean(new im(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,m),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return st(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=yn(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),o=!!this.rowCtrl.findHeaderCellCtrl(l=>l.column.isMoving());let s=!1,a=!1;if(o){const l=this.beans.gos.get("enableRtl"),u=i===1,h=i===0;n&&(l?a=u:s=h),r&&(l?s=h:a=u)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",s),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n}=this.beans,r=st(n,{displayName:this.displayName,columnGroup:this.column,setExpanded:o=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),o,"gridInitializing")},setTooltip:(o,s)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,s)}}),i=Hwe(t,r);i&&this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=RJ(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());r.forEach(o=>{e.addManagedListeners(o,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===ve.ENTER){const n=this.column,r=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function yEe(e,t,n){var r;(r=e.colGroupSvc)==null||r.setColumnGroupOpened(t,n,"api")}function bEe(e,t,n){var r;return((r=e.colGroupSvc)==null?void 0:r.getColumnGroup(t,n))??null}function CEe(e,t){var n;return((n=e.colGroupSvc)==null?void 0:n.getProvidedColGroup(t))??null}function wEe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function SEe(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function xEe(e,t){var n;(n=e.colGroupSvc)==null||n.setColumnGroupState(t,"api")}function EEe(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function REe(e){return e.visibleCols.treeLeft}function TEe(e){return e.visibleCols.treeCenter}function AEe(e){return e.visibleCols.treeRight}function PEe(e){return e.visibleCols.getAllTrees()}function _Ee(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var OEe=class extends ye{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var a;const{colModel:n,colGroupSvc:r,colViewport:i}=this.beans;t||this.buildTrees(n,r),r==null||r.updateOpenClosedVisibility();const o=t1(this.treeLeft);this.leftCols=o,this.centerCols=t1(this.treeCenter);const s=t1(this.treeRight);this.rightCols=s,this.joinColsAriaOrder(n),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),(a=this.beans.colFlex)==null||a.refreshFlexedColumns(),this.updateBodyWidths(),i.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(n,o,s,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=Bl(this.centerCols),t=Bl(this.leftCols),n=Bl(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,o;this.gos.get("enableRtl")?(i=t?t[0]:null,o=n?yn(n):null):(i=t?yn(t):null,o=n?n[0]:null),e.getCols().forEach(s=>{s.setLastLeftPinned(s===i,r),s.setFirstRightPinned(s===o,r)})}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(l=>l.getPinned()=="left"),i=n.filter(l=>l.getPinned()=="right"),o=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),s=new CJ,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:r,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:i,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:o,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const o of t){const s=o.getPinned();s?s===!0||s==="left"?n.push(o):i.push(o):r.push(o)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return nr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{nr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(o=>{if(i){let s=Bl(o);o.forEach(a=>{s-=a.getActualWidth(),a.setLeft(s,e)})}else{let s=0;o.forEach(a=>{a.setLeft(s,e),s+=a.getActualWidth()})}_Ee(r,o)}),r.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let o=null;for(let s=0;s<t.length;s++){const a=t[s],l=t.length-s,u=Math.min(a.getColSpan(e),l),h=[a];if(u>1){const p=u-1;for(let m=1;m<=p;m++)h.push(t[s+m]);s+=p}let f;n?(f=!1,h.forEach(p=>{n(p)&&(f=!0)})):f=!0,f&&(i.length===0&&o&&(r&&r(a))&&i.push(o),i.push(a)),o=a}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Sh(this.treeCenter,!1,e),Sh(this.treeLeft,!1,e),Sh(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?yn(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Bl(this.leftCols)}getDisplayedColumnsRightWidth(){return Bl(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let i;if(nr(e)){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;i=r?o[0]:yn(o)}else i=e;return(r?n[0]:yn(n))===i}};function Sh(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(nr(i)){const o=t?i.getDisplayedChildren():i.getChildren();Sh(o,t,n)}n(i)}}function t1(e){const t=[];return Sh(e,!0,n=>{qc(n)&&t.push(n)}),t}var DEe=class extends ye{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return eu(null,t,n=>{ro(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];eu(null,t,r=>{if(ro(r)){const i=r.getColGroupDef(),o={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(o)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:o}=this.beans;if(!n.getColTree().length)return;r==null||r.start();const a=[];e.forEach(l=>{const u=l.groupId,h=l.open,f=this.getProvidedColGroup(u);f&&f.isExpanded()!==h&&(f.setExpanded(h),a.push(f))}),i.refresh(t,!0),a.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),r==null||r.finish()}setColumnGroupOpened(e,t,n){let r;ro(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return eu(null,this.beans.colModel.getColTree(),n=>{ro(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?yn(r):r[0],o=`getCol${t}`;for(;;){const s=this.beans.visibleCols[o](i);if(!s)return null;const a=this.getColGroupAtLevel(s,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Sh(e,!1,t=>{nr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(nr(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let i=null;return Sh(n,!1,o=>{if(nr(o)){const s=o;let a;r?a=e===s.getGroupId()&&t===s.getPartId():a=e===s.getGroupId(),a&&(i=s)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:o}=e,s=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const u=l;l=[];let h=0;const f=p=>{const m=h;h=p;const b=u[m],y=(nr(b)?b.getProvidedColumnGroup():b).getOriginalParent();if(y==null){for(let R=m;R<p;R++)a.push(u[R]);return}const x=this.createColumnGroup(y,n,s,r,o);for(let R=m;R<p;R++)x.addChild(u[R]);l.push(x)};for(let p=1;p<u.length;p++){const m=u[p],C=(nr(m)?m.getProvidedColumnGroup():m).getOriginalParent(),y=u[h],R=(nr(y)?y.getProvidedColumnGroup():y).getOriginalParent();C!==R&&f(p)}h<u.length&&f(u.length)}return o||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,r,i,o,s){const a=i.getUniqueKey(t.groupId||null,null),l=this.createMergedColGroupDef(t,a),u=new cS(l,a,!1,n);this.createBean(u);const h=this.findExistingGroup(t,o);h&&o.splice(h.idx,1);const f=h==null?void 0:h.group;f&&u.setExpanded(f.isExpanded());const p=hJ(this.beans,l.children,n+1,e,r,i,o,s);return u.setChildren(p),u}balanceColumnTree(e,t,n,r){const i=[];for(let o=0;o<e.length;o++){const s=e[o];if(ro(s)){const a=s,l=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(l),i.push(a)}else{let a,l;for(let u=n-1;u>=t;u--){const h=r.getUniqueKey(null,null),f=this.createMergedColGroupDef(null,h),p=new cS(f,h,!0,t);this.createBean(p),l&&l.setChildren([p]),l=p,a||(a=l)}if(a&&l)if(i.push(a),e.some(h=>ro(h))){l.setChildren([s]);continue}else{l.setChildren(e);break}i.push(s)}}return i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&ro(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(ro(i)){const o=i,s=this.findMaxDepth(o.getChildren(),t+1);n<s&&(n=s)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(r=>{let i=r;for(let o=t-1;o>=0;o--){const s=new cS(null,`FAKE_PATH_${r.getId()}}_${o}`,!0,o);this.createBean(s),s.setChildren([i]),i.originalParent=s,i=s}t===0&&(r.originalParent=null),n.push(i)}),n}createMergedColGroupDef(e,t){const n={},{gos:r,validation:i}=this.beans;return Object.assign(n,r.get("defaultColGroupDef")),Object.assign(n,e),i==null||i.validateColDef(n,t),n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}createColumnGroup(e,t,n,r,i){const o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=MJ(o,s);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),ke(l)?l.reset():(l=new FJ(e,o,s,r),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=r=>{r.forEach(i=>{if(nr(i)){const o=i;t[i.getUniqueId()]=o,n(o.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,nr(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}})}},IEe={moduleName:"ColumnGroup",version:Ne,dynamicBeans:{headerGroupCellCtrl:vEe},beans:[DEe],apiFunctions:{getAllDisplayedColumnGroups:PEe,getCenterDisplayedColumnGroups:TEe,getColumnGroup:bEe,getColumnGroupState:SEe,getDisplayNameForColumnGroup:wEe,getLeftDisplayedColumnGroups:REe,getProvidedColumnGroup:CEe,getRightDisplayedColumnGroups:AEe,resetColumnGroupState:EEe,setColumnGroupOpened:yEe,setColumnGroupState:xEe}},MEe={moduleName:"CheckboxCellRenderer",version:Ne,userComponents:{agCheckboxCellRenderer:XSe}};function FEe(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function kEe(e){return e.colModel.getColumnDefs()}function LEe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function NEe(e,t){return e.colModel.getColDefCol(t)}function VEe(e){return e.colModel.getColDefCols()}function BEe(e,t){return Is(e,t,"api")}function HEe(e){return By(e)}function $Ee(e){hwe(e,"api")}function jEe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function GEe(e){return e.visibleCols.isPinningLeft()}function zEe(e){return e.visibleCols.isPinningRight()}function UEe(e,t){return e.visibleCols.getColAfter(t)}function WEe(e,t){return e.visibleCols.getColBefore(t)}function qEe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function KEe(e,t,n){var r;(r=e.pinnedCols)==null||r.setColsPinned(t,n,"api")}function YEe(e){return e.colModel.getCols()}function XEe(e){return e.visibleCols.leftCols}function QEe(e){return e.visibleCols.centerCols}function ZEe(e){return e.visibleCols.rightCols}function JEe(e){return e.visibleCols.allCols}function eRe(e){return e.colViewport.getViewportColumns()}function fF(e,t){if(!e)return;const n=e,r={};return Object.keys(n).forEach(i=>{if(t&&t.indexOf(i)>=0||aJ.has(i))return;const o=n[i];typeof o=="object"&&o!==null&&o.constructor===Object?r[i]=fF(o):r[i]=o}),r}var tRe=class extends ye{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r){var a,l;const i=e.slice();t?i.sort((u,h)=>n.indexOf(u)-n.indexOf(h)):n&&i.sort((u,h)=>r.indexOf(u)-r.indexOf(h));const o=(a=this.rowGroupColsSvc)==null?void 0:a.columns,s=(l=this.pivotColsSvc)==null?void 0:l.columns;return this.buildColumnDefs(i,o,s)}buildColumnDefs(e,t=[],n=[]){const r=[],i={};return e.forEach(o=>{const s=this.createDefFromColumn(o,t,n);let a=!0,l=s,u=o.getOriginalParent(),h=null;for(;u;){let f=null;if(u.isPadding()){u=u.getOriginalParent();continue}const p=i[u.getGroupId()];if(p){p.children.push(l),a=!1;break}if(f=this.createDefFromGroup(u),f&&(f.children=[l],i[f.groupId]=f,l=f,u=u.getOriginalParent()),u!=null&&h===u){a=!1;break}h=u}a&&r.push(l)}),r}createDefFromGroup(e){const t=fF(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=fF(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},nRe=class extends ye{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:r}=this.beans,i=r.centerCols;let o=-1;if(e.resizingCols){const b=new Set(e.resizingCols);for(let C=i.length-1;C>=0;C--)if(b.has(i[C])){o=C;break}}let s=!1;const a=i.map((b,C)=>{const y=b.getFlex(),x=y!=null&&y>0&&C>o;return s||(s=x),{col:b,isFlex:x,flex:Math.max(0,y??0),initialSize:b.getActualWidth(),min:b.getMinWidth(),max:b.getMaxWidth(),targetSize:0}});if(!s)return[];let l=a.length,u=a.reduce((b,C)=>b+C.flex,0),h=n;const f=(b,C)=>{b.frozenSize=C,b.col.setActualWidth(C,t),h-=C,u-=b.flex,l-=1},p=b=>b.frozenSize!=null;for(const b of a)b.isFlex||f(b,b.initialSize);for(;l>0;){const b=Math.round(u<1?h*u:h);let C,y=0,x=0;for(const M of a){if(p(M))continue;C=M,x+=b*(M.flex/u);const A=x-y,D=Math.round(A);M.targetSize=D,y+=D}C&&(C.targetSize+=b-y);let R=0;for(const M of a){if(p(M))continue;const A=M.targetSize,D=Math.min(Math.max(A,M.min),M.max);R+=D-A,M.violationType=D===A?void 0:D<A?"max":"min",M.targetSize=D}const T=R===0?"all":R>0?"min":"max";for(const M of a)p(M)||(T==="all"||M.violationType===T)&&f(M,M.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const m=a.filter(b=>b.isFlex&&!b.violationType).map(b=>b.col);if(e.fireResizedEvent){const b=a.filter(y=>y.initialSize!==y.frozenSize).map(y=>y.col),C=a.filter(y=>y.flex).map(y=>y.col);hg(this.eventSvc,b,!0,t,C)}return m}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},rRe=class extends ye{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const n={};this.formatValueFuncs=n;const r=s=>a=>{const{column:l,node:u,value:h}=a;let f=l.getColDef().valueFormatter;return f===s.groupSafeValueFormatter&&(f=s.valueFormatter),this.beans.valueSvc.formatValue(l,u,h,f)};for(const s of Object.keys(e)){const a=e[s],l={...a,groupSafeValueFormatter:kU(a,this.gos)};t[s]=l,n[s]=r(l)}const i=this.gos.get("dataTypeDefinitions")??{},o={};this.dataTypeMatchers=o;for(const s of Object.keys(i)){const a=i[s],l=this.processDataTypeDefinition(a,i,[s],e);l&&(t[s]=l,a.dataTypeMatcher&&(o[s]=a.dataTypeMatcher),n[s]=r(l))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(s=>{const a=o[s];a&&delete o[s],o[s]=a??e[s].dataTypeMatcher})}processDataTypeDefinition(e,t,n,r){let i;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=r[o];const a=t[o];if(s&&a&&(s=a),!FU(e,s,o))return;i=MU(s,e)}else{if(n.includes(o)){Me(44);return}const s=t[o];if(!FU(e,s,o))return;const a=this.processDataTypeDefinition(s,t,[...n,o],r);if(!a)return;i=MU(a,e)}return{...i,groupSafeValueFormatter:kU(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[r];if(!o){Me(47,{cellDataType:r});return}return e.cellDataType=r,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,o,n),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Hi(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(n1(t,r))return!1;const i=t.type===null?e.type:t.type;if(i){const o=n.get("columnTypes")??{};if(fx(i).some(a=>{const l=o[a.trim()];return l&&n1(l,r)}))return!1}return!n1(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const i=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=ry(r,e,i)}else this.initWaitForRowData(t);if(n!=null)return Object.keys(this.dataTypeMatchers).find(i=>this.dataTypeMatchers[i](n))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const n=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(n!=null&&n.length)return n[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{const{firstRowData:s}=o;s&&(i==null||i(),this.isPendingInference=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&(n==null||n.processResizeOperations()),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const o of Object.keys(this.columnStateUpdatesPendingInference)){const s=this.columnStateUpdatesPendingInference[o],a=this.colModel.getCol(o);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const h=oRe(a,s);h.rowGroup&&h.rowGroupIndex==null&&(r[o]=h),h.pivot&&h.pivotIndex==null&&(i[o]=h),n.push(h)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&Is(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r==null||r.restoreColumnOrder(n,e),i==null||i.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=sF(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var r;if(t==null)return!0;const n=(r=this.getDataTypeDefinition(e))==null?void 0:r.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>Me(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){var o;const i=this.formatValueFuncs[t];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=s=>!!s.colDef.editable&&s.event.key===ve.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=i;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=i;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(s,a)=>{const l=this.colModel.getColDefCol(r),u=l==null?void 0:l.getColDef();if(!l||!u)return 0;const h=s==null?"":i({column:l,node:null,value:s}),f=a==null?"":i({column:l,node:null,value:a});return h===f?0:h>f?1:-1},e.keyCreator=i;break}}(o=this.beans.filterManager)==null||o.setColDefPropertiesForDataType(e,n,i)}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var r,i;return((i=(r=n.newValue)==null?void 0:r.trim)==null?void 0:i.call(r))===""?null:Number(n.newValue)},valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:JM(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>{var r,i;return n.newValue==null?n.newValue:((i=(r=n.newValue)==null?void 0:r.trim)==null?void 0:i.call(r))===""?null:String(n.newValue).toLowerCase()==="true"},valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>wo(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):Ms(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>wo(n)??void 0,dateFormatter:n=>Ms(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>JM(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function MU(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...fx(e.columnTypes),...fx(t.columnTypes)]),n}function FU(e,t,n){return t?t.baseDataType!==e.baseDataType?(Me(46),!1):!0:(Me(45,{parentCellDataType:n}),!1)}function kU(e,t){if(e.valueFormatter)return n=>{var r,i;if((r=n.node)!=null&&r.group){const o=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(o){if(o==="first"||o==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&o!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!((i=e.dataTypeMatcher)!=null&&i.call(e,n.value)))return;return e.valueFormatter(n)}}function iRe(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function n1(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>iRe(e,t,n,r))}function oRe(e,t){const n=bJ(e);return t.forEach(r=>{delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex}),n}var sRe={moduleName:"DataType",version:Ne,beans:[rRe],dependsOn:[MEe]},aRe={moduleName:"ColumnFlex",version:Ne,beans:[nRe]},lRe={moduleName:"ColumnApi",version:Ne,beans:[tRe],apiFunctions:{getColumnDef:FEe,getDisplayNameForColumn:LEe,getColumn:NEe,getColumns:VEe,applyColumnState:BEe,getColumnState:HEe,resetColumnState:$Ee,isPinning:jEe,isPinningLeft:GEe,isPinningRight:zEe,getDisplayedColAfter:UEe,getDisplayedColBefore:WEe,setColumnsVisible:qEe,setColumnsPinned:KEe,getAllGridColumns:YEe,getDisplayedLeftColumns:XEe,getDisplayedCenterColumns:QEe,getDisplayedRightColumns:ZEe,getAllDisplayedColumns:JEe,getAllDisplayedVirtualColumns:eRe,getColumnDefs:kEe}};function uRe(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var cRe=class extends ye{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t==null?void 0:t.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){var s;const o=e.headerValueGetter;if(o){const a=st(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof o=="function"?o(a):typeof o=="string"?((s=this.beans.expressionSvc)==null?void 0:s.evaluate(o,a))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return uRe(e.field)}return""}},dRe=class extends ye{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const s=r.bodyWidth;this.viewportLeft=s-t-e,this.viewportRight=s-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||hRe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,o=t<r&&n<r,s=t>i&&n>i;return!o&&!s}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=o=>{const s=o.getLeft();return ke(s)&&s>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:n,treeLeft:r,treeRight:i,treeCenter:o}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(l=>e[l.getId()]=!0);const a=(l,u,h)=>{let f=!1;for(let p=0;p<l.length;p++){const m=l[p];let b=!1;if(qc(m))b=e[m.getId()]===!0;else{const y=m.getDisplayedChildren();y&&(b=a(y,u,h+1))}b&&(f=!0,u[h]||(u[h]=[]),u[h].push(m))}return f};a(r,this.rowsOfHeadersToRenderLeft,0),a(i,this.rowsOfHeadersToRenderRight,0),a(o,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function hRe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var fRe=class extends ye{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const o=t(i),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=ky("<span>"+o+"</span>");return}if(o==null){this.eGui=ky("<span></span>");return}this.eGui=o}}return n}},pRe={moduleName:"CellRendererFunction",version:Ne,beans:[fRe]},gRe=class extends ye{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const o=(s,a,l)=>{this.agGridDefaults[s]=a,l&&(this.agGridDefaultParams[s]=l)};for(const s of Object.keys(n)){const a=n[s];typeof a=="object"?o(s,a.classImp,a.params):o(s,a)}}if(r)for(const o of Object.keys(r))this.dynamicBeans[o]=r[o];if(i==null||i.forEach(o=>{this.selectors[o.selector]=o}),t)for(const o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){var a;const n=(l,u,h)=>({componentFromFramework:u,component:l,params:h}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const o=this.jsComps[t];if(o){const l=r.isFrameworkComponent(o);return n(o,l)}const s=this.agGridDefaults[t];return s?n(s,!1,this.agGridDefaultParams[t]):((a=this.beans.validation)==null||a.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...n){const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(Fc(256));return}return new r(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},mRe=23,vRe=class extends ye{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(n=>n(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===mRe&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},yRe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',wY,SY,L2=typeof window!="object"||!((SY=(wY=window==null?void 0:window.document)==null?void 0:wY.fonts)!=null&&SY.forEach),pF=new WeakMap,gg=(e,t,n,r,i)=>{if(L2)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let o=pF.get(t);if(o||(o=[],pF.set(t,o)),o.find(u=>u.css===e))return;const s=document.createElement("style");s.dataset.agGlobalCss=n,s.textContent=e;const a={css:e,el:s,priority:i};let l;for(const u of o){if(u.priority>i)break;l=u}if(l){l.el.insertAdjacentElement("afterend",s);const u=o.indexOf(l);o.splice(u+1,0,a)}else t.insertBefore(s,t.querySelector(":not(title, meta)")),o.push(a)},aee=(e,t)=>{gg(yRe,e,"core",t,0),Array.from(a0e()).sort((n,r)=>n.moduleName.localeCompare(r.moduleName)).forEach(n=>{var r;return(r=n.css)==null?void 0:r.forEach(i=>gg(i,e,`module-${n.moduleName}`,t,0))})},gF=new Set,bRe=e=>{gF.add(e)},CRe=e=>{if(gF.delete(e),gF.size===0){pF=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},pu=e=>new lee(e),ac="$default",wRe=0,lee=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[ac]:{...n[ac]??{},...t??{}},...n}}use(e,t){let n=this._inject;if(n==null){let{css:r}=this;if(r){const i=`ag-theme-${this.feature??"part"}-${++wRe}`;typeof r=="function"&&(r=r()),r=`:where(.${i}) {
${r}
}
`;for(const o of this.cssImports??[])r=`@import url(${JSON.stringify(o)});
${r}`;n={css:r,class:i}}else n=!1;this._inject=n}return n&&e&&gg(n.css,e,n.class,t,1),n?n.class:!1}},SRe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),uee=e=>`--ag-${SRe(e)}`,ol=e=>`var(${uee(e)})`,xRe=(e,t,n)=>Math.max(t,Math.min(n,e)),ERe=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},Na=e=>({ref:"accentColor",mix:e}),ms=e=>({ref:"foregroundColor",mix:e}),sa=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),RRe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),ra={ref:"backgroundColor"},r1={ref:"foregroundColor"},pc={ref:"accentColor"},Sx={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:ms(.15),chromeBackgroundColor:sa(.02),browserColorScheme:"light"},TRe={...Sx,textColor:r1,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:ra,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:pc,rangeSelectionBackgroundColor:Na(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Na(.5),rangeHeaderHighlightColor:RRe(.08),rowNumbersSelectedColor:Na(.5),rowHoverColor:Na(.08),columnHoverColor:Na(.05),selectedRowBackgroundColor:Na(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:ra,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:ra,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:ms(.7),focusShadow:{spread:3,color:Na(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:ms(.1),iconButtonActiveColor:pc,iconButtonActiveBackgroundColor:Na(.28),iconButtonActiveIndicatorColor:pc,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:pc,toggleButtonOffBackgroundColor:sa(.3),toggleButtonSwitchBackgroundColor:ra,toggleButtonSwitchInset:2,menuBorder:{color:ms(.2)},menuBackgroundColor:sa(.03),menuTextColor:sa(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:ms(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:pc},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:ms(.2)},panelBackgroundColor:ra,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:ms(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:ms(.13)},selectCellBackgroundColor:ms(.07),selectCellBorder:{color:ms(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:ms(.15),statusBarLabelColor:r1,statusBarLabelFontWeight:500,statusBarValueColor:r1,statusBarValueFontWeight:500},ARe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",PRe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},_Re=()=>pu({feature:"buttonStyle",params:{...PRe,buttonBackgroundColor:ra,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:pc}},css:ARe}),ORe=_Re(),DRe=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",IRe=()=>pu({feature:"columnDropStyle",css:DRe}),cee=IRe(),MRe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],FRe=ERe(e=>(e=e.toLowerCase(),MRe.find(t=>e.endsWith(t.toLowerCase()))??"length")),dR=e=>typeof e=="object"&&(e!=null&&e.ref)?ol(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,N2=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=ol(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?ol(e.onto):"transparent"}, ${t} ${xRe(e.mix*100,0,100)}%)`}return!1},kRe=dR,dp=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${ol(n)} `)})`:e&&"ref"in e?ol(e.ref):!1,LRe=dR,NRe=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?ol(e.ref):dee(e.style??"solid")+" "+dp(e.width??1)+" "+N2(e.color??{ref:"borderColor"}),VRe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?ol(e.ref):[dp(e.offsetX??0),dp(e.offsetY??0),dp(e.radius??0),dp(e.spread??0),N2(e.color??{ref:"foregroundColor"})].join(" "),dee=dR,hee=e=>typeof e=="string"?e:e&&"googleFont"in e?hee(e.googleFont):e&&"ref"in e?ol(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),BRe(t))).join(", "):!1,BRe=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),HRe=dR,fee=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?fee({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?ol(e.ref):!1,$Re=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&bn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?ol(e.ref):!1,jRe={color:N2,colorScheme:kRe,length:dp,scale:LRe,border:NRe,borderStyle:dee,shadow:VRe,image:fee,fontFamily:hee,fontWeight:HRe,duration:$Re},GRe=(e,t)=>{const n=FRe(e);return jRe[n](t,e)},zRe=()=>new pee().withPart(ORe).withPart(cee),pee=class gee{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof lee?new gee([...this.parts,t]):(tF(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(pu({feature:t}))}withParams(t,n=ac){return this.withPart(pu({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,loadThemeGoogleFonts:r}){if(L2)return;WRe(),aee(t,n);const i=URe(this);if(i.length>0)for(const o of i)r&&KRe(o);for(const o of this.parts)o.use(t,n)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=LU(this.parts).map(t=>t.use(void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[ac]:{...TRe}};for(const r of LU(this.parts))for(const i of Object.keys(r.modeParams)){const o=r.modeParams[i];if(o){const s=n[i]??(n[i]={}),a=new Set;for(const l of Object.keys(o)){const u=o[l];u!==void 0&&(s[l]=u,a.add(l))}if(i===ac)for(const l of Object.keys(n)){const u=n[l];if(l!==ac)for(const h of a)delete u[h]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let i="",o="";const s=this._getModeParams();for(const l of Object.keys(s)){const u=s[l];if(l!==ac){const f=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=f,o+=f}for(const h of Object.keys(u).sort()){const f=u[h],p=GRe(h,f);if(p===!1)bn(107,{key:h,value:f});else{const m=uee(h),b=m.replace("--ag-","--ag-inherited-");i+=`	${m}: var(${b}, ${p});
`,o+=`	${b}: var(${m});
`}}l!==ac&&(i+=`}
`,o+=`}
`)}let a=`${n} {
${i}}
`;a+=`:has(> ${n}):not(${n}) {
${o}}
`,this._paramsCssCache=r=a}return r.replaceAll(n,`:where(.${t})`)}},LU=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},URe=e=>{const t=new Set,n=o=>{if(Array.isArray(o))o.forEach(n);else{const s=o==null?void 0:o.googleFont;typeof s=="string"&&t.add(s)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(n),Array.from(t).sort()},NU=!1,WRe=()=>{if(!NU){NU=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},qRe=new Set,KRe=async e=>{qRe.add(e);const t=`@import url('https://${YRe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;gg(t,document.head,`googleFont:${e}`,void 0,0)},YRe="fonts.googleapis.com",XRe='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',QRe=()=>pu({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:ra,checkboxUncheckedBorderColor:sa(.3),checkboxCheckedBackgroundColor:pc,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:ra,checkboxIndeterminateBackgroundColor:sa(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:ra,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:XRe}),ZRe=QRe(),mee=()=>({...Sx,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:sa(.05),rowHoverColor:Na(.15),selectedRowBackgroundColor:Na(.2),menuBackgroundColor:sa(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:sa(.4),toggleButtonOffBackgroundColor:sa(.4)}),JRe=()=>({...mee(),backgroundColor:"#1f2836"}),eTe=()=>pu({feature:"colorScheme",params:Sx,modeParams:{light:Sx,dark:mee(),"dark-blue":JRe()}}),tTe=eTe(),vee={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},yee={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},nTe=(e={})=>{let t="";for(const n of[...Object.keys(vee),...Object.keys(yee)]){const r=rTe(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},rTe=(e,t=1.5)=>{const n=yee[e];if(n)return n;const r=vee[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},iTe=(e={})=>pu({feature:"iconSet",css:()=>nTe(e)}),oTe=iTe(),sTe=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',aTe=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",lTe={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},uTe=()=>pu({feature:"inputStyle",params:{...lTe,inputBackgroundColor:ra,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:pc},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:sa(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>sTe+aTe}),cTe=uTe(),dTe='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',hTe={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},fTe=()=>pu({feature:"tabStyle",params:{...hTe,tabBarBorder:!0,tabBarBackgroundColor:ms(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:ra},css:dTe}),pTe=fTe(),gTe=()=>zRe().withPart(ZRe).withPart(tTe).withPart(oTe).withPart(pTe).withPart(cTe).withPart(cee).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),mTe=gTe(),VU={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},BU={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},HU={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},i1={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},vTe=0,yTe=class extends ye{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++vTe}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(VU),this.getSizeEl(BU),this.getSizeEl(HU),this.getSizeEl(i1),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>CRe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(VU)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(BU)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(HU)}getRowBorderWidth(){return this.getCSSVariablePixelValue(i1)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let r=this.eGridDiv;for(;r;){let i=!1;for(const o of Array.from(r.classList))o.startsWith("ag-theme-")&&(i=!0,n=n?`${n} ${o}`:o);i&&this.mutationObserver.observe(r,{attributes:!0,attributeFilter:["class"]}),r=r.parentElement}}for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&e.classList.remove(r);if(n){const r=e.className;e.className=r+(r?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?gg(e,this.eStyleContainer,t,this.cssLayer,0):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===o1?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=document.createElement("div"),e.className="ag-measurement-container",this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=document.createElement("div");const{border:r}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${o1}px`)):t.style.width=`var(${e.cssName}, ${o1}px)`,n.appendChild(t),this.sizeEls.set(e,t);let i=this.measureSizeEl(e);i==="no-styles"&&Me(9,{variable:e});const o=xu(this.beans,t,()=>{const s=this.measureSizeEl(e);s==="detached"||s==="no-styles"||(this.lastKnownValues.set(e,s),s!==i&&(i=s,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(i1);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:r}=this,i=e.get("theme");let o;if(i==="legacy")o=void 0;else{const s=i??mTe;s instanceof pee?o=s:bn(240,{theme:s})}if(o!==r){if(o){bRe(this),aee(this.eStyleContainer,this.cssLayer);for(const[a,l]of n)gg(a,this.eStyleContainer,l,this.cssLayer,0);n.length=0}this.gridTheme=o,o==null||o._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer});let s=this.eParamsStyle;s||(s=this.eParamsStyle=document.createElement("style"),t.appendChild(s)),L2||(s.textContent=(o==null?void 0:o._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}o&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&bn(i?106:239)}},o1=15538,bTe=class extends ye{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Nh}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalEventService.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(st(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(st(this.gos,e))}};function bee(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function mF(e,t){let n;if(nr(e)&&bee(e)&&e.isPadding()){const r=e;n=r.getLeafColumns()[0];let i=n;for(;i!==r;)t++,i=i.getParent()}return{column:n||e,headerRowIndex:t}}var CTe=class extends ye{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=vr(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=(i==null?void 0:i.getColumnGroup(e))??null)):n=e,!n)return null;const s=o.getHeaderRowContainerCtrl(),a=s==null?void 0:s.getAllCtrls(),l=yn(a||[]).type==="filter",u=Ul(this.beans)-1;let h=-1,f=n;for(;f;)h++,f=f.getParent();let p=h;return t&&l&&p===u-1&&p++,p===-1?null:{headerRowIndex:p,column:n}}navigateVertically(e,t,n){const r=this.beans.focusSvc;if(t||(t=r.focusedHeader),!t)return!1;const{headerRowIndex:i}=t,o=t.column,s=Ul(this.beans),a=e==="UP",l=this.getHeaderRowType(i);let{headerRowIndex:u,column:h,headerRowIndexWithoutSpan:f}=a?wTe(l,o,i):STe(l,o,i),p=!1;return u<0&&(u=0,h=o,p=!0),u>=s?(u=-1,this.currentHeaderRowWithoutSpan=-1):f!==void 0&&(this.currentHeaderRowWithoutSpan=f),!p&&!h?!1:r.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:h},allowUserOverride:!0,event:n})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,o=r.focusedHeader;let s,a;if(this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(a="Before",s=this.findHeader(o,a)):(a="After",s=this.findHeader(o,a)),s||!t)return r.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:n});if(t){const l=i.getCallback("tabToNextHeader");if(l)return r.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a})}return this.focusNextHeaderRow(o,a,n)}focusNextHeaderRow(e,t,n){const r=e.headerRowIndex;let i=null,o;const s=this.beans;if(t==="Before"?r>0&&(o=r-1,this.currentHeaderRowWithoutSpan-=1,i=this.findColAtEdgeForHeaderRow(o,"end")):(o=r+1,this.currentHeaderRowWithoutSpan<Ul(s)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,i=this.findColAtEdgeForHeaderRow(o,"start")),!i)return!1;const{column:a,headerRowIndex:l}=mF(i.column,i==null?void 0:i.headerRowIndex);return s.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(nr(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?yn(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,r;const{colGroupSvc:i,visibleCols:o}=this.beans;if(nr(e.column)?n=(i==null?void 0:i.getGroupAtDirection(e.column,t))??void 0:(r=`getCol${t}`,n=o[r](e.column)),!n)return;const{headerRowIndex:s}=e;if(this.getHeaderRowType(s)!=="filter"){const u=[n];for(;n.getParent();)n=n.getParent(),u.push(n);n=u[Math.max(0,u.length-1-s)]}const{column:a,headerRowIndex:l}=mF(n,s);return{column:a,headerRowIndex:l}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:n,ctrlsSvc:r,colGroupSvc:i}=this.beans,o=n.allCols,s=o[t==="start"?0:o.length-1];if(!s)return;const a=r.getHeaderRowContainerCtrl(s.getPinned()),l=a==null?void 0:a.getRowType(e);if(l=="group"){const u=i==null?void 0:i.getColGroupAtLevel(s,e);return{headerRowIndex:e,column:u}}return{headerRowIndex:l==null?-1:e,column:s}}};function wTe(e,t,n){const r=e==="filter",i=e==="column";let o=r?t:t.getParent(),s=n-1,a=s;if(i&&bee(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),s--;a=s,s<0&&(o=t,s=n,a=void 0)}return{column:o,headerRowIndex:s,headerRowIndexWithoutSpan:a}}function STe(e,t,n,r="After"){let i=t,o=n+1;const s=o;if(e==="group"){const a=t.getDisplayedLeafColumns(),l=r==="After"?a[0]:yn(a),u=[];let h=l;for(;h.getParent()!==t;)h=h.getParent(),u.push(h);if(i=l,l.isSpanHeaderHeight())for(let f=u.length-1;f>=0;f--){const p=u[f];if(!p.isPadding()){i=p;break}o++}else i=yn(u),i||(i=l)}return{column:i,headerRowIndex:o,headerRowIndexWithoutSpan:s}}var xTe=class extends ye{constructor(){super(...arguments),this.beanName="focusSvc"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(C0e(this.beans))}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(lr(this.beans),jy)?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(lr(this.beans),qJ)?null:this.focusedHeader}isDomDataMissingInHierarchy(e,t){let n=e;for(;n;){if(lx(this.gos,n,t))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCell}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCell=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())})}isCellRestoreFocused(e){return this.restoredFocusedCell==null?!1:"cellSpan"in e?e.doesSpanContain(this.restoredFocusedCell):lF(e,this.restoredFocusedCell)}setRestoreFocusedCell(e){this.beans.frameworkOverrides.renderingEngine==="react"&&(this.restoredFocusedCell=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCell=null,this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:o=!1}=e,s=this.colModel.getCol(t);if(!s){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Ql(r),column:s},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:i,preventScrollOnBrowserFocus:o})}isCellFocused(e){return this.focusedCell==null?!1:lF(e,this.focusedCell)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:o}=this.focusedHeader;return t===i&&n===o&&r==i.getPinned()}focusHeaderPosition(e){var l;if(wh(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:o,rowWithoutSpanValue:s}=e;let{headerPosition:a}=e;if(o&&((l=this.filterManager)!=null&&l.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(a);if(r){const u=this.focusedHeader,h=Ul(this.beans);if(n){const f=this.gos.getCallback("tabToNextHeader");f&&(a=this.getHeaderPositionFromUserFunc({userFunc:f,direction:t,currentPosition:u,headerPosition:a,headerRowCount:h}))}else{const f=this.gos.getCallback("navigateToNextHeader");if(f&&i){const p={key:i.key,previousHeaderPosition:u,nextHeaderPosition:a,headerRowCount:h,event:i};a=f(p)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:i,fromCell:o,rowWithoutSpanValue:s}):!1}focusHeaderPositionFromUserFunc(e){if(wh(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,o=this.focusedHeader,s=Ul(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:o,headerPosition:n,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:o}=e,a=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:o});return a===!0?r:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:o}=e,{column:s,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:h}=this.beans;if(a===-1)return l!=null&&l.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:s,event:o});h==null||h.scrollToColumn(s,n);const f=u.getHeaderRowContainerCtrl(s.getPinned()),p=(f==null?void 0:f.focusHeader(t.headerRowIndex,s,o))||!1;return h&&p&&(i!=null||r)&&(h.currentHeaderRowWithoutSpan=i??-1),p}focusFirstHeader(){var r;if((r=this.overlays)!=null&&r.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const n=mF(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){var r;if((r=this.overlays)!=null&&r.isExclusive()&&this.focusOverlay(!0))return!0;const t=Ul(this.beans)-1,n=yn(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Ql(t)}focusOverlay(e){var n,r;const t=((n=this.overlays)==null?void 0:n.isVisible())&&((r=this.overlays.eWrapper)==null?void 0:r.getGui());return!!t&&$h(t,e)}focusGridView(e){var o,s,a,l,u,h;const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if((o=this.overlays)!=null&&o.isExclusive())return n&&this.focusOverlay(t);if(uR(this.beans))return t&&!wh(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:fg(this.beans,t);const i=t?z0e(this.beans):G0e(this.beans);if(i){const f=e.column??((s=this.focusedHeader)==null?void 0:s.column),{rowIndex:p,rowPinned:m}=i,b=bx(this.beans,i);if(!f||!b||p==null)return!1;if(f.isSuppressNavigable(b)){const C=this.gos.get("enableRtl");let y;return!r||r.key===ve.TAB?y=C?ve.LEFT:ve.RIGHT:y=r.key,(a=this.beans.navigation)==null||a.navigateToNextCell(null,y,{rowIndex:p,column:f,rowPinned:m||null},!0),!0}if((l=this.navigation)==null||l.ensureCellVisible({rowIndex:p,column:f,rowPinned:m}),t){const C=this.rowRenderer.getRowByPosition(i);if(C!=null&&C.isFullWidth()&&((u=this.navigation)!=null&&u.tryToFocusFullWidthRow(i,t)))return!0}return this.setFocusedCell({rowIndex:p,column:f,rowPinned:Ql(m),forceBrowserFocus:!0}),(h=this.beans.rangeSvc)==null||h.setRangeToCell({rowIndex:p,rowPinned:m,column:f}),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var r;const n=(t?void 0:this.advFilterFocusColumn)??((r=this.visibleCols.allCols)==null?void 0:r[0]);return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Ul(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},ETe=class extends ye{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var n;const e=this.ctrlsSvc.get("center");if(!e||(n=this.colAnimation)!=null&&n.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:sCe();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},RTe=class extends ye{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var r;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(r=t.get("gridCtrl"))==null||r.destroyGridUi(),n.destroy(),super.destroy()}},gS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),TTe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},ATe=0,PTe=0,_Te=class extends ye{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=PTe++,this.propEventSvc=new Nh,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=gS.has(t);if(r&&!e||!r&&e)return;const i=nJ(t),o=this.gridOptions[i];typeof o=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{o(n)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??TTe[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ke(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:ATe++,properties:[]},i=[],{gridOptions:o,validation:s}=this;for(const a of Object.keys(e)){const l=e[a];s==null||s.warnOnInitialPropertyUpdate(n,a);const u=t||typeof l=="object"&&n==="api",h=o[a];if(u||h!==l){o[a]=l;const f={type:a,currentValue:l,previousValue:h,changeSet:r,source:n};i.push(f)}}s==null||s.processGridOptions(this.gridOptions),r.properties=i.map(a=>a.type),i.forEach(a=>{Bh(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||bn(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:x2(),rowModelType:this.get("rowModelType"),isUmd:u0e()}}isModuleRegistered(e){return EJ(e,this.gridId,this.get("rowModelType"))}};function OTe(e){return`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
        </div>
    </div>`}var DTe=class extends Kn{constructor(){super(...arguments),this.eFilter=et,this.eFilterButton=et,this.eSortIndicator=et,this.eMenu=et,this.eLabel=et,this.eText=et,this.eSortOrder=et,this.eSortAsc=et,this.eSortDesc=et,this.eSortMixed=et,this.eSortNone=et,this.isLoadingInnerComponent=!1}refresh(e){var n,r;const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.innerHeaderComponent?(r=(n=this.innerHeaderComponent).refresh)==null||r.call(n,e):this.setDisplayName(e),!0)}workOutTemplate(){const{params:e,beans:t}=this,n=e.template??OTe(!!t.sortSvc);return n!=null&&n.trim?n.trim():n}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,t?[t.getSortIndicatorSelector()]:void 0),n==null||n.setupForHeader(this),this.setMenu(),this.setupSort(),r==null||r.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Bwe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;if(this.currentDisplayName=t,n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const r=Jl(t,!0);this.eText.textContent=r}addInIcon(e,t,n){if(t==null)return;const r=Rs(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Vh(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=Ho(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var l;const{params:t,gos:n,beans:r,eMenu:i,eFilterButton:o}=this,s=t.column,a=Ho(n);if(e&&!a){if((l=r.menuSvc)!=null&&l.isFilterMenuInHeaderEnabled(s))return t.showFilter(o??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??o??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:i,eSortAsc:o,eSortDesc:s,eSortMixed:a,eSortNone:l}=this;r.attachCustomElements(i,o,s,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return Vh(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();rr(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},ITe=class extends Kn{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=et,this.agClosed=et,this.agLabel=et,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&Me(89)}workOutInnerHeaderGroupComponent(e,t){const n=$we(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(Zl(l))return;const u=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),u,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);const o=l=>{dg(l)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const s=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(s,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){var r;(r=e.touchSvc)==null||r.setupForHeaderGroup(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();rr(e,r),rr(t,!r)}else rr(e,!1),rr(t,!1)}addInIcon(e,t){const n=Rs(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;rr(t,!1),rr(n,!1);return}}setupLabel(e){var i;const{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(ke(t)&&!r){const o=Jl(t,!0);this.agLabel.textContent=o}this.addOrRemoveCssClass("ag-sticky-label",!((i=n.getColGroupDef())!=null&&i.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},MTe={moduleName:"ColumnHeaderComp",version:Ne,userComponents:{agColumnHeader:DTe},icons:{menu:"menu",menuAlt:"menu-alt"}},FTe={moduleName:"ColumnGroupHeaderComp",version:Ne,userComponents:{agColumnGroupHeader:ITe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},kTe={moduleName:"AnimationFrame",version:Ne,beans:[v0e]},LTe=class extends ye{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!gh())return;const t=(n,r,i)=>{var a;const{rowCtrl:o,cellCtrl:s}=e.getControlsForEventTarget((i==null?void 0:i.target)??null);s!=null&&s.column&&s.dispatchCellContextMenuEvent(i??null),(a=this.beans.contextMenuSvc)==null||a.handleContextMenuMouseEvent(void 0,i,o,s)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!gh()||iJ("dblclick"))return!1;const r=new Date().getTime(),i=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n}=this.beans;if(t.get("suppressTouch"))return;const{params:r,eMenu:i,eFilterButton:o}=e,s=new ap(e.getGui(),!0),a=e.shouldSuppressMenuHide(),l=a&&ke(i),u=l?new ap(i,!0):s;if(r.enableMenu){const h=l?"tap":"longTap",f=p=>r.showColumnMenuAfterMouseClick(p.touchStart);e.addManagedListeners(u,{[h]:f})}if(r.enableSorting){const h=f=>{const p=f.touchStart.target;a&&(i!=null&&i.contains(p)||o!=null&&o.contains(p))||n==null||n.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(s,{tap:h})}if(r.enableFilterButton&&o){const h=new ap(o,!0);e.addManagedListeners(h,{tap:()=>r.showFilter(o)}),e.addDestroyFunc(()=>h.destroy())}e.addDestroyFunc(()=>s.destroy()),l&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e,t,n){const r=new ap(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!gh())return;const r=new ap(t),i=o=>{n(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}},NTe={moduleName:"Touch",version:Ne,beans:[LTe]},VTe=class extends ye{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===ve.UP,r=e===ve.DOWN,i=e===ve.LEFT;let o,s;const{pageBounds:a,gos:l,visibleCols:u}=this.beans;if(n||r)s=n?a.getFirstRow():a.getLastRow(),o=t.column;else{const h=l.get("enableRtl");s=t.rowIndex,o=(i!==h?u.allCols:[...u.allCols].reverse()).find(p=>this.isCellGoodToFocusOn({rowIndex:s,rowPinned:null,column:p}))}return o?{rowIndex:s,rowPinned:null,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case ve.UP:n=this.getCellAbove(n);break;case ve.DOWN:n=this.getCellBelow(n);break;case ve.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case ve.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,Me(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=r==null?void 0:r.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r==null?void 0:r.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,n=e.rowPinned;let r=!1;const{pageBounds:i,pinnedRowModel:o,rowModel:s}=this.beans;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return s.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:o!=null&&o.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return o!=null&&o.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else n&&(r=!0);const a=s.getRow(e.rowIndex),l=r?void 0:this.getNextStickyPosition(a);return l||{rowIndex:t+1,rowPinned:n}}getNextStickyPosition(e,t){const{gos:n,rowRenderer:r}=this.beans;if(!JZ(n)||!e||!e.sticky)return;const i=r.getStickyTopRowCtrls().some(u=>u.rowNode.rowIndex===e.rowIndex);let o=[];i?o=[...r.getStickyTopRowCtrls()].sort((u,h)=>u.rowNode.rowIndex-h.rowNode.rowIndex):o=[...r.getStickyBottomRowCtrls()].sort((u,h)=>h.rowNode.rowIndex-u.rowNode.rowIndex);const s=t?-1:1,a=o.findIndex(u=>u.rowNode.rowIndex===e.rowIndex),l=o[a+s];if(l)return{rowIndex:l.rowNode.rowIndex,rowPinned:null}}getCellBelow(e){var r;if(!e)return null;const t=((r=this.rowSpanSvc)==null?void 0:r.getCellEnd(e))??e,n=this.getRowBelow(t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,n=e.rowIndex,{pinnedRowModel:r,pageBounds:i}=this.beans;return t==="top"?((r==null?void 0:r.getPinnedTopRowCount())??-1)<=n:t==="bottom"?((r==null?void 0:r.getPinnedBottomRowCount())??-1)<=n:i.getLastRow()<=n}getRowAbove(e){const t=e.rowIndex,n=e.rowPinned,{pageBounds:r,pinnedRowModel:i,rowModel:o}=this.beans,s=n?t===0:t===r.getFirstRow();let a=!1;const l=()=>({rowIndex:(i==null?void 0:i.getPinnedTopRowCount())??-1,rowPinned:"top"});if(s)return n==="top"?null:n&&o.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:i!=null&&i.isRowsToRender("top")?l():null;n&&(a=!0);const u=o.getRow(e.rowIndex),h=a?void 0:this.getNextStickyPosition(u,!0);return h||{rowIndex:t-1,rowPinned:n}}getCellAbove(e){var r;if(!e)return null;const t=((r=this.rowSpanSvc)==null?void 0:r.getCellStart(e))??e,n=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,o=e.rowPinned,s=t.getColAfter(e.column);if(!s){s=r[0];const a=this.getRowBelow(e);if(qn(a)||!a.rowPinned&&!((n==null?void 0:n.isRowInPage(a))??!0))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}}getNextTabbedCellBackwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,o=e.rowPinned,s=t.getColBefore(e.column);if(!s){s=yn(r);const a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(qn(a)||!a.rowPinned&&!((n==null?void 0:n.isRowInPage(a))??!0))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function BTe(e){return e.focusSvc.getFocusedCell()}function HTe(e){return e.focusSvc.clearFocusedCell()}function $Te(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function jTe(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!1,t))??!1}function GTe(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!0,t))??!1}function zTe(e,t,n=!1){var i;const r=(i=e.headerNavigation)==null?void 0:i.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var UTe=class extends ye{constructor(){super(),this.beanName="navigation",this.onPageDown=hU(this.onPageDown,100),this.onPageUp=hU(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,s=N0e(this.gos,e);let a=!1;switch(n){case ve.PAGE_HOME:case ve.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),a=!0);break;case ve.LEFT:case ve.RIGHT:case ve.UP:case ve.DOWN:if(!s)return!1;i&&!r&&!o&&(this.onCtrlUpDownLeftRight(n,s),a=!0);break;case ve.PAGE_DOWN:case ve.PAGE_UP:!i&&!r&&(a=this.handlePageUpDown(n,s,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===ve.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:r,focusIndex:i,focusColumn:o}=e,{scrollFeature:s}=this.gridBodyCon;ke(r)&&!r.isPinned()&&s.ensureColumnVisible(r),ke(t)&&s.ensureIndexVisible(t,n),e.isAsync||s.ensureIndexVisible(i);const{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:i,column:o,rowPinned:null,forceBrowserFocus:!0}),l==null||l.setRangeToCell({rowIndex:i,rowPinned:null,column:o})}onPageDown(e){const t=this.beans,n=s1(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:o,rowAutoHeight:s}=t,a=i.getPixelOffset(),l=n.top+r,u=o.getRowIndexAtPixel(l+a);s!=null&&s.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,n=s1(t),{pageBounds:r,rowModel:i,rowAutoHeight:o}=t,s=r.getPixelOffset(),a=n.top,l=i.getRowIndexAtPixel(a+s);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,o=this.getViewportHeight(),s=r.getFirstRow(),a=r.getLastRow(),l=r.getPixelOffset(),u=i.getRow(e.rowIndex),h=n?(u==null?void 0:u.rowHeight)-o-l:o-l,f=(u==null?void 0:u.rowTop)+h;let p=i.getRowIndexAtPixel(f+l);if(p===e.rowIndex){const b=n?-1:1;t=p=e.rowIndex+b}let m;n?(m="bottom",p<s&&(p=s),t<s&&(t=s)):(m="top",p>a&&(p=a),t>a&&(t=a)),this.isRowTallerThanView(i.getRow(p))&&(t=p,m="top"),this.navigateTo({scrollIndex:t,scrollType:m,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:o}=this.beans,s=i.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=s;){const u=o.getRow(l);if(u){const h=u.rowHeight??0;if(a+h>r)break;a+=h}l+=n}return Math.max(0,Math.min(l,s))}getViewportHeight(){const e=this.beans,t=s1(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:r}=n,i=n.column;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:i,focusIndex:r,focusColumn:i})}onHomeOrEndKey(e){const t=e===ve.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,o=n.allCols,s=t?r.getFirstRow():r.getLastRow(),a=i.getRow(s);if(!a)return;const l=(t?o:[...o].reverse()).find(u=>!u.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:l,focusIndex:s,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:o,pageBounds:s,focusSvc:a,gos:l}=i;if(r!==!1){r?t.preventDefault():r===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:u,rowPinned:h}=e.getRowPosition();(h?u===0:u===s.getFirstRow())&&(l.get("headerHeight")===0||wh(i)?fg(i,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof iy&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||fg(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,o=r.getFocusedCell();if(!o)return!1;let s=cp(n,o);return!s&&(s=i.getRowByPosition(o),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,n){let r=e.editing;if(!r&&e instanceof iy){const s=e.rowCtrl;s&&(r=s.editing)}let i;return r?this.gos.get("editType")==="fullRow"?i=this.moveToNextEditingRow(e,t,n):i=this.moveToNextEditingCell(e,t,n):i=this.moveToNextCellNotEditing(e,t),i===null?i:i||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,n=null){var o;const r=e.cellPosition;e.eGui.focus(),e.stopEditing();const i=this.findNextCellToFocusOn(r,t,!0);return i===!1?null:i==null?!1:((o=this.beans.editSvc)==null||o.startEditing(i,null,!0,n),i.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const r=e.cellPosition,i=this.findNextCellToFocusOn(r,t,!0);if(i===!1)return null;if(i==null)return!1;const o=i.cellPosition,s=this.isCellEditable(r),a=this.isCellEditable(o),l=o&&r.rowIndex===o.rowIndex&&r.rowPinned===o.rowPinned,{editSvc:u,rowEditSvc:h}=this.beans;if(s&&(u==null||u.setFocusOutOnEditor(e)),!l){const f=e.rowCtrl;u==null||u.stopRowEditing(f);const p=i.rowCtrl;h==null||h.startEditing(p,void 0,void 0,n)}return a?(u==null||u.setFocusInOnEditor(i),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const n=this.beans.visibleCols.allCols;let r;e instanceof wx?r={...e.getRowPosition(),column:t?n[0]:yn(n)}:r=e.getFocusedCellPosition();const i=this.findNextCellToFocusOn(r,t,!1);if(i===!1)return null;if(i instanceof iy)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return ke(i)}findNextCellToFocusOn(e,t,n){let r=e;const i=this.beans,{cellNavigation:o,gos:s,focusSvc:a,rowRenderer:l,rangeSvc:u}=i;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=o.getNextTabbedCell(r,t);const h=s.getCallback("tabToNextCell");if(ke(h)){const b=h({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});if(b===!0)r=e;else{if(b===!1)return!1;r={rowIndex:b.rowIndex,column:b.column,rowPinned:b.rowPinned}}}if(!r)return null;if(r.rowIndex<0){const m=Ul(i);return a.focusHeaderPosition({headerPosition:{headerRowIndex:m+r.rowIndex,column:r.column},fromCell:!0}),null}const f=s.get("editType")==="fullRow";if(n&&!f&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);const p=cp(i,r);if(!p){const m=l.getRowByPosition(r);if(!m||!m.isFullWidth()||n)continue;return m}if(!o.isSuppressNavigable(p.column,p.rowNode))return p.setFocusedCellPosition(r),u==null||u.setRangeToCell(r),p}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n==null?void 0:n.getPinnedTopRow(e):t==="bottom"?n==null?void 0:n.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,o=!1;const s=this.beans,{cellNavigation:a,focusSvc:l,gos:u}=s;for(;i&&(i===n||!this.isValidNavigateCell(i));)u.get("enableRtl")?t===ve.LEFT&&(i=this.getLastCellOfColSpan(i)):t===ve.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=a.getNextCellToFocus(t,i),o=qn(i);if(o&&e&&e.key===ve.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const f=u.getCallback("navigateToNextCell");if(ke(f)){const m=f({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});ke(m)?i={rowPinned:m.rowPinned,rowIndex:m.rowIndex,column:m.column}:i=null}}if(!i)return;if(i.rowIndex<0){const f=Ul(s);l.focusHeaderPosition({headerPosition:{headerRowIndex:f+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const h=this.getNormalisedPosition(i);h?this.focusPosition(h):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){var r;if(!!((r=this.beans.spannedRowRenderer)!=null&&r.getCellByPosition(e)))return e;this.ensureCellVisible(e);const n=cp(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:o}=this.beans,s=n.allCols,a=r.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=i.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?yn(s):s[0])};this.focusPosition(u);const h=t??(l!=null&&$0e(u,l));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:h}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n==null||n.setRangeToCell(e)}isValidNavigateCell(e){return!!bx(this.beans,e)}getLastCellOfColSpan(e){const t=cp(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:yn(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=JZ(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&(n==null?void 0:n.sticky),{scrollFeature:i}=this.gridBodyCon;!r&&qn(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}};function s1(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var WTe={moduleName:"KeyboardNavigation",version:Ne,beans:[UTe,VTe,CTe],apiFunctions:{getFocusedCell:BTe,clearFocusedCell:HTe,setFocusedCell:$Te,setFocusedHeader:zTe,tabToNextCell:jTe,tabToPreviousCell:GTe}},qTe=class extends ye{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},KTe=class extends ye{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=(e==null?void 0:e.rowTop)??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},YTe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",XTe=class extends ye{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(rr(n,t),Qa(n,e))}},QTe=class extends ye{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=Ri(e,"print"),i=r?0:t.getColsLeftWidth(),o=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Fy(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:o}=n;let s=i;!s.length&&!o||(r&&(s=r({columns:s,viewportWidth:t})),!(!s||!s.length)&&(s=s.filter(a=>!hC(a)),this.setColsPinned(s,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new XTe(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:o,gos:s}=this.beans;if(!r.cols||!(e!=null&&e.length))return;if(Ri(s,"print")){Me(37);return}i==null||i.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(u=>{if(!u)return;const h=r.getCol(u);h&&h.getPinned()!==a&&(this.setColPinned(h,a),l.push(h))}),l.length&&(o.refresh(n),vJ(this.eventSvc,l,n)),i==null||i.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const i=()=>{const o=n?this.leftWidth:this.rightWidth;if(o==null)return;const s=o==0,a=e.hidden!==s,l=this.gos.get("enableRtl"),u=t.getScrollbarWidth(),f=t.verticalScrollShowing&&(l&&n||!l&&r)?o+u:o;e.comp.setPinnedContainerWidth(`${f}px`),e.comp.setDisplayed(!s),a&&(e.hidden=s,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:i}=this,o=Fy(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+i+e>o)if(o>r+i)e=o-r-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let i=!1;if(r<e)return{columns:[],hasLockedPinned:i};const{visibleCols:o}=this.beans,s=[...o.leftCols],a=[...o.rightCols];let l=0,u=0;const h=0,f=[];let p=r-h-e;for(;(u<s.length||l<a.length)&&p>0;){if(l<a.length){const m=a[l++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),f.push(m)}if(u<s.length&&p>0){const m=s[u++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),f.push(m)}}return{columns:f,hasLockedPinned:i}}},ZTe={moduleName:"PinnedColumn",version:Ne,beans:[QTe],css:[YTe]},JTe=class extends ye{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Ei(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=vr(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),OZ(n,"polite"),Kbe(n,"additions text"),qbe(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(qo(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},eAe={moduleName:"Aria",version:Ne,beans:[JTe]};function tAe(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function nAe(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function rAe(e){var t;(t=e.overlays)==null||t.hideOverlay()}var iAe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",Cee=class extends Kn{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=et,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(iAe)}handleKeyDown(e){if(e.key!==ve.TAB||e.defaultPrevented||Zl(e))return;const t=this.beans;if(nf(t,this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:yn(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=fg(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:o}=hS;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(o,t.print)}postConstruct(){this.createManagedBean(new R2(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const i=lr(this.beans);i&&!ZZ(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,r)){const o=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:s})=>{var a;(a=o.refresh)==null||a.call(o,st(this.gos,{...s??{}}))})}n&&this.isGridFocused()&&$h(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var r;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),qo(this.eOverlayWrapper),(r=t==null?void 0:t.focus)==null||r.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=lr(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},oAe={selector:"AG-OVERLAY-WRAPPER",component:Cee},sAe=class extends ye{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=Hi(this.gos),this.isServerSide=!this.isClientSide&&ef(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Me(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return oAe}getOverlayWrapperCompClass(){return Cee}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:o}}=this;let s=this.gos.get("loading");s!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&s===void 0&&!r.get("suppressLoadingOverlay")&&(s=!r.get("columnDefs")||!i.ready||!r.get("rowData")&&t),s?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!r.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(Xwe(this.beans.userCompFactory,st(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(Qwe(this.beans.userCompFactory,st(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var i;const r=(e==null?void 0:e.newAgStackInstance())??null;(i=this.eWrapper)==null||i.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const n=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(n==null?void 0:n.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},aAe={moduleName:"Overlay",version:Ne,userComponents:{agLoadingOverlay:jSe,agNoRowsOverlay:GSe},apiFunctions:{showLoadingOverlay:tAe,showNoRowsOverlay:nAe,hideOverlay:rAe},beans:[sAe]},lAe=class extends ye{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=oCe(),Bh(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Bh(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},uAe=400,cAe=class extends ye{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},r=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Wc(this.gos)?n():r()}),Wc(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:r})=>{(!r&&n||r&&!n)&&this.redrawRows()});const{stickyRowSvc:e,gos:t}=this.beans;if(e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Ri(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new dAe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var r;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=((r=this.cachedRowCtrls)==null?void 0:r.getEntries())??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(u=>{u.column===t&&l(u)})},r=()=>{n(l=>l.onLeftChanged())},i=()=>{n(l=>l.onWidthChanged())},o=()=>{n(l=>l.onFirstRightPinnedChanged())},s=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",s),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",s),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Ri(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{var i;const r=(i=n.getCellCtrl(e,!0))==null?void 0:i.eGui;r&&t.push(r)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:n,beans:r,printLayout:i}=this,o=Object.fromEntries(e.map(a=>[a.rowNode.id,a]));n==null||n.forEachPinnedRow(t,(a,l)=>{const u=e[l];u&&n.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),a.id in o?(e[l]=o[a.id],delete o[a.id]):e[l]=new wx(a,r,!1,!1,i)});const s=(t==="top"?n==null?void 0:n.getPinnedTopRowCount():n==null?void 0:n.getPinnedBottomRowCount())??0;e.length=s}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var n,r;if(e.sticky)(n=this.stickyRowFeature)==null||n.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const i=o=>{const s=o[e.rowIndex];s&&s.rowNode===e&&(s.destroyFirstPass(),s.destroySecondPass(),o[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(t==null)return null;const n=lr(this.beans),r=lx(this.gos,n,vx),i=lx(this.gos,n,jy);return r||i?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&Op(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:o}=this;if(o){o.checkStickyRows();const s=o.extraTopHeight+o.extraBottomHeight;s&&this.updateContainerHeights(s)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var r;const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(r=this.stickyRowFeature)==null||r.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(Fc(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusSvc.restoreFocusedCell(e,()=>{this.onCellFocusChanged(st(this.gos,{rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),o=i.length;for(let s=0;s<o;s++)e.push(i[s])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.rowNode,!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getRowCtrls(e){const t=vF(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.rowNode;return yF(i,t)})}getCellCtrls(e,t){let n;ke(t)&&(n={},t.forEach(i=>{const o=this.colModel.getCol(i);ke(o)&&(n[o.getId()]=!0)}));const r=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(o=>{const s=o.column.getId();n&&!n[s]||r.push(o)})}),r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var n;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(n=this.stickyRowFeature)==null||n.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){var l;const{afterScroll:t}=e;let n;const r=this.stickyRowFeature;r&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(r){s=r.checkStickyRows();const u=r.extraTopHeight+r.extraBottomHeight;u&&this.updateContainerHeights(u)}const a=this.firstRenderedRow!==i||this.lastRenderedRow!==o;if(!(t&&!s&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!s),n!=null)){const u=this.getCellToRestoreFocusToAfterRefresh();n!=null&&u==null&&((l=this.beans.animationFrameSvc)==null||l.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(o=>n[o]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!n[o]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let i=this.firstRenderedRow;i<=this.lastRenderedRow;i++)t.push(i);const n=i=>{const o=i.rowNode.rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(o)};for(const i of Object.values(this.rowCtrlsByRowIndex))n(i);if(e)for(const i of Object.values(e))n(i);t.sort((i,o)=>i-o);const r=[];for(let i=0;i<t.length;i++){const o=t[i],s=this.rowModel.getRow(o);s&&!s.sticky&&r.push(o)}return r}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t),r.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,n)}),e){const{animationFrameSvc:i}=this.beans;i&&n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=vF(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!yF(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,o=this.rowCtrlsByRowIndex[e];if(o||(i=this.rowModel.getRow(e),ke(i)&&ke(t)&&t[i.id]&&i.alreadyRendered&&(o=t[i.id],t[i.id]=null)),!o)if(i||(i=this.rowModel.getRow(e)),ke(i))o=this.createRowCon(i,n,r);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const i=r.instanceId;this.zombieRowCtrls[i]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[i]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(r=>r()),uAe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=bh(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const h=this.getRowBufferInPixels(),f=this.ctrlsSvc.getScrollFeature(),p=this.gos.get("suppressRowVirtualisation");let m=!1,b,C;do{const M=t.getPixelOffset(),{pageFirstPixel:A,pageLastPixel:D}=t.getCurrentPagePixelRange(),_=e.divStretchOffset,I=f.getVScrollPosition(),O=I.top,F=I.bottom;p?(b=A+_,C=D+_):(b=Math.max(O+M-h,A)+_,C=Math.min(F+M+h,D)+_),this.firstVisibleVPixel=Math.max(O+M,A)+_,this.lastVisibleVPixel=Math.min(F+M,D)+_,m=this.ensureAllRowsInRangeHaveHeightsCalculated(b,C)}while(m);let y=n.getRowIndexAtPixel(b),x=n.getRowIndexAtPixel(C);const R=t.getFirstRow(),T=t.getLastRow();y<R&&(y=R),x>T&&(x=T),r=y,i=x}const o=Ri(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);o&&!s&&i-r>a&&(i=r+a);const l=r!==this.firstRenderedRow,u=i!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Eu(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var a,l;const n=(a=this.pinnedRowModel)==null?void 0:a.ensureRowHeightsValid(),r=(l=this.stickyRowFeature)==null?void 0:l.ensureRowHeightsValid(),{pageBounds:i,rowModel:o}=this,s=o.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(s||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||s||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const r=e.rowNode,i=this.focusSvc.isRowNodeFocused(r),o=e.editing,s=r.detail;return i||o||s?!!this.isRowPresent(r):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowPresent(e))??!0:!1}createRowCon(e,t,n){var a;const r=((a=this.cachedRowCtrls)==null?void 0:a.getRow(e))??null;if(r)return r;const i=this.gos.get("suppressAnimationFrame"),o=n&&!i&&!this.printLayout&&!!this.beans.animationFrameSvc;return new wx(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},dAe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],ma(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],ma(this.entriesList,e)}getEntries(){return this.entriesList}};function vF(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}),t}function yF(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var hAe=class extends ye{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Ua(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ua(e))}doFullSort(e,t){const n=e.map((r,i)=>({currentPos:i,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let o=0,s=e.length;o<s;o++){const a=e[o],l=a.sort==="desc",u=this.getValue(r,a.column),h=this.getValue(i,a.column);let f;const p=this.getComparator(a,r);if(p?f=p(u,h,r,i,l):f=fCe(u,h,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const o=this.beans.colModel.getColDefCol(i);if(o)return o.getColDef().comparator}getValue(e,t){var a,l;const{valueSvc:n,colModel:r,showRowGroupCols:i,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(b2(o,r.isPivotActive())){const f=(a=e.allLeafChildren)==null?void 0:a[0];return f?n.getValue(t,f,!1):void 0}const h=i==null?void 0:i.getShowRowGroupCol(t.getId());return h?(l=e.groupData)==null?void 0:l[h.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function fAe(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}function mv(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var pAe=`<span class="ag-sort-indicator-container">
        ${mv("Order","order")}
        ${mv("Asc","ascending-icon")}
        ${mv("Desc","descending-icon")}
        ${mv("Mixed","mixed-icon")}
        ${mv("None","none-icon")}
    </span>`,V2=class extends Kn{constructor(e){super(),this.eSortOrder=et,this.eSortAsc=et,this.eSortDesc=et,this.eSortMixed=et,this.eSortNone=et,e||this.setTemplate(pAe)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=Rs(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:o}=this,s=o.sortSvc.getDisplaySortForColumn(r);if(e&&rr(e,s==="asc",{skipAriaHidden:!0}),t&&rr(t,s==="desc",{skipAriaHidden:!0}),n){const a=!r.getColDef().unSortIcon&&!i.get("unSortIcon"),l=s==null;rr(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;Ua(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const r=t.sortSvc.getDisplaySortForColumn(n)==="mixed";rr(e,r,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,o=r.some(a=>n.getDisplaySortIndexForColumn(a)??!1),s=i>=0&&o;rr(e,s,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():qo(e)}},gAe={selector:"AG-SORT-INDICATOR",component:V2},Gy=["asc","desc",null],mAe=class extends ye{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){var h;t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:o}=this.beans,s=Ua(i);let a=[e];if(s&&e.getColDef().showRowGroup){const f=(h=o==null?void 0:o.getSourceColumnsForGroupColumn)==null?void 0:h.call(o,e),p=f==null?void 0:f.filter(m=>m.isSortable());p&&(a=[e,...p])}a.forEach(f=>this.setColSort(f,t,r));const l=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),u=[];if(!l){const f=this.clearSortBarTheseColumns(a,r);u.push(...f)}this.updateSortIndex(e),u.push(...a),this.dispatchSortChangedEvents(r,u)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=Ua(t),o=r==null?void 0:r.getShowRowGroupCol(e.getId()),s=i&&o||e,a=this.getColumnsWithSortingOrdered();n.getAllCols().forEach(h=>this.setColSortIndex(h,null));const l=a.filter(h=>i&&h.getColDef().showRowGroup?!1:h!==s);(s.getSort()?[...l,s]:l).forEach((h,f)=>this.setColSortIndex(h,f))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.beans.colModel.getAllCols().filter(n=>!!n.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.getAllCols().forEach(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Gy,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=t.getAllCols().filter(u=>!!u.getSort());if(t.isPivotMode()){const u=Ua(e);i=i.filter(h=>{const f=!!h.getAggFunc(),p=!h.isPrimary(),m=u?n==null?void 0:n.getShowRowGroupCol(h.getId()):h.getColDef().showRowGroup;return f||p||m})}const o=(r==null?void 0:r.columns.filter(u=>!!u.getSort()))??[],s={};i.forEach((u,h)=>s[u.getId()]=h),i.sort((u,h)=>{const f=u.getSortIndex(),p=h.getSortIndex();if(f!=null&&p!=null)return f-p;if(f==null&&p==null){const m=s[u.getId()],b=s[h.getId()];return m>b?1:-1}else return p==null?-1:1});const a=Ua(e)&&!!o.length;a&&(i=[...new Set(i.map(u=>(n==null?void 0:n.getShowRowGroupCol(u.getId()))??u))]);const l=new Map;return i.forEach((u,h)=>l.set(u,h)),a&&o.forEach(u=>{const h=n.getShowRowGroupCol(u.getId());l.set(u,l.get(h))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[n,r])=>t-r).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Ua(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var s;const t=(s=this.beans.showRowGroupCols)==null?void 0:s.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSort();return r.every(a=>a.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=new Date().getTime()}}),n&&e.addManagedElementListeners(n,{click:o=>{const s=t.isMoving(),l=new Date().getTime()-r<50;s||l||this.progressSortFromEvent(t,o)}});const i=()=>{var s;const o=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",o==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",o==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){const a=(s=this.beans.showRowGroupCols)==null?void 0:s.getSourceColumnsForGroupColumn(t),u=!(a==null?void 0:a.every(h=>t.getSort()==h.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",u)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),r!==void 0?r!==null&&(e.sortIndex=r):i!==null&&(e.sortIndex=i)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new V2(e)}getSortIndicatorSelector(){return gAe}},wee={moduleName:"Sort",version:Ne,beans:[mAe,hAe],apiFunctions:{onSortChanged:fAe},userComponents:{agSortIndicator:V2},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},vAe=class extends ye{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Bh(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Ip(e.source))}}};function yAe(e){var t;(t=e.valueCache)==null||t.expire()}function bAe(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,o=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(qn(o))return null;const s=e.valueSvc.getValueForDisplay(o,r);return i?e.valueSvc.formatValue(o,r,s)??Jl(s,!0):s}var xx=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,o=r.length;i<o;++i){const s=r[i];s.childrenAfterGroup?this.depthFirstSearchEverything(s,t,n):n&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(r=>this.nodeIdsToColumns[n.id][r.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],o=this.mapToItems[n.parent.id];o.children||(o.children=[]),o.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},CAe="paste",wAe=class extends ye{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Hi(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===CAe||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],o=this.clientSideRowModel,s=o==null?void 0:o.rootNode;if(s&&!r.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new xx(a,s);l.addParentNode(r.parent,[e.column]),o.doAggregate(l),l.forEachChangedNodeDepthFirst(u=>{i.push(u)})}n.refreshCells({rowNodes:i})}},SAe=class extends ye{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);bn(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return bn(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},xAe=class extends ye{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},EAe={moduleName:"ValueCache",version:Ne,beans:[xAe],apiFunctions:{expireValueCache:yAe}},RAe={moduleName:"Expression",version:Ne,beans:[SAe]},TAe={moduleName:"ChangeDetection",version:Ne,beans:[wAe]},AAe={moduleName:"CellApi",version:Ne,apiFunctions:{getCellValue:bAe}},PAe=class extends ye{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=ef(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const n=t.leafGroup&&this.colModel.isPivotMode(),r=t.group&&t.expanded&&!t.footer&&!n,i=this.gos.get("groupSuppressBlankHeader");if(!r||i)return this.getValue(e,t);let o=!1;const s=this.gos.get("groupTotalRow");typeof s!="function"?o=!!s:o=!!this.gos.getCallback("groupTotalRow")({node:this});const a=r&&o;return this.getValue(e,t,a)}getValue(e,t,n=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),i=r.field,o=e.getColId(),s=t.data;let a;const l=t.groupData&&t.groupData[o]!==void 0,u=!n&&t.aggData&&t.aggData[o]!==void 0,h=this.isSsrm&&n&&!!e.getColDef().aggFunc,f=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&u?a=t.aggData[o]:this.isTreeData&&r.valueGetter?a=this.executeValueGetter(r.valueGetter,s,e,t):this.isTreeData&&i&&s?a=ry(s,i,e.isFieldContainsDots()):l?a=t.groupData[o]:u?a=t.aggData[o]:r.valueGetter?a=this.executeValueGetter(r.valueGetter,s,e,t):f?a=ry(s,t.field,e.isFieldContainsDots()):i&&s&&!h&&(a=ry(s,i,e.isFieldContainsDots())),this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const p=a.substring(1);a=this.executeValueGetter(p,s,e,t)}if(a==null){const p=this.getOpenedGroup(t,e);if(p!=null)return p}return a}parseValue(e,t,n,r){var s;const i=e.getColDef(),o=i.valueParser;if(ke(o)){const a=st(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof o=="function"?o(a):(s=this.expressionSvc)==null?void 0:s.evaluate(o,a)}return n}getDeleteValue(e,t){return ke(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,n,r,i=!0){let o=null,s;const a=e.getColDef();if(r?s=r:i&&(s=a.valueFormatter),s){const l=st(this.gos,{value:n,node:t,data:t?t.data:null,colDef:a,column:e});typeof s=="function"?o=s(l):o=this.expressionSvc?this.expressionSvc.evaluate(s,l):null}else if(a.refData)return a.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const r=t.getColDef().showRowGroup;let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&(r===!0||r===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}setValue(e,t,n,r){var h,f;const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;qn(e.data)&&(e.data={});const{field:o,valueSetter:s}=i.getColDef();if(qn(o)&&qn(s))return Me(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return Me(135),!1;const a=st(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e),newValue:n,colDef:i.getColDef(),column:i});a.newValue=n;let l;if(ke(s)?typeof s=="function"?l=s(a):l=(h=this.expressionSvc)==null?void 0:h.evaluate(s,a):l=this.setValueUsingField(e.data,o,n,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),(f=this.valueCache)==null||f.onDataChanged();const u=this.getValue(i,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:u,value:u,source:r}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const o=t.split(".");let s=e;for(;o.length>0&&s;){const a=o.shift();o.length===0?(i=s[a]===n,i||(s[a]=n)):s=s[a]}}return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),o=this.valueCache.getValue(r,i);if(o!==void 0)return o;const s=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,s),s}executeValueGetterWithoutValueCache(e,t,n,r){var s;const i=st(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let o;return typeof e=="function"?o=e(i):o=(s=this.expressionSvc)==null?void 0:s.evaluate(e,i),o}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const o=st(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(o)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&Me(121)),i}},_Ae={moduleName:"CommunityCore",version:Ne,beans:[RTe,Rxe,gRe,bwe,lAe,OEe,bTe,_Te,mwe,KTe,qTe,cAe,PAe,xTe,yTe,ETe,vRe,vAe,cRe,dRe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Txe,destroy:Axe,isDestroyed:Pxe,getGridOption:_xe,setGridOption:Oxe,updateGridOptions:eee},dependsOn:[sRe,lEe,gEe,wee,MTe,IEe,FTe,aAe,TAe,kTe,WTe,ZTe,eAe,NTe,pRe,aRe,RAe]},B2=class zd{static applyGlobalGridOptions(t){if(!zd.gridOptions)return{...t};let n={};return Eo(n,zd.gridOptions,!0,!0),zd.mergeStrategy==="deep"?Eo(n,t,!0,!0):n={...n,...t},zd.gridOptions.context&&(n.context=zd.gridOptions.context),t.context&&(zd.mergeStrategy==="deep"&&n.context&&Eo(t.context,n.context,!0,!0),n.context=t.context),n}};B2.gridOptions=void 0;B2.mergeStrategy="shallow";var See=B2;function OAe(e){var t;return(t=See.gridOptions)==null?void 0:t[e]}var DAe=1,IAe=class{create(e,t,n,r,i,o){const s=See.applyGlobalGridOptions(t),a=s.gridId??String(DAe++),l=s.rowModelType??"clientSide",u=this.getRegisteredModules(i,a,l),h=this.createBeansList(l,u,a),f=this.createProvidedBeans(e,s,i);if(!h)return;const p={providedBeanInstances:f,beanClasses:h,gridId:a,beanInitComparator:wxe,beanDestroyComparator:Sxe,derivedBeans:[bxe],destroyCallback:o},m=new h0e(p);return this.registerModuleFeatures(m,u),n(m),m.getBean("syncSvc").start(),r&&r(m),m.getBean("gridApi")}getRegisteredModules(e,t,n){var r;return $y(_Ae,void 0),(r=e==null?void 0:e.modules)==null||r.forEach(i=>$y(i,t)),s0e(t,n)}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");t.forEach(i=>{n.registerModule(i);const o=i.apiFunctions;o&&Object.keys(o).forEach(a=>{r==null||r.addFunction(a,o[a])})})}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;qn(r)&&(r=new ZJ);const i={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!i){tF(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!EJ(i,n,e)){tF(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:i,gridScoped:x2(),gridId:n,rowModelType:e},`Missing module ${i}Module for rowModelType ${e}. 
If upgrading from before v33, see ${vh}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const o=new Set;return t.forEach(s=>{var a;return(a=s.beans)==null?void 0:a.forEach(l=>o.add(l))}),Array.from(o)}};function ul(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function hR(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function xee(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var MAe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],FAe=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel"],kAe=[...MAe,...FAe],LAe=class extends ye{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(r,i,o)=>t({key:r,defaultValue:i,variableValues:o});const n=e.get("localeText");return(r,i,o)=>{let s=n&&n[r];if(s&&o&&o.length){let a=0;for(;!(a>=o.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",o[a++])}return s??i}}},NAe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer"],VAe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef"],BAe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Eee=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],HAe=["theme","rowSelection"],$Ae=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],Ree=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],jAe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],GAe=[...BAe,...VAe,...NAe,...Eee,...jAe,...Ree,...$Ae,...HAe],zAe=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);return t==null||t.forEach(o=>{this.createMethod(i,o,!0)}),n==null||n.forEach(o=>{this.createMethod(i,o,!1)}),i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&Me(49,{methodName:t}),null)}}},UAe=class extends om{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Jl(t,!0)}};function Tee(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i,addSequentialWeight:o}=e;let s=n.map((u,h)=>({value:u,relevance:qAe(t.toLowerCase(),u.toLocaleLowerCase(),o),idx:h}));if(s.sort((u,h)=>h.relevance-u.relevance),r&&(s=s.filter(u=>u.relevance!==0)),s.length>0&&i&&i>0){const h=s[0].relevance*i;s=s.filter(f=>h-f.relevance<0)}const a=[],l=[];for(const u of s)a.push(u.value),l.push(u.idx);return{values:a,indices:l}}function WAe(e){const t=[],n=e.length;for(let r=1;r<=n;r++)for(let i=0;i<=n-r;i++){const o=i+r-1;t.push(e.slice(i,o+1))}return t}function qAe(e,t,n=!1){const r=e.replace(/\s/g,""),i=t.replace(/\s/g,""),o=r.length,s=i.length,a=new Array(o+1).fill(null).map(()=>new Array(s+1).fill(0));for(let f=0;f<=o;f+=1)a[f][0]=f;for(let f=0;f<=s;f+=1)a[0][f]=f;for(let f=1;f<=o;f++)for(let p=1;p<=s;p++)r[f-1]===i[p-1]?a[f][p]=a[f-1][p-1]:a[f][p]=1+Math.min(a[f][p-1],Math.min(a[f-1][p],a[f-1][p-1]));const l=a[o][s];let h=Math.max(o,s)-l;if(n){const f=WAe(r);for(let p=0;p<f.length;p++){const m=f[p];i.indexOf(m)!==-1&&(h+=1,h*=m.length)}}return h}function KAe(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var YAe=class extends ye{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},XAe=class{constructor(e){this.groupColumns=[];const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:o,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=o,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,i){const s=(!this.gos.get("groupHideOpenParents")||i.footer)&&this.shouldRenderGroupSummaryCell(i,e,t)?this.createValueForGroupNode(e,i):this.valueSvc.getValue(e,i);return this.processCell({accumulatedRowIndex:n,rowNode:i,column:e,value:s,processCellCallback:this.processCellCallback,type:r})}shouldRenderGroupSummaryCell(e,t,n){var s,a;if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((s=e.groupData)==null?void 0:s[t.getId()])!==void 0||ef(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const l=t.getColDef();return l==null||l.showRowGroup===!0||l.showRowGroup===((a=this.rowGroupColsSvc)==null?void 0:a.columns[0].getId())}}const o=b2(this.gos,this.colModel.isPivotMode());return n===0&&o}getHeaderName(e,t){return e?e(st(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(st(this.gos,{column:e,node:t}));const n=this.gos.get("treeData"),r=a=>{var u;if(n)return a.key;const l=(u=a.groupData)==null?void 0:u[e.getId()];return!l||!a.rowGroupColumn||a.rowGroupColumn.getColDef().useValueFormatterForExport===!1?l:this.valueSvc.formatValue(a.rowGroupColumn,a,l)??l},i=t.footer,o=[r(t)];if(!ACe(this.gos))for(;t.parent;)t=t.parent,o.push(r(t));const s=o.reverse().join(" -> ");return i?`Total ${s}`:s}processCell(e){const{accumulatedRowIndex:t,rowNode:n,column:r,value:i,processCellCallback:o,type:s}=e;return o?{value:o(st(this.gos,{accumulatedRowIndex:t,column:r,node:n,value:i,type:s,parseValue:a=>this.valueSvc.parseValue(r,n,a,this.valueSvc.getValue(r,n)),formatValue:a=>this.valueSvc.formatValue(r,n,a)??a}))??""}:r.getColDef().useValueFormatterForExport!==!1?{value:i??"",valueFormatted:this.valueSvc.formatValue(r,n,i)}:{value:i??""}}};function QAe(e,t){const n=document.defaultView||window;if(!n){Me(52);return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var ZAe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},go="clientSide",eo="serverSide",Kf="infinite",JAe={onGroupExpandedOrCollapsed:[go],refreshClientSideRowModel:[go],isRowDataEmpty:[go],forEachLeafNode:[go],forEachNodeAfterFilter:[go],forEachNodeAfterFilterAndSort:[go],resetRowHeights:[go],applyTransaction:[go],applyTransactionAsync:[go],flushAsyncTransactions:[go],getBestCostNodeSelection:[go],getServerSideSelectionState:[eo],setServerSideSelectionState:[eo],applyServerSideTransaction:[eo],applyServerSideTransactionAsync:[eo],applyServerSideRowData:[eo],retryServerSideLoads:[eo],flushServerSideAsyncTransactions:[eo],refreshServerSide:[eo],getServerSideGroupLevelState:[eo],refreshInfiniteCache:[Kf],purgeInfiniteCache:[Kf],getInfiniteRowCount:[Kf],isLastRowIndexKnown:[Kf,eo],expandAll:[go,eo],collapseAll:[go,eo],onRowHeightChanged:[go,eo],setRowCount:[Kf,eo],getCacheBlockState:[Kf,eo]},ePe={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function tPe(e,t,n){const r=ePe[e];if(r){const{version:o,new:s,old:a,message:l}=r,u=a??e;return(...h)=>{const f=s?`Please use ${s} instead. `:"";return ny(`Since ${o} api.${u} is deprecated. ${f}${l??""}`),t.apply(t,h)}}const i=JAe[e];return i?(...o)=>{const s=n.rowModel.getType();if(!i.includes(s)){_p(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,o)}:t}var Aee={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},a1=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],nPe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:a1,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...a1,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...a1,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},rPe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function iPe(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(r=>{const i=nPe[r];i?i.forEach(o=>{const s=rPe[o];(!s||s===t)&&n.push(o)}):n.push(r)}),n}var kp={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar"},oPe=e=>{const t=e.map(r=>`import { ${ay(r)} } from '${Aee[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>ay(r,!0)).join(", ")} ]); 

For more info see: ${vh}/modules/`};function ay(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function sPe(e,t){const n=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines");let r="";return!(globalThis==null?void 0:globalThis.agCharts)&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>Aee[o])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}var $U=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:o,isUmd:s})=>{const a=iPe(t,i),l=typeof e=="string"?e:cPe[e];if(s)return sPe(l,a);const u=a.filter(p=>p==="IntegratedCharts"||p==="Sparklines"),h=u.length>0?`${u.map(p=>ay(p)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(p=>ay(p)).join(", "):ay(a[0])} is not registered${n?" for gridId: "+r:""}. ${h} Check if you have registered the module:
`}
${oPe(a)}`+(o?` 

${o}`:"")},jU=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,aPe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,lPe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${aPe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:({methodName:e})=>`AnimationFrameService.${e} called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r==null?void 0:r.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const i=[],o=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(r??[])],s=Tee({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),s.length>0&&i.push(`         Did you mean: [${s.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${vh}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:$U,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${vh}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>jU("IntegratedChartsModule"),258:()=>jU("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>$U({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:kp[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${vh}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection"};function uPe(e,t){const n=lPe[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),o=`
See ${KZ(e,t)}`;return Array.isArray(r)?r.concat(o):[r,o]}var cPe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},dPe=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),hPe=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const n=kp[e];if(n)return{module:n}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=kp[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>Pee(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=kp[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return Fc(262);if(e.smallLeft)return Fc(263);if(e.smallRight)return Fc(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var n;const t=["columnsMenuTab","generalMenuTab"];return(n=e.menuTabs)!=null&&n.some(r=>t.includes(r))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const n=t.filter(r=>!Gy.includes(r));if(n.length>0)return`sortingOrder must be an array with elements from [${Gy.map(ax).join()}], currently it includes [${n.map(ax).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:n,suppressRowTransform:r,enableCellSpan:i,pagination:o,rowDragEntireRow:s,enableCellTextSelection:a})=>typeof t=="object"&&(t==null?void 0:t.mode)==="singleRow"&&t!=null&&t.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":n?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":i?o?"colDef.spanRows is not supported with pagination.":s?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),fPe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},pPe=()=>Object.keys(fPe),Pee=()=>({objectName:"colDef",allProperties:pPe(),docsUrl:"column-properties/",deprecations:dPe(),validations:hPe()}),gPe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function La(e,t,n,r=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=n&&t<=r?null:r===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${n}`:`${e}: value should be between ${n} and ${r}`:`${e}: value should be a number`}var mPe=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:n}){return La("autoSizePadding",n,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return La("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return La("cacheOverflowSize",n,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:n=>{const r=n.domLayout,i=["autoHeight","normal","print"];return r&&!i.includes(r)?`domLayout must be one of [${i.join()}], currently it's ${r}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return Fc(262);if(n.smallLeft)return Fc(263);if(n.smallRight)return Fc(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return La("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return La("keepDetailRowsCount",n,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:n}){return La("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:n}){return La("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return La("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const i=r.filter(o=>!Gy.includes(o));if(i.length>0)return`sortingOrder must be an array with elements from [${Gy.map(ax).join()}], currently it includes [${i.map(ax).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:i,getDataPath:o}=n;return!i&&!o?"treeData requires either 'treeDataChildrenField' or 'getDataPath' in the clientSide row model.":i&&o?"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.":null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},treeDataChildrenField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return La("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return La("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"}},t={};return Ree.forEach(n=>{t[n]={expectedType:"boolean"}}),Eee.forEach(n=>{t[n]={expectedType:"number"}}),Eo(t,e),t},vPe=()=>({objectName:"gridOptions",allProperties:[...GAe,...kAe.map(e=>nJ(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:gPe(),validations:mPe()}),yPe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},bPe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},CPe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),wPe={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},SPe=class extends ye{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,gCe(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&ZAe[t]&&Me(22,{key:t})}processGridOptions(e){this.processOptions(e,vPe())}validateApiFunction(e,t){return tPe(e,t,this.beans)}missingUserComponent(e,t,n,r){const i=kp[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):Me(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}checkRowEvents(e){EPe.has(e)&&Me(10,{eventType:e})}validateIcon(e){if(CPe.has(e)&&Me(43,{iconName:e}),yPe[e])return;const t=bPe[e];if(t){bn(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:x2(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Me(134,{iconName:e})}validateMenuItem(e){const t=wPe[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!kp[e]}validateColDef(e,t,n){var r;(n||!((r=this.beans.dataTypeSvc)!=null&&r.isColPendingInference(t)))&&this.processOptions(e,Pee())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:o,objectName:s,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(r)],i,s,a);const l=new Set,u=f=>{const p=n[f];if(p)if(typeof p=="function"){const m=p(e,this.gridOptions,this.beans);if(!m)return;if("objectName"in m){const b=e[f];if(Array.isArray(b)){b.forEach(C=>{this.processOptions(C,m)});return}this.processOptions(e[f],m);return}return m}else return p;else return};Object.keys(e).forEach(f=>{const p=r[f];if(p){const{message:M,version:A}=p;l.add(`As of v${A}, ${String(f)} is deprecated. ${M??""}`)}const m=e[f];if(m==null||m===!1)return;const b=u(f);if(!b)return;const{module:C,dependencies:y,validate:x,supportedRowModels:R,expectedType:T}=b;if(T){const M=typeof m;if(M!==T){l.add(`${String(f)} should be of type '${T}' but received '${M}' (${m}).`);return}}if(R){const M=this.gridOptions.rowModelType??"clientSide";if(!R.includes(M)){l.add(`${String(f)} is not supported with the '${M}' row model. It is only valid with: ${R.join(", ")}.`);return}}if(C){const M=Array.isArray(C)?C:[C];let A=!0;if(M.forEach(D=>{this.gos.assertModuleRegistered(D,String(f))||(A=!1)}),!A)return}if(y){const M=this.checkForRequiredDependencies(f,y,e);if(M){l.add(M);return}}if(x){const M=x(e,this.gridOptions,this.beans);if(M){l.add(M);return}}}),l.size>0&&l.forEach(f=>{ny(f)})}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([o,s])=>{const a=n[o];return!s.required.includes(a)});return i.length===0?null:i.map(([o,s])=>`'${String(e)}' requires '${o}' to be one of [${s.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${s.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,i){const o=["__ob__","__v_skip","__metadata__"],s=xPe(Object.getOwnPropertyNames(e),[...o,...t,...n],n),a=Object.keys(s);for(const l of a){const u=s[l];let h=`invalid ${r} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;n.includes("context")&&(h+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),ny(h)}if(a.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);ny(`to see all the valid ${r} properties please check: ${l}`)}}getConsoleMessage(e,t){return uPe(e,t)}};function xPe(e,t,n){const r={},i=e.filter(o=>!t.some(s=>s===o));return i.length>0&&i.forEach(o=>r[o]=Tee({inputValue:o,allSuggestions:n}).values),r}var EPe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),RPe={moduleName:"Validation",version:Ne,beans:[SPe]};function _ee(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var TPe=class extends ye{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var n;const t=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(o=>{const s=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,a=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return s||a}):r.childrenAfterFilter=r.childrenAfterGroup,_ee(r)};if(this.doingTreeDataFiltering()){const r=(o,s)=>{if(o.childrenAfterGroup)for(let a=0;a<o.childrenAfterGroup.length;a++){const l=o.childrenAfterGroup[a],u=s||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(o.childrenAfterGroup[a],u):n(l,u)}n(o,s)},i=o=>r(o,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},APe=class extends D2{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,r,i){this.comp=e;const o=fC(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o),o.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(o)}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return st(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Rs("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new im(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();aR(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var s;const{beans:t}=this;if(lr(t)===this.eGui)return;const i=nf(t,this.eGui,null,e.shiftKey);if(i){(s=t.headerNavigation)==null||s.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ve.UP:case ve.DOWN:t||e.preventDefault();case ve.LEFT:case ve.RIGHT:if(t)return;e.stopPropagation();case ve.ENTER:t&&$h(this.eGui)&&e.preventDefault();break;case ve.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&mh(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const i=this.lastFocusEvent,o=!!(i&&i.key===ve.TAB);if(i&&o){const s=i.shiftKey;$h(this.eGui,s)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new O2(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!Ho(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,n=r=>{if((r==null?void 0:r.source)==="filterDestroyed"&&!this.isAlive())return;const i=this.comp.getFloatingFilterComp();i&&i.then(o=>{if(o){const s=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=r?{...r,columns:r.columns??[],source:r.source==="api"?"api":"columnFilter"}:null;o.onParentModelChanged(s,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),t!=null&&t.isFilterActive(this.column)&&n(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var o;const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.active?(o=this.beans.filterManager)==null?void 0:o.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,i=this.comp.getFloatingFilterComp();!i||!r?this.updateCompDetails(e,r,n):i.then(s=>{var a;!s||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,n):this.updateFloatingFilterParams(r)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var n;if(!e)return;const t=e.params;(n=this.comp.getFloatingFilterComp())==null||n.then(r=>{r!=null&&r.refresh&&typeof r.refresh=="function"&&r.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function PPe(e,t){var r;const n=e.colModel.getCol(t);if(!n){bn(12,{colKey:t});return}(r=e.menuSvc)==null||r.showColumnMenu({column:n,positionBy:"auto"})}function _Pe(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var OPe={moduleName:"SharedMenu",version:Ne,beans:[$Se],apiFunctions:{showColumnMenu:PPe,hidePopupMenu:_Pe}},DPe=0,IPe=200,MPe=class extends ye{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:r,node:i,event:o}=e,s=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const u=()=>{const h=this.keepXYWithinBounds(n,s.top-a.top,0),f=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${f}px`,l=!0);const m=a.right-a.left-f;let b;return this.gos.get("enableRtl")?(b=y(),b<0&&(b=C(),this.setAlignedStyles(n,"left")),b>m&&(b=0,this.setAlignedStyles(n,"right"))):(b=C(),b>m&&(b=y(),this.setAlignedStyles(n,"right")),b<0&&(b=0,this.setAlignedStyles(n,"left"))),{x:b,y:h};function C(){return s.right-a.left-2}function y(){return s.left-a.left-f}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:u,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,o instanceof MouseEvent?o:void 0,r,i)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:o,alignSide:s="left",position:a="over",column:l,rowNode:u,type:h}=e,f=o.getBoundingClientRect(),p=this.getParentRect();this.setAlignedTo(o,t);const m=()=>{let b=f.left-p.left;s==="right"&&(b-=t.offsetWidth-f.width);let C;return a==="over"?(C=f.top-p.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,f,p,e.nudgeY||0)==="under"?C=f.top-p.top+f.height:C=f.top-t.offsetHeight-(r||0)*2-p.top),{x:b,y:C}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(h,t,o,null,l,u)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,o=t.top-n.top,s=e.offsetHeight+r;return i>s?"under":o>s||o>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;!i||(["right","left","over","above","under"].forEach(s=>{i.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}callPostProcessPopup(e,t,n,r,i,o){const s=this.gos.getCallback("postProcessPopup");s&&s({column:i,rowNode:o,ePopup:t,type:e,eventSource:n,mouseEvent:r})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:o,updatePosition:s}=e,a={width:0,height:0},l=(u=!1)=>{let{x:h,y:f}=s();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,r&&(h+=r),i&&(f+=i),n&&(h=this.keepXYWithinBounds(t,h,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${h}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){const u=xu(this.beans,t,()=>l(!0));setTimeout(()=>u(),IPe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=vr(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),$Z(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",o=r?"top":"left",s=r?"height":"width",a=r?"scrollTop":"scrollLeft",l=vr(this.beans),u=l.documentElement,h=this.getPopupParent(),f=e.getBoundingClientRect(),p=h.getBoundingClientRect(),m=l.documentElement.getBoundingClientRect(),b=h===l.body,C=Math.ceil(f[s]);let x=b?(r?HZ:nx)(u)+u[a]:h[i];b&&(x-=Math.abs(m[o]-p[o]));const R=x-C;return Math.min(Math.max(t,0),Math.abs(R))}addPopup(e){const t=vr(this.beans),{eChild:n,ariaLabel:r,alwaysOnTop:i,positionCallback:o,anchorToElement:s}=e;if(!t)return Me(122),{hideFunc:()=>{}};const a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);const l=this.createPopupWrapper(n,r,!!i),u=this.addEventListenersToPopup({...e,wrapperEl:l});return o&&o(),this.addPopupToPopupList(n,l,u,s),{hideFunc:u}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();ke(e.style.top)||(e.style.top=`${n.top*-1}px`),ke(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const r=this.getPopupParent(),i=document.createElement("div"),{environment:o,gos:s}=this.beans;return o.applyThemeClasses(i),i.classList.add("ag-popup"),e.classList.add(s.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||ga(e,"dialog"),aR(e,t),i.appendChild(e),r.appendChild(i),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),i}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=vr(t),r=this.getPopupParent(),{wrapperEl:i,eChild:o,closedCallback:s,afterGuiAttached:a,closeOnEsc:l,modal:u}=e;let h=!1;const f=C=>{if(!i.contains(lr(t)))return;C.key===ve.ESCAPE&&!Zl(C)&&b({keyboardEvent:C})},p=C=>b({mouseEvent:C}),m=C=>b({touchEvent:C}),b=(C={})=>{const{mouseEvent:y,touchEvent:x,keyboardEvent:R,forceHide:T}=C;!T&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:x},o)||h)||(h=!0,r.removeChild(i),n.removeEventListener("keydown",f),n.removeEventListener("mousedown",p),n.removeEventListener("touchstart",m),n.removeEventListener("contextmenu",p),this.eventSvc.removeEventListener("dragStarted",p),s&&s(y||x||R),this.removePopupFromPopupList(o))};return a&&a({hidePopup:b}),window.setTimeout(()=>{l&&n.addEventListener("keydown",f),u&&(n.addEventListener("mousedown",p),this.eventSvc.addEventListener("dragStarted",p),n.addEventListener("touchstart",m),n.addEventListener("contextmenu",p))},0),b}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:DPe++,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(o=>o&&o()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,o=r.getBoundingClientRect(),s=f=>parseInt(f.substring(0,f.length-1),10),a=(f,p)=>{const m=n[f]-o[f],b=s(i.style[f]);return{initialDiff:m,lastDiff:m,initial:b,last:b,direction:p}},l=a("top",0),u=a("left",1),h=this.beans.frameworkOverrides;return new Wn(f=>{h.wrapIncoming(()=>{h.setInterval(()=>{const p=t.getBoundingClientRect(),m=r.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){e.hidePopup();return}const C=(y,x)=>{const R=s(i.style[x]);y.last!==R&&(y.initial=R,y.last=R);const T=p[x]-m[x];if(T!=y.lastDiff){const M=this.keepXYWithinBounds(i,y.initial+y.initialDiff-T,y.direction);i.style[x]=`${M}px`,y.last=M}y.lastDiff=T};C(l,"top"),C(u,"left")},200).then(p=>{f(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const o=this.getPopupIndex(t);if(o===-1)return!1;for(let s=o;s<this.popupList.length;s++){const a=this.popupList[s];if(BCe(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=vr(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const o=[],s=[];for(const p of n)p!==i&&(p.classList.contains("ag-always-on-top")?s.push(p):o.push(p));const a=[],l=s.length,f=i.classList.contains("ag-always-on-top")||!l?[...o,...s,i]:[...o,i,...s];for(let p=0;p<=r;p++){const m=f[p];if(n[p]===f[p]||m===i)continue;m.querySelectorAll("div").forEach(C=>{C.scrollTop!==0&&a.push([C,C.scrollTop])}),p===0?t.insertAdjacentElement("afterbegin",m):f[p-1].insertAdjacentElement("afterend",m)}for(;a.length;){const p=a.pop();p[0].scrollTop=p[1]}}},fR={moduleName:"Popup",version:Ne,beans:[MPe]},FPe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function kPe(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function LPe(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterInstance(t))??Promise.resolve(void 0)}function NPe(e,t){var r;const n=e.colModel.getColDefCol(t);if(n)return(r=e.filterManager)==null?void 0:r.destroyFilter(n,"api")}function VPe(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=e.filterManager)==null?void 0:n.setFilterModel(t)})}function BPe(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function HPe(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterModel(t))??null}function $Pe(e,t,n){var r;return((r=e.filterManager)==null?void 0:r.setColumnFilterModel(t,n))??Promise.resolve()}function jPe(e,t){var r;const n=e.colModel.getCol(t);if(!n){bn(12,{colKey:t});return}(r=e.menuSvc)==null||r.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}var GU={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},zU=["january","february","march","april","may","june","july","august","september","october","november","december"];function GPe(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var zPe=class extends ye{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n})=>{var r;(n.rowDataUpdated||(r=n.changedProps)!=null&&r.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:n,dataTypeSvc:r,filterManager:i}=this.beans;if(r!=null&&r.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const o=[],s=this.getFilterModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,u)=>{const h=e[u];o.push(y0(l.filterPromise,h)),a.delete(u)}),a.forEach(l=>{const u=n.getColDefCol(l)||n.getCol(l);if(!u){Me(62,{colId:l});return}if(!u.isFilterAllowed()){Me(63,{colId:l});return}const h=this.getOrCreateFilterWrapper(u);if(!h){Me(64,{colId:l});return}o.push(y0(h.filterPromise,e[l]))})}else this.allColumnFilters.forEach(a=>{o.push(y0(a.filterPromise,null))});Wn.all(o).then(()=>{const a=this.getFilterModel(!0),l=[];this.allColumnFilters.forEach((u,h)=>{const f=s?s[h]:null,p=a?a[h]:null;Ly(f,p)||l.push(u.column)}),l.length>0&&(i==null||i.onFilterChanged({columns:l,source:t}))})}getFilterModel(e){var o;const t={},{allColumnFilters:n,initialFilterModel:r,beans:{colModel:i}}=this;if(n.forEach((s,a)=>{const l=this.getModelFromFilterWrapper(s);ke(l)&&(t[a]=l)}),!e)for(const s of Object.keys(r)){const a=r[s];ke(a)&&!n.has(s)&&((o=i.getCol(s))!=null&&o.isFilterAllowed())&&(t[s]=a)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(Me(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=a=>a?a.isFilterActive?a.isFilterActive():(Me(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!rF(n),i=a=>{if(!a.isPrimary())return!0;const u=!t.isPivotActive();return!a.isValueActive()||!u?!1:t.isPivotMode()?!0:r},o=[],s=[];return this.forEachColumnFilter((a,l)=>{e(a)&&(i(l.column)?o.push(a):s.push(a))}).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((n,r)=>this.setColFilterActive(r.column,n.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(n=>{const r=n.filterPromise;r&&t.push(r.then(i=>e(i,n)))}),Wn.all(t)}doColumnFiltersPass(e,t,n){const{data:r,aggData:i}=e,o=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?i:r;for(let a=0;a<o.length;a++){const l=o[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function"){bn(91);continue}if(!l.doesFilterPass({node:e,data:s}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&(n==null||n.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(r=>{r.filterPromise&&r.filterPromise.then(i=>{i&&i!==t&&i.onAnyFilterChanged&&i.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var n;(n=t.onNewRowsLoaded)==null||n.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:n}=this.beans;return(r,i)=>{const o=i?n.getCol(i):e;return o?t.getValue(o,r):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:n,dataTypeSvc:r}=this.beans;if(GP(n))t="agSetColumnFilter";else{const i=r==null?void 0:r.getBaseDataType(e);i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:n,dataTypeSvc:r}=this.beans;if(GP(n))t="agSetColumnFloatingFilter";else{const i=r==null?void 0:r.getBaseDataType(e);i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const n=this.getDefaultFilter(e),r=e.getColDef();let i;const o={...this.createFilterParams(e,r),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(i,e)(a),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(i,a))??!0}},s=Kwe(this.beans.userCompFactory,r,o,n);return s?{filterPromise:()=>{const a=s.newAgStackInstance();return a.then(l=>{i=l,t&&(t.filter=l??void 0)}),a},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return st(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:n,compDetails:r}=this.createFilterInstance(e,t);return t.filterPromise=(n==null?void 0:n())??null,t.compDetails=r,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:n}=this.beans;this.allColumnFilters.forEach((i,o)=>{let s;i.column.isPrimary()?s=t.getColDefCol(o):s=t.getCol(o),!(s&&s===i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(o))});const r=e.every(UU);e.length>0&&!r?n==null||n.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(n=>{UU(n)&&this.getOrCreateFilterWrapper(n)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof(n==null?void 0:n.isFilterAllowed)=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const n=h=>{var p;const f=(p=this.getOrCreateFilterWrapper(e))==null?void 0:p.filterPromise;f!=null&&f.then(m=>{h(Hy(m))})},r=e.getColDef(),i={...this.createFilterParams(e,r),filterChangedCallback:()=>n(h=>this.filterChangedCallbackFactory(h,e)())},{userCompFactory:o,frameworkOverrides:s}=this.beans,a=t0e(o,r,i);let l=eSe(s,r,()=>this.getDefaultFloatingFilter(e));l==null&&(l="agReadOnlyFloatingFilter");const u=st(this.gos,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t});return Jwe(o,r,u,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],r&&this.disposeFilterWrapper(r,t).then(i=>{var o;i&&this.isAlive()&&((o=this.beans.filterManager)==null||o.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var n;return((n=e.filterPromise)==null?void 0:n.then(r=>{const i=!!(r!=null&&r.isFilterActive());return this.destroyBean(r),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),i}))??Wn.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return n=>{const r=(n==null?void 0:n.source)??"columnFilter",i={filter:e,additionalEventAttributes:n,columns:[t],source:r};this.callOnFilterChangedOutsideRenderCycle(i)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:r}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,r)){this.destroyFilter(n,"paramsUpdated");return}const i=n.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(n,"paramsUpdated");return}t.filterPromise.then(o=>{(o!=null&&o.refresh?o.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(o,n),filterChangedCallback:this.filterChangedCallbackFactory(o,n),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(o,a))??!0},...i}):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||(n==null?void 0:n.render)&&(r==null?void 0:r.render)&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(n=>{t(Hy(n))})})}getFilterInstanceImpl(e){var r;const t=this.beans.colModel.getColDefCol(e);return t?((r=this.getOrCreateFilterWrapper(t))==null?void 0:r.filterPromise)??Wn.resolve(null):Wn.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:n})=>{this.setColumnFilterModel(e,t).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:n,dataTypeSvc:r}=this.beans;if(r!=null&&r.isPendingInference){let a=()=>{};const l=new Promise(u=>{a=u});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),l}const i=n.getColDefCol(e),o=i?this.getOrCreateFilterWrapper(i):null;return o?(a=>new Promise(l=>{a.then(u=>l(u))}))(y0(o.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,n){const r=GP(this.gos),i=this.getLocaleTextFunc(),o=s=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...s}:s};switch(t.baseDataType){case"number":{r&&o({comparator:GPe});break}case"boolean":{o(r?{valueFormatter:s=>ke(s.value)?i(String(s.value),s.value?"True":"False"):i("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(s,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(s,a)=>a===!1,numberOfInputs:0}]});break}case"date":{o(r?{valueFormatter:s=>{const a=n(s);return ke(a)?a:i("blanks","(Blanks)")},treeList:!0,treeListFormatter:(s,a)=>{if(s==="NaN")return i("invalidDate","Invalid Date");if(a===1&&s!=null){const l=zU[Number(s)-1];return i(l,GU[l])}return s??i("blanks","(Blanks)")}}:{isValidDate:WU});break}case"dateString":{const s=t.dateParser;o(r?{valueFormatter:a=>{const l=n(a);return ke(l)?l:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=s(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const u=zU[Number(a)-1];return i(u,GU[u])}return a??i("blanks","(Blanks)")}}:{comparator:(a,l)=>{const u=s(l);return l==null||u<a?-1:u>a?1:0},isValidDate:a=>typeof a=="string"&&WU(s(a))});break}case"object":{r?o({valueFormatter:s=>{const a=n(s);return ke(a)?a:i("blanks","(Blanks)")}}):e.filterValueGetter=s=>n({column:s.column,node:s.node,value:this.beans.valueSvc.getValue(s.column,s.node)});break}}}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function y0(e,t){return e?new Wn(n=>{e.then(r=>{typeof r.setModel!="function"&&(Me(65),n()),(r.setModel(t)||Wn.resolve()).then(()=>n())})}):Wn.resolve()}function UU(e){return e.getColDef().filter==="agGroupColumnFilter"}function WU(e){return e instanceof Date&&!isNaN(e.getTime())}function UPe(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function WPe(e,t="api"){var n;(n=e.filterManager)==null||n.onFilterChanged({source:t})}var qPe=class extends ye{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(n=this.colFilter)==null||n.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,n;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilter)!=null&&n.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){rF(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Wn.resolve()).then(()=>{var o;const i={source:t,type:"filterChanged",columns:r};n&&Eo(i,n),this.eventSvc.dispatchEvent(i),(o=this.colFilter)==null||o.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!rF(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var n;return(n=this.colFilter)==null?void 0:n.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var n;(n=this.colFilter)==null||n.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var n;return!!((n=this.colFilter)!=null&&n.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){if((n=this.beans.dataTypeSvc)!=null&&n.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){Me(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var n;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((n=this.colFilter)==null?void 0:n.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,n){var r;(r=this.colFilter)==null||r.setColDefPropertiesForDataType(e,t,n)}},KPe=class extends ye{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,n,r){this.showPopup(e,i=>{var o;(o=this.popupSvc)==null||o.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})},n,t.target,Ho(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){let i=-1,o="left";const s=Ho(this.gos);!s&&this.gos.get("enableRtl")&&(i=1,o="right");const a=s?void 0:4*i,l=s?void 0:4;this.showPopup(e,u=>{var h;(h=this.popupSvc)==null||h.positionPopupByComponent({type:n,eventSource:t,ePopup:u,nudgeX:a,nudgeY:l,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},n,t,s,r)}showPopup(e,t,n,r,i,o){var C;const s=e?this.createBean(new Y0e(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!(s!=null&&s.hasFilter())||!e){bn(57);return}const a=document.createElement("div");ga(a,"presentation"),a.classList.add("ag-menu"),i||a.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(a,{keydown:y=>this.trapFocusWithin(y,a)}),a.appendChild(s==null?void 0:s.getGui());let l;const u=()=>s==null?void 0:s.afterGuiDetached(),h=FCe(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,f=y=>{TU(e,!1,"contextMenu");const x=y instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),x&&r&&il(r)){const R=AJ(r);R==null||R.focus({preventScroll:!0})}u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),o==null||o()},p=this.getLocaleTextFunc(),m=i&&n!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),b=(C=this.popupSvc)==null?void 0:C.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(a),anchorToElement:h,ariaLabel:m});b&&(this.hidePopup=l=b.hideFunc),s.afterInit().then(()=>{t(a),s.afterGuiAttached({container:n,hidePopup:l})}),TU(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==ve.TAB||e.defaultPrevented||nf(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),$h(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},YPe=class extends ye{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const n=e.getColDef(),{filterValueGetter:r}=n;return r?this.executeFilterValueGetter(r,t.data,e,t,n):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,n,r,i){const{expressionSvc:o,valueSvc:s}=this.beans,a=st(this.gos,{data:t,node:r,column:n,colDef:i,getValue:s.getValueCallback.bind(s,r)});return typeof e=="function"?e(a):o==null?void 0:o.evaluate(e,a)}},XPe=class extends Kn{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[cR]),this.eFloatingFilterText=et}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},Oee=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(o=>t[o]!=null)?!0:(Me(72,{keys:i}),!1);if(!n.every(r)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const n=t[0];typeof n=="string"?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:Me(73)}else Me(74)}getCustomOption(e){return this.customFilterOptions[e]}};function ly(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function Ex(e){return e==null||typeof e=="string"&&e.trim().length===0}function QPe(e){return e==="AND"||e==="OR"?e:"AND"}function ZPe(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}function JPe(e,t){let n=e.length;return n>t&&(e.splice(t),Me(78),n=t),n}var Dee=class extends J0e{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:r}=t;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let o;if(n){const s=e,a=t;o=this.areSimpleModelsEqual(s,a)}else{const s=e,a=t;o=s.operator===a.operator&&tf(s.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return o}shouldRefresh(e){var o;const t=this.getModel(),n=t?t.conditions??[t]:null,r=((o=e.filterOptions)==null?void 0:o.map(s=>typeof s=="string"?s:s.displayKey))??this.getDefaultFilterOptions();return!(!(!n||n.every(s=>r.find(a=>a===s.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const n=e;let r=n.conditions;r==null&&(r=[],Me(77));const i=JPe(r,this.maxNumConditions),o=this.getNumConditions();if(i<o)this.removeConditionsAndOperators(i);else if(i>o)for(let a=o;a<i;a++)this.createJoinOperatorPanel(),this.createOption();const s=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!s,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(s,!0)),r.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Wn.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:n}=t,r=[];if(n){const o=t;r.push(...o.conditions??[])}else r.push(t);return r[n&&n==="OR"?"some":"every"](o=>this.individualConditionPasses(e,o))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=QPe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Oee,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Me(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(Me(80),n=1),n>t&&(Me(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.createManagedBean(new k2);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,r=>this.resetInput(r)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const r=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new rxe);e.push(r);const i="ag-filter-condition-operator";return r.addCssClass(i),r.addCssClass(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const o=this.isConditionDisabled(i,e);r.setDisabled(o||this.filterListOptions.length<=1),i===1&&(My(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((r,i)=>{rr(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(r=>{r.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(r=>{r.setValue(n,!0)}),this.forEachInput((r,i,o,s)=>{this.setElementDisplayed(r,i<s),this.setElementDisabled(r,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinOperatorPanels:i,eJoinOperatorsAnd:o,eJoinOperatorsOr:s}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeValueElements(e,t);const a=Math.max(e-1,0);this.removeElements(i,a,t),this.removeComponents(o,a,t),this.removeComponents(s,a,t)}removeElements(e,t,n){ly(e,t,n).forEach(i=>Vh(i))}removeComponents(e,t,n){ly(e,t,n).forEach(i=>{Vh(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:n,eTypes:r}=this;let i;if(!this.isReadOnly()){const o=this.getInputs(0)[0];o instanceof Jd&&this.isConditionBodyVisible(0)?i=o.getInputElement():i=(t=r[0])==null?void 0:t.getFocusableElement()}(i??n).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,n=s);else{const a=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),l=s<t;(a||l)&&(this.removeConditionsAndOperators(s,1),r=!0,l&&n--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const r=this.eTypes[t].getValue(),i=this.translate(r);n=this.filterPlaceholder({filterOptionKey:r,filterOption:i,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof Jd))return;const o=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",s=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,r)),t.setInputAriaLabel(s)})}setElementValue(e,t,n){e instanceof Jd&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Kn&&rr(e.getGui(),t)}setElementDisabled(e,t){e instanceof Kn&&My(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Jd&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=this.getNumberOfInputs(t),i=this.getInputs(e);for(let o=0;o<i.length;o++){const s=i[o];s!=null&&n(s,o,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Wn.resolve()}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((r,i,o)=>{o===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),r=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),o=ZPe(i,r,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,n,t,e))}hasInvalidInputs(){return!1}},Iee=class extends Dee{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:o}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const i=this.comparator(),o=e[0]!=null?i(e[0],t):0;switch(r){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{const s=i(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case"blank":return Ex(t);case"notBlank":return!Ex(t);default:return Me(76,{filterModelType:r}),!0}}},Mee=class{constructor(e,t,n,r,i){this.alive=!0,this.context=e,this.eParent=r;const o=Ywe(t,n);o&&o.newAgStackInstance().then(s=>{var u,h;if(!this.alive){e.destroyBean(s);return}if(this.dateComp=s,!s)return;r.appendChild(s.getGui()),(u=s==null?void 0:s.afterGuiAttached)==null||u.call(s);const{tempValue:a,disabled:l}=this;a&&s.setDate(a),l!=null&&((h=s.setDisabled)==null||h.call(s,l)),i==null||i(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var n;const t=this.dateComp;t?(n=t.setDisabled)==null||n.call(t,e):this.disabled=e}setDisplayed(e){rr(this.eParent,e)}setInputPlaceholder(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||n.call(t,e)}setInputAriaLabel(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||n.call(t,e)}afterGuiAttached(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||n.call(t,e)}updateParams(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.refresh)==null||n.call(t,e)}},Fee=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],H2=class{constructor(e,t,n){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.getLocaleTextFunc();if(t){const r=e,o=(r.conditions??[]).map(a=>this.getModelAsString(a)),s=r.operator==="AND"?"andCondition":"orCondition";return o.join(` ${n(s,VJ[s])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{const r=e,i=this.optionsFactory.getCustomOption(r.type),{displayKey:o,displayName:s,numberOfInputs:a}=i||{};return o&&s&&a===0?(n(o,s),s):this.conditionToString(r,i)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},kee=class extends H2{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:r}=t||{},i=n=="inRange"||r===2,o=wo(e.dateFrom),s=wo(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){const l=o!==null?sy(o,a):"null",u=s!==null?sy(s,a):"null";return`${l}-${u}`}return o!=null?sy(o,a):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},qU=1e3,KU=1/0,e1e=class extends Iee{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=qU,this.maxValidYear=KU,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:r}=e||{};return[t&&wo(t)||null,n&&wo(n)||null].slice(0,this.getNumberOfInputs(r))}comparator(){return this.dateFilterParams.comparator??t1e}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(n,r)=>{if(e[n]!=null)if(isNaN(e[n]))Me(82,{param:n});else return e[n]==null?r:Number(e[n]);return r};this.minValidYear=t("minValidYear",qU),this.maxValidYear=t("maxValidYear",KU),this.minValidYear>this.maxValidYear&&Me(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:wo(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:wo(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Me(84),this.filterModelFormatter=new kee(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{userCompFactory:t,context:n,gos:r}=this.beans,i=new Mee(n,t,st(r,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams,location:"filter"}),e);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return Fee}createValueElement(){const t=vr(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,n,r){const o=vr(this.beans).createElement("div");o.classList.add(`ag-filter-${r}`),o.classList.add(`ag-filter-date-${r}`),t.push(o),e.appendChild(o),n.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),ly(this.eConditionPanelsFrom,e,t),ly(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){ly(e,t,n).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,o)=>{i!==e||!t||r>=o||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e);return r.length>0&&(n.dateFrom=Ms(r[0])),r.length>1&&(n.dateTo=Ms(r[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,o)=>{r<o&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function t1e(e,t){const n=t;return n<e?-1:n>e?1:0}var Lee=class extends Kn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=new Oee;this.optionsFactory=n,n.init(e.filterParams,this.getDefaultOptions());const r=n.defaultOption;t||(this.lastType=r),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(r);this.setEditable(i)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var n;const t=(n=this.optionsFactory.getCustomOption(e))==null?void 0:n.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},n1e=class extends Lee{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[cR]),this.eReadOnlyText=et,this.eDateWrapper=et}getDefaultOptions(){return Fee}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new kee(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?wo(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){rr(this.eDateWrapper,e),rr(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=Ms(e);this.params.parentFilterInstance(n=>{if(n){const r=wo(t);n.onFloatingFilterChanged(this.lastType||null,r)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,n=E2(e,this.defaultDebounceMs);return st(this.gos,{onDateChanged:Ei(this,this.onDateChanged.bind(this),n),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n}=this;this.dateComp=new Mee(e,t,this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},r1e=class extends Kn{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[cR]),this.eDateInput=et,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e,t){if(t.target===lr(this.beans)&&!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&id(),t.type=n?"date":"text";const{minValidYear:r,maxValidYear:i,minValidDate:o,maxValidDate:s,buttons:a}=e.filterParams||{};if(o&&r&&Me(85),s&&i&&Me(86),o&&s){const[l,u]=[o,s].map(h=>h instanceof Date?h:wo(h));l&&u&&l.getTime()>u.getTime()&&Me(87)}o?o instanceof Date?t.min=sy(o):t.min=o:r&&(t.min=`${r}-01-01`),s?s instanceof Date?t.max=sy(s):t.max=s:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(a!=null&&a.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return wo(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Ms(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},Nee=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Vee=class extends H2{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:r,filterTo:i,type:o}=e,s=o=="inRange"||n===2,a=this.formatValue.bind(this);return s?`${a(r)}-${a(i)}`:r!=null?a(r):`${o}`}};function bF(e){const{allowedCharPattern:t}=e??{};return t??null}var i1e=class extends Iee{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:r}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(r))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new Vee(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return Nee}setElementValue(e,t,n){const{numberFormatter:r}=this.numberFilterParams,i=!n&&r?r(t??null):t;super.setElementValue(e,i)}createValueElement(){const e=bF(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),ga(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new rf({allowedCharPattern:r}):new F2);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,o)=>{r<o&&t.push(this.processValue(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Ql(e);t!=null&&t.trim()===""&&(t=null);const n=this.numberFilterParams.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},Bee=class extends ye{constructor(e){super(),this.params=e,this.eInput=et,this.onValueChanged=()=>{}}setupGui(e){var r;this.eInput=this.createManagedBean(new rf((r=this.params)==null?void 0:r.config));const t=this.eInput.getGui();e.appendChild(t);const n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function Hee(e){const t=e==null?void 0:e.trim();return t===""?e:t}var $ee=class extends Lee{constructor(){super(...arguments),this.eFloatingFilterInputContainer=et,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Cx(e.filterParams),!i){const o=E2(e.filterParams,r),s=Ei(this,this.syncUpWithParentFilter.bind(this),o);n.setValueChangedListener(s)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();qo(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===ve.ENTER;if(this.applyActive&&!t)return;const{inputSvc:n,params:r}=this;let i=n.getValue();r.filterParams.trimInput&&(i=Hee(i),n.setValue(i,!0)),r.parentFilterInstance(o=>{o==null||o.onFloatingFilterChanged(this.lastType||null,i||null)})}setEditable(e){this.inputSvc.setEditable(e)}},o1e=class extends ye{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new F2),this.eTextInput=this.createManagedBean(new rf),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},s1e=class extends $ee{init(e){var t;super.init(e),this.filterModelFormatter=new Vee(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){bF(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return Nee}createFloatingFilterInputService(e){return this.allowedCharPattern=bF(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Bee({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new o1e)}},jee=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Gee=class extends H2{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:r,filterTo:i,type:o}=e;return o=="inRange"||n===2?`${r}-${i}`:r!=null?`${r}`:`${o}`}},a1e=class extends Dee{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new Gee(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(r,i,o,s)=>{if(i<s){let a=Ql(r.getValue());t&&this.textFilterParams.trimInput&&(a=Hee(a)??null,r.setValue(a,!0)),n.push(a)}}),n}getDefaultFilterOptions(){return jee}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),ga(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new rf);r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:r}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(r))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(p=>this.formatter(p))||[],o=this.formatter(t),{api:s,colDef:a,column:l,context:u,textFormatter:h}=this.textFilterParams;if(n.type==="blank")return Ex(t);if(n.type==="notBlank")return!Ex(t);const f={api:s,colDef:a,column:l,context:u,node:r.node,data:r.data,filterOption:n.type,value:o,textFormatter:h};return i.some(p=>this.matcher({...f,filterText:p}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},l1e=class extends $ee{init(e){super.init(e),this.filterModelFormatter=new Gee(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return jee}createFloatingFilterInputService(){return this.createManagedBean(new Bee)}};function u1e(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function c1e(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function d1e(e){var t;(t=e.quickFilter)==null||t.resetCache()}var h1e=class extends ye{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var l;const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),o=e==null?void 0:e.getColumns(),s=t.getColDefCols();let a=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?(l=r==null?void 0:r.getPivotResultCols())==null?void 0:l.list:s)??[];o&&(a=a.concat(o)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(u=>u.isVisible()||u.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return ke(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Me(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return ke(r)&&r.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const i=st(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return ke(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const r=this.getTextForColumn(n,e);ke(r)&&t.push(r)}),t.join(`
`)}},f1e={moduleName:"ClientSideRowModelFilter",version:Ne,rowModels:["clientSide"],beans:[TPe]},$2={moduleName:"FilterCore",version:Ne,beans:[qPe],apiFunctions:{isAnyFilterPresent:UPe,onFilterChanged:WPe},css:[FPe],dependsOn:[f1e]},zee={moduleName:"FilterValue",version:Ne,beans:[YPe]},pR={moduleName:"ColumnFilter",version:Ne,beans:[zPe,KPe],dynamicBeans:{headerFilterCellCtrl:APe},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:kPe,getColumnFilterInstance:LPe,destroyFilter:NPe,setFilterModel:VPe,getFilterModel:BPe,getColumnFilterModel:HPe,setColumnFilterModel:$Pe,showColumnFilter:jPe},dependsOn:[$2,fR,zee,OPe]},p1e={moduleName:"CustomFilter",version:Ne,userComponents:{agReadOnlyFloatingFilter:XPe},dependsOn:[pR]},g1e={moduleName:"TextFilter",version:Ne,dependsOn:[pR],userComponents:{agTextColumnFilter:a1e,agTextColumnFloatingFilter:l1e}},m1e={moduleName:"NumberFilter",version:Ne,dependsOn:[pR],userComponents:{agNumberColumnFilter:i1e,agNumberColumnFloatingFilter:s1e}},v1e={moduleName:"DateFilter",version:Ne,dependsOn:[pR],userComponents:{agDateColumnFilter:e1e,agDateInput:r1e,agDateColumnFloatingFilter:n1e}},y1e={moduleName:"QuickFilterCore",version:Ne,rowModels:["clientSide"],beans:[h1e],dependsOn:[$2,zee]},b1e={moduleName:"QuickFilter",version:Ne,apiFunctions:{isQuickFilterPresent:u1e,getQuickFilter:c1e,resetQuickFilter:d1e},dependsOn:[y1e]},C1e={moduleName:"ExternalFilter",version:Ne,dependsOn:[$2]},Hv=class{constructor(e){this.cellValueChanges=e}},l1=class extends Hv{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},w1e=10,YU=class{constructor(e){this.actionStack=[],this.maxStackSize=e||w1e,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},S1e=class extends ye{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&lF(this.activeCellEdit,t),r=this.activeRowEdit!==null&&j0e(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:s,column:a,oldValue:l,value:u}=e,h={rowPinned:o,rowIndex:s,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new YU(n),this.redoStack=new YU(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;const o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,s=>s[r],i),o instanceof l1?this.processRange(o.ranges||[o[n]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,n){e.cellValueChanges.forEach(r=>{const{rowIndex:i,rowPinned:o,columnId:s}=r,a={rowIndex:i,rowPinned:o},l=bx(this.beans,a);l.displayed&&l.setDataValue(s,t(r),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;const o=r.startRow,s=r.endRow;i===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},o=bx(this.beans,i),s={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:o,rangeSvc:s}=this.beans,a=i.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const u={rowIndex:t,column:a,rowPinned:r};o.setFocusedCell({...u,forceBrowserFocus:!0}),s==null||s.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Hv(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Hv(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Hv(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new l1(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Wc(n)?e=new l1(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Hv(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},x1e=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",E1e=class extends om{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[M2]),this.eCheckbox=et}init(e){this.params=e;const t=e.value??void 0,n=this.eCheckbox;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=h2(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${r} (${n})`)}},gR=class extends om{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=et}init(e){this.params=e;const{cellStartedEdit:t,eventKey:n,suppressPreventDefault:r}=e,i=this.eInput;this.cellEditorInput.init(i,e);let o,s=!0;t?(this.focusAfterAttached=!0,n===ve.BACKSPACE||n===ve.DELETE?o="":n&&n.length===1?r?s=!1:o=n:(o=this.cellEditorInput.getStartValue(),n!==ve.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=this.cellEditorInput.getStartValue()),s&&o!=null&&i.setStartValue(o),this.addManagedElementListeners(i.getGui(),{keydown:a=>{const{key:l}=a;(l===ve.PAGE_UP||l===ve.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var r,i;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;id()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():(i=(r=this.cellEditorInput).setCaret)==null||i.call(r)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},R1e=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[XJ]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:r,step:i}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i)}getValue(){const{eInput:e,params:t}=this,n=e.getDate();return!ke(n)&&!ke(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Ms(e,!1)}},T1e=class extends gR{constructor(){super(new R1e)}},A1e=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[XJ]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:r,step:i}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i)}getValue(){const{params:e,eInput:t}=this,n=this.formatDate(t.getDate());return!ke(n)&&!ke(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return Ms(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):wo(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Ms(e??null,!1)??void 0}},P1e=class extends gR{constructor(){super(new A1e(()=>this.beans.dataTypeSvc))}},_1e=class extends om{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[oxe]),this.eTextArea=et}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===ve.LEFT||t===ve.UP||t===ve.RIGHT||t===ve.DOWN||e.shiftKey&&t===ve.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!ke(e)&&!ke(t.value)?t.value:t.parseValue(e)}},O1e=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[sxe]}init(e,t){this.eInput=e,this.params=t;const{max:n,min:r,precision:i,step:o}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),o!=null&&e.setStep(o);const s=e.getInputElement();t.preventStepping?e.addManagedElementListeners(s,{keydown:this.preventStepping}):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ve.UP||e.key===ve.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,n=e.getValue();if(!ke(n)&&!ke(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){id()&&this.eInput.getInputElement().focus({preventScroll:!0})}},D1e=class extends gR{constructor(){super(new O1e)}},I1e=class extends om{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[mxe]),this.eSelect=et,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:n,gos:r}=this,{values:i,value:o,eventKey:s}=e;if(qn(i)){Me(58);return}this.startedByEnter=s!=null?s===ve.ENTER:!1;let a=!1;i.forEach(f=>{const p={value:f},m=n.formatValue(e.column,null,f),b=m!=null;p.text=b?m:f,t.addOption(p),a=a||o===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:h}=e;l!=null&&t.setPickerGap(l),h!=null&&t.setPickerMaxHeight(h),u!=null&&t.setPickerMaxWidth(u),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},M1e=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[cR]}init(e,t){this.eInput=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValue(){const{eInput:e,params:t}=this,n=e.getValue();return!ke(n)&&!ke(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),n=ke(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},XU=class extends gR{constructor(){super(new M1e)}};function F1e(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function k1e(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function Uee(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function Wee(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function L1e(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function N1e(e){var t;(t=e.undoRedo)==null||t.undo("api")}function V1e(e){var t;(t=e.undoRedo)==null||t.redo("api")}function B1e(e,t={}){const n=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>{var o;const i=(o=r.comp)==null?void 0:o.getCellEditor();i&&n.push(Hy(i))}),n}function H1e(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(n=>{if(n.editing){const{cellPosition:r}=n;t.push(r)}}),t}function $1e(e,t=!1){var n;(n=e.editSvc)==null||n.stopAllEditing(t)}function j1e(e,t){const n=e.colModel.getCol(t.colKey);if(!n){Me(12,{colKey:t.colKey});return}const r={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};t.rowPinned==null&&Wee(e,t.rowIndex),Uee(e,t.colKey);const o=cp(e,r);if(!o)return;const{focusSvc:s,gos:a,editSvc:l}=e,u=()=>{const f=lr(e),p=o.eGui;return f!==p&&!!(p!=null&&p.contains(f))},h=a.get("stopEditingWhenCellsLoseFocus")&&u();(h||!s.isCellFocused(r))&&s.setFocusedCell({...r,forceBrowserFocus:h,preventScrollOnBrowserFocus:!0}),l==null||l.startRowOrCellEdit(o,t.key)}function G1e(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function z1e(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var U1e=class extends om{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Hh(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{cF(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}},W1e=class extends ye{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,n=!1,r=null){var u;if(!e.isCellEditable()||e.editing)return!0;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,n,r)}),!0;const i=this.createCellEditorParams(e,t,n),o=e.column.getColDef(),s=CU(this.beans.userCompFactory,o,i),a=(s==null?void 0:s.popupFromSelector)!=null?s.popupFromSelector:!!o.cellEditorPopup,l=(s==null?void 0:s.popupPositionFromSelector)!=null?s.popupPositionFromSelector:o.cellEditorPopupPosition;return QU(e,!0,s),e.comp.setEditDetails(s,a,l,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(r,"cellEditingStarted")),!((u=s==null?void 0:s.params)!=null&&u.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:n,column:r,rowNode:i}=e,{newValue:o,newValueExists:s}=q1e(t,n),a=this.beans.valueSvc.getValueForDisplay(r,i);let l=!1;return s&&(l=K1e(e,a,o,i,r)),QU(e,!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:o,valueChanged:l}),l}handleColDefChanged(e){var n;const t=(n=e.comp)==null?void 0:n.getCellEditor();if(t!=null&&t.refresh){const{eventKey:r,cellStartedEdit:i}=e.editCompDetails.params,o=this.createCellEditorParams(e,r,i),s=e.column.getColDef(),a=CU(this.beans.userCompFactory,s,o);t.refresh(a.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,n=t.getCellEditor();n!=null&&n.focusIn?n.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var r,i;return(i=(r=t.getCellEditor())==null?void 0:r.focusIn)==null?void 0:i.call(r)}))}stopEditingAndFocus(e,t=!1,n=!1){this.stopRowOrCellEdit(e),e.focusCell(!0),t||this.navigateAfterEdit(n,e.cellPosition)}createPopupEditorWrapper(e){return new U1e(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var o;if(e.stoppingRowEdit)return;const n=e.getAllCellCtrls(),r=e.editing;e.stoppingRowEdit=!0;let i=!1;for(const s of n){const a=s.stopEditing(t);r&&!t&&!i&&a&&(i=!0)}i&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),r&&((o=this.beans.rowEditSvc)==null||o.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=n=>{const r=n.relatedTarget;if(ZM(r)===null){this.stopAllEditing();return}let i=e.some(o=>o.contains(r))&&DJ(this.gos,r);if(!i){const o=this.beans.popupSvc;i=!!o&&(o.getActivePopups().some(s=>s.contains(r))||o.isElementWithinCustomPopup(r))}i||this.stopAllEditing()};e.forEach(n=>this.addManagedElementListeners(n,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(n=>n.editing);e.forEachGui(void 0,n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,n=null){var r;return e.comp?this.gos.get("editType")==="fullRow"?((r=this.beans.rowEditSvc)==null?void 0:r.startEditing(e.rowCtrl,t,e))??!0:this.startEditing(e,t,!0,n):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,n)}),!0)}stopRowOrCellEdit(e,t=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t)}createCellEditorParams(e,t,n){const{column:r,rowNode:i,cellPosition:{rowIndex:o}}=e,{valueSvc:s,gos:a}=this.beans;return st(a,{value:s.getValueForDisplay(r,i),eventKey:t,column:r,colDef:r.getColDef(),rowIndex:o,node:i,data:i.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.eGui,parseValue:l=>s.parseValue(r,i,l,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var r;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=e?ve.UP:ve.DOWN;(r=this.beans.navigation)==null||r.navigateToNextCell(null,i,t,!1)}}};function QU(e,t,n){e.editCompDetails=n,e.editing!==t&&(e.editing=t)}function q1e(e,t){const n={newValueExists:!1};if(e)return n;const r=t.getCellEditor();return!r||r.isCancelAfterEnd&&r.isCancelAfterEnd()?n:{newValue:r.getValue(),newValueExists:!0}}function K1e(e,t,n,r,i){if(n===t)return!1;e.suppressRefreshCell=!0;const o=r.setDataValue(i,n,"edit");return e.suppressRefreshCell=!1,o}var Y1e=class extends ye{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,n=null,r=null){if(e.editing)return!0;let i=!0,o=!1;const{editSvc:s}=this.beans;return e.getAllCellCtrls().forEach(a=>{const l=a===n;l?i=(s==null?void 0:s.startEditing(a,t,l,r))??!0:s==null||s.startEditing(a,null,l,r),o||(o=a.editing)}),o&&this.setEditing(e,!0),i}setEditing(e,t){e.editing=t,e.forEachGui(void 0,r=>r.rowComp.addOrRemoveCssClass("ag-row-editing",t));const n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(n)}},od={moduleName:"EditCore",version:Ne,beans:[W1e,Y1e],apiFunctions:{getCellEditorInstances:B1e,getEditingCells:H1e,stopEditing:$1e,startEditingCell:j1e},dependsOn:[fR],css:[x1e]},X1e={moduleName:"UndoRedoEdit",version:Ne,beans:[S1e],apiFunctions:{undoCellEditing:N1e,redoCellEditing:V1e,getCurrentUndoSize:G1e,getCurrentRedoSize:z1e},dependsOn:[od]},Q1e={moduleName:"TextEditor",version:Ne,userComponents:{agCellEditor:XU,agTextCellEditor:XU},dependsOn:[od]},Z1e={moduleName:"NumberEditor",version:Ne,userComponents:{agNumberCellEditor:{classImp:D1e,params:{suppressPreventDefault:!0}}},dependsOn:[od]},J1e={moduleName:"DateEditor",version:Ne,userComponents:{agDateCellEditor:T1e,agDateStringCellEditor:P1e},dependsOn:[od]},e_e={moduleName:"CheckboxEditor",version:Ne,userComponents:{agCheckboxCellEditor:E1e},dependsOn:[od]},t_e={moduleName:"SelectEditor",version:Ne,userComponents:{agSelectCellEditor:I1e},dependsOn:[od]},n_e={moduleName:"LargeTextEditor",version:Ne,userComponents:{agLargeTextCellEditor:_1e},dependsOn:[od]},r_e={moduleName:"CustomEditor",version:Ne,dependsOn:[od]},i_e=class extends ye{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Ip(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),ewe(e))}createColumns(e,t){var p,m;const n=()=>{var b;hx(this.beans,(b=this.columns)==null?void 0:b.tree),this.columns=null},r=e.treeDepth,o=(((p=this.columns)==null?void 0:p.treeDepth)??-1)==r,s=this.generateSelectionCols();if(JCe(s,((m=this.columns)==null?void 0:m.list)??[])&&o)return;n();const{colGroupSvc:l}=this.beans,u=(l==null?void 0:l.findDepth(e.tree))??0,h=(l==null?void 0:l.balanceTreeForAutoCols(s,u))??[];this.columns={list:s,tree:h,treeDepth:u,map:{}},t(b=>{if(!b)return null;const C=b.filter(y=>!fu(y));return[...s,...C]})}updateColumns(e){var r;const t=Ip(e.source),n=e.currentValue;(r=this.columns)==null||r.list.forEach(i=>{const o=this.createSelectionColDef(n);i.setColDef(o,null,t),Is(this.beans,{state:[{colId:i.getColId(),...o}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(n=>dJ(n,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var s,a;const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!yh(e))return!1;const r=(((a=(s=t.autoColSvc)==null?void 0:s.getColumns())==null?void 0:a.length)??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const i=!!Dp(n),o=uS(n);return i||o}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:i,spanRows:o,...s}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(a,l,u,h){const f=u.isSelected(),p=h.isSelected();return f===p?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...s,colId:uJ}}generateSelectionCols(){var r;if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;(r=this.beans.validation)==null||r.validateColDef(e,t,!0);const n=new C2(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?Dp(t):void 0,i=e&&typeof e!="string"?Dp(e):void 0,o=r!==i,s=t&&typeof t!="string"?uS(t):void 0,a=e&&typeof e!="string"?uS(e):void 0,l=s!==a,u=iF(e),h=iF(t);(o||l||u!==h)&&this.beans.colModel.refreshAll(n)}destroy(){var e;hx(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,n=t.visibleCols.getAllTrees()??[];if(n.length!==0){if(!n.some(qee)){const r=By(t).find(i=>fu(i.colId));r&&Is(t,{state:[{colId:r.colId,hide:!r.hide}]},e)}if(n.length===1){const r=n[0],i=Kee(r);if(!i)return;Is(t,{state:[{colId:i.getColId(),hide:!0}]},e)}}}},qee=e=>{var t;return e.isColumn?fu(e):((t=e.getChildren())==null?void 0:t.some(qee))??!1};function Kee(e){if(e.isColumn)return fu(e)?e:null;const t=e.getChildren()??[];for(const n of t){const r=Kee(n);if(r)return r}return null}function o_e(e,t){var s;if(!t.nodes.every(a=>a.rowPinned?(Me(59),!1):a.id===void 0?(Me(60),!1):!0))return;const{nodes:r,source:i,newValue:o}=t;(s=e.selectionSvc)==null||s.setNodesSelected({nodes:r,source:i??"api",newValue:o})}function s_e(e,t,n="apiSelectAll"){var r;(r=e.selectionSvc)==null||r.selectAllRowNodes({source:n,selectAll:t})}function a_e(e,t,n="apiSelectAll"){var r;(r=e.selectionSvc)==null||r.deselectAllRowNodes({source:n,selectAll:t})}function l_e(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"filtered"})}function u_e(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"filtered"})}function c_e(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"currentPage"})}function d_e(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function h_e(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function f_e(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var p_e=class extends nxe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=ux(e),this.groupSelectsDescendants=Vy(e),this.groupSelectsFiltered=dx(e)==="filteredDescendants",this.masterSelectsDetail=gU(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Vy(e),n=ux(e),r=dx(e)==="filteredDescendants";this.masterSelectsDetail=gU(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return r==null?0:(this.selectionCtx.selectAll=!1,"select"in r?(r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n)):this.setNodesSelected({nodes:[r.node],newValue:r.newValue,clearSelection:r.clearSelection,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:o}){var a;if(!yh(this.gos)&&e)return Me(132),0;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return Me(130),0;let s=0;for(let l=0;l<r.length;l++){const u=r[l],h=b0(u),f=this.groupSelectsFiltered&&h.group;if(h.rowPinned){Me(59);continue}if(h.id===void 0){Me(60);continue}f||this.selectRowNode(h,e,i,o)&&(this.detailSelection.delete(h.id),s++),this.groupSelectsDescendants&&((a=h.childrenAfterGroup)!=null&&a.length)&&(s+=this.selectChildren(h,e,o))}return n||(e&&(t||!this.isMultiSelect())&&(s+=this.clearOtherNodes(b0(r[0]),o)),s>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),s}selectRange(e,t,n){let r=0;return e.forEach(i=>{if(i.group&&this.groupSelectsDescendants)return;this.selectRowNode(i,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!Hi(n))return!1;const i=r.rootNode;if(!i)return!1;t||(t=new xx(!0,i),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==i){const a=this.calculateSelectedFromChildren(s);o=this.selectRowNode(s,a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t){const n=new Map;let r=0;return this.selectedNodes.forEach(i=>{if(i&&i.id!==e.id){const o=this.selectedNodes.get(i.id);r+=this.setNodesSelected({nodes:[o],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&i.parent&&n.set(i.parent.id,i.parent)}}),n.forEach(i=>{const o=this.calculateSelectedFromChildren(i);this.selectRowNode(i,o===null?!1:o,void 0,t)}),r}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new pg(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Hi(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function i(o){for(let s=0,a=o.length;s<a;s++){const l=o[s];l.isSelected()?r.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Hi(this.gos);let r=!1;const i=o=>{const s=this.selectRowNode(b0(o),!1,void 0,e);r||(r=s)};if(t==="currentPage"||t==="filtered"){if(!n){bn(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(e);r||(r=o)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return Yee(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[];if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){t.push(r);return}if(!r.expanded&&!r.footer){const i=o=>{var s;t.push(o),(s=o.childrenAfterFilter)!=null&&s.length&&o.childrenAfterFilter.forEach(i)};i(r);return}this.groupSelectsDescendants||t.push(r)}),t;const n=this.beans.rowModel;return e==="filtered"?(n.forEachNodeAfterFilter(r=>{t.push(r)}),t):(n.forEachNode(r=>{t.push(r)}),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let o=r;o<=i;o++){const s=n.getRow(o);s&&e(s)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!yh(t)){Me(132);return}if(OCe(t)&&!cx(t)){Me(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:i}=e;let o=!1;if(this.getNodesToSelect(i).forEach(s=>{const a=this.selectRowNode(b0(s),!0,void 0,r);o||(o=a)}),n.selectAll=!0,Hi(t)&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(r);o||(o=s)}o&&this.dispatchSelectionChanged(r)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e)){bn(103);return}const n=new Set(e),r=[];this.beans.rowModel.forEachNode(i=>{n.has(i.id)&&r.push(i)}),this.setNodesSelected({newValue:!0,nodes:r,source:t})}canSelectAll(){const{gos:e,rowModel:t}=this.beans;return Hi(e)?!0:(bn(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){var l;const{gos:t,rowModel:n}=this.beans;if(!yh(t))return;const r="selectableChanged",i=e!==void 0,o=Hi(t)&&this.groupSelectsDescendants,s=[],a=u=>{var f;if(i&&!u.group)return;if(o&&u.group){const p=((f=u.childrenAfterGroup)==null?void 0:f.some(m=>m.selectable))??!1;this.setRowSelectable(u,p,!0);return}!this.updateRowSelectable(u,!0)&&u.isSelected()&&s.push(u)};if(o){if(e===void 0){const u=n.rootNode;e=u?new xx(!1,u):void 0}e==null||e.forEachChangedNodeDepthFirst(a,!i,!i)}else n.forEachNode(a);s.length&&this.setNodesSelected({nodes:s,newValue:!1,source:r}),!i&&o&&((l=this.updateGroupsFromChildrenSelections)==null||l.call(this,r))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var o,s;if(!this.masterSelectsDetail)return;const n=(s=(o=e.detailNode)==null?void 0:o.detailGridInfo)==null?void 0:s.api;if(!n)return;const r=g_e(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const a=this.detailSelection.get(e.id)??new Set;for(const l of n.getSelectedNodes())a.add(l.id);this.detailSelection.set(e.id,a)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!cx(t)){Me(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const i=[];for(const o of r){const s=n.getRowNode(o);s&&i.push(s)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}};function b0(e){return e.footer?e.sibling:e}function g_e(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),Yee(t,n)}function Yee(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var m_e={moduleName:"SharedRowSelection",version:Ne,beans:[i_e],apiFunctions:{setNodesSelected:o_e,selectAll:s_e,deselectAll:a_e,selectAllFiltered:l_e,deselectAllFiltered:u_e,selectAllOnCurrentPage:c_e,deselectAllOnCurrentPage:d_e,getSelectedNodes:h_e,getSelectedRows:f_e}},v_e={moduleName:"RowSelection",version:Ne,rowModels:["clientSide","infinite","viewport"],beans:[p_e],dependsOn:[m_e]};function y_e(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function b_e(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function C_e(e){const t=ul(e),n=xee(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function w_e(e,t,n){var o;const r=xee(e);if(r){if(((o=e.rowGroupColsSvc)==null?void 0:o.columns.length)===0){if(t<0){bn(238);return}r.setRowCount(t,n);return}bn(28);return}const i=hR(e);if(i){i.setRowCount(t,n);return}}function S_e(e){var t;return ef(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function x_e(e){return e.rowModel.isLastRowIndexKnown()}var E_e={moduleName:"CsrmSsrmSharedApi",version:Ne,apiFunctions:{expandAll:y_e,collapseAll:b_e,onRowHeightChanged:C_e}},R_e={moduleName:"SsrmInfiniteSharedApi",version:Ne,apiFunctions:{setRowCount:w_e,getCacheBlockState:S_e,isLastRowIndexKnown:x_e}},T_e=class extends ye{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{var o;if(!r){bn(18),t||bn(20);return}if(this.isGridApi(r))return r;const i=r;return"current"in i?(o=i.current)==null?void 0:o.api:(i.api||bn(19),i.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Me(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var h;const t=e.column;let n=null;const r=this.beans,{colResize:i,ctrlsSvc:o,colModel:s}=r;if(t&&(n=s.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const p=e.api.getColumnState().map(m=>({colId:m.colId}));Is(r,{state:p,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const p=e.api.getColumnState().map(m=>({colId:m.colId,hide:m.hide}));Is(r,{state:p},"alignedGridChanged")}break;case"columnPinned":{const p=e.api.getColumnState().map(m=>({colId:m.colId,pinned:m.pinned}));Is(r,{state:p},"alignedGridChanged")}break;case"columnResized":{const f=e,p={};a.forEach(m=>{p[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),(h=f.flexColumns)==null||h.forEach(m=>{p[m.getId()]&&delete p[m.getId()]}),i==null||i.setColumnWidths(Object.values(p),!1,f.finished,"alignedGridChanged");break}}const u=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(f=>{f.setGridOption("alwaysShowVerticalScroll",u)})}},A_e={moduleName:"AlignedGrids",version:Ne,beans:[T_e]},P_e=class extends ZSe{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},u1=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function __e(e){if(qn(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const r=t[n],i=n===0,o=n===e.childrenAfterSort.length-1;r.setFirstChild(i),r.lastChild!==o&&(r.lastChild=o,r.dispatchRowEvent("lastChildChanged")),r.childIndex!==n&&(r.childIndex=n,r.dispatchRowEvent("childIndexChanged"))}}function Xee(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),__e(e)}var O_e=class extends ye{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),r=ke(n)&&n.length>0,i=r&&!!e.changedRowNodes&&this.gos.get("deltaSort"),o=n.some(({column:s})=>Ua(t.gos)?s.isPrimary()&&s.isRowGroupActive():!!s.getColDef().showRowGroup);this.sort(t,n,r,i,e.changedRowNodes,e.changedPath,o)}sort(e,t,n,r,i,o,s){const{gos:a,colModel:l,rowGroupColsSvc:u,groupHideOpenParentsSvc:h,rowNodeSorter:f}=e,p=a.get("groupMaintainOrder"),m=l.getCols().some(x=>x.isRowGroupActive()),b=l.isPivotMode(),C=a.getCallback("postSortRows"),y=x=>{var A;h==null||h.pullDownGroupDataForHideOpenParents(x.childrenAfterAggFilter,!0);const R=b&&x.leafGroup,T=p&&m&&!x.leafGroup&&!s;let M;if(T){const D=(A=u==null?void 0:u.columns)==null?void 0:A[x.level+1],_=(D==null?void 0:D.getSort())===null,I=x.childrenAfterAggFilter.slice(0);if(x.childrenAfterSort&&!_){const O={};x.childrenAfterSort.forEach((F,L)=>{O[F.id]=L}),I.sort((F,L)=>(O[F.id]??0)-(O[L.id]??0))}M=I}else!n||R?M=x.childrenAfterAggFilter.slice(0):r&&i?M=D_e(f,x,i,o,t):M=f.doFullSort(x.childrenAfterAggFilter,t);if(x.childrenAfterSort=M,Xee(x),C){const D={nodes:x.childrenAfterSort};C(D)}};o==null||o.forEachChangedNodeDepthFirst(y)}};function D_e(e,t,n,r,i){const o=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return e.doFullSort(o,i);const a=new Set,l=[],{updates:u,adds:h}=n;for(let p=0,m=o.length;p<m;++p){const b=o[p];u.has(b)||h.has(b)||r&&!r.canSkip(b)?l.push({currentPos:l.length,rowNode:b}):a.add(b.id)}const f=s.filter(p=>a.has(p.id)).map((p,m)=>({currentPos:m,rowNode:p}));return l.sort((p,m)=>e.compareRowNodes(i,p,m)),I_e(e,i,l,f)}function I_e(e,t,n,r){const i=[];let o=0,s=0;const a=n.length,l=r.length;for(;o<a&&s<l;){const u=n[o],h=r[s],f=e.compareRowNodes(t,u,h);let p;f<0?(p=u,++o):(p=h,++s),i.push(p.rowNode)}for(;o<a;)i.push(n[o++].rowNode);for(;s<l;)i.push(r[s++].rowNode);return i}var M_e=class extends ye{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Ei(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(r=>!!r);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new pg(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;let n;return e.get("treeData")&&(e.get("treeDataChildrenField")?n=t.csrmChildrenTreeNodeSvc:n=t.csrmPathTreeNodeSvc),n??t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var r;const n=(r=t.changeSet)==null?void 0:r.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let i,o=!1;do{i=!1;const s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),u=Math.min(a,r);for(let h=l;h<=u;h++){const f=this.getRow(h);if(f.rowHeightEstimated){const p=ug(this.beans,f);f.setRowHeight(p.height),i=!0,o=!0}}i&&this.setRowTopAndRowIndex()}while(i);return o}onPropChange(e){var h;if(!this.rootNode)return;const t=this.gos,n=new Set(e),r={step:"nothing",changedProps:n},i=n.has("rowData"),o=n.has("treeData"),s=this.nodeManager,a=this.getNewNodeManager(),l=s!==a||n.has("treeDataChildrenField")&&t.get("treeData");let u;if(o&&(r.step="group"),(l||i)&&(u=t.get("rowData"),u!=null&&!Array.isArray(u)&&(u=null,Me(1))),l&&(i||(u=(s==null?void 0:s.extractRowData())??u),s!==a&&(s==null||s.deactivate(),this.nodeManager=a),a.activate(this.rootNode)),u&&(!l&&!this.isEmpty()&&u.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(r.keepRenderedRows=!0,r.animate=!this.gos.get("suppressAnimationFrame"),r.changedRowNodes=new u1,a.setImmutableRowData(r,u)):(r.rowDataUpdated=!0,r.newData=!0,(h=this.beans.selectionSvc)==null||h.reset("rowDataChanged"),this.rowNodesCountReady=!0,a.setNewRowData(u))),r.rowDataUpdated)r.step="group";else if(r.step==="nothing"){for(const{refreshProps:f,step:p}of this.orderedStages)if(e.some(m=>f.has(m))){r.step=p;break}}r.step!=="nothing"&&this.refreshModel(r)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let n=0;const r=new Set,i=Ri(this.gos,"normal"),o=this.rowsToDisplay;for(let s=0,a=o.length;s<a;++s){const l=o[s];if(l.id!=null&&r.add(l.id),l.rowHeight==null){const u=ug(e,l,i,t);l.setRowHeight(u.height,u.estimated)}l.setRowTop(n),l.setRowIndex(s),n+=l.rowHeight}return r}clearRowTopAndRowIndex(e,t){const n=e.active,r=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},i=o=>{if(o!==null&&(r(o),r(o.detailNode),r(o.sibling),o.hasChildren()&&o.childrenAfterGroup)){const s=o.level==-1;n&&!s&&!o.expanded||o.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t,n=0){var a;const r=this.getRowIndexAtPixel(t),i=this.getRow(r),o=!this.gos.get("suppressAnimationFrame");if(i===e[0])return!1;const s=(a=this.rootNode)==null?void 0:a.allLeafChildren;return s?(e.forEach(l=>{ma(s,l)}),e.forEach((l,u)=>{s.splice(Math.max(r+n,0)+u,0,l)}),e.forEach((l,u)=>{l.sourceRowIndex=u}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:o,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const n=t!=null?this.getRowIndexAtPixel(t):null,r=n!=null?this.getRow(n):null;if(!r||!e||t==null){this.clearHighlightedRow();return}const i=this.getHighlightPosition(t,r),o=this.isHighlightingCurrentPosition(e,r,i),s=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==r;(o||s)&&(this.clearHighlightedRow(),o)||(this.setRowNodeHighlighted(r,i),this.lastHighlightedRow=r)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(t=this.getRow(i||0),!t)return"Below"}const{rowTop:n,rowHeight:r}=t;return e-n<r/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,n){if(e===t)return!0;const r=n==="Above"?-1:1;return this.getRow(t.rowIndex+r)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterAggFilter,r=e.sibling?1:0;return(n?n.length:0)+r}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:i}=t,o=a=>{let l=i[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:s}=this.beans;return s?s.getTopDisplayIndex(n,e,i,o):o(e)}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Op(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Op(this.gos),r=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Op(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new xx(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){var r,i;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((i=(r=this.nodeManager).refreshModel)==null||i.call(r,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,n;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((n=this.colModel)!=null&&n.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],o=Vy(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(r)return;if(n&&(s===t||s===e)&&(r=!0,s.group&&o)){i.push(...s.allLeafChildren);return}if(!n){if(s!==t&&s!==e)return;n=!0}if(!s.group||!o){i.push(s);return}}),i}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,r=t.length-1;if(e<=0)return 0;if(yn(t).rowTop<=e)return t.length-1;let o=-1,s=-1;for(;;){const a=Math.floor((n+r)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(r=a-1),o===n&&s===r))return a;o=n,s=r}}isRowInPixel(e,t){const n=e.rowTop,r=e.rowTop+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){var t,n;(n=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||n.forEach((r,i)=>e(r,i))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const r=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,i=>i.leafGroup?null:i[r])}depthFirstSearchRowNodes(e,t=!1,n=o=>o.childrenAfterGroup,r=this.rootNode,i=0){let o=i;if(!r)return o;const s=r===this.rootNode;s||e(r,o++);const{footerSvc:a}=this.beans;if(r.hasChildren()&&!r.footer){const l=n(r);if(l){o=(a==null?void 0:a.addTotalRows(o,r,e,t,s,"top"))??o;for(const u of l)o=this.depthFirstSearchRowNodes(e,t,n,u,o);return(a==null?void 0:a.addTotalRows(o,r,e,t,s,"bottom"))??o}}return o}doAggregate(e){var n;const t=this.rootNode;t&&((n=this.aggStage)==null||n.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const{groupHideOpenParentsSvc:n}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(r=>{n==null||n.pullDownGroupDataForHideOpenParents(r.childrenAfterAggFilter,!0),r.childrenAfterSort=r.childrenAfterAggFilter.slice(0),Xee(r)}),n==null||n.updateGroupDataForHideOpenParents(t)}doRowGrouping(e,t,n,r){const i=this.nodeManager.treeData,o=this.rootNode;if(!i){const s=this.groupStage;if(s)s.execute({rowNode:o,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:n,afterColumnsChanged:r});else{const a=o.sibling;o.childrenAfterGroup=o.allLeafChildren,a&&(a.childrenAfterGroup=o.childrenAfterGroup),o.updateHasChildren()}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,_ee(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(uF)==0){let n;return this.forEachNode(r=>{r.id===e&&(n=r)}),n}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var i,o;(i=this.valueCache)==null||i.onDataChanged();const e=[],t=[],n=new u1;let r=!1;(o=this.rowDataTransactionBatch)==null||o.forEach(s=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:a,rowsInserted:l}=this.nodeManager.updateRowData(s.rowDataTransaction,n);l&&(r=!0),t.push(a),s.callback&&e.push(s.callback.bind(null,a))}),this.commitTransactions(r,n),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var i;(i=this.valueCache)==null||i.onDataChanged(),this.rowNodesCountReady=!0;const t=new u1,{rowNodeTransaction:n,rowsInserted:r}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(r,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=(t==null?void 0:t.childrenAfterSort)??[];for(const r of n)r.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=vU,this.rowsToDisplay=vU}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function F_e(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function k_e(e,t){const n=ul(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function L_e(e){var t;return((t=ul(e))==null?void 0:t.isEmpty())??!0}function N_e(e,t){var n;(n=ul(e))==null||n.forEachLeafNode(t)}function V_e(e,t){var n;(n=ul(e))==null||n.forEachNodeAfterFilter(t)}function B_e(e,t){var n;(n=ul(e))==null||n.forEachNodeAfterFilterAndSort(t)}function H_e(e){var t,n;if((t=e.rowAutoHeight)!=null&&t.active){Me(3);return}(n=ul(e))==null||n.resetRowHeights()}function $_e(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=ul(e))==null?void 0:n.updateRowData(t)})}function j_e(e,t,n){e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=ul(e))==null?void 0:r.batchUpdateRowData(t,n)})}function G_e(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=ul(e))==null?void 0:t.flushAsyncTransactions()})}function z_e(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var U_e={moduleName:"ClientSideRowModel",version:Ne,rowModels:["clientSide"],beans:[P_e,M_e,O_e],dependsOn:[wee]},W_e={moduleName:"ClientSideRowModelApi",version:Ne,apiFunctions:{onGroupExpandedOrCollapsed:F_e,refreshClientSideRowModel:k_e,isRowDataEmpty:L_e,forEachLeafNode:N_e,forEachNodeAfterFilter:V_e,forEachNodeAfterFilterAndSort:B_e,resetRowHeights:H_e,applyTransaction:$_e,applyTransactionAsync:j_e,flushAsyncTransactions:G_e,getBestCostNodeSelection:z_e},dependsOn:[E_e]},q_e=class extends ye{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:o}=t,s=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:o});return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,r){var b;const i=t.shouldRowBeSkipped||(()=>!1),s=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!s,l=this.colModel.isPivotMode()?r.leafGroup:!r.group,u=!!r.footer,h=r.allChildrenCount===1&&((b=r.childrenAfterGroup)==null?void 0:b.length)===1&&PCe(this.gos,r);if(!l&&!u&&(t.skipRowGroups||h||a)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.level===-1&&!l&&!u||i(st(this.gos,{node:r})))return;const m=e.onNewBodyRow(r);if(n.forEach((C,y)=>{m.onColumn(C,y,r)}),t.getCustomContentBelowRow){const C=t.getCustomContentBelowRow(st(this.gos,{node:r}));C&&e.addCustomContent(C)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new CJ,{colGroupSvc:i}=this.beans,o=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,o)=>{r.onColumn(i,o,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{var i;const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,s)=>o.rowIndex-s.rowIndex).map(o=>{var s;return(s=this.pinnedRowModel)==null?void 0:s.getPinnedTopRow(o.rowIndex)}).forEach(r):(i=this.pinnedRowModel)==null||i.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{var u;const r=this.rowModel,i=Hi(this.gos),o=ef(this.gos),s=!i&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(h=>h.rowPinned==null).sort((h,f)=>h.rowIndex-f.rowIndex).map(h=>r.getRow(h.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return i?r.forEachPivotNode(a,!0,l==="filteredAndSorted"):o?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a),n;if(e.onlySelectedAllPages||s){const h=((u=this.beans.selectionSvc)==null?void 0:u.getSelectedNodes())??[];this.replicateSortedOrder(h),h.forEach(a)}else l==="all"?r.forEachNode(a):i||o?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),i=(o,s)=>{var a,l;return o.rowIndex!=null&&s.rowIndex!=null?o.rowIndex-s.rowIndex:o.level===s.level?((a=o.parent)==null?void 0:a.id)===((l=s.parent)==null?void 0:l.id)?n.compareRowNodes(r,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):i(o.parent,s.parent):o.level>s.level?i(o.parent,s):i(o,s.parent)};e.sort(i)}processPinnedBottomRows(e,t){return n=>{var i;const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,s)=>o.rowIndex-s.rowIndex).map(o=>{var s;return(s=this.pinnedRowModel)==null?void 0:s.getPinnedBottomRow(o.rowIndex)}).forEach(r):(i=this.pinnedRowModel)==null||i.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:o,gos:s,visibleCols:a}=this,l=o.isPivotMode(),u=p=>fu(p)?!1:!hC(p)||r;if(i&&i.length)return o.getColsForKeys(i).filter(u);const h=s.get("treeData");let f=[];return t&&!l?f=o.getCols():f=a.allCols,f=f.filter(p=>u(p)&&(n&&!h?!w2(p):!0)),f}recursivelyAddHeaderGroups(e,t,n){const r=[];e.forEach(i=>{const o=i;o.getChildren&&o.getChildren().forEach(s=>r.push(s))}),e.length>0&&nr(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;t.forEach(o=>{const s=o;let a;n?a=n(st(this.gos,{columnGroup:s})):a=this.beans.colNames.getDisplayNameForColumnGroup(s,"header");const l=s.getLeafColumns().reduce((u,h,f,p)=>{let m=yn(u);return h.getColumnGroupShow()==="open"?(!m||m[1]!=null)&&(m=[f],u.push(m)):m&&m[1]==null&&(m[1]=f-1),f===p.length-1&&m&&m[1]==null&&(m[1]=f),u},[]);r.onColumn(s,a||"",i++,s.getLeafColumns().length-1,l)})}},K_e={moduleName:"SharedExport",version:Ne,beans:[q_e]},ZU=`\r
`,Y_e=class extends XAe{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,ZU),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Me(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=ZU),this.isFirstLine=!1}},X_e=class extends YAe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Me(51);return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(st(this.gos,{})):t.fileName;QAe(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:o}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:h,columnSeparator:f}=e;return new Y_e({colModel:t,colNames:n,valueSvc:i,gos:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:h||!1,columnSeparator:f||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Q_e(e,t){var n;return(n=e.csvCreator)==null?void 0:n.getDataAsCsv(t)}function Z_e(e,t){var n;(n=e.csvCreator)==null||n.exportDataAsCsv(t)}var J_e={moduleName:"CsvExport",version:Ne,beans:[X_e],apiFunctions:{getDataAsCsv:Q_e,exportDataAsCsv:Z_e},dependsOn:[K_e]},eOe=class extends ye{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let o=0;o<e;o++){const s=n+o,a=new pg(r);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(s),a.setRowTop(t*s),i.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){ke(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(qn(this.params.datasource.getRows)){Me(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i,context:st(o,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,o)=>{const s=e.rowData?e.rowData[o]:void 0;!i.id&&i.alreadyRendered&&s&&(t[o]=new pg(n),t[o].setRowIndex(i.rowIndex),t[o].setRowTop(i.rowTop),t[o].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[o],s,this.startRow+o)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},tOe=2,nOe=class extends ye{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new eOe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Bh(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(s=>s!=e),n=(s,a)=>a.lastAccessed-s.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,o=tOe-1;t.forEach((s,a)=>{const l=s.state==="needsLoading"&&a>=o,u=r?a>=i:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,o=(e.id+1)*n+r;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,ke(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const o={value:0};let s=!1;return this.getBlocksInOrder().forEach(l=>{if(!s){if(i&&r+1!==l.id){s=!0;return}r=l.id,l.forEachNode(u=>{const h=u===e||u===t;(i||h)&&n.push(u),h&&(i=!i)},o,this.rowCount)}}),s||i?[]:n}},rOe=class extends ye{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=bh(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=bh(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!Ly(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var n;return((n=this.infiniteCache)==null?void 0:n.getRowNodesInRange(e,t))??[]}reset(){var n;if(!this.datasource)return;cg(this.gos)!=null||(n=this.beans.selectionSvc)==null||n.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(n==null?void 0:n.getSortModel())??[],rowNodeBlockLoader:r,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:bh(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new nOe(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var n;(n=this.infiniteCache)==null||n.setRowCount(e,t)}};function iOe(e){var t;(t=hR(e))==null||t.refreshCache()}function oOe(e){var t;(t=hR(e))==null||t.purgeCache()}function sOe(e){var t;return(t=hR(e))==null?void 0:t.getRowCount()}var aOe=class extends ye{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=_Ce(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Ei(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){ma(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Bh(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){Bh(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},lOe={moduleName:"InfiniteRowModelCore",version:Ne,rowModels:["infinite"],beans:[rOe,aOe]},uOe={moduleName:"InfiniteRowModel",version:Ne,apiFunctions:{refreshInfiniteCache:iOe,purgeInfiniteCache:oOe,getInfiniteRowCount:sOe},dependsOn:[lOe,R_e]},cOe="",dOe="",hOe=class extends Kn{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(n),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=ke(r)?r:n,o=t>=0,s=this.eDelta;o?s.textContent=cOe+i:s.textContent=dOe+i,s.classList.toggle("ag-value-change-delta-up",o),s.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),qo(this.eDelta)}refresh(e,t=!1){var a;const{value:n,valueFormatted:r}=e,{eValue:i,lastValue:o,beans:s}=this;if(n===o||(ke(r)?i.textContent=r:ke(n)?i.textContent=n:qo(i),(a=s.filterManager)!=null&&a.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof o=="number"){const l=n-o;this.showDelta(e,l)}return o&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},fOe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",pOe=class extends Kn{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current"),this.registerCSS(fOe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,r=vr(t).createElement("span");r.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var i;let n=e.value;if(qn(n)&&(n=""),n===this.lastValue||(i=this.beans.filterManager)!=null&&i.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return ke(e.valueFormatted)?r.textContent=e.valueFormatted:ke(e.value)?r.textContent=n:qo(r),!0}},gOe=class extends ye{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;const n=H0e(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}animateCell(e,t,n,r){const i=e.comp;if(!i)return;const{gos:o}=this;if(n||(n=o.get("cellFlashDuration")),n===0)return;ke(r)||(r=o.get("cellFadeDuration"));const s=`ag-cell-${t}`,a=`ag-cell-${t}-animation`;i.addOrRemoveCssClass(s,!0),i.addOrRemoveCssClass(a,!1);const l=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(i.addOrRemoveCssClass(s,!1),i.addOrRemoveCssClass(a,!0),l.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{e.isAlive()&&(i.addOrRemoveCssClass(a,!1),l.style.transition="")},r))},n)})}};function mOe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>n.flashCell(r,t))})}var vOe={moduleName:"HighlightChanges",version:Ne,beans:[gOe],userComponents:{agAnimateShowChangeCellRenderer:hOe,agAnimateSlideCellRenderer:pOe},apiFunctions:{flashCells:mOe}};function yOe(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function bOe(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=COe(e)}return e}function COe(e){return e.cellSelection=wOe(e,"rangeSelection"),e}function wOe(e,t){if(e&&typeof e=="object")return e[t]}var SOe=class extends ye{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ei(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ei(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Ei(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=Hi(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Ne);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,n,r]=this.addManagedEventListeners({newColumnsLoaded:({source:i})=>{i==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{n==null||n(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{r==null||r(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return bOe(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:n,pagination:r}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),n&&this.setRowSelectionState(n),r&&this.setPaginationState(r);const i=this.updateCachedState.bind(this);i("filter",this.getFilterState()),i("rowGroupExpansion",this.getRowGroupExpansionState()),i("rowSelection",this.getRowSelectionState()),i("pagination",this.getPaginationState());const o=()=>{this.updateRowGroupExpansionStateTimer=0,i("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>i("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(o)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:s=>{(s.newPage||s.newPageSize)&&i("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:n,columnOrder:r}=this.getInitialState();n&&this.setFocusedCellState(n),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(r!=null&&r.orderedColIds));const i=this.updateCachedState.bind(this);i("sideBar",this.getSideBarState()),i("focusedCell",this.getFocusedCellState());const o=this.getRangeSelectionState();i("rangeSelection",o),i("cellSelection",o),i("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>i("focusedCell",this.getFocusedCellState()),cellSelectionChanged:s=>{if(s.finished){const a=this.getRangeSelectionState();i("rangeSelection",a),i("cellSelection",a)}},bodyScrollEnd:()=>i("scroll",this.getScrollState())})}getColumnState(){const e=this.beans,t=e.colModel.isPivotMode(),n=[],r=[],i=[],o=[],s=[],a=[],l=[],u=[],h=[];let f=0;const p=By(e);for(let m=0;m<p.length;m++){const{colId:b,sort:C,sortIndex:y,rowGroup:x,rowGroupIndex:R,aggFunc:T,pivot:M,pivotIndex:A,pinned:D,hide:_,width:I,flex:O}=p[m];h.push(b),C&&(n[y??f++]={colId:b,sort:C}),x&&(r[R??0]=b),typeof T=="string"&&i.push({colId:b,aggFunc:T}),M&&(o[A??0]=b),D&&(D==="right"?a:s).push(b),_&&l.push(b),(O!=null||I)&&u.push({colId:b,flex:O??void 0,width:I})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:s.length||a.length?{leftColIds:s,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:h.length?{orderedColIds:h}:void 0}}setColumnState(e){const{sort:t,rowGroup:n,aggregation:r,pivot:i,columnPinning:o,columnVisibility:s,columnSizing:a,columnOrder:l,partialColumnState:u}=e,h={},f=y=>{let x=h[y];return x||(x={colId:y},h[y]=x,x)},p=u?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:y,sort:x},R)=>{const T=f(y);T.sort=x,T.sortIndex=R}),p.sort=null,p.sortIndex=null),n&&(n.groupColIds.forEach((y,x)=>{const R=f(y);R.rowGroup=!0,R.rowGroupIndex=x}),p.rowGroup=null,p.rowGroupIndex=null),r&&(r.aggregationModel.forEach(({colId:y,aggFunc:x})=>{f(y).aggFunc=x}),p.aggFunc=null),i&&(i.pivotColIds.forEach((y,x)=>{const R=f(y);R.pivot=!0,R.pivotIndex=x}),this.gos.updateGridOptions({options:{pivotMode:i.pivotMode},source:"gridInitializing"}),p.pivot=null,p.pivotIndex=null),o&&(o.leftColIds.forEach(y=>{f(y).pinned="left"}),o.rightColIds.forEach(y=>{f(y).pinned="right"}),p.pinned=null),s&&(s.hiddenColIds.forEach(y=>{f(y).hide=!0}),p.hide=null),a&&(a.columnSizingModel.forEach(({colId:y,flex:x,width:R})=>{const T=f(y);T.flex=x??null,T.width=R}),p.flex=null);const m=l==null?void 0:l.orderedColIds,b=!!(m!=null&&m.length),C=b?m.map(y=>f(y)):Object.values(h);C.length&&(this.columnStates=C,Is(this.beans,{state:C,applyOrder:b,defaultState:p},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;this.columnGroupStates=void 0;const r=this.beans,{pivotResultCols:i,colGroupSvc:o}=r;if(i!=null&&i.isPivotResultColsPresent()){if(t){const s=[];for(const a of t)i.getPivotResultCol(a.colId)&&s.push(a);Is(r,{state:s,applyOrder:e},"gridInitializing")}n&&(o==null||o.setColumnGroupState(n,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState(),n=[];return t.forEach(({groupId:r,open:i})=>{i&&n.push(r)}),n.length?{openColumnGroupIds:n}:void 0}setColumnGroupState(e){var o;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const n=new Set((o=e.columnGroup)==null?void 0:o.openColumnGroupIds),i=t.getColumnGroupState().map(({groupId:s})=>{const a=n.has(s);return a&&n.delete(s),{groupId:s,open:a}});n.forEach(s=>{i.push({groupId:s,open:!0})}),i.length&&(this.columnGroupStates=i),t.setColumnGroupState(i,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||n?{filterModel:t,advancedFilterModel:n}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,advancedFilterModel:r}=e??{};n&&(t==null||t.setFilterModel(n,"columnFilter")),r&&(t==null||t.setAdvFilterModel(r,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(n=>{const{id:r,type:i,startRow:o,endRow:s,columns:a,startColumn:l}=n;return{id:r,type:i,startRow:o,endRow:s,colIds:a.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!Wc(t)||!n)return;const o=[];e.cellRanges.forEach(s=>{const a=[];if(s.colIds.forEach(u=>{const h=r.getCol(u);h&&a.push(h)}),!a.length)return;let l=r.getCol(s.startColId);if(!l){const u=i.allCols,h=new Set(a);l=u.find(f=>h.has(f))}o.push({...s,columns:a,startColumn:l})}),n.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:n}=(e==null?void 0:e.getVScrollPosition())??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e,{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:o,ctrlsSvc:s}=this.beans;r.wrapIncoming(()=>{var a;s.get("center").setCenterViewportScrollLeft(n),(a=s.getScrollFeature())==null||a.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),o==null||o.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:n,rowPinned:r}=e,{focusSvc:i,colModel:o}=this.beans;i.setFocusedCell({column:o.getCol(t),rowIndex:n,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e){const{pagination:t,gos:n}=this.beans;t&&(e.pageSize&&!n.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var r;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((r=t==null?void 0:t.toggledNodes)!=null&&r.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:r,id:i})=>{r&&i&&n.push(i)}),n.length?{expandedRowGroupIds:n}:void 0}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const i of Object.keys(t)){const o=t[i];Ly(o,r[i])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Ly(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},xOe={moduleName:"GridState",version:Ne,beans:[SOe],apiFunctions:{getState:yOe}};function EOe(e){return e.rowModel.isLastRowIndexKnown()}function ROe(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function TOe(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function AOe(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function POe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function _Oe(e){var t;(t=e.pagination)==null||t.goToNextPage()}function OOe(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function DOe(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function IOe(e){var t;(t=e.pagination)==null||t.goToLastPage()}function MOe(e,t){var n;(n=e.pagination)==null||n.goToPage(t)}var FOe=class extends ye{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(bh(t),1),i=Math.floor(e/r);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?Ei(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},vv="paginationPageSizeSelector",kOe=class extends Kn{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(vv,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){qo(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(vv)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),o=this.gos.get(vv)!==!0;Me(94,{pageSizeSet:i,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||Me(95,{paginationPageSizeOption:t,paginationPageSizeSelector:vv}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(tf(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new k2).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(vv);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},LOe={selector:"AG-PAGE-SIZE-SELECTOR",component:kOe},NOe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",VOe=class extends yxe{constructor(){super(),this.btFirst=et,this.btPrevious=et,this.btNext=et,this.btLast=et,this.lbRecordCount=et,this.lbFirstRowOnPage=et,this.lbLastRowOnPage=et,this.lbCurrent=et,this.lbTotal=et,this.pageSizeComp=et,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(NOe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[LOe]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",Rs(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Rs(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",Rs(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",Rs(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):x0e(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===ve.ENTER||r.key===ve.SPACE)&&(r.preventDefault(),n())}})}),S0e(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):KAe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),r=e("of","of"),i=e("firstPage","First Page"),o=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${n}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${r}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${r}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Ybe(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null;if(r===1){const R=this.rowModel.getRow(0);if(R&&R.group&&!(R.groupData||R.aggData)){this.setTotalLabelsToZero();return}}const i=this.pagination.getCurrentPage(),o=this.pagination.getPageSize();let s,a;this.isZeroPagesToDisplay()?s=a=0:(s=o*i+1,a=s+o-1,e&&a>r&&(a=r));const l=s+o-1,u=!e&&n<l,h=this.formatNumber(s);this.lbFirstRowOnPage.textContent=h;let f;const p=this.getLocaleTextFunc();u?f=p("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const b=t>0?i+1:0,C=this.formatNumber(b);this.lbCurrent.textContent=C;let y,x;if(e)y=this.formatNumber(t),x=this.formatNumber(r);else{const R=p("more","more");y=R,x=R}this.lbTotal.textContent=y,this.lbRecordCount.textContent=x,this.announceAriaStatus(h,f,x,C,y)}announceAriaStatus(e,t,n,r,i){var f,p;const o=this.getLocaleTextFunc(),s=o("page","Page"),a=o("to","to"),l=o("of","of"),u=`${e} ${a} ${t} ${l} ${n}`,h=`${s} ${r} ${l} ${i}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,(f=this.ariaAnnounce)==null||f.announceValue(u,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,(p=this.ariaAnnounce)==null||p.announceValue(h,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},BOe={selector:"AG-PAGINATION",component:VOe},HOe=class extends ye{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return BOe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ke(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ke(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ke(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ke(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,o=n*i;let s=n*(i+1)-1;if(s>r&&(s=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),s===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},$Oe={moduleName:"Pagination",version:Ne,beans:[HOe,FOe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:EOe,paginationGetPageSize:ROe,paginationGetCurrentPage:TOe,paginationGetTotalPages:AOe,paginationGetRowCount:POe,paginationGoToNextPage:_Oe,paginationGoToPreviousPage:OOe,paginationGoToFirstPage:DOe,paginationGoToLastPage:IOe,paginationGoToPage:MOe},dependsOn:[fR]};function jOe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function Qee(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&Qee(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function GOe(e,t){return e.rowModel.getRowNode(t)}function zOe(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function UOe(e){return e.rowRenderer.getRenderedNodes()}function WOe(e,t,n){e.rowModel.forEachNode(t,n)}function qOe(e){return e.rowRenderer.firstRenderedRow}function KOe(e){return e.rowRenderer.lastRenderedRow}function YOe(e,t){return e.rowModel.getRow(t)}function XOe(e){return e.rowModel.getRowCount()}var QOe={moduleName:"RowApi",version:Ne,apiFunctions:{redrawRows:jOe,setRowNodeExpanded:Qee,getRowNode:GOe,addRenderedRowListener:zOe,getRenderedNodes:UOe,forEachNode:WOe,getFirstDisplayedRowIndex:qOe,getLastDisplayedRowIndex:KOe,getDisplayedRowAtIndex:YOe,getDisplayedRowCount:XOe}},ZOe={moduleName:"ScrollApi",version:Ne,apiFunctions:{getVerticalPixelRange:F1e,getHorizontalPixelRange:k1e,ensureColumnVisible:Uee,ensureIndexVisible:Wee,ensureNodeVisible:L1e}};function JOe(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function eDe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function tDe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function nDe(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function rDe(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function iDe(e){return{rowHeight:bh(e),headerHeight:mC(e)}}function oDe(e,t={}){var o;const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const a=s.getCellRenderer();a!=null&&n.push(Hy(a))}),(o=t.columns)!=null&&o.length)return n;const r=[],i=vF(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(i&&!yF(s.rowNode,i)||!s.isFullWidth())return;const a=s.getFullWidthCellRenderers();for(let l=0;l<a.length;l++){const u=a[l];u!=null&&r.push(Hy(u))}}),[...r,...n]}var sDe={moduleName:"RenderApi",version:Ne,apiFunctions:{setGridAriaProperty:JOe,refreshCells:eDe,refreshHeader:tDe,isAnimationFrameQueueEmpty:nDe,flushAllAnimationFrames:rDe,getSizesForCurrentTheme:iDe,getCellRendererInstances:oDe}};function aDe(e,t){var n,r;typeof t=="number"?(n=e.colAutosize)==null||n.sizeColumnsToFit(t,"api"):(r=e.colAutosize)==null||r.sizeColumnsToFitGridBody(t)}function lDe(e,t,n){var r;(r=e.colAutosize)==null||r.autoSizeCols({colKeys:t,skipHeader:n,source:"api"})}function uDe(e,t){var n;(n=e.colAutosize)==null||n.autoSizeAllColumns("api",t)}var cDe=class extends ye{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:r,stopAtGroup:i,source:o="api"}=e,{animationFrameSvc:s,renderStatus:a,colModel:l,autoWidthCalc:u,visibleCols:h}=this.beans;if(s==null||s.flushAllFrames(),this.timesDelayed<5&&a&&!a.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const f=[];let p=-1;const m=n??this.gos.get("skipHeaderOnAutoSize"),b=r??m;for(;p!==0;){p=0;const C=[];t.forEach(y=>{if(!y)return;const x=l.getCol(y);if(!x||hC(x)||f.indexOf(x)>=0)return;const R=u.getPreferredWidthForColumn(x,m);if(R>0){const T=dDe(x,R);x.setActualWidth(T,o),f.push(x),p++}C.push(x)}),C.length&&h.refresh(o)}b||this.autoSizeColumnGroupsByColumns(t,o,i),hg(this.eventSvc,f,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:i}=this.beans,o=new Set;r.getColsForKeys(e).forEach(u=>{let h=u.getParent();for(;h&&h!=n;)h.isPadding()||o.add(h),h=h.getParent()});let a;const l=[];for(const u of o){for(const h of i.getHeaderRowContainerCtrls())if(a=h.getHeaderCtrlForColumn(u),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const n=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:n,skipHeader:t,source:e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const i=new ap(e);return i.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),i.removeEventListener("doubleTap",r),i.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const o=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:r}=this.beans,i=n.getGridBodyCtrl(),s=i.isVerticalScrollShowing()?r.getScrollbarWidth():0,l=Fy(i.eGridBody)-s;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Me(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){var m;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const i={};r&&((m=r==null?void 0:r.columnLimits)==null||m.forEach(({key:b,...C})=>{i[typeof b=="string"?b:b.getColId()]=C}));const o=this.beans.visibleCols.allCols,s=e===Bl(o);if(e<=0||!o.length||s)return;const a=[],l=[];o.forEach(b=>{b.getColDef().suppressSizeToFit===!0?l.push(b):a.push(b)});const u=a.slice(0);let h=!1;const f=b=>{ma(a,b),l.push(b)};for(a.forEach(b=>{b.resetActualWidth(t);const C=i==null?void 0:i[b.getId()],y=(C==null?void 0:C.minWidth)??(r==null?void 0:r.defaultMinWidth),x=(C==null?void 0:C.maxWidth)??(r==null?void 0:r.defaultMaxWidth),R=b.getActualWidth();typeof y=="number"&&R<y?b.setActualWidth(y,t,!0):typeof x=="number"&&R>x&&b.setActualWidth(x,t,!0)});!h;){h=!0;const b=e-Bl(l);if(b<=0)a.forEach(C=>{var x;const y=((x=i==null?void 0:i[C.getId()])==null?void 0:x.minWidth)??(r==null?void 0:r.defaultMinWidth);if(typeof y=="number"){C.setActualWidth(y,t,!0);return}C.setActualWidth(C.minWidth,t)});else{const C=b/Bl(a);let y=b;for(let x=a.length-1;x>=0;x--){const R=a[x],T=i==null?void 0:i[R.getId()],M=(T==null?void 0:T.minWidth)??(r==null?void 0:r.defaultMinWidth),A=(T==null?void 0:T.maxWidth)??(r==null?void 0:r.defaultMaxWidth),D=R.getMinWidth(),_=R.getMaxWidth(),I=typeof M=="number"&&M>D?M:D,O=typeof A=="number"&&A<_?A:_;let F=Math.round(R.getActualWidth()*C);F<I?(F=I,f(R),h=!1):F>O?(F=O,f(R),h=!1):x===0&&(F=y),R.setActualWidth(F,t,!0),y-=F}}}u.forEach(b=>{b.fireColumnWidthChangedEvent(t)});const p=this.beans.visibleCols;p.setLeftValues(t),p.updateBodyWidths(),!n&&hg(this.eventSvc,u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:r,defaultMaxWidth:i}=e,o=n==null?void 0:n.map(({colId:s,minWidth:a,maxWidth:l})=>({key:s,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:r,defaultMaxWidth:i,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:n}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:n,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",n)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function dDe(e,t){const n=e.getMinWidth();t<n&&(t=n);const r=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=r),t}var hDe={moduleName:"ColumnAutoSize",version:Ne,beans:[cDe],apiFunctions:{sizeColumnsToFit:aDe,autoSizeColumns:lDe,autoSizeAllColumns:uDe},dependsOn:[see]};function fDe(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function pDe(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function gDe(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t)}function mDe(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t)}var vDe=class extends ye{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};yv(this.pinnedBottomRows,t),yv(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=ug(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return yv(this.pinnedBottomRows,n),t=0,yv(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=cg(this.gos),i=t==="top"?kJ:LJ,o=new Set(n.order),s=[],a=new Set;let l=0,u=-1;for(const h of e){const f=(r==null?void 0:r({data:h,level:0,rowPinned:t}))??i+this.nextId++;if(a.has(f)){Me(96,{id:f,data:h});continue}u++,a.add(f),s.push(f);const p=uy(n,f);if(p!==void 0)p.data!==h&&p.setData(h),l+=this.setRowTopAndRowIndex(p,l,u),o.delete(f);else{const m=new pg(this.beans);m.id=f,m.data=h,m.rowPinned=t,l+=this.setRowTopAndRowIndex(m,l,u),n.cache[f]=m,n.order.push(f)}}o.forEach(h=>{var f;(f=uy(n,h))==null||f.clearRowTopAndRowIndex(),delete n.cache[h]}),n.order=s}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(ug(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return JU(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return JU(this.pinnedBottomRows)}getPinnedTopRowCount(){return wF(this.pinnedTopRows)}getPinnedBottomRowCount(){return wF(this.pinnedBottomRows)}getPinnedTopRow(e){return CF(this.pinnedTopRows,e)}getPinnedBottomRow(e){return CF(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return uy(this.getCache(t),e)}forEachPinnedRow(e,t){return yv(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function JU(e){const t=wF(e);if(t===0)return 0;const n=CF(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function uy(e,t){return e.cache[t]}function CF(e,t){return uy(e,e.order[t])}function yv(e,t){e.order.forEach((n,r)=>{const i=uy(e,n);i&&t(i,r)})}function wF(e){return e.order.length}var yDe={moduleName:"PinnedRow",version:Ne,beans:[vDe],apiFunctions:{getPinnedTopRowCount:fDe,getPinnedBottomRowCount:pDe,getPinnedTopRow:gDe,getPinnedBottomRow:mDe}},bDe=class extends iy{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,i,o,s){this.eWrapper=n,super.setComp(e,t,n,r,i,o,s),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&IZ(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){Jbe(this.eGui,this.cellSpan.spannedNodes.size)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellSpan)}onFocusOut(){this.focusedCellPosition=void 0,super.onFocusOut()}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}isCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(uR(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},CDe=class extends wx{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var r;const t=(r=this.beans.rowSpanSvc)==null?void 0:r.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new bDe(t,this,this.beans)}shouldRecreateCellCtrl(e){var r;const t=(r=this.beans.rowSpanSvc)==null?void 0:r.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!0:e.getCellSpan()!==t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},wDe=class extends ye{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,r=this[n],i=r.size,o=this.getAllRelevantRowControls(e),s=new Map;let a=!1;for(const u of o)u.isAlive()&&(t==null||t.forEachSpannedColumn(u.rowNode,(h,f)=>{if(s.has(f.firstNode))return;const p=r.get(f.firstNode);if(p){s.set(f.firstNode,p),r.delete(f.firstNode);return}a=!0;const m=new CDe(f.firstNode,this.beans,!1,!1,!1);s.set(f.firstNode,m)}));this[n]=s;const l=s.size===i;if(!(!a&&l)){for(const u of r.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t==null?void 0:t.getCellSpanByPosition(e);if(!n)return;const r=`${Zee(e.rowPinned)}Ctrls`,i=this[r].get(n.firstNode);if(i)return i.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},Zee=e=>e??"center",SDe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var n;const e=(n=this.firstNode.__autoHeights)==null?void 0:n[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(r=>{r!==this.lastNode&&(t+=r.rowHeight)}),e-t}},xDe=class extends ye{constructor(e){super(),this.column=e}buildCache(e){var x;const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:o}}=this,{colDef:s}=t,a=new Map,l=n.getCallback("isFullWidthRow"),u=s.equals,h=s.spanRows,f=typeof h=="function";let p=null,m=null,b;const C=(R,T)=>{p=R,m=null,b=T},y=R=>{const T=!R.isExpandable()&&!R.group&&!R.detail&&(l?!l({rowNode:R}):!0);if(R.rowIndex==null||!T){C(null,null);return}if(p==null||R.level!==p.level||R.footer||m&&R.rowIndex-1!==(m==null?void 0:m.getLastNode().rowIndex)){C(R,o.getValue(t,R));return}const M=o.getValue(t,R);if(f){const A=st(n,{valueA:b,nodeA:p,valueB:M,nodeB:R,column:t,colDef:s});if(!h(A)){C(R,M);return}}else if(u?!u(b,M):b!==M){C(R,M);return}m||(m=new SDe(t,p),a.set(p,m)),m.addSpannedNode(R),a.set(R,m)};switch(e){case"center":(x=i.forEachDisplayedNode)==null||x.call(i,y);break;case"top":r==null||r.forEachPinnedRow("top",y);break;case"bottom":r==null||r.forEachPinnedRow("bottom",y);break}this[`${e}ValueNodeMap`]=a}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${Zee(e.rowPinned)}ValueNodeMap`].get(e)}},EDe=class extends ye{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Ei(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Ei(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){this.addManagedEventListeners({modelUpdated:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this)})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new xDe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated(e){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,o=this.spanningColumns.get(r);if(!o)return;let s;switch(e.rowPinned){case"top":s=t==null?void 0:t.getPinnedTopRow(i);break;case"bottom":s=t==null?void 0:t.getPinnedBottomRow(i);break;default:s=n.getRow(i)}if(s)return o.getCellSpan(s)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const i=r.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},RDe={moduleName:"CellSpan",version:Ne,beans:[EDe,wDe]},TDe=class extends ye{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);A2(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,o=>t.addOrRemoveCssClass(o,!0),o=>t.addOrRemoveCssClass(o,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const i=this.getCellClassParams(e,t);r=n(i)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);this.staticClasses.forEach(o=>t.addOrRemoveCssClass(o,!1));const i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i,i.forEach(o=>t.addOrRemoveCssClass(o,!0))}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return st(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},ADe=class extends ye{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){A2(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new TDe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},PDe={moduleName:"CellStyle",version:Ne,beans:[ADe]},_De={moduleName:"RowStyle",version:Ne,beans:[rSe]};function ODe(e,t){var n;return!!((n=e.colHover)!=null&&n.isHovered(t))}var DDe=class extends ye{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){if(this.gos.get("columnHoverHighlight")){const e=this.beans.colHover;this.addManagedListeners(this.element,{mouseout:e.clearMouseOver.bind(e),mouseover:e.setMouseOver.bind(e,this.columns)})}}},IDe="ag-column-hover",MDe=class extends ye{constructor(){super(...arguments),this.beanName="colHover"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t||!this.gos.get("columnHoverHighlight"))return;const n=this.isHovered(e);t.addOrRemoveCssClass(IDe,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const i=()=>{if(!this.gos.get("columnHoverHighlight"))return;const o=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new DDe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},FDe={moduleName:"ColumnHover",version:Ne,beans:[MDe],apiFunctions:{isColumnHovered:ODe}},kDe=class extends ye{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var o;const n=((o=this.wrapSvc)==null?void 0:o.wrap(t))??t,r=!gS.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addEventListener(e,n,r)}removeEventListener(e,t){var o,s;const n=((o=this.wrapSvc)==null?void 0:o.unwrap(t))??t,r=this.asyncListeners.get(e),i=!!(r!=null&&r.delete(n));i||(s=this.syncListeners.get(e))==null||s.delete(n),this.eventSvc.removeEventListener(e,n,i)}addGlobalListener(e){var o;const t=((o=this.wrapSvc)==null?void 0:o.wrapGlobal(e))??e,n=(s,a)=>{gS.has(s)&&t(s,a)},r=(s,a)=>{gS.has(s)||t(s,a)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=(n==null?void 0:n.unwrapGlobal(e))??e;if(r.has(i)){const{syncListener:s,asyncListener:a}=r.get(i);t.removeGlobalListener(s,!1),t.removeGlobalListener(a,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventSvc.removeEventListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function LDe(e,t,n){var r;(r=e.apiEventSvc)==null||r.addEventListener(t,n)}function NDe(e,t,n){var r;(r=e.apiEventSvc)==null||r.removeEventListener(t,n)}function VDe(e,t){var n;(n=e.apiEventSvc)==null||n.addGlobalListener(t)}function BDe(e,t){var n;(n=e.apiEventSvc)==null||n.removeGlobalListener(t)}var HDe={moduleName:"EventApi",version:Ne,apiFunctions:{addEventListener:LDe,addGlobalListener:VDe,removeEventListener:NDe,removeGlobalListener:BDe},beans:[kDe]},$De=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",jDe=class extends ye{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const i=ZP(this.gos),{column:o,eGui:s}=t,a=o.getColDef();!r&&i&&!a.headerComponent&&(r=pS(()=>s.querySelector(".ag-header-cell-text")));const l={getColumn:()=>o,getColDef:()=>o.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>n??o.getColDef().headerTooltip,shouldDisplayTooltip:r};let u=this.createTooltipFeature(l);return u&&(u=t.createBean(u),t.setRefreshFunction("tooltip",()=>u.refreshTooltip())),u}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const i=ZP(this.gos),{column:o,eGui:s}=t,a=o.getColGroupDef();!r&&i&&!(a!=null&&a.headerGroupComponent)&&(r=pS(()=>s.querySelector(".ag-header-group-text")));const l={getColumn:()=>o,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:r};a&&(l.getColDef=()=>a);const u=this.createTooltipFeature(l);return u&&t.createBean(u)}enableCellTooltipFeature(e,t,n){const{column:r,rowNode:i}=e,o=()=>{const l=r.getColDef(),u=i.data;if(l.tooltipField&&ke(u))return ry(u,l.tooltipField,r.isTooltipFieldContainsDots());const h=l.tooltipValueGetter;return h?h(st(this.gos,{location:"cell",colDef:r.getColDef(),column:r,rowIndex:e.cellPosition.rowIndex,node:i,data:i.data,value:e.value,valueFormatted:e.valueFormatted})):null},s=ZP(this.gos);!n&&s&&!e.isCellRenderer()&&(n=pS(()=>{const l=e.eGui;return l.children.length===0?l:l.querySelector(".ag-cell-value")}));const a={getColumn:()=>r,getColDef:()=>r.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>i,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:o,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(a,this.beans)}refreshRowTooltip(e,t,n,r){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},o=this.beans,s=o.context;e&&t.destroyBean(e,s);const a=this.createTooltipFeature(i,o);return t.createBean(a,s)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=ke(t.tooltipField)||ke(t.tooltipValueGetter)||ke(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},GDe={moduleName:"Tooltip",version:Ne,beans:[jDe],dynamicBeans:{tooltipFeature:dxe},userComponents:{agTooltipComponent:UAe},dependsOn:[fR],css:[$De]},zDe={moduleName:"Locale",version:Ne,beans:[LAe]},UDe=class extends ye{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Ei(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var o,s;const{visibleCols:e,rowModel:t,rowSpanSvc:n}=this.beans,r=e.autoHeightCols;let i=!1;(o=t.forEachDisplayedNode)==null||o.call(t,a=>{var h;const l=a.__autoHeights;let u=ug(this.beans,a).height;for(const f of r){if(this.colSpanSkipRow(f,a))return;let p=l==null?void 0:l[f.getColId()];const m=n==null?void 0:n.getCellSpan(f,a);if(m){if(m.getLastNode()!==a)continue;if(p=(h=n==null?void 0:n.getCellSpan(f,a))==null?void 0:h.getLastNodeAutoHeight(),!p)return}if(p==null)return;u=Math.max(p,u)}u!==a.rowHeight&&(a.setRowHeight(u),i=!0)}),i&&((s=t.onRowHeightChanged)==null||s.call(t))}setRowAutoHeight(e,t,n){if(e.__autoHeights||(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipRow(e,t){const{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=i.getLeftColsForRow(t);break;case"right":o=i.getRightColsForRow(t);break;case null:o=r.getColsWithinViewport(t);break}return o.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:i,column:o}=e,s=this.beans,a=h=>{if(e.editing||!e.isAlive()||!n.isAlive())return;const{paddingTop:f,paddingBottom:p,borderBottomWidth:m,borderTopWidth:b}=Jh(r),C=f+p+m+b,x=t.offsetHeight+C;if(h<5){const R=vr(s),T=!R||!R.contains(t),M=x==0;if(T||M){window.setTimeout(()=>a(h+1),0);return}}this.setRowAutoHeight(i,x,o)},l=()=>a(0);l();const u=xu(s,t,l);return n.addDestroyFunc(()=>{u(),this.setRowAutoHeight(i,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},WDe={moduleName:"RowAutoHeight",version:Ne,beans:[UDe]},qDe={moduleName:"AllCommunity",version:Ne,dependsOn:[U_e,J_e,uOe,RPe,Q1e,Z1e,J1e,e_e,t_e,n_e,r_e,X1e,g1e,m1e,v1e,p1e,b1e,C1e,xOe,A_e,$Oe,lRe,QOe,ZOe,sDe,hDe,$xe,yDe,v_e,EAe,PDe,FDe,_De,HDe,AAe,vOe,GDe,zDe,WDe,Hxe,W_e,RDe]};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KDe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jee=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YDe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XDe=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>w.createElement("svg",{ref:l,...YDe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Jee("lucide",i),...a},[...s.map(([u,h])=>w.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=(e,t)=>{const n=w.forwardRef(({className:r,...i},o)=>w.createElement(XDe,{ref:o,iconNode:t,className:Jee(`lucide-${KDe(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QDe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ZDe=j2("Search",QDe);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JDe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],eIe=j2("SquarePen",JDe);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tIe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nIe=j2("Trash2",tIe);var zi=z.createContext({}),vC=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();let s,a,l=!1;return o.then(u=>{if(l){t.destroyBean(u);return}s=u,a=s.getGui(),n.appendChild(a),e4(r,s)}),()=>{var u;l=!0,s&&((u=a==null?void 0:a.parentElement)==null||u.removeChild(a),t.destroyBean(s),r&&e4(r,void 0))}},e4=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},ws=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),Ts=class ete{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new ete;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},sm=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},xY,SF=(xY=z.version)==null?void 0:xY.split(".")[0],rIe=SF==="16"||SF==="17";function iIe(){return SF==="19"}var mS=!1;function oIe(e){return mS||setTimeout(()=>mS=!1,0),mS=!0,e()}var Rx=(e,t)=>{!rIe&&e&&!mS?IS.flushSync(t):t()};function Tx(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],o=new Map,s=new Map;for(let a=0;a<t.length;a++){const l=t[a];s.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];o.set(l.instanceId,l),s.has(l.instanceId)&&r.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;o.has(u)||i.push(l)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var tte=w.forwardRef((e,t)=>{var G;const{registry:n,context:r}=w.useContext(zi),i=w.useRef(null),o=w.useRef(null),s=w.useRef(null),a=w.useRef(null),l=w.useRef(null),u=w.useRef(),[h,f]=w.useState(),[p,m]=w.useState(),[b,C]=w.useState(),[y,x]=w.useState(()=>new Ts),[R,T]=w.useState(()=>new Ts("ag-hidden")),[M,A]=w.useState(()=>new Ts("ag-hidden")),[D,_]=w.useState(()=>new Ts("ag-invisible"));w.useImperativeHandle(t,()=>({refresh(){return!1}})),w.useLayoutEffect(()=>vC(h,r,o.current),[h]);const I=w.useCallback(U=>{if(i.current=U,!U){u.current=r.destroyBean(u.current);return}const Z={setInnerRenderer:(Q,J)=>{f(Q),C(J)},setChildCount:Q=>m(Q),addOrRemoveCssClass:(Q,J)=>x(ne=>ne.setClass(Q,J)),setContractedDisplayed:Q=>A(J=>J.setClass("ag-hidden",!Q)),setExpandedDisplayed:Q=>T(J=>J.setClass("ag-hidden",!Q)),setCheckboxVisible:Q=>_(J=>J.setClass("ag-invisible",!Q))},$=n.createDynamicBean("groupCellRendererCtrl",!0);$&&(u.current=r.createBean($),u.current.init(Z,U,s.current,a.current,l.current,tte,e))},[]),O=w.useMemo(()=>`ag-cell-wrapper ${y.toString()}`,[y]),F=w.useMemo(()=>`ag-group-expanded ${R.toString()}`,[R]),L=w.useMemo(()=>`ag-group-contracted ${M.toString()}`,[M]),V=w.useMemo(()=>`ag-group-checkbox ${D.toString()}`,[D]),N=h&&h.componentFromFramework,Y=N?h.componentClass:void 0,X=h==null&&b!=null,j=Jl(b,!0);return z.createElement("span",{className:O,ref:I,...e.colDef?{}:{role:(G=u.current)==null?void 0:G.getCellAriaRole()}},z.createElement("span",{className:F,ref:a}),z.createElement("span",{className:L,ref:l}),z.createElement("span",{className:V,ref:s}),z.createElement("span",{className:"ag-group-value",ref:o},X&&z.createElement(z.Fragment,null,j),N&&z.createElement(Y,{...h.params})),z.createElement("span",{className:"ag-group-child-count"},p))}),t4=tte,G2=w.createContext({setMethods:()=>{}}),sIe=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:o,...s},a]=w.useState(t);return w.useEffect(()=>{n(l=>a(l))},[]),z.createElement(G2.Provider,{value:{setMethods:i}},z.createElement(r,{key:o,...s}))},aIe=w.memo(sIe),lIe=0;function n4(){return`agPortalKey_${++lIe}`}var nte=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=n4(),this.portalKey=n4(),this.instanceCreated=this.isStatelessComponent()?Wn.resolve(!1):new Wn(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Wn(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var n;this.componentInstance=t,(n=this.resolveInstanceCreated)==null||n.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Zb.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return w.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function z2(e,t,n){e.forEach(r=>{const i=t[r];i&&(n[r]=i)})}var ba=class extends nte{constructor(){super(...arguments),this.awaitUpdateCallback=new Wn(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=aIe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Wn(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,z2(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Wn(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},uIe=class extends ba{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},cIe=class extends ba{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},dIe=class extends ba{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},hIe=class extends ba{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Wn(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var n;const t=this.providedMethods;t?(n=t.afterGuiAttached)==null||n.call(t,e):this.awaitSetMethodsCallback.then(()=>{var r,i;return(i=(r=this.providedMethods)==null?void 0:r.afterGuiAttached)==null?void 0:i.call(r,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function rte(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Wn.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var fIe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){z2(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),rte(this.floatingFilterParams,e)}},pIe=class extends ba{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),rte(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},gIe=class extends ba{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},mIe=class extends ba{refresh(e){this.sourceParams=e,this.refreshProps()}},vIe=class extends ba{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},yIe=class extends ba{refresh(e){this.sourceParams=e,this.refreshProps()}},bIe=class extends ba{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},CIe=class extends ba{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function U2(){Me(231)}var wIe=1e3,SIe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||wIe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},xIe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=w.useContext(zi),r=t?e.column.getColId():void 0,[i,o]=w.useState(),[s,a]=w.useState(),l=w.useRef(),u=w.useRef(null),h=w.useRef(null),f=w.useRef(null),p=w.useRef(),m=w.useRef();t&&!m.current&&(m.current=new pC(()=>u.current));const b=w.useCallback(R=>{var A;if(u.current=R,l.current=R?n.createBean(new rm):n.destroyBean(l.current),!R||!t)return;const T={setWidth:D=>{u.current&&(u.current.style.width=D)},addOrRemoveCssClass:(D,_)=>m.current.addOrRemoveCssClass(D,_),setUserStyles:D=>a(D),setAriaSort:D=>{u.current&&(D?nCe(u.current,D):rCe(u.current))},setUserCompDetails:D=>o(D),getUserCompInstance:()=>p.current||void 0};e.setComp(T,R,h.current,f.current,l.current);const M=e.getSelectAllGui();M&&((A=h.current)==null||A.insertAdjacentElement("afterend",M),l.current.addDestroyFunc(()=>M.remove()))},[]);w.useLayoutEffect(()=>vC(i,n,f.current,p),[i]),w.useEffect(()=>{e.setDragSource(u.current)},[i]);const C=w.useMemo(()=>!!((i==null?void 0:i.componentFromFramework)&&sm(i.componentClass)),[i]),y=i&&i.componentFromFramework,x=i&&i.componentClass;return z.createElement("div",{ref:b,style:s,className:"ag-header-cell","col-id":r,role:"columnheader"},z.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),z.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&C&&z.createElement(x,{...i.params}),y&&!C&&z.createElement(x,{...i.params,ref:p})))},EIe=w.memo(xIe),RIe=({ctrl:e})=>{const{context:t,gos:n}=w.useContext(zi),[r,i]=w.useState(),[o,s]=w.useState(()=>new Ts("ag-header-cell","ag-floating-filter")),[a,l]=w.useState(()=>new Ts),[u,h]=w.useState(()=>new Ts("ag-floating-filter-button","ag-hidden")),[f,p]=w.useState("false"),[m,b]=w.useState(),[,C]=w.useState(1),y=w.useRef(),x=w.useRef(null),R=w.useRef(null),T=w.useRef(null),M=w.useRef(null),A=w.useRef(),D=w.useRef(),_=U=>{U!=null&&A.current&&A.current(U)},I=w.useCallback(U=>{if(x.current=U,y.current=U?t.createBean(new rm):t.destroyBean(y.current),!U)return;D.current=new Wn($=>{A.current=$});const Z={addOrRemoveCssClass:($,Q)=>s(J=>J.setClass($,Q)),setUserStyles:$=>i($),addOrRemoveBodyCssClass:($,Q)=>l(J=>J.setClass($,Q)),setButtonWrapperDisplayed:$=>{h(Q=>Q.setClass("ag-hidden",!$)),p($?"false":"true")},setWidth:$=>{x.current&&(x.current.style.width=$)},setCompDetails:$=>b($),getFloatingFilterComp:()=>D.current?D.current:null,setMenuIcon:$=>{var Q;return(Q=M.current)==null?void 0:Q.appendChild($)}};e.setComp(Z,U,M.current,R.current,y.current)},[]);w.useLayoutEffect(()=>vC(m,t,R.current,_),[m]);const O=w.useMemo(()=>o.toString(),[o]),F=w.useMemo(()=>a.toString(),[a]),L=w.useMemo(()=>u.toString(),[u]),V=w.useMemo(()=>!!(m&&m.componentFromFramework&&sm(m.componentClass)),[m]),N=w.useMemo(()=>n.get("reactiveCustomComponents"),[]),Y=w.useMemo(()=>{if(m)if(N){const U=new fIe(m.params,()=>C(Z=>Z+1));return _(U),U}else m.componentFromFramework&&U2()},[m]),X=Y==null?void 0:Y.getProps(),j=m&&m.componentFromFramework,G=m&&m.componentClass;return z.createElement("div",{ref:I,style:r,className:O,role:"gridcell"},z.createElement("div",{ref:R,className:F,role:"presentation"},j&&!N&&z.createElement(G,{...m.params,ref:V?()=>{}:_}),j&&N&&z.createElement(G2.Provider,{value:{setMethods:U=>Y.setMethods(U)}},z.createElement(G,{...X}))),z.createElement("div",{ref:T,"aria-hidden":f,className:L,role:"presentation"},z.createElement("button",{ref:M,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},TIe=w.memo(RIe),AIe=({ctrl:e})=>{const{context:t}=w.useContext(zi),[n,r]=w.useState(),[i,o]=w.useState(()=>new Ts),[s,a]=w.useState(()=>new Ts),[l,u]=w.useState("false"),[h,f]=w.useState(),[p,m]=w.useState(),b=w.useMemo(()=>e.column.getUniqueId(),[]),C=w.useRef(),y=w.useRef(null),x=w.useRef(null),R=w.useRef(null),T=w.useRef(),M=w.useCallback(F=>{if(y.current=F,C.current=F?t.createBean(new rm):t.destroyBean(C.current),!F)return;const L={setWidth:V=>{y.current&&(y.current.style.width=V)},addOrRemoveCssClass:(V,N)=>o(Y=>Y.setClass(V,N)),setUserStyles:V=>r(V),setHeaderWrapperHidden:V=>{const N=R.current;N&&(V?N.style.setProperty("display","none"):N.style.removeProperty("display"))},setHeaderWrapperMaxHeight:V=>{const N=R.current;N&&(V!=null?N.style.setProperty("max-height",`${V}px`):N.style.removeProperty("max-height"),N.classList.toggle("ag-header-cell-comp-wrapper-limited-height",V!=null))},setUserCompDetails:V=>m(V),setResizableDisplayed:V=>{a(N=>N.setClass("ag-hidden",!V)),u(V?"false":"true")},setAriaExpanded:V=>f(V),getUserCompInstance:()=>T.current||void 0};e.setComp(L,F,x.current,R.current,C.current)},[]);w.useLayoutEffect(()=>vC(p,t,R.current),[p]),w.useEffect(()=>{y.current&&e.setDragSource(y.current)},[p]);const A=w.useMemo(()=>!!((p==null?void 0:p.componentFromFramework)&&sm(p.componentClass)),[p]),D=w.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),_=w.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),I=p&&p.componentFromFramework,O=p&&p.componentClass;return z.createElement("div",{ref:M,style:n,className:D,"col-id":b,role:"columnheader","aria-expanded":h},z.createElement("div",{ref:R,className:"ag-header-cell-comp-wrapper",role:"presentation"},I&&A&&z.createElement(O,{...p.params}),I&&!A&&z.createElement(O,{...p.params,ref:T})),z.createElement("div",{ref:x,"aria-hidden":l,className:_}))},PIe=w.memo(AIe),_Ie=({ctrl:e})=>{const{context:t}=w.useContext(zi),{topOffset:n,rowHeight:r}=w.useMemo(()=>e.getTopAndHeight(),[]),i=e.getAriaRowIndex(),o=e.headerRowClass,[s,a]=w.useState(()=>r+"px"),[l,u]=w.useState(()=>n+"px"),h=w.useRef(null),f=w.useRef(null),[p,m]=w.useState(()=>e.getHeaderCtrls()),b=w.useRef(),C=w.useRef(null),y=w.useCallback(T=>{if(C.current=T,b.current=T?t.createBean(new rm):t.destroyBean(b.current),!T)return;const M={setHeight:A=>a(A),setTop:A=>u(A),setHeaderCtrls:(A,D,_)=>{f.current=h.current,h.current=A;const I=Tx(f.current,A,D);I!==f.current&&Rx(_,()=>m(I))},setWidth:A=>{C.current&&(C.current.style.width=A)}};e.setComp(M,b.current,!1)},[]),x=w.useMemo(()=>({height:s,top:l}),[s,l]),R=w.useCallback(T=>{switch(e.type){case"group":return z.createElement(PIe,{ctrl:T,key:T.instanceId});case"filter":return z.createElement(TIe,{ctrl:T,key:T.instanceId});default:return z.createElement(EIe,{ctrl:T,key:T.instanceId})}},[]);return z.createElement("div",{ref:y,className:o,role:"row",style:x,"aria-rowindex":i},p.map(R))},OIe=w.memo(_Ie),DIe=({pinned:e})=>{const[t,n]=w.useState(!0),[r,i]=w.useState([]),{context:o}=w.useContext(zi),s=w.useRef(null),a=w.useRef(null),l=w.useRef(),u=e==="left",h=e==="right",f=!u&&!h,p=w.useCallback(C=>{if(s.current=C,l.current=C?o.createBean(new HSe(e)):o.destroyBean(l.current),!C)return;const y={setDisplayed:n,setCtrls:x=>i(x),setCenterWidth:x=>{a.current&&(a.current.style.width=x)},setViewportScrollLeft:x=>{s.current&&(s.current.scrollLeft=x)},setPinnedContainerWidth:x=>{s.current&&(s.current.style.width=x,s.current.style.minWidth=x,s.current.style.maxWidth=x)}};l.current.setComp(y,s.current)},[]),m=t?"":"ag-hidden",b=()=>r.map(C=>z.createElement(OIe,{ctrl:C,key:C.instanceId}));return z.createElement(z.Fragment,null,u&&z.createElement("div",{ref:p,className:"ag-pinned-left-header "+m,"aria-hidden":!t,role:"rowgroup"},b()),h&&z.createElement("div",{ref:p,className:"ag-pinned-right-header "+m,"aria-hidden":!t,role:"rowgroup"},b()),f&&z.createElement("div",{ref:p,className:"ag-header-viewport "+m,role:"presentation"},z.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},b())))},c1=w.memo(DIe),IIe=()=>{const[e,t]=w.useState(()=>new Ts),[n,r]=w.useState(),{context:i}=w.useContext(zi),o=w.useRef(null),s=w.useRef(),a=w.useCallback(h=>{if(o.current=h,s.current=h?i.createBean(new LSe):i.destroyBean(s.current),!h)return;const f={addOrRemoveCssClass:(p,m)=>t(b=>b.setClass(p,m)),setHeightAndMinHeight:p=>r(p)};s.current.setComp(f,h,h)},[]),l=w.useMemo(()=>"ag-header "+e.toString(),[e]),u=w.useMemo(()=>({height:n,minHeight:n}),[n]);return z.createElement("div",{ref:a,className:l,style:u,role:"presentation"},z.createElement(c1,{pinned:"left"}),z.createElement(c1,{pinned:null}),z.createElement(c1,{pinned:"right"}))},MIe=w.memo(IIe),FIe=(e,t)=>{w.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{r.removeChild(i)}}}},[e])},Kd=FIe,kIe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Wn(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){z2(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},LIe=e=>{const t=w.useRef(e),n=w.useRef(),r=w.useRef(!1),i=w.useRef(!1),[,o]=w.useState(0);r.current&&(i.current=!0),w.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),o(s=>s+1),()=>{var s;i.current&&((s=n.current)==null||s.call(n))}),[])},NIe=e=>{const[t,n]=w.useState(),{context:r,popupSvc:i,localeSvc:o,gos:s,editSvc:a}=w.useContext(zi);return LIe(()=>{var D,_;const{editDetails:l,cellCtrl:u,eParentCell:h}=e,{compDetails:f}=l,p=s.get("stopEditingWhenCellsLoseFocus"),m=r.createBean(a.createPopupEditorWrapper(f.params)),b=m.getGui();if(e.jsChildComp){const I=e.jsChildComp.getGui();I&&b.appendChild(I)}const{column:C,rowNode:y}=u,x={column:C,rowNode:y,type:"popupCellEditor",eventSource:h,ePopup:b,position:l.popupPosition,keepWithinBounds:!0},R=i==null?void 0:i.positionPopupByComponent.bind(i,x),T=AZ(o),M=i==null?void 0:i.addPopup({modal:p,eChild:b,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:h,positionCallback:R,ariaLabel:T("ariaLabelCellEditor","Cell Editor")}),A=M?M.hideFunc:void 0;return n(m),(_=(D=e.jsChildComp)==null?void 0:D.afterGuiAttached)==null||_.call(D),()=>{A==null||A(),r.destroyBean(m)}}),z.createElement(z.Fragment,null,t&&e.wrappedContent&&Zb.createPortal(e.wrappedContent,t.getGui()))},r4=w.memo(NIe),VIe=(e,t,n,r,i,o)=>{const{context:s}=w.useContext(zi),a=w.useCallback(()=>{const l=i.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),s.destroyBean(l),i.current=void 0},[]);w.useEffect(()=>{const l=e!=null,u=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,h=t&&n==null;if(!(l&&u&&!h)){a();return}const p=e.compDetails;if(i.current){const b=i.current,y=b.refresh!=null&&e.force==!1?b.refresh(p.params):!1;if(y===!0||y===void 0)return;a()}p.newAgStackInstance().then(b=>{if(!b)return;const C=b.getGui();if(!C)return;(t?n:o.current).appendChild(C),i.current=b})},[e,t,r]),w.useEffect(()=>a,[])},BIe=VIe,HIe=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),o=sm(t);return z.createElement(G2.Provider,{value:{setMethods:s=>r.setMethods(s)}},o?z.createElement(t,{...i}):z.createElement(t,{...i,ref:s=>r.setRef(s)}))},i4=(e,t,n)=>{const r=e.compProxy;return z.createElement(z.Fragment,null,r?HIe(e,t,n):z.createElement(t,{...e.compDetails.params,ref:n}))},$Ie=(e,t,n,r,i)=>{const o=e.compDetails,s=o.componentClass,a=o.componentFromFramework&&!e.popup,l=o.componentFromFramework&&e.popup,u=!o.componentFromFramework&&e.popup;return z.createElement(z.Fragment,null,a&&i4(e,s,t),l&&z.createElement(r4,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:i4(e,s,t)}),u&&i&&z.createElement(r4,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}))},jIe=(e,t,n,r,i,o,s)=>{const{compDetails:a,value:l}=e,u=!a,h=a&&a.componentFromFramework,f=a&&a.componentClass,p=l!=null&&l.toString?l.toString():l,m=()=>z.createElement(z.Fragment,null,u&&z.createElement(z.Fragment,null,p),h&&!o&&z.createElement(f,{...a.params,key:t,ref:r}),h&&o&&z.createElement(f,{...a.params,key:t}));return z.createElement(z.Fragment,null,i?z.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:s},m()):m())},GIe=({cellCtrl:e,printLayout:t,editingRow:n})=>{const{context:r}=w.useContext(zi),{colIdSanitised:i,instanceId:o}=e,s=w.useRef(),[a,l]=w.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,h]=w.useState(),[f,p]=w.useState(1),[m,b]=w.useState(),[C,y]=w.useState(!1),[x,R]=w.useState(!1),[T,M]=w.useState(!1),[A,D]=w.useState(),_=w.useMemo(()=>e.isForceWrapper(),[e]),I=w.useMemo(()=>e.getCellAriaRole(),[e]),O=w.useRef(null),F=w.useRef(null),L=w.useRef(null),V=w.useRef(),N=w.useRef(),Y=w.useRef(),X=w.useRef([]),j=w.useRef(),[G,U]=w.useState(0),Z=w.useCallback(Oe=>{j.current=Oe,U(Ie=>Ie+1)},[]),$=a!=null&&(C||T||x),Q=_||$,J=w.useCallback(Oe=>{if(N.current=Oe,Oe){const Ie=Oe.isCancelBeforeStart&&Oe.isCancelBeforeStart();setTimeout(()=>{Ie?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),ne=w.useRef();ne.current||(ne.current=new pC(()=>O.current)),BIe(a,Q,j.current,G,V,O);const ee=w.useRef();w.useLayoutEffect(()=>{var ze;const Oe=ee.current,Ie=a;if(ee.current=a,Oe==null||Oe.compDetails==null||Ie==null||Ie.compDetails==null)return;const _e=Oe.compDetails,Le=Ie.compDetails;if(_e.componentClass!=Le.componentClass||((ze=L.current)==null?void 0:ze.refresh)==null)return;L.current.refresh(Le.params)!=!0&&p(nt=>nt+1)},[a]),w.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const Ie=u.compDetails,_e=u.popup===!0,Le=Ie.newAgStackInstance();return Le.then(Be=>{if(!Be)return;const ze=Be.getGui();if(J(Be),!_e){const nt=(_?Y:O).current;nt==null||nt.appendChild(ze),Be.afterGuiAttached&&Be.afterGuiAttached()}D(Be)}),()=>{Le.then(Be=>{var nt;const ze=Be.getGui();r.destroyBean(Be),J(void 0),D(void 0),(nt=ze==null?void 0:ze.parentElement)==null||nt.removeChild(ze)})}},[u]);const fe=w.useCallback(Oe=>{if(Y.current=Oe,!Oe){X.current.forEach(_e=>_e()),X.current=[];return}const Ie=_e=>{if(_e){const Le=_e.getGui();Oe.insertAdjacentElement("afterbegin",Le),X.current.push(()=>{r.destroyBean(_e),Vh(Le)})}return _e};if(C){const _e=e.createSelectionCheckbox();Ie(_e)}T&&Ie(e.createDndSource()),x&&Ie(e.createRowDragComp())},[e,r,T,x,C]),me=w.useCallback(()=>{const Oe=!e.isCellSpanning()||F.current,Ie=O.current;if(s.current=Ie?r.createBean(new rm):r.destroyBean(s.current),!Ie||!Oe||!e)return;const _e={addOrRemoveCssClass:(Be,ze)=>ne.current.addOrRemoveCssClass(Be,ze),setUserStyles:Be=>b(Be),getFocusableElement:()=>O.current,setIncludeSelection:Be=>y(Be),setIncludeRowDrag:Be=>R(Be),setIncludeDndSource:Be=>M(Be),getCellEditor:()=>N.current||null,getCellRenderer:()=>L.current??V.current,getParentOfValue:()=>j.current??Y.current??O.current,setRenderDetails:(Be,ze,nt)=>{l(it=>(it==null?void 0:it.compDetails)!==Be||(it==null?void 0:it.value)!==ze||(it==null?void 0:it.force)!==nt?{value:ze,compDetails:Be,force:nt}:it)},setEditDetails:(Be,ze,nt,it)=>{if(Be){let Ve;it?Ve=new kIe(Be.params,()=>p(dt=>dt+1)):Be.componentFromFramework&&U2(),h({compDetails:Be,popup:ze,popupPosition:nt,compProxy:Ve}),ze||l(void 0)}else h(Ve=>{Ve!=null&&Ve.compProxy&&(N.current=void 0)})}},Le=Y.current||void 0;e.setComp(_e,Ie,F.current??void 0,Le,t,n,s.current)},[]),xe=w.useCallback(Oe=>{O.current=Oe,me()},[]),Pe=w.useCallback(Oe=>{F.current=Oe,me()},[]),ue=w.useMemo(()=>{var Ie;return!!(((Ie=a==null?void 0:a.compDetails)==null?void 0:Ie.componentFromFramework)&&sm(a.compDetails.componentClass))},[a]);w.useLayoutEffect(()=>{O.current&&(ne.current.addOrRemoveCssClass("ag-cell-value",!Q),ne.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),ne.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),ne.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&O.current.focus({preventScroll:!0}))});const Se=()=>z.createElement(z.Fragment,null,a!=null&&jIe(a,f,o,L,Q,ue,Z),u!=null&&$Ie(u,J,O.current,e,A)),Re=w.useCallback(()=>e.onFocusOut(),[]),le=()=>z.createElement("div",{ref:xe,style:m,role:I,"col-id":i,onBlur:Re},Q?z.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:fe},Se()):Se());return e.isCellSpanning()?z.createElement("div",{ref:Pe,className:"ag-spanned-cell-wrapper",role:"presentation"},le()):le()},zIe=w.memo(GIe),UIe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r}=w.useContext(zi),i=w.useRef(),o=w.useRef(e.getDomOrder()),s=e.isFullWidth(),a=e.rowNode.displayed,[l,u]=w.useState(()=>a?e.rowNode.getRowIndexString():null),[h,f]=w.useState(()=>e.rowId),[p,m]=w.useState(()=>e.businessKey),[b,C]=w.useState(()=>e.rowStyles),y=w.useRef(null),x=w.useRef(null),[R,T]=w.useState(()=>null),[M,A]=w.useState(),[D,_]=w.useState(()=>a?e.getInitialRowTop(t):void 0),[I,O]=w.useState(()=>a?e.getInitialTransform(t):void 0),F=w.useRef(null),L=w.useRef(),V=w.useRef(!1),[N,Y]=w.useState(0);w.useEffect(()=>{var fe;if(V.current||!M||N>10)return;const ee=(fe=F.current)==null?void 0:fe.firstChild;ee?(e.setupDetailRowAutoHeight(ee),V.current=!0):Y(me=>me+1)},[M,N]);const X=w.useRef();X.current||(X.current=new pC(()=>F.current));const j=w.useCallback(ee=>{if(F.current=ee,i.current=ee?n.createBean(new rm):n.destroyBean(i.current),!ee){e.unsetComp(t);return}if(!e.isAlive())return;const fe={setTop:_,setTransform:O,addOrRemoveCssClass:(me,xe)=>X.current.addOrRemoveCssClass(me,xe),setDomOrder:me=>o.current=me,setRowIndex:u,setRowId:f,setRowBusinessKey:m,setUserStyles:C,setCellCtrls:(me,xe)=>{x.current=y.current,y.current=me;const Pe=Tx(x.current,me,o.current);Pe!==x.current&&Rx(xe,()=>T(Pe))},showFullWidth:me=>A(me),getFullWidthCellRenderer:()=>L.current,refreshFullWidth:me=>Q.current?(A(xe=>({...xe,params:me()})),!0):!L.current||!L.current.refresh?!1:L.current.refresh(me())};e.setComp(fe,ee,t,i.current)},[]);w.useLayoutEffect(()=>vC(M,n,F.current,L),[M]);const G=w.useMemo(()=>{const ee={top:D,transform:I};return Object.assign(ee,b),ee},[D,I,b]),U=s&&(M==null?void 0:M.componentFromFramework),Z=!s&&R!=null,$=w.useMemo(()=>!!((M==null?void 0:M.componentFromFramework)&&sm(M.componentClass)),[M]),Q=w.useRef(!1);w.useEffect(()=>{Q.current=$&&!!M&&!!r.get("reactiveCustomComponents")},[$,M]);const J=()=>R==null?void 0:R.map(ee=>z.createElement(zIe,{cellCtrl:ee,editingRow:e.editing,printLayout:e.printLayout,key:ee.instanceId})),ne=()=>{const ee=M.componentClass;return z.createElement(z.Fragment,null,$?z.createElement(ee,{...M.params}):z.createElement(ee,{...M.params,ref:L}))};return z.createElement("div",{ref:j,role:"row",style:G,"row-index":l,"row-id":h,"row-business-key":p},Z&&J(),U&&ne())},o4=w.memo(UIe),WIe=({name:e})=>{const{context:t,gos:n}=w.useContext(zi),r=w.useMemo(()=>gC(e),[e]),i=w.useRef(null),o=w.useRef(null),s=w.useRef(null),a=w.useRef([]),l=w.useRef([]),[u,h]=w.useState(()=>[]),f=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,p=w.useRef([]),m=w.useRef([]),[b,C]=w.useState(()=>[]),y=w.useRef(!1),x=w.useRef(),R=w.useMemo(()=>ws("ag-viewport",$J(e)),[e]),T=w.useMemo(()=>ws(fS(e)),[e]),M=w.useMemo(()=>ws("ag-spanning-container",gSe(e)),[e]),A=r.type==="center"||f,D=A?i:o;Kd(" AG Row Container "+e+" ",D);const _=w.useCallback(()=>{const X=!A||i.current!=null,j=o.current!=null,G=!f||s.current!=null;return X&&j&&G},[]),I=w.useCallback(()=>i.current==null&&o.current==null&&s.current==null,[]),O=w.useCallback(()=>{if(I()&&(x.current=t.destroyBean(x.current)),_()){const X=U=>{const Z=Tx(l.current,a.current,y.current);Z!==l.current&&(l.current=Z,Rx(U,()=>h(Z)))},j=U=>{const Z=Tx(m.current,p.current,y.current);Z!==m.current&&(m.current=Z,Rx(U,()=>C(Z)))},G={setHorizontalScroll:U=>{i.current&&(i.current.scrollLeft=U)},setViewportHeight:U=>{i.current&&(i.current.style.height=U)},setRowCtrls:({rowCtrls:U,useFlushSync:Z})=>{const $=!!Z&&a.current.length>0&&U.length>0;a.current=U,X($)},setSpannedRowCtrls:(U,Z)=>{const $=!!Z&&p.current.length>0&&U.length>0;p.current=U,j($)},setDomOrder:U=>{y.current!=U&&(y.current=U,X(!1))},setContainerWidth:U=>{o.current&&(o.current.style.width=U)},setOffsetTop:U=>{o.current&&(o.current.style.transform=`translateY(${U})`)}};x.current=t.createBean(new RSe(e)),x.current.setComp(G,o.current,s.current??void 0,i.current)}},[_,I]),F=w.useCallback(X=>{o.current=X,O()},[O]),L=w.useCallback(X=>{s.current=X,O()},[O]),V=w.useCallback(X=>{i.current=X,O()},[O]),N=()=>z.createElement("div",{className:T,ref:F,role:"rowgroup"},u.map(X=>z.createElement(o4,{rowCtrl:X,containerType:r.type,key:X.instanceId})));if(!A)return N();const Y=()=>f&&z.createElement("div",{className:M,ref:L,role:"rowgroup"},b.map(X=>z.createElement(o4,{rowCtrl:X,containerType:r.type,key:X.instanceId})));return z.createElement("div",{className:R,ref:V,role:"presentation"},N(),Y())},qIe=w.memo(WIe),KIe=()=>{const e=w.useContext(zi),{context:t,overlays:n}=e,[r,i]=w.useState(""),[o,s]=w.useState(0),[a,l]=w.useState(0),[u,h]=w.useState("0px"),[f,p]=w.useState("0px"),[m,b]=w.useState("100%"),[C,y]=w.useState("0px"),[x,R]=w.useState("0px"),[T,M]=w.useState("100%"),[A,D]=w.useState(""),[_,I]=w.useState(""),[O,F]=w.useState(null),[L,V]=w.useState(""),[N,Y]=w.useState(null),[X,j]=w.useState("ag-layout-normal"),G=w.useRef();G.current||(G.current=new pC(()=>U.current));const U=w.useRef(null),Z=w.useRef(null),$=w.useRef(null),Q=w.useRef(null),J=w.useRef(null),ne=w.useRef(null),ee=w.useRef(null),fe=w.useRef([]),me=w.useRef([]);Kd(" AG Grid Body ",U),Kd(" AG Pinned Top ",Z),Kd(" AG Sticky Top ",$),Kd(" AG Middle ",ne),Kd(" AG Pinned Bottom ",ee);const xe=w.useCallback(Ve=>{if(U.current=Ve,!Ve){fe.current=t.destroyBeans(fe.current),me.current.forEach(at=>at()),me.current=[];return}if(!t)return;const dt=(at,xn)=>{at.appendChild(xn),me.current.push(()=>at.removeChild(xn))},Qe=at=>{const xn=t.createBean(new at);return fe.current.push(xn),xn},wt=(at,xn,nn)=>{dt(at,document.createComment(nn)),dt(at,Qe(xn).getGui())};wt(Ve,OSe," AG Fake Horizontal Scroll ");const qt=n==null?void 0:n.getOverlayWrapperCompClass();qt&&wt(Ve,qt," AG Overlay Wrapper "),J.current&&wt(J.current,DSe," AG Fake Vertical Scroll ");const ft={setRowAnimationCssOnBodyViewport:i,setColumnCount:at=>{U.current&&eCe(U.current,at)},setRowCount:at=>{U.current&&Zbe(U.current,at)},setTopHeight:s,setBottomHeight:l,setStickyTopHeight:h,setStickyTopTop:p,setStickyTopWidth:b,setTopDisplay:D,setBottomDisplay:I,setColumnMovingCss:(at,xn)=>G.current.addOrRemoveCssClass(at,xn),updateLayoutClasses:j,setAlwaysVerticalScrollClass:F,setPinnedTopBottomOverflowY:V,setCellSelectableCss:(at,xn)=>Y(xn?at:null),setBodyViewportWidth:at=>{ne.current&&(ne.current.style.width=at)},registerBodyViewportResizeListener:at=>{if(ne.current){const xn=xu(e,ne.current,at);me.current.push(()=>xn())}},setStickyBottomHeight:y,setStickyBottomBottom:R,setStickyBottomWidth:M,setGridRootRole:at=>Ve.setAttribute("role",at)},Mt=t.createBean(new _Se);fe.current.push(Mt),Mt.setComp(ft,Ve,ne.current,Z.current,ee.current,$.current,Q.current)},[]),Pe=w.useMemo(()=>ws("ag-root","ag-unselectable",X),[X]),ue=w.useMemo(()=>ws("ag-body-viewport",r,X,O,N),[r,X,O,N]),Se=w.useMemo(()=>ws("ag-body",X),[X]),Re=w.useMemo(()=>ws("ag-floating-top",N),[N]),le=w.useMemo(()=>ws("ag-sticky-top",N),[N]),Oe=w.useMemo(()=>ws("ag-sticky-bottom",C==="0px"?"ag-hidden":null,N),[N,C]),Ie=w.useMemo(()=>ws("ag-floating-bottom",N),[N]),_e=w.useMemo(()=>({height:o,minHeight:o,display:A,overflowY:L}),[o,A,L]),Le=w.useMemo(()=>({height:u,top:f,width:m}),[u,f,m]),Be=w.useMemo(()=>({height:C,bottom:x,width:T}),[C,x,T]),ze=w.useMemo(()=>({height:a,minHeight:a,display:_,overflowY:L}),[a,_,L]),nt=Ve=>z.createElement(qIe,{name:Ve,key:`${Ve}-container`}),it=({section:Ve,children:dt,className:Qe,style:wt})=>z.createElement("div",{ref:Ve,className:Qe,role:"presentation",style:wt},dt.map(nt));return z.createElement("div",{ref:xe,className:Pe},z.createElement(MIe,null),it({section:Z,className:Re,style:_e,children:["topLeft","topCenter","topRight","topFullWidth"]}),z.createElement("div",{className:Se,ref:J,role:"presentation"},it({section:ne,className:ue,children:["left","center","right","fullWidth"]})),it({section:$,className:le,style:Le,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),it({section:Q,className:Oe,style:Be,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),it({section:ee,className:Ie,style:ze,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},YIe=w.memo(KIe),XIe=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:s,isEmpty:a}=e,{context:l}=w.useContext(zi),u=w.useRef(null),h=w.useRef(null),f=w.useRef(),p=x=>{const R=x==null?void 0:parseInt(x,10).toString();[u,h].forEach(T=>{var M,A;R===void 0?(M=T.current)==null||M.removeAttribute("tabindex"):(A=T.current)==null||A.setAttribute("tabindex",R)})};w.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){var R;(R=f.current)==null||R.forceFocusOutOfContainer(x)}}));const m=w.useCallback(()=>{const x=u.current,R=h.current;if(!x&&!R){f.current=l.destroyBean(f.current);return}if(x&&R){const T={setTabIndex:p};f.current=l.createBean(new QJ({comp:T,eTopGuard:x,eBottomGuard:R,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:M=>o.focusInnerElement(M),isEmpty:a}))}},[]),b=w.useCallback(x=>{u.current=x,m()},[m]),C=w.useCallback(x=>{h.current=x,m()},[m]),y=x=>{const R=x==="top"?Fp.TAB_GUARD_TOP:Fp.TAB_GUARD_BOTTOM;return z.createElement("div",{className:`${Fp.TAB_GUARD} ${R}`,role:"presentation",ref:x==="top"?b:C})};return z.createElement(z.Fragment,null,y("top"),n,y("bottom"))},QIe=w.forwardRef(XIe),ZIe=w.memo(QIe),JIe=({context:e})=>{const[t,n]=w.useState(""),[r,i]=w.useState(""),[o,s]=w.useState(null),[a,l]=w.useState(null),[u,h]=w.useState(!1),[f,p]=w.useState(),m=w.useRef(),b=w.useRef(null),C=w.useRef(),[y,x]=w.useState(null),R=w.useRef(()=>{}),T=w.useRef(),M=w.useRef([]),A=w.useCallback(()=>{},[]),D=w.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Kd(" AG Grid ",b);const _=w.useCallback(N=>{if(b.current=N,m.current=N?e.createBean(new xxe):e.destroyBean(m.current),!N||e.isDestroyed())return;const Y=m.current;R.current=Y.focusInnerElement.bind(Y);const X={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:j=>{var G,U;if(!j&&((G=T.current)!=null&&G.isDisplayed())){T.current.forceFocusOutOfContainer(j);return}(U=C.current)==null||U.forceFocusOutOfContainer(j)},updateLayoutClasses:i,getFocusableContainers:()=>{var U;const j=[],G=(U=b.current)==null?void 0:U.querySelector(".ag-root");return G&&j.push({getGui:()=>G}),M.current.forEach(Z=>{Z.isDisplayed()&&j.push(Z)}),j},setCursor:s,setUserSelect:l};Y.setComp(X,N,N),h(!0)},[]);w.useEffect(()=>{const N=m.current,Y=b.current;if(!f||!D||!N||!y||!Y)return;const X=[],{watermarkSelector:j,paginationSelector:G,sideBarSelector:U,statusBarSelector:Z,gridHeaderDropZonesSelector:$}=N.getOptionalSelectors(),Q=[];if($){const ne=e.createBean(new $.component),ee=ne.getGui();Y.insertAdjacentElement("afterbegin",ee),Q.push(ee),X.push(ne)}if(U){const ne=e.createBean(new U.component),ee=ne.getGui(),fe=y.querySelector(".ag-tab-guard-bottom");fe&&(fe.insertAdjacentElement("beforebegin",ee),Q.push(ee)),X.push(ne),M.current.push(ne)}const J=ne=>{const ee=e.createBean(new ne),fe=ee.getGui();return Y.insertAdjacentElement("beforeend",fe),Q.push(fe),X.push(ee),ee};if(Z&&J(Z.component),G){const ne=J(G.component);T.current=ne,M.current.push(ne)}return j&&J(j.component),()=>{e.destroyBeans(X),Q.forEach(ne=>{var ee;(ee=ne.parentElement)==null||ee.removeChild(ne)})}},[f,y,D]);const I=w.useMemo(()=>ws("ag-root-wrapper",t,r),[t,r]),O=w.useMemo(()=>ws("ag-root-wrapper-body","ag-focus-managed",r),[r]),F=w.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:o??""}),[a,o]),L=w.useCallback(N=>{C.current=N,p(N!==null)},[]),V=w.useCallback(()=>{var N;return!((N=m.current)!=null&&N.isFocusable())},[]);return z.createElement("div",{ref:_,className:I,style:F,role:"presentation"},z.createElement("div",{className:O,ref:x,role:"presentation"},u&&y&&D&&z.createElement(zi.Provider,{value:D},z.createElement(ZIe,{ref:L,eFocusableElement:y,onTabKeyDown:A,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:V},z.createElement(YIe,null)))))},eMe=w.memo(JIe),tMe=class extends ye{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},nMe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},ite=new Set(Object.keys(nMe)),ote=e=>{var y;const t=w.useRef(),n=w.useRef(null),r=w.useRef(null),i=w.useRef([]),o=w.useRef([]),s=w.useRef(e),a=w.useRef(),l=w.useRef(),u=w.useRef(!1),[h,f]=w.useState(void 0),[,p]=w.useState(0),m=w.useCallback(x=>{if(n.current=x,!x){i.current.forEach(L=>L()),i.current.length=0;return}const R=e.modules||[];r.current||(r.current=new SIe(()=>p(L=>L+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{var L;(L=r.current)==null||L.destroy(),r.current=null}));const T=kCe(e.gridOptions,e,Object.keys(e).filter(L=>!ite.has(L))),M=()=>{if(u.current){const L=()=>{var N;return(N=a.current)!=null&&N.shouldQueueUpdates()?void 0:o.current.shift()};let V=L();for(;V;)V(),V=L()}},A=new sMe(M);a.current=A;const D=new tMe,_={providedBeanInstances:{frameworkCompWrapper:new iMe(r.current,T.reactiveCustomComponents??OAe("reactiveCustomComponents")??!0),renderStatus:D},modules:R,frameworkOverrides:A,setThemeOnGridDiv:!0},I=L=>{f(L),L.createBean(D),i.current.push(()=>{L.destroy()}),L.getBean("ctrlsSvc").whenReady({addDestroyFunc:V=>{i.current.push(V)}},()=>{var N;if(L.isDestroyed())return;const V=t.current;V&&((N=e.setGridApi)==null||N.call(e,V))})},O=L=>{L.getBean("ctrlsSvc").whenReady({addDestroyFunc:V=>{i.current.push(V)}},()=>{o.current.forEach(V=>V()),o.current.length=0,u.current=!0})},F=new IAe;T.gridId??(T.gridId=l.current),t.current=F.create(x,T,I,O,_),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),b=w.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),C=w.useCallback(x=>{var R;u.current&&!((R=a.current)!=null&&R.shouldQueueUpdates())?x():o.current.push(x)},[]);return w.useEffect(()=>{const x=rMe(s.current,e);s.current=e,C(()=>{t.current&&LCe(x,t.current)})},[e]),z.createElement("div",{style:b,className:e.className,ref:m},h&&!h.isDestroyed()?z.createElement(eMe,{context:h}):null,((y=r.current)==null?void 0:y.getPortals())??null)};function rMe(e,t){const n={};return Object.keys(t).forEach(r=>{if(ite.has(r))return;const i=t[r];e[r]!==i&&(n[r]=i)}),n}var iMe=class extends zAe{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(o=>{switch(o){case"filter":return hIe;case"floatingFilterComponent":return pIe;case"dateComponent":return cIe;case"dragAndDropImageComponent":return dIe;case"loadingOverlayComponent":return mIe;case"noRowsOverlayComponent":return yIe;case"statusPanel":return bIe;case"toolPanel":return CIe;case"menuItem":return vIe;case"cellRenderer":return uIe;case"innerHeaderComponent":return gIe}})(t.name);if(i)return new i(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":U2();break}const n=!t.cellRenderer&&t.name!=="toolPanel";return new nte(e,this.parent,t,n)}},oMe=w.forwardRef((e,t)=>{const n=w.useContext(zi),{registry:r,context:i,gos:o,rowModel:s}=n,[a,l]=w.useState(()=>new Ts),[u,h]=w.useState(()=>new Ts),[f,p]=w.useState(),[m,b]=w.useState(),C=w.useRef(),y=w.useRef(null),x=w.useRef(),R=w.useMemo(()=>l0e(e.api.getGridId(),(f==null?void 0:f.rowModelType)??"clientSide"),[e]),T=w.useMemo(()=>a.toString()+" ag-details-row",[a]),M=w.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&w.useImperativeHandle(t,()=>({refresh(){var _;return((_=C.current)==null?void 0:_.refresh())??!1}})),e.template&&Me(230);const A=w.useCallback(_=>{var F;if(y.current=_,!_){C.current=i.destroyBean(C.current),(F=x.current)==null||F.call(x);return}const I={addOrRemoveCssClass:(L,V)=>l(N=>N.setClass(L,V)),addOrRemoveDetailGridCssClass:(L,V)=>h(N=>N.setClass(L,V)),setDetailGrid:L=>p(L),setRowData:L=>b(L),getGui:()=>y.current},O=r.createDynamicBean("detailCellRendererCtrl",!0);if(O&&(i.createBean(O),O.init(I,e),C.current=O,o.get("detailRowAutoHeight"))){const L=()=>{if(y.current==null)return;const V=y.current.clientHeight;V!=null&&V>0&&setTimeout(()=>{e.node.setRowHeight(V),(Hi(o)||ef(o))&&s.onRowHeightChanged()},0)};x.current=xu(n,_,L),L()}},[]),D=w.useCallback(_=>{var I;(I=C.current)==null||I.registerDetailWithMaster(_)},[]);return z.createElement("div",{className:T,ref:A},f&&z.createElement(ote,{className:M,...f,modules:R,rowData:m,setGridApi:D}))}),sMe=class extends ZJ{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:t4,agGroupRowRenderer:t4,agDetailCellRenderer:oMe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?oIe(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return iIe()}},aMe=class extends w.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return z.createElement(ote,{...this.props,setGridApi:this.setGridApi})}},d1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var s4;function lMe(){return s4||(s4=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(d1)),d1.exports}var uMe=lMe();const qe=Sn(uMe);function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hn.apply(null,arguments)}function gt(e){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}var cMe=Symbol.for("react.element"),dMe=Symbol.for("react.transitional.element"),hMe=Symbol.for("react.fragment");function ste(e){return e&&gt(e)==="object"&&(e.$$typeof===cMe||e.$$typeof===dMe)&&e.type===hMe}function zy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return z.Children.forEach(e,function(r){r==null&&!t.keepEmpty||(Array.isArray(r)?n=n.concat(zy(r)):ste(r)&&r.props?n=n.concat(zy(r.props.children,t)):n.push(r))}),n}var xF={},fMe=function(t){};function pMe(e,t){}function gMe(e,t){}function mMe(){xF={}}function ate(e,t,n){!t&&!xF[n]&&(e(!1,n),xF[n]=!0)}function Uo(e,t){ate(pMe,e,t)}function vMe(e,t){ate(gMe,e,t)}Uo.preMessage=fMe;Uo.resetWarned=mMe;Uo.noteOnce=vMe;function yMe(e,t){if(gt(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lte(e){var t=yMe(e,"string");return gt(t)=="symbol"?t:t+""}function de(e,t,n){return(t=lte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(n),!0).forEach(function(r){de(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uy(e){return e instanceof HTMLElement||e instanceof SVGElement}function ute(e){return e&&gt(e)==="object"&&Uy(e.nativeElement)?e.nativeElement:Uy(e)?e:null}function vS(e){var t=ute(e);if(t)return t;if(e instanceof z.Component){var n;return(n=IS.findDOMNode)===null||n===void 0?void 0:n.call(IS,e)}return null}var h1={exports:{}},pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4;function bMe(){if(l4)return pn;l4=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function C(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case e:switch(y=y.type,y){case n:case i:case r:case u:case h:return y;default:switch(y=y&&y.$$typeof,y){case a:case s:case l:case p:case f:case o:return y;default:return x}}case t:return x}}}return pn.ContextConsumer=s,pn.ContextProvider=o,pn.Element=e,pn.ForwardRef=l,pn.Fragment=n,pn.Lazy=p,pn.Memo=f,pn.Portal=t,pn.Profiler=i,pn.StrictMode=r,pn.Suspense=u,pn.SuspenseList=h,pn.isAsyncMode=function(){return!1},pn.isConcurrentMode=function(){return!1},pn.isContextConsumer=function(y){return C(y)===s},pn.isContextProvider=function(y){return C(y)===o},pn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},pn.isForwardRef=function(y){return C(y)===l},pn.isFragment=function(y){return C(y)===n},pn.isLazy=function(y){return C(y)===p},pn.isMemo=function(y){return C(y)===f},pn.isPortal=function(y){return C(y)===t},pn.isProfiler=function(y){return C(y)===i},pn.isStrictMode=function(y){return C(y)===r},pn.isSuspense=function(y){return C(y)===u},pn.isSuspenseList=function(y){return C(y)===h},pn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===u||y===h||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===f||y.$$typeof===o||y.$$typeof===s||y.$$typeof===l||y.$$typeof===b||y.getModuleId!==void 0)},pn.typeOf=C,pn}var u4;function CMe(){return u4||(u4=1,h1.exports=bMe()),h1.exports}var f1=CMe();function W2(e,t,n){var r=w.useRef({});return(!("value"in r.current)||n(r.current.condition,t))&&(r.current.value=e(),r.current.condition=t),r.current.value}var wMe=Number(w.version.split(".")[0]),q2=function(t,n){typeof t=="function"?t(n):gt(t)==="object"&&t&&"current"in t&&(t.current=n)},yC=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(o){n.forEach(function(s){q2(s,o)})}},bC=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return W2(function(){return yC.apply(void 0,n)},n,function(i,o){return i.length!==o.length||i.every(function(s,a){return s!==o[a]})})},am=function(t){var n,r;if(!t)return!1;if(cte(t)&&wMe>=19)return!0;var i=f1.isMemo(t)?t.type.type:t.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==f1.ForwardRef||typeof t=="function"&&!((r=t.prototype)!==null&&r!==void 0&&r.render)&&t.$$typeof!==f1.ForwardRef)};function cte(e){return w.isValidElement(e)&&!ste(e)}var CC=function(t){if(t&&cte(t)){var n=t;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},EF=w.createContext(null);function SMe(e){var t=e.children,n=e.onBatchResize,r=w.useRef(0),i=w.useRef([]),o=w.useContext(EF),s=w.useCallback(function(a,l,u){r.current+=1;var h=r.current;i.current.push({size:a,element:l,data:u}),Promise.resolve().then(function(){h===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(a,l,u)},[n,o]);return w.createElement(EF.Provider,{value:s},t)}var dte=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},t}()}(),RF=typeof window<"u"&&typeof document<"u"&&window.document===document,Ax=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),xMe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ax):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),EMe=2;function RMe(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&a()}function s(){xMe(o)}function a(){var l=Date.now();if(n){if(l-i<EMe)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=l}return a}var TMe=20,AMe=["top","right","bottom","left","width","height","size","weight"],PMe=typeof MutationObserver<"u",_Me=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=RMe(this.refresh.bind(this),TMe)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!RF||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),PMe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!RF||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=AMe.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),hte=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},mg=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Ax},fte=mR(0,0,0,0);function Px(e){return parseFloat(e)||0}function c4(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var o=e["border-"+i+"-width"];return r+Px(o)},0)}function OMe(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],s=e["padding-"+o];n[o]=Px(s)}return n}function DMe(e){var t=e.getBBox();return mR(0,0,t.width,t.height)}function IMe(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return fte;var r=mg(e).getComputedStyle(e),i=OMe(r),o=i.left+i.right,s=i.top+i.bottom,a=Px(r.width),l=Px(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=c4(r,"left","right")+o),Math.round(l+s)!==n&&(l-=c4(r,"top","bottom")+s)),!FMe(e)){var u=Math.round(a+o)-t,h=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(h)!==1&&(l-=h)}return mR(i.left,i.top,a,l)}var MMe=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof mg(e).SVGGraphicsElement}:function(e){return e instanceof mg(e).SVGElement&&typeof e.getBBox=="function"}}();function FMe(e){return e===mg(e).document.documentElement}function kMe(e){return RF?MMe(e)?DMe(e):IMe(e):fte}function LMe(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return hte(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}function mR(e,t,n,r){return{x:e,y:t,width:n,height:r}}var NMe=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=mR(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=kMe(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),VMe=function(){function e(t,n){var r=LMe(n);hte(this,{target:t,contentRect:r})}return e}(),BMe=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new dte,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof mg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new NMe(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof mg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new VMe(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),pte=typeof WeakMap<"u"?new WeakMap:new dte,gte=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=_Me.getInstance(),r=new BMe(t,n,this);pte.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){gte.prototype[e]=function(){var t;return(t=pte.get(this))[e].apply(t,arguments)}});var HMe=function(){return typeof Ax.ResizeObserver<"u"?Ax.ResizeObserver:gte}(),Tc=new Map;function $Me(e){e.forEach(function(t){var n,r=t.target;(n=Tc.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var mte=new HMe($Me);function jMe(e,t){Tc.has(e)||(Tc.set(e,new Set),mte.observe(e)),Tc.get(e).add(t)}function GMe(e,t){Tc.has(e)&&(Tc.get(e).delete(t),Tc.get(e).size||(mte.unobserve(e),Tc.delete(e)))}function ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lte(r.key),r)}}function ci(e,t,n){return t&&d4(e.prototype,t),n&&d4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Wy(e,t)}function sd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qy(e)}function K2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K2=function(){return!!e})()}function Ot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zMe(e,t){if(t&&(gt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ot(e)}function ad(e){var t=K2();return function(){var n,r=qy(e);if(t){var i=qy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zMe(this,n)}}var UMe=function(e){sd(n,e);var t=ad(n);function n(){return ui(this,n),t.apply(this,arguments)}return ci(n,[{key:"render",value:function(){return this.props.children}}]),n}(w.Component);function WMe(e,t){var n=e.children,r=e.disabled,i=w.useRef(null),o=w.useRef(null),s=w.useContext(EF),a=typeof n=="function",l=a?n(i):n,u=w.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!a&&w.isValidElement(l)&&am(l),f=h?CC(l):null,p=bC(f,i),m=function(){var x;return vS(i.current)||(i.current&&gt(i.current)==="object"?vS((x=i.current)===null||x===void 0?void 0:x.nativeElement):null)||vS(o.current)};w.useImperativeHandle(t,function(){return m()});var b=w.useRef(e);b.current=e;var C=w.useCallback(function(y){var x=b.current,R=x.onResize,T=x.data,M=y.getBoundingClientRect(),A=M.width,D=M.height,_=y.offsetWidth,I=y.offsetHeight,O=Math.floor(A),F=Math.floor(D);if(u.current.width!==O||u.current.height!==F||u.current.offsetWidth!==_||u.current.offsetHeight!==I){var L={width:O,height:F,offsetWidth:_,offsetHeight:I};u.current=L;var V=_===Math.round(A)?A:_,N=I===Math.round(D)?D:I,Y=he(he({},L),{},{offsetWidth:V,offsetHeight:N});s==null||s(Y,y,T),R&&Promise.resolve().then(function(){R(Y,y)})}},[]);return w.useEffect(function(){var y=m();return y&&!r&&jMe(y,C),function(){return GMe(y,C)}},[i.current,r]),w.createElement(UMe,{ref:o},h?w.cloneElement(l,{ref:p}):l)}var qMe=w.forwardRef(WMe),KMe="rc-observer-key";function YMe(e,t){var n=e.children,r=typeof n=="function"?[n]:zy(n);return r.map(function(i,o){var s=(i==null?void 0:i.key)||"".concat(KMe,"-").concat(o);return w.createElement(qMe,Hn({},e,{key:s,ref:o===0?t:void 0}),i)})}var Y2=w.forwardRef(YMe);Y2.Collection=SMe;function TF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function XMe(e){if(Array.isArray(e))return TF(e)}function vte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X2(e,t){if(e){if(typeof e=="string")return TF(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TF(e,t):void 0}}function QMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(e){return XMe(e)||vte(e)||X2(e)||QMe()}var yte=function(t){return+setTimeout(t,16)},bte=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(yte=function(t){return window.requestAnimationFrame(t)},bte=function(t){return window.cancelAnimationFrame(t)});var h4=0,Q2=new Map;function Cte(e){Q2.delete(e)}var gu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;h4+=1;var r=h4;function i(o){if(o===0)Cte(r),t();else{var s=yte(function(){i(o-1)});Q2.set(r,s)}}return i(n),r};gu.cancel=function(e){var t=Q2.get(e);return Cte(e),bte(t)};function wte(e){if(Array.isArray(e))return e}function ZMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function He(e,t){return wte(e)||ZMe(e,t)||X2(e,t)||Ste()}function Ky(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function Ro(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function AF(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var f4="data-rc-order",p4="data-rc-priority",JMe="rc-util-key",PF=new Map;function xte(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):JMe}function vR(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function eFe(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function Z2(e){return Array.from((PF.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function Ete(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ro())return null;var n=t.csp,r=t.prepend,i=t.priority,o=i===void 0?0:i,s=eFe(r),a=s==="prependQueue",l=document.createElement("style");l.setAttribute(f4,s),a&&o&&l.setAttribute(p4,"".concat(o)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=e;var u=vR(t),h=u.firstChild;if(r){if(a){var f=(t.styles||Z2(u)).filter(function(p){if(!["prepend","prependQueue"].includes(p.getAttribute(f4)))return!1;var m=Number(p.getAttribute(p4)||0);return o>=m});if(f.length)return u.insertBefore(l,f[f.length-1].nextSibling),l}u.insertBefore(l,h)}else u.appendChild(l);return l}function Rte(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=vR(t);return(t.styles||Z2(n)).find(function(r){return r.getAttribute(xte(t))===e})}function Yy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Rte(e,t);if(n){var r=vR(t);r.removeChild(n)}}function tFe(e,t){var n=PF.get(e);if(!n||!AF(document,n)){var r=Ete("",t),i=r.parentNode;PF.set(e,i),e.removeChild(r)}}function tu(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=vR(n),i=Z2(r),o=he(he({},n),{},{styles:i});tFe(r,o);var s=Rte(t,o);if(s){var a,l;if((a=o.csp)!==null&&a!==void 0&&a.nonce&&s.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var u;s.nonce=(u=o.csp)===null||u===void 0?void 0:u.nonce}return s.innerHTML!==e&&(s.innerHTML=e),s}var h=Ete(e,o);return h.setAttribute(xte(o),t),h}function nFe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fs(e,t){if(e==null)return{};var n,r,i=nFe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _F(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(Uo(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(n&&a>1)return!1;r.add(o);var u=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var h=0;h<o.length;h++)if(!i(o[h],s[h],u))return!1;return!0}if(o&&s&&gt(o)==="object"&&gt(s)==="object"){var f=Object.keys(o);return f.length!==Object.keys(s).length?!1:f.every(function(p){return i(o[p],s[p],u)})}return!1}return i(e,t)}var rFe="%";function OF(e){return e.join(rFe)}var iFe=function(){function e(t){ui(this,e),de(this,"instanceId",void 0),de(this,"cache",new Map),this.instanceId=t}return ci(e,[{key:"get",value:function(n){return this.opGet(OF(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(OF(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),o=r(i);o===null?this.cache.delete(n):this.cache.set(n,o)}}]),e}(),vg="data-token-hash",ua="data-css-hash",Ac="__cssinjs_instance__";function oFe(){var e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(ua,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(i){i[Ac]=i[Ac]||e,i[Ac]===e&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(ua,"]"))).forEach(function(i){var o=i.getAttribute(ua);if(r[o]){if(i[Ac]===e){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[o]=!0})}return new iFe(e)}var wC=w.createContext({hashPriority:"low",cache:oFe(),defaultCache:!0});function sFe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var J2=function(){function e(){ui(this,e),de(this,"cache",void 0),de(this,"keys",void 0),de(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return ci(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var l;s=(l=s)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(u,h){var f=He(u,2),p=f[1];return i.internalGet(h)[1]<p?[h,i.internalGet(h)[1]]:u},[this.keys[0],this.cacheCallTimes]),s=He(o,1),a=s[0];this.delete(a)}this.keys.push(n)}var l=this.cache;n.forEach(function(u,h){if(h===n.length-1)l.set(u,{value:[r,i.cacheCallTimes++]});else{var f=l.get(u);f?f.map||(f.map=new Map):l.set(u,{map:new Map}),l=l.get(u).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!sFe(r,n)}),this.deleteByPath(this.cache,n)}}]),e}();de(J2,"MAX_CACHE_SIZE",20);de(J2,"MAX_CACHE_OFFSET",5);var g4=0,Tte=function(){function e(t){ui(this,e),de(this,"derivatives",void 0),de(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=g4,t.length===0&&(t.length>0,void 0),g4+=1}return ci(e,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),e}(),p1=new J2;function DF(e){var t=Array.isArray(e)?e:[e];return p1.has(t)||p1.set(t,new Tte(t)),p1.get(t)}var aFe=new WeakMap,g1={};function lFe(e,t){for(var n=aFe,r=0;r<t.length;r+=1){var i=t[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(g1)||n.set(g1,e()),n.get(g1)}var m4=new WeakMap;function cy(e){var t=m4.get(e)||"";return t||(Object.keys(e).forEach(function(n){var r=e[n];t+=n,r instanceof Tte?t+=r.id:r&&gt(r)==="object"?t+=cy(r):t+=r}),t=Ky(t),m4.set(e,t)),t}function v4(e,t){return Ky("".concat(t,"_").concat(cy(e)))}var IF=Ro();function vt(e){return typeof e=="number"?"".concat(e,"px"):e}function _x(e,t,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return e;var s=he(he({},i),{},(r={},de(r,vg,t),de(r,ua,n),r)),a=Object.keys(s).map(function(l){var u=s[l];return u?"".concat(l,'="').concat(u,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(a,">").concat(e,"</style>")}var yS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},uFe=function(t,n,r){return Object.keys(t).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(t).map(function(i){var o=He(i,2),s=o[0],a=o[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},Ate=function(t,n,r){var i={},o={};return Object.entries(t).forEach(function(s){var a,l,u=He(s,2),h=u[0],f=u[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[h])o[h]=f;else if((typeof f=="string"||typeof f=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[h])){var p,m=yS(h,r==null?void 0:r.prefix);i[m]=typeof f=="number"&&!(r!=null&&(p=r.unitless)!==null&&p!==void 0&&p[h])?"".concat(f,"px"):String(f),o[h]="var(".concat(m,")")}}),[o,uFe(i,n,{scope:r==null?void 0:r.scope})]},y4=Ro()?w.useLayoutEffect:w.useEffect,li=function(t,n){var r=w.useRef(!0);y4(function(){return t(r.current)},n),y4(function(){return r.current=!1,function(){r.current=!0}},[])},b4=function(t,n){li(function(r){if(!r)return t()},n)},cFe=he({},IE),C4=cFe.useInsertionEffect,dFe=function(t,n,r){w.useMemo(t,r),li(function(){return n(!0)},r)},hFe=C4?function(e,t,n){return C4(function(){return e(),t()},n)}:dFe,fFe=he({},IE),pFe=fFe.useInsertionEffect,gFe=function(t){var n=[],r=!1;function i(o){r||n.push(o)}return w.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},t),i},mFe=function(){return function(t){t()}},vFe=typeof pFe<"u"?gFe:mFe;function eV(e,t,n,r,i){var o=w.useContext(wC),s=o.cache,a=[e].concat(Ge(t)),l=OF(a),u=vFe([l]),h=function(b){s.opUpdate(l,function(C){var y=C||[void 0,void 0],x=He(y,2),R=x[0],T=R===void 0?0:R,M=x[1],A=M,D=A||n(),_=[T,D];return b?b(_):_})};w.useMemo(function(){h()},[l]);var f=s.opGet(l),p=f[1];return hFe(function(){i==null||i(p)},function(m){return h(function(b){var C=He(b,2),y=C[0],x=C[1];return m&&y===0&&(i==null||i(p)),[y+1,x]}),function(){s.opUpdate(l,function(b){var C=b||[],y=He(C,2),x=y[0],R=x===void 0?0:x,T=y[1],M=R-1;return M===0?(u(function(){(m||!s.opGet(l))&&(r==null||r(T,!1))}),null):[R-1,T]})}},[l]),p}var yFe={},bFe="css",Yd=new Map;function CFe(e){Yd.set(e,(Yd.get(e)||0)+1)}function wFe(e,t){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(vg,'="').concat(e,'"]'));n.forEach(function(r){if(r[Ac]===t){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var SFe=0;function xFe(e,t){Yd.set(e,(Yd.get(e)||0)-1);var n=Array.from(Yd.keys()),r=n.filter(function(i){var o=Yd.get(i)||0;return o<=0});n.length-r.length>SFe&&r.forEach(function(i){wFe(i,t),Yd.delete(i)})}var EFe=function(t,n,r,i){var o=r.getDerivativeToken(t),s=he(he({},o),n);return i&&(s=i(s)),s},Pte="token";function RFe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=w.useContext(wC),i=r.cache.instanceId,o=r.container,s=n.salt,a=s===void 0?"":s,l=n.override,u=l===void 0?yFe:l,h=n.formatToken,f=n.getComputedToken,p=n.cssVar,m=lFe(function(){return Object.assign.apply(Object,[{}].concat(Ge(t)))},t),b=cy(m),C=cy(u),y=p?cy(p):"",x=eV(Pte,[a,e.id,b,C,y],function(){var R,T=f?f(m,u,e):EFe(m,u,e,h),M=he({},T),A="";if(p){var D=Ate(T,p.key,{prefix:p.prefix,ignore:p.ignore,unitless:p.unitless,preserve:p.preserve}),_=He(D,2);T=_[0],A=_[1]}var I=v4(T,a);T._tokenKey=I,M._tokenKey=v4(M,a);var O=(R=p==null?void 0:p.key)!==null&&R!==void 0?R:I;T._themeKey=O,CFe(O);var F="".concat(bFe,"-").concat(Ky(I));return T._hashId=F,[T,F,M,A,(p==null?void 0:p.key)||""]},function(R){xFe(R[0]._themeKey,i)},function(R){var T=He(R,4),M=T[0],A=T[3];if(p&&A){var D=tu(A,Ky("css-variables-".concat(M._themeKey)),{mark:ua,prepend:"queue",attachTo:o,priority:-999});D[Ac]=i,D.setAttribute(vg,M._themeKey)}});return x}var TFe=function(t,n,r){var i=He(t,5),o=i[2],s=i[3],a=i[4],l=r||{},u=l.plain;if(!s)return null;var h=o._tokenKey,f=-999,p={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},m=_x(s,a,h,p,u);return[f,h,m]},AFe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_te="comm",Ote="rule",Dte="decl",PFe="@import",_Fe="@namespace",OFe="@keyframes",DFe="@layer",Ite=Math.abs,tV=String.fromCharCode;function Mte(e){return e.trim()}function bS(e,t,n){return e.replace(t,n)}function IFe(e,t,n){return e.indexOf(t,n)}function Lp(e,t){return e.charCodeAt(t)|0}function yg(e,t,n){return e.slice(t,n)}function Ba(e){return e.length}function MFe(e){return e.length}function C0(e,t){return t.push(e),e}var yR=1,bg=1,Fte=0,ks=0,_r=0,lm="";function nV(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:yR,column:bg,length:s,return:"",siblings:a}}function FFe(){return _r}function kFe(){return _r=ks>0?Lp(lm,--ks):0,bg--,_r===10&&(bg=1,yR--),_r}function ca(){return _r=ks<Fte?Lp(lm,ks++):0,bg++,_r===10&&(bg=1,yR++),_r}function Pc(){return Lp(lm,ks)}function CS(){return ks}function bR(e,t){return yg(lm,e,t)}function Xy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LFe(e){return yR=bg=1,Fte=Ba(lm=e),ks=0,[]}function NFe(e){return lm="",e}function m1(e){return Mte(bR(ks-1,MF(e===91?e+2:e===40?e+1:e)))}function VFe(e){for(;(_r=Pc())&&_r<33;)ca();return Xy(e)>2||Xy(_r)>3?"":" "}function BFe(e,t){for(;--t&&ca()&&!(_r<48||_r>102||_r>57&&_r<65||_r>70&&_r<97););return bR(e,CS()+(t<6&&Pc()==32&&ca()==32))}function MF(e){for(;ca();)switch(_r){case e:return ks;case 34:case 39:e!==34&&e!==39&&MF(_r);break;case 40:e===41&&MF(e);break;case 92:ca();break}return ks}function HFe(e,t){for(;ca()&&e+_r!==57;)if(e+_r===84&&Pc()===47)break;return"/*"+bR(t,ks-1)+"*"+tV(e===47?e:ca())}function $Fe(e){for(;!Xy(Pc());)ca();return bR(e,ks)}function jFe(e){return NFe(wS("",null,null,null,[""],e=LFe(e),0,[0],e))}function wS(e,t,n,r,i,o,s,a,l){for(var u=0,h=0,f=s,p=0,m=0,b=0,C=1,y=1,x=1,R=0,T="",M=i,A=o,D=r,_=T;y;)switch(b=R,R=ca()){case 40:if(b!=108&&Lp(_,f-1)==58){IFe(_+=bS(m1(R),"&","&\f"),"&\f",Ite(u?a[u-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:_+=m1(R);break;case 9:case 10:case 13:case 32:_+=VFe(b);break;case 92:_+=BFe(CS()-1,7);continue;case 47:switch(Pc()){case 42:case 47:C0(GFe(HFe(ca(),CS()),t,n,l),l),(Xy(b||1)==5||Xy(Pc()||1)==5)&&Ba(_)&&yg(_,-1,void 0)!==" "&&(_+=" ");break;default:_+="/"}break;case 123*C:a[u++]=Ba(_)*x;case 125*C:case 59:case 0:switch(R){case 0:case 125:y=0;case 59+h:x==-1&&(_=bS(_,/\f/g,"")),m>0&&(Ba(_)-f||C===0&&b===47)&&C0(m>32?S4(_+";",r,n,f-1,l):S4(bS(_," ","")+";",r,n,f-2,l),l);break;case 59:_+=";";default:if(C0(D=w4(_,t,n,u,h,i,a,T,M=[],A=[],f,o),o),R===123)if(h===0)wS(_,t,D,D,M,o,f,a,A);else{switch(p){case 99:if(Lp(_,3)===110)break;case 108:if(Lp(_,2)===97)break;default:h=0;case 100:case 109:case 115:}h?wS(e,D,D,r&&C0(w4(e,D,D,0,0,i,a,T,i,M=[],f,A),A),i,A,f,a,r?M:A):wS(_,D,D,D,[""],A,0,a,A)}}u=h=m=0,C=x=1,T=_="",f=s;break;case 58:f=1+Ba(_),m=b;default:if(C<1){if(R==123)--C;else if(R==125&&C++==0&&kFe()==125)continue}switch(_+=tV(R),R*C){case 38:x=h>0?1:(_+="\f",-1);break;case 44:a[u++]=(Ba(_)-1)*x,x=1;break;case 64:Pc()===45&&(_+=m1(ca())),p=Pc(),h=f=Ba(T=_+=$Fe(CS())),R++;break;case 45:b===45&&Ba(_)==2&&(C=0)}}return o}function w4(e,t,n,r,i,o,s,a,l,u,h,f){for(var p=i-1,m=i===0?o:[""],b=MFe(m),C=0,y=0,x=0;C<r;++C)for(var R=0,T=yg(e,p+1,p=Ite(y=s[C])),M=e;R<b;++R)(M=Mte(y>0?m[R]+" "+T:bS(T,/&\f/g,m[R])))&&(l[x++]=M);return nV(e,t,n,i===0?Ote:a,l,u,h,f)}function GFe(e,t,n,r){return nV(e,t,n,_te,tV(FFe()),yg(e,2,-2),0,r)}function S4(e,t,n,r,i){return nV(e,t,n,Dte,yg(e,0,r),yg(e,r+1,-1),r,i)}function FF(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function zFe(e,t,n,r){switch(e.type){case DFe:if(e.children.length)break;case PFe:case _Fe:case Dte:return e.return=e.return||e.value;case _te:return"";case OFe:return e.return=e.value+"{"+FF(e.children,r)+"}";case Ote:if(!Ba(e.value=e.props.join(",")))return""}return Ba(n=FF(e.children,r))?e.return=e.value+"{"+n+"}":""}var x4="data-ant-cssinjs-cache-path",kte="_FILE_STYLE__",xh,Lte=!0;function UFe(){if(!xh&&(xh={},Ro())){var e=document.createElement("div");e.className=x4,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(i){var o=i.split(":"),s=He(o,2),a=s[0],l=s[1];xh[a]=l});var n=document.querySelector("style[".concat(x4,"]"));if(n){var r;Lte=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(e)}}function WFe(e){return UFe(),!!xh[e]}function qFe(e){var t=xh[e],n=null;if(t&&Ro())if(Lte)n=kte;else{var r=document.querySelector("style[".concat(ua,'="').concat(xh[e],'"]'));r?n=r.innerHTML:delete xh[e]}return[n,t]}var KFe="_skip_check_",Nte="_multi_value_";function SS(e){var t=FF(jFe(e),zFe);return t.replace(/\{%%%\:[^;];}/g,";")}function YFe(e){return gt(e)==="object"&&e&&(KFe in e||Nte in e)}function E4(e,t,n){if(!t)return e;var r=".".concat(t),i=n==="low"?":where(".concat(r,")"):r,o=e.split(",").map(function(s){var a,l=s.trim().split(/\s+/),u=l[0]||"",h=((a=u.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return u="".concat(h).concat(i).concat(u.slice(h.length)),[u].concat(Ge(l.slice(1))).join(" ")});return o.join(",")}var XFe=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,l=n.layer;n.path;var u=n.hashPriority,h=n.transformers,f=h===void 0?[]:h;n.linters;var p="",m={};function b(x){var R=x.getName(a);if(!m[R]){var T=e(x.style,n,{root:!1,parentSelectors:s}),M=He(T,1),A=M[0];m[R]="@keyframes ".concat(x.getName(a)).concat(A)}}function C(x){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return x.forEach(function(T){Array.isArray(T)?C(T,R):T&&R.push(T)}),R}var y=C(Array.isArray(t)?t:[t]);return y.forEach(function(x){var R=typeof x=="string"&&!i?{}:x;if(typeof R=="string")p+="".concat(R,`
`);else if(R._keyframe)b(R);else{var T=f.reduce(function(M,A){var D;return(A==null||(D=A.visit)===null||D===void 0?void 0:D.call(A,M))||M},R);Object.keys(T).forEach(function(M){var A=T[M];if(gt(A)==="object"&&A&&(M!=="animationName"||!A._keyframe)&&!YFe(A)){var D=!1,_=M.trim(),I=!1;(i||o)&&a?_.startsWith("@")?D=!0:_==="&"?_=E4("",a,u):_=E4(M,a,u):i&&!a&&(_==="&"||_==="")&&(_="",I=!0);var O=e(A,n,{root:I,injectHash:D,parentSelectors:[].concat(Ge(s),[_])}),F=He(O,2),L=F[0],V=F[1];m=he(he({},m),V),p+="".concat(_).concat(L)}else{let X=function(j,G){var U=j.replace(/[A-Z]/g,function($){return"-".concat($.toLowerCase())}),Z=G;!AFe[j]&&typeof Z=="number"&&Z!==0&&(Z="".concat(Z,"px")),j==="animationName"&&G!==null&&G!==void 0&&G._keyframe&&(b(G),Z=G.getName(a)),p+="".concat(U,":").concat(Z,";")};var N,Y=(N=A==null?void 0:A.value)!==null&&N!==void 0?N:A;gt(A)==="object"&&A!==null&&A!==void 0&&A[Nte]&&Array.isArray(Y)?Y.forEach(function(j){X(M,j)}):X(M,Y)}})}}),i?l&&(p&&(p="@layer ".concat(l.name," {").concat(p,"}")),l.dependencies&&(m["@layer ".concat(l.name)]=l.dependencies.map(function(x){return"@layer ".concat(x,", ").concat(l.name,";")}).join(`
`))):p="{".concat(p,"}"),[p,m]};function Vte(e,t){return Ky("".concat(e.join("%")).concat(t))}function QFe(){return null}var Bte="style";function kF(e,t){var n=e.token,r=e.path,i=e.hashId,o=e.layer,s=e.nonce,a=e.clientOnly,l=e.order,u=l===void 0?0:l,h=w.useContext(wC),f=h.autoClear;h.mock;var p=h.defaultCache,m=h.hashPriority,b=h.container,C=h.ssrInline,y=h.transformers,x=h.linters,R=h.cache,T=h.layer,M=n._tokenKey,A=[M];T&&A.push("layer"),A.push.apply(A,Ge(r));var D=IF,_=eV(Bte,A,function(){var V=A.join("|");if(WFe(V)){var N=qFe(V),Y=He(N,2),X=Y[0],j=Y[1];if(X)return[X,M,j,{},a,u]}var G=t(),U=XFe(G,{hashId:i,hashPriority:m,layer:T?o:void 0,path:r.join("-"),transformers:y,linters:x}),Z=He(U,2),$=Z[0],Q=Z[1],J=SS($),ne=Vte(A,J);return[J,M,ne,Q,a,u]},function(V,N){var Y=He(V,3),X=Y[2];(N||f)&&IF&&Yy(X,{mark:ua})},function(V){var N=He(V,4),Y=N[0];N[1];var X=N[2],j=N[3];if(D&&Y!==kte){var G={mark:ua,prepend:T?!1:"queue",attachTo:b,priority:u},U=typeof s=="function"?s():s;U&&(G.csp={nonce:U});var Z=[],$=[];Object.keys(j).forEach(function(J){J.startsWith("@layer")?Z.push(J):$.push(J)}),Z.forEach(function(J){tu(SS(j[J]),"_layer-".concat(J),he(he({},G),{},{prepend:!0}))});var Q=tu(Y,X,G);Q[Ac]=R.instanceId,Q.setAttribute(vg,M),$.forEach(function(J){tu(SS(j[J]),"_effect-".concat(J),G)})}}),I=He(_,3),O=I[0],F=I[1],L=I[2];return function(V){var N;if(!C||D||!p)N=w.createElement(QFe,null);else{var Y;N=w.createElement("style",Hn({},(Y={},de(Y,vg,F),de(Y,ua,L),Y),{dangerouslySetInnerHTML:{__html:O}}))}return w.createElement(w.Fragment,null,N,V)}}var ZFe=function(t,n,r){var i=He(t,6),o=i[0],s=i[1],a=i[2],l=i[3],u=i[4],h=i[5],f=r||{},p=f.plain;if(u)return null;var m=o,b={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)};return m=_x(o,s,a,b,p),l&&Object.keys(l).forEach(function(C){if(!n[C]){n[C]=!0;var y=SS(l[C]),x=_x(y,s,"_effect-".concat(C),b,p);C.startsWith("@layer")?m=x+m:m+=x}}),[h,a,m]},Hte="cssVar",JFe=function(t,n){var r=t.key,i=t.prefix,o=t.unitless,s=t.ignore,a=t.token,l=t.scope,u=l===void 0?"":l,h=w.useContext(wC),f=h.cache.instanceId,p=h.container,m=a._tokenKey,b=[].concat(Ge(t.path),[r,u,m]),C=eV(Hte,b,function(){var y=n(),x=Ate(y,r,{prefix:i,unitless:o,ignore:s,scope:u}),R=He(x,2),T=R[0],M=R[1],A=Vte(b,M);return[T,M,A,r]},function(y){var x=He(y,3),R=x[2];IF&&Yy(R,{mark:ua})},function(y){var x=He(y,3),R=x[1],T=x[2];if(R){var M=tu(R,T,{mark:ua,prepend:"queue",attachTo:p,priority:-999});M[Ac]=f,M.setAttribute(vg,r)}});return C},eke=function(t,n,r){var i=He(t,4),o=i[1],s=i[2],a=i[3],l=r||{},u=l.plain;if(!o)return null;var h=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)},p=_x(o,a,s,f,u);return[h,s,p]},bv;bv={},de(bv,Bte,ZFe),de(bv,Pte,TFe),de(bv,Hte,eke);var lo=function(){function e(t,n){ui(this,e),de(this,"name",void 0),de(this,"style",void 0),de(this,"_keyframe",!0),this.name=t,this.style=n}return ci(e,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),e}();function Yf(e){return e.notSplit=!0,e}Yf(["borderTop","borderBottom"]),Yf(["borderTop"]),Yf(["borderBottom"]),Yf(["borderLeft","borderRight"]),Yf(["borderLeft"]),Yf(["borderRight"]);var rV=w.createContext({});function tke(e){return wte(e)||vte(e)||X2(e)||Ste()}function As(e,t){for(var n=e,r=0;r<t.length;r+=1){if(n==null)return;n=n[t[r]]}return n}function $te(e,t,n,r){if(!t.length)return n;var i=tke(t),o=i[0],s=i.slice(1),a;return!e&&typeof o=="number"?a=[]:Array.isArray(e)?a=Ge(e):a=he({},e),r&&n===void 0&&s.length===1?delete a[o][s[0]]:a[o]=$te(a[o],s,n,r),a}function Ss(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&r&&n===void 0&&!As(e,t.slice(0,-1))?e:$te(e,t,n,r)}function nke(e){return gt(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function R4(e){return Array.isArray(e)?[]:{}}var rke=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function hp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=R4(t[0]);return t.forEach(function(i){function o(s,a){var l=new Set(a),u=As(i,s),h=Array.isArray(u);if(h||nke(u)){if(!l.has(u)){l.add(u);var f=As(r,s);h?r=Ss(r,s,[]):(!f||gt(f)!=="object")&&(r=Ss(r,s,R4(u))),rke(u).forEach(function(p){o([].concat(Ge(s),[p]),l)})}}else r=Ss(r,s,u)}o([])}),r}function ike(){}const oke=w.createContext({}),iV=()=>{const e=()=>{};return e.deprecated=ike,e},jte=w.createContext(void 0);var ske={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},ake={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},lke=he(he({},ake),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const Gte={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},T4={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},lke),timePickerLocale:Object.assign({},Gte)},No="${label} is not a valid ${type}",Kc={locale:"en",Pagination:ske,DatePicker:T4,TimePicker:Gte,Calendar:T4,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:No,method:No,array:No,object:No,number:No,date:No,boolean:No,integer:No,float:No,regexp:No,email:No,url:No,hex:No},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let xS=Object.assign({},Kc.Modal),ES=[];const A4=()=>ES.reduce((e,t)=>Object.assign(Object.assign({},e),t),Kc.Modal);function uke(e){if(e){const t=Object.assign({},e);return ES.push(t),xS=A4(),()=>{ES=ES.filter(n=>n!==t),xS=A4()}}xS=Object.assign({},Kc.Modal)}function zte(){return xS}const oV=w.createContext(void 0),CR=(e,t)=>{const n=w.useContext(oV),r=w.useMemo(()=>{var o;const s=t||Kc[e],a=(o=n==null?void 0:n[e])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[e,t,n]),i=w.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?Kc.locale:o},[n]);return[r,i]},cke="internalMark",dke=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;w.useEffect(()=>uke(t==null?void 0:t.Modal),[t]);const i=w.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return w.createElement(oV.Provider,{value:i},n)},Ute={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Qy=Object.assign(Object.assign({},Ute),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),ii=Math.round;function v1(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const P4=(e,t,n)=>n===0?e:e/100;function Cv(e,t){const n=t||255;return e>n?n:e<0?0:e}class or{constructor(t){de(this,"isValid",!0),de(this,"r",0),de(this,"g",0),de(this,"b",0),de(this,"a",1),de(this,"_h",void 0),de(this,"_s",void 0),de(this,"_l",void 0),de(this,"_v",void 0),de(this,"_max",void 0),de(this,"_min",void 0),de(this,"_brightness",void 0);function n(i){return i[0]in t&&i[1]in t&&i[2]in t}if(t)if(typeof t=="string"){let o=function(s){return i.startsWith(s)};var r=o;const i=t.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):o("rgb")?this.fromRgbString(i):o("hsl")?this.fromHslString(i):(o("hsv")||o("hsb"))&&this.fromHsvString(i)}else if(t instanceof or)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=Cv(t.r),this.g=Cv(t.g),this.b=Cv(t.b),this.a=typeof t.a=="number"?Cv(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else if(n("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(o){const s=o/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const n=t(this.r),r=t(this.g),i=t(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=ii(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-t/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+t/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(t,n=50){const r=this._c(t),i=n/100,o=a=>(r[a]-this[a])*i+this[a],s={r:ii(o("r")),g:ii(o("g")),b:ii(o("b")),a:ii(o("a")*100)/100};return this._c(s)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const n=this._c(t),r=this.a+n.a*(1-this.a),i=o=>ii((this[o]*this.a+n[o]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const n=(this.r||0).toString(16);t+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);t+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(t+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=ii(this.a*255).toString(16);t+=o.length===2?o:"0"+o}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),n=ii(this.getSaturation()*100),r=ii(this.getLightness()*100);return this.a!==1?`hsla(${t},${n}%,${r}%,${this.a})`:`hsl(${t},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,n,r){const i=this.clone();return i[t]=Cv(n,r),i}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const n=t.replace("#","");function r(i,o){return parseInt(n[i]+n[o||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:t,s:n,l:r,a:i}){if(this._h=t%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const p=ii(r*255);this.r=p,this.g=p,this.b=p}let o=0,s=0,a=0;const l=t/60,u=(1-Math.abs(2*r-1))*n,h=u*(1-Math.abs(l%2-1));l>=0&&l<1?(o=u,s=h):l>=1&&l<2?(o=h,s=u):l>=2&&l<3?(s=u,a=h):l>=3&&l<4?(s=h,a=u):l>=4&&l<5?(o=h,a=u):l>=5&&l<6&&(o=u,a=h);const f=r-u/2;this.r=ii((o+f)*255),this.g=ii((s+f)*255),this.b=ii((a+f)*255)}fromHsv({h:t,s:n,v:r,a:i}){this._h=t%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const o=ii(r*255);if(this.r=o,this.g=o,this.b=o,n<=0)return;const s=t/60,a=Math.floor(s),l=s-a,u=ii(r*(1-n)*255),h=ii(r*(1-n*l)*255),f=ii(r*(1-n*(1-l))*255);switch(a){case 0:this.g=f,this.b=u;break;case 1:this.r=h,this.b=u;break;case 2:this.r=u,this.b=f;break;case 3:this.r=u,this.g=h;break;case 4:this.r=f,this.g=u;break;case 5:default:this.g=u,this.b=h;break}}fromHsvString(t){const n=v1(t,P4);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){const n=v1(t,P4);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){const n=v1(t,(r,i)=>i.includes("%")?ii(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var w0=2,_4=.16,hke=.05,fke=.05,pke=.15,Wte=5,qte=4,gke=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function O4(e,t,n){var r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-w0*t:Math.round(e.h)+w0*t:r=n?Math.round(e.h)+w0*t:Math.round(e.h)-w0*t,r<0?r+=360:r>=360&&(r-=360),r}function D4(e,t,n){if(e.h===0&&e.s===0)return e.s;var r;return n?r=e.s-_4*t:t===qte?r=e.s+_4:r=e.s+hke*t,r>1&&(r=1),n&&t===Wte&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function I4(e,t,n){var r;return n?r=e.v+fke*t:r=e.v-pke*t,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Zy(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new or(e),i=r.toHsv(),o=Wte;o>0;o-=1){var s=new or({h:O4(i,o,!0),s:D4(i,o,!0),v:I4(i,o,!0)});n.push(s)}n.push(r);for(var a=1;a<=qte;a+=1){var l=new or({h:O4(i,a),s:D4(i,a),v:I4(i,a)});n.push(l)}return t.theme==="dark"?gke.map(function(u){var h=u.index,f=u.amount;return new or(t.backgroundColor||"#141414").mix(n[h],f).toHexString()}):n.map(function(u){return u.toHexString()})}var y1={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},LF=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];LF.primary=LF[5];var NF=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];NF.primary=NF[5];var VF=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];VF.primary=VF[5];var BF=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];BF.primary=BF[5];var HF=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];HF.primary=HF[5];var $F=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];$F.primary=$F[5];var jF=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];jF.primary=jF[5];var GF=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];GF.primary=GF[5];var Ox=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Ox.primary=Ox[5];var zF=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];zF.primary=zF[5];var UF=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];UF.primary=UF[5];var WF=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];WF.primary=WF[5];var qF=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];qF.primary=qF[5];var b1={red:LF,volcano:NF,orange:VF,gold:BF,yellow:HF,lime:$F,green:jF,cyan:GF,blue:Ox,geekblue:zF,purple:UF,magenta:WF,grey:qF};function mke(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:u,colorTextBase:h}=e,f=n(l),p=n(i),m=n(o),b=n(s),C=n(a),y=r(u,h),x=e.colorLink||e.colorInfo,R=n(x),T=new or(b[1]).mix(new or(b[3]),50).toHexString();return Object.assign(Object.assign({},y),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:p[1],colorSuccessBgHover:p[2],colorSuccessBorder:p[3],colorSuccessBorderHover:p[4],colorSuccessHover:p[4],colorSuccess:p[6],colorSuccessActive:p[7],colorSuccessTextHover:p[8],colorSuccessText:p[9],colorSuccessTextActive:p[10],colorErrorBg:b[1],colorErrorBgHover:b[2],colorErrorBgFilledHover:T,colorErrorBgActive:b[3],colorErrorBorder:b[3],colorErrorBorderHover:b[4],colorErrorHover:b[5],colorError:b[6],colorErrorActive:b[7],colorErrorTextHover:b[8],colorErrorText:b[9],colorErrorTextActive:b[10],colorWarningBg:m[1],colorWarningBgHover:m[2],colorWarningBorder:m[3],colorWarningBorderHover:m[4],colorWarningHover:m[4],colorWarning:m[6],colorWarningActive:m[7],colorWarningTextHover:m[8],colorWarningText:m[9],colorWarningTextActive:m[10],colorInfoBg:C[1],colorInfoBgHover:C[2],colorInfoBorder:C[3],colorInfoBorderHover:C[4],colorInfoHover:C[4],colorInfo:C[6],colorInfoActive:C[7],colorInfoTextHover:C[8],colorInfoText:C[9],colorInfoTextActive:C[10],colorLinkHover:R[4],colorLink:R[6],colorLinkActive:R[7],colorBgMask:new or("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const vke=e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};function yke(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+t*2).toFixed(1)}s`,motionDurationSlow:`${(n+t*3).toFixed(1)}s`,lineWidthBold:i+1},vke(r))}const bke=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function RS(e){return(e+8)/e}function Cke(e){const t=Array.from({length:10}).map((n,r)=>{const i=r-1,o=e*Math.pow(Math.E,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return t[1]=e,t.map(n=>({size:n,lineHeight:RS(n)}))}const wke=e=>{const t=Cke(e),n=t.map(h=>h.size),r=t.map(h=>h.lineHeight),i=n[1],o=n[0],s=n[2],a=r[1],l=r[0],u=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:u,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(u*s),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function Ske(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}const cs=(e,t)=>new or(e).setA(t).toRgbString(),wv=(e,t)=>new or(e).darken(t).toHexString(),xke=e=>{const t=Zy(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Eke=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:cs(r,.88),colorTextSecondary:cs(r,.65),colorTextTertiary:cs(r,.45),colorTextQuaternary:cs(r,.25),colorFill:cs(r,.15),colorFillSecondary:cs(r,.06),colorFillTertiary:cs(r,.04),colorFillQuaternary:cs(r,.02),colorBgSolid:cs(r,1),colorBgSolidHover:cs(r,.75),colorBgSolidActive:cs(r,.95),colorBgLayout:wv(n,4),colorBgContainer:wv(n,0),colorBgElevated:wv(n,0),colorBgSpotlight:cs(r,.85),colorBgBlur:"transparent",colorBorder:wv(n,15),colorBorderSecondary:wv(n,6)}};function Rke(e){y1.pink=y1.magenta,b1.pink=b1.magenta;const t=Object.keys(Ute).map(n=>{const r=e[n]===y1[n]?b1[n]:Zy(e[n]);return Array.from({length:10},()=>1).reduce((i,o,s)=>(i[`${n}-${s+1}`]=r[s],i[`${n}${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),mke(e,{generateColorPalettes:xke,generateNeutralColorPalettes:Eke})),wke(e.fontSize)),Ske(e)),bke(e)),yke(e))}const Kte=DF(Rke),KF={token:Qy,override:{override:Qy},hashed:!0},Yte=z.createContext(KF),Jy="ant",wR="anticon",Tke=(e,t)=>t||(e?`${Jy}-${e}`:Jy),Jn=w.createContext({getPrefixCls:Tke,iconPrefixCls:wR}),{Consumer:xnt}=Jn,M4={};function SR(e){const t=w.useContext(Jn),{getPrefixCls:n,direction:r,getPopupContainer:i}=t,o=t[e];return Object.assign(Object.assign({classNames:M4,styles:M4},o),{getPrefixCls:n,direction:r,getPopupContainer:i})}const Ake=`-ant-${Date.now()}-${Math.random()}`;function Pke(e,t){const n={},r=(s,a)=>{let l=s.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(s,a)=>{const l=new or(s),u=Zy(l.toRgbString());n[`${a}-color`]=r(l),n[`${a}-color-disabled`]=u[1],n[`${a}-color-hover`]=u[4],n[`${a}-color-active`]=u[6],n[`${a}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=u[0],n[`${a}-color-deprecated-border`]=u[2]};if(t.primaryColor){i(t.primaryColor,"primary");const s=new or(t.primaryColor),a=Zy(s.toRgbString());a.forEach((u,h)=>{n[`primary-${h+1}`]=u}),n["primary-color-deprecated-l-35"]=r(s,u=>u.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,u=>u.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,u=>u.tint(20)),n["primary-color-deprecated-t-50"]=r(s,u=>u.tint(50)),n["primary-color-deprecated-f-12"]=r(s,u=>u.setA(u.a*.12));const l=new or(a[0]);n["primary-color-active-deprecated-f-30"]=r(l,u=>u.setA(u.a*.3)),n["primary-color-active-deprecated-d-02"]=r(l,u=>u.darken(2))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${e}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function _ke(e,t){const n=Pke(e,t);Ro()&&tu(n,`${Ake}-dynamic-theme`)}const eb=w.createContext(!1),sV=e=>{let{children:t,disabled:n}=e;const r=w.useContext(eb);return w.createElement(eb.Provider,{value:n??r},t)},jh=w.createContext(void 0),Oke=e=>{let{children:t,size:n}=e;const r=w.useContext(jh);return w.createElement(jh.Provider,{value:n||r},t)};function Dke(){const e=w.useContext(eb),t=w.useContext(jh);return{componentDisabled:e,componentSize:t}}var Xte=ci(function e(){ui(this,e)}),Qte="CALC_UNIT",Ike=new RegExp(Qte,"g");function C1(e){return typeof e=="number"?"".concat(e).concat(Qte):e}var Mke=function(e){sd(n,e);var t=ad(n);function n(r,i){var o;ui(this,n),o=t.call(this),de(Ot(o),"result",""),de(Ot(o),"unitlessCssVar",void 0),de(Ot(o),"lowPriority",void 0);var s=gt(r);return o.unitlessCssVar=i,r instanceof n?o.result="(".concat(r.result,")"):s==="number"?o.result=C1(r):s==="string"&&(o.result=r),o}return ci(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(C1(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(C1(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var o=this,s=i||{},a=s.unit,l=!0;return typeof a=="boolean"?l=a:Array.from(this.unitlessCssVar).some(function(u){return o.result.includes(u)})&&(l=!1),this.result=this.result.replace(Ike,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(Xte),Fke=function(e){sd(n,e);var t=ad(n);function n(r){var i;return ui(this,n),i=t.call(this),de(Ot(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return ci(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(Xte),kke=function(t,n){var r=t==="css"?Mke:Fke;return function(i){return new r(i,n)}},F4=function(t,n){return"".concat([n,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function bo(e){var t=w.useRef();t.current=e;var n=w.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(o))},[]);return n}function Gh(e){var t=w.useRef(!1),n=w.useState(e),r=He(n,2),i=r[0],o=r[1];w.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function s(a,l){l&&t.current||o(a)}return[i,s]}function w1(e){return e!==void 0}function Lke(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=Gh(function(){return w1(i)?i:w1(r)?typeof r=="function"?r():r:e}),l=He(a,2),u=l[0],h=l[1],f=i!==void 0?i:u,p=s?s(f):f,m=bo(o),b=Gh([f]),C=He(b,2),y=C[0],x=C[1];b4(function(){var T=y[0];u!==T&&m(u,T)},[y]),b4(function(){w1(i)||h(i)},[i]);var R=bo(function(T,M){h(T,M),x([f],M)});return[p,R]}function k4(e,t,n,r){var i=he({},t[e]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(a){var l=He(a,2),u=l[0],h=l[1];if(i!=null&&i[u]||i!=null&&i[h]){var f;(f=i[h])!==null&&f!==void 0||(i[h]=i==null?void 0:i[u])}})}var s=he(he({},n),i);return Object.keys(s).forEach(function(a){s[a]===t[a]&&delete s[a]}),s}var Zte=typeof CSSINJS_STATISTIC<"u",YF=!0;function Ns(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Zte)return Object.assign.apply(Object,[{}].concat(t));YF=!1;var r={};return t.forEach(function(i){if(gt(i)==="object"){var o=Object.keys(i);o.forEach(function(s){Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return i[s]}})})}}),YF=!0,r}var L4={};function Nke(){}var Vke=function(t){var n,r=t,i=Nke;return Zte&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(t,{get:function(s,a){if(YF){var l;(l=n)===null||l===void 0||l.add(a)}return s[a]}}),i=function(s,a){var l;L4[s]={global:Array.from(n),component:he(he({},(l=L4[s])===null||l===void 0?void 0:l.component),a)}}),{token:r,keys:n,flush:i}};function N4(e,t,n){if(typeof n=="function"){var r;return n(Ns(t,(r=t[e])!==null&&r!==void 0?r:{}))}return n??{}}function Bke(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(o){return vt(o)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(o){return vt(o)}).join(","),")")}}}var Hke=1e3*60*10,$ke=function(){function e(){ui(this,e),de(this,"map",new Map),de(this,"objectIDMap",new WeakMap),de(this,"nextID",0),de(this,"lastAccessBeat",new Map),de(this,"accessBeat",0)}return ci(e,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(o){return o&&gt(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat(gt(o),"_").concat(o)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,o){r-i>Hke&&(n.map.delete(o),n.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),e}(),V4=new $ke;function jke(e,t){return z.useMemo(function(){var n=V4.get(t);if(n)return n;var r=e();return V4.set(t,r),r},t)}var Gke=function(){return{}};function zke(e){var t=e.useCSP,n=t===void 0?Gke:t,r=e.useToken,i=e.usePrefix,o=e.getResetStyles,s=e.getCommonStyle,a=e.getCompUnitless;function l(p,m,b,C){var y=Array.isArray(p)?p[0]:p;function x(I){return"".concat(String(y)).concat(I.slice(0,1).toUpperCase()).concat(I.slice(1))}var R=(C==null?void 0:C.unitless)||{},T=typeof a=="function"?a(p):{},M=he(he({},T),{},de({},x("zIndexPopup"),!0));Object.keys(R).forEach(function(I){M[x(I)]=R[I]});var A=he(he({},C),{},{unitless:M,prefixToken:x}),D=h(p,m,b,A),_=u(y,b,A);return function(I){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I,F=D(I,O),L=He(F,2),V=L[1],N=_(O),Y=He(N,2),X=Y[0],j=Y[1];return[X,V,j]}}function u(p,m,b){var C=b.unitless,y=b.injectStyle,x=y===void 0?!0:y,R=b.prefixToken,T=b.ignore,M=function(_){var I=_.rootCls,O=_.cssVar,F=O===void 0?{}:O,L=r(),V=L.realToken;return JFe({path:[p],prefix:F.prefix,key:F.key,unitless:C,ignore:T,token:V,scope:I},function(){var N=N4(p,V,m),Y=k4(p,V,N,{deprecatedTokens:b==null?void 0:b.deprecatedTokens});return Object.keys(N).forEach(function(X){Y[R(X)]=Y[X],delete Y[X]}),Y}),null},A=function(_){var I=r(),O=I.cssVar;return[function(F){return x&&O?z.createElement(z.Fragment,null,z.createElement(M,{rootCls:_,cssVar:O,component:p}),F):F},O==null?void 0:O.key]};return A}function h(p,m,b){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=Array.isArray(p)?p:[p,p],x=He(y,1),R=x[0],T=y.join("-"),M=e.layer||{name:"antd"};return function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A,_=r(),I=_.theme,O=_.realToken,F=_.hashId,L=_.token,V=_.cssVar,N=i(),Y=N.rootPrefixCls,X=N.iconPrefixCls,j=n(),G=V?"css":"js",U=jke(function(){var ee=new Set;return V&&Object.keys(C.unitless||{}).forEach(function(fe){ee.add(yS(fe,V.prefix)),ee.add(yS(fe,F4(R,V.prefix)))}),kke(G,ee)},[G,R,V==null?void 0:V.prefix]),Z=Bke(G),$=Z.max,Q=Z.min,J={theme:I,token:L,hashId:F,nonce:function(){return j.nonce},clientOnly:C.clientOnly,layer:M,order:C.order||-999};typeof o=="function"&&kF(he(he({},J),{},{clientOnly:!1,path:["Shared",Y]}),function(){return o(L,{prefix:{rootPrefixCls:Y,iconPrefixCls:X},csp:j})});var ne=kF(he(he({},J),{},{path:[T,A,X]}),function(){if(C.injectStyle===!1)return[];var ee=Vke(L),fe=ee.token,me=ee.flush,xe=N4(R,O,b),Pe=".".concat(A),ue=k4(R,O,xe,{deprecatedTokens:C.deprecatedTokens});V&&xe&&gt(xe)==="object"&&Object.keys(xe).forEach(function(Oe){xe[Oe]="var(".concat(yS(Oe,F4(R,V.prefix)),")")});var Se=Ns(fe,{componentCls:Pe,prefixCls:A,iconCls:".".concat(X),antCls:".".concat(Y),calc:U,max:$,min:Q},V?xe:ue),Re=m(Se,{hashId:F,prefixCls:A,rootPrefixCls:Y,iconPrefixCls:X});me(R,ue);var le=typeof s=="function"?s(Se,A,D,C.resetFont):null;return[C.resetStyle===!1?null:le,Re]});return[ne,F]}}function f(p,m,b){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=h(p,m,b,he({resetStyle:!1,order:-998},C)),x=function(T){var M=T.prefixCls,A=T.rootCls,D=A===void 0?M:A;return y(M,D),null};return x}return{genStyleHooks:l,genSubStyleComponent:f,genComponentStyleHook:h}}const zh=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Uke="5.24.5";function S1(e){return e>=0&&e<=255}function $v(e,t){const{r:n,g:r,b:i,a:o}=new or(e).toRgb();if(o<1)return e;const{r:s,g:a,b:l}=new or(t).toRgb();for(let u=.01;u<=1;u+=.01){const h=Math.round((n-s*(1-u))/u),f=Math.round((r-a*(1-u))/u),p=Math.round((i-l*(1-u))/u);if(S1(h)&&S1(f)&&S1(p))return new or({r:h,g:f,b:p,a:Math.round(u*100)/100}).toRgbString()}return new or({r:n,g:r,b:i,a:1}).toRgbString()}var Wke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Jte(e){const{override:t}=e,n=Wke(e,["override"]),r=Object.assign({},t);Object.keys(Qy).forEach(p=>{delete r[p]});const i=Object.assign(Object.assign({},n),r),o=480,s=576,a=768,l=992,u=1200,h=1600;if(i.motion===!1){const p="0s";i.motionDurationFast=p,i.motionDurationMid=p,i.motionDurationSlow=p}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:$v(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:$v(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:$v(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:$v(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:u-1,screenXL:u,screenXLMin:u,screenXLMax:h-1,screenXXL:h,screenXXLMin:h,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new or("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new or("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new or("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var B4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ene={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},qke={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Kke={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},tne=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:i}=t,o=B4(t,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=Jte(s),o&&Object.entries(o).forEach(a=>{let[l,u]=a;const{theme:h}=u,f=B4(u,["theme"]);let p=f;h&&(p=tne(Object.assign(Object.assign({},s),f),{override:f},h)),s[l]=p}),s};function cl(){const{token:e,hashed:t,theme:n,override:r,cssVar:i}=z.useContext(Yte),o=`${Uke}-${t||""}`,s=n||Kte,[a,l,u]=RFe(s,[Qy,e],{salt:o,override:r,getComputedToken:tne,formatToken:Jte,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:ene,ignore:qke,preserve:Kke}});return[s,u,t?l:"",a,i]}const xR=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},nne=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Yke=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Xke=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),Qke=(e,t,n,r)=>{const i=`[class^="${t}"], [class*=" ${t}"]`,o=n?`.${n}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return r!==!1&&(a={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},a),s),{[i]:s})}},Zke=(e,t)=>({outline:`${vt(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:t??1,transition:"outline-offset 0s, outline 0s"}),rne=(e,t)=>({"&:focus-visible":Object.assign({},Zke(e,t))}),ine=e=>({[`.${e}`]:Object.assign(Object.assign({},nne()),{[`.${e} .${e}-icon`]:{display:"block"}})}),{genStyleHooks:of,genComponentStyleHook:Jke,genSubStyleComponent:aV}=zke({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=w.useContext(Jn);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,r,i]=cl();return{theme:e,realToken:t,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:e}=w.useContext(Jn);return e??{}},getResetStyles:(e,t)=>{var n;const r=Xke(e);return[r,{"&":r},ine((n=t==null?void 0:t.prefix.iconPrefixCls)!==null&&n!==void 0?n:wR)]},getCommonStyle:Qke,getCompUnitless:()=>ene});function eLe(e,t){return zh.reduce((n,r)=>{const i=e[`${r}1`],o=e[`${r}3`],s=e[`${r}6`],a=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const tLe=(e,t)=>{const[n,r]=cl();return kF({token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>t==null?void 0:t.nonce,layer:{name:"antd"}},()=>[ine(e)])},nLe=Object.assign({},IE),{useId:H4}=nLe,rLe=()=>"",iLe=typeof H4>"u"?rLe:H4;function oLe(e,t,n){var r;iV();const i=e||{},o=i.inherit===!1||!t?Object.assign(Object.assign({},KF),{hashed:(r=t==null?void 0:t.hashed)!==null&&r!==void 0?r:KF.hashed,cssVar:t==null?void 0:t.cssVar}):t,s=iLe();return W2(()=>{var a,l;if(!e)return t;const u=Object.assign({},o.components);Object.keys(e.components||{}).forEach(p=>{u[p]=Object.assign(Object.assign({},u[p]),e.components[p])});const h=`css-var-${s.replace(/:/g,"")}`,f=((a=i.cssVar)!==null&&a!==void 0?a:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||h});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:u,cssVar:f})},[i,o],(a,l)=>a.some((u,h)=>{const f=l[h];return!_F(u,f,!0)}))}var sLe=["children"],one=w.createContext({});function aLe(e){var t=e.children,n=Fs(e,sLe);return w.createElement(one.Provider,{value:n},t)}var lLe=function(e){sd(n,e);var t=ad(n);function n(){return ui(this,n),t.apply(this,arguments)}return ci(n,[{key:"render",value:function(){return this.props.children}}]),n}(w.Component);function uLe(e){var t=w.useReducer(function(a){return a+1},0),n=He(t,2),r=n[1],i=w.useRef(e),o=bo(function(){return i.current}),s=bo(function(a){i.current=typeof a=="function"?a(i.current):a,r()});return[o,s]}var ic="none",S0="appear",x0="enter",E0="leave",$4="none",ta="prepare",fp="start",pp="active",lV="end",sne="prepared";function j4(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function cLe(e,t){var n={animationend:j4("Animation","AnimationEnd"),transitionend:j4("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var dLe=cLe(Ro(),typeof window<"u"?window:{}),ane={};if(Ro()){var hLe=document.createElement("div");ane=hLe.style}var R0={};function lne(e){if(R0[e])return R0[e];var t=dLe[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in ane)return R0[e]=t[o],R0[e]}return""}var une=lne("animationend"),cne=lne("transitionend"),dne=!!(une&&cne),G4=une||"animationend",z4=cne||"transitionend";function U4(e,t){if(!e)return null;if(gt(e)==="object"){var n=t.replace(/-\w/g,function(r){return r[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const fLe=function(e){var t=w.useRef();function n(i){i&&(i.removeEventListener(z4,e),i.removeEventListener(G4,e))}function r(i){t.current&&t.current!==i&&n(t.current),i&&i!==t.current&&(i.addEventListener(z4,e),i.addEventListener(G4,e),t.current=i)}return w.useEffect(function(){return function(){n(t.current)}},[]),[r,n]};var hne=Ro()?w.useLayoutEffect:w.useEffect;const pLe=function(){var e=w.useRef(null);function t(){gu.cancel(e.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=gu(function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)});e.current=o}return w.useEffect(function(){return function(){t()}},[]),[n,t]};var gLe=[ta,fp,pp,lV],mLe=[ta,sne],fne=!1,vLe=!0;function pne(e){return e===pp||e===lV}const yLe=function(e,t,n){var r=Gh($4),i=He(r,2),o=i[0],s=i[1],a=pLe(),l=He(a,2),u=l[0],h=l[1];function f(){s(ta,!0)}var p=t?mLe:gLe;return hne(function(){if(o!==$4&&o!==lV){var m=p.indexOf(o),b=p[m+1],C=n(o);C===fne?s(b,!0):b&&u(function(y){function x(){y.isCanceled()||s(b,!0)}C===!0?x():Promise.resolve(C).then(x)})}},[e,o]),w.useEffect(function(){return function(){h()}},[]),[f,o]};function bLe(e,t,n,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,u=l===void 0?!0:l,h=r.motionDeadline,f=r.motionLeaveImmediately,p=r.onAppearPrepare,m=r.onEnterPrepare,b=r.onLeavePrepare,C=r.onAppearStart,y=r.onEnterStart,x=r.onLeaveStart,R=r.onAppearActive,T=r.onEnterActive,M=r.onLeaveActive,A=r.onAppearEnd,D=r.onEnterEnd,_=r.onLeaveEnd,I=r.onVisibleChanged,O=Gh(),F=He(O,2),L=F[0],V=F[1],N=uLe(ic),Y=He(N,2),X=Y[0],j=Y[1],G=Gh(null),U=He(G,2),Z=U[0],$=U[1],Q=X(),J=w.useRef(!1),ne=w.useRef(null);function ee(){return n()}var fe=w.useRef(!1);function me(){j(ic),$(null,!0)}var xe=bo(function(Ve){var dt=X();if(dt!==ic){var Qe=ee();if(!(Ve&&!Ve.deadline&&Ve.target!==Qe)){var wt=fe.current,qt;dt===S0&&wt?qt=A==null?void 0:A(Qe,Ve):dt===x0&&wt?qt=D==null?void 0:D(Qe,Ve):dt===E0&&wt&&(qt=_==null?void 0:_(Qe,Ve)),wt&&qt!==!1&&me()}}}),Pe=fLe(xe),ue=He(Pe,1),Se=ue[0],Re=function(dt){switch(dt){case S0:return de(de(de({},ta,p),fp,C),pp,R);case x0:return de(de(de({},ta,m),fp,y),pp,T);case E0:return de(de(de({},ta,b),fp,x),pp,M);default:return{}}},le=w.useMemo(function(){return Re(Q)},[Q]),Oe=yLe(Q,!e,function(Ve){if(Ve===ta){var dt=le[ta];return dt?dt(ee()):fne}if(Le in le){var Qe;$(((Qe=le[Le])===null||Qe===void 0?void 0:Qe.call(le,ee(),null))||null)}return Le===pp&&Q!==ic&&(Se(ee()),h>0&&(clearTimeout(ne.current),ne.current=setTimeout(function(){xe({deadline:!0})},h))),Le===sne&&me(),vLe}),Ie=He(Oe,2),_e=Ie[0],Le=Ie[1],Be=pne(Le);fe.current=Be;var ze=w.useRef(null);hne(function(){if(!(J.current&&ze.current===t)){V(t);var Ve=J.current;J.current=!0;var dt;!Ve&&t&&a&&(dt=S0),Ve&&t&&o&&(dt=x0),(Ve&&!t&&u||!Ve&&f&&!t&&u)&&(dt=E0);var Qe=Re(dt);dt&&(e||Qe[ta])?(j(dt),_e()):j(ic),ze.current=t}},[t]),w.useEffect(function(){(Q===S0&&!a||Q===x0&&!o||Q===E0&&!u)&&j(ic)},[a,o,u]),w.useEffect(function(){return function(){J.current=!1,clearTimeout(ne.current)}},[]);var nt=w.useRef(!1);w.useEffect(function(){L&&(nt.current=!0),L!==void 0&&Q===ic&&((nt.current||L)&&(I==null||I(L)),nt.current=!0)},[L,Q]);var it=Z;return le[ta]&&Le===fp&&(it=he({transition:"none"},it)),[Q,Le,it,L??t]}function CLe(e){var t=e;gt(e)==="object"&&(t=e.transitionSupport);function n(i,o){return!!(i.motionName&&t&&o!==!1)}var r=w.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,u=l===void 0?!0:l,h=i.forceRender,f=i.children,p=i.motionName,m=i.leavedClassName,b=i.eventProps,C=w.useContext(one),y=C.motion,x=n(i,y),R=w.useRef(),T=w.useRef();function M(){try{return R.current instanceof HTMLElement?R.current:vS(T.current)}catch{return null}}var A=bLe(x,a,M,i),D=He(A,4),_=D[0],I=D[1],O=D[2],F=D[3],L=w.useRef(F);F&&(L.current=!0);var V=w.useCallback(function(U){R.current=U,q2(o,U)},[o]),N,Y=he(he({},b),{},{visible:a});if(!f)N=null;else if(_===ic)F?N=f(he({},Y),V):!u&&L.current&&m?N=f(he(he({},Y),{},{className:m}),V):h||!u&&!m?N=f(he(he({},Y),{},{style:{display:"none"}}),V):N=null;else{var X;I===ta?X="prepare":pne(I)?X="active":I===fp&&(X="start");var j=U4(p,"".concat(_,"-").concat(X));N=f(he(he({},Y),{},{className:qe(U4(p,_),de(de({},j,j&&X),p,typeof p=="string")),style:O}),V)}if(w.isValidElement(N)&&am(N)){var G=CC(N);G||(N=w.cloneElement(N,{ref:V}))}return w.createElement(lLe,{ref:T},N)});return r.displayName="CSSMotion",r}const ld=CLe(dne);var XF="add",QF="keep",ZF="remove",x1="removed";function wLe(e){var t;return e&&gt(e)==="object"&&"key"in e?t=e:t={key:e},he(he({},t),{},{key:String(t.key)})}function JF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(wLe)}function SLe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=t.length,o=JF(e),s=JF(t);o.forEach(function(u){for(var h=!1,f=r;f<i;f+=1){var p=s[f];if(p.key===u.key){r<f&&(n=n.concat(s.slice(r,f).map(function(m){return he(he({},m),{},{status:XF})})),r=f),n.push(he(he({},p),{},{status:QF})),r+=1,h=!0;break}}h||n.push(he(he({},u),{},{status:ZF}))}),r<i&&(n=n.concat(s.slice(r).map(function(u){return he(he({},u),{},{status:XF})})));var a={};n.forEach(function(u){var h=u.key;a[h]=(a[h]||0)+1});var l=Object.keys(a).filter(function(u){return a[u]>1});return l.forEach(function(u){n=n.filter(function(h){var f=h.key,p=h.status;return f!==u||p!==ZF}),n.forEach(function(h){h.key===u&&(h.status=QF)})}),n}var xLe=["component","children","onVisibleChanged","onAllRemoved"],ELe=["status"],RLe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function TLe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ld,n=function(r){sd(o,r);var i=ad(o);function o(){var s;ui(this,o);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return s=i.call.apply(i,[this].concat(l)),de(Ot(s),"state",{keyEntities:[]}),de(Ot(s),"removeKey",function(h){s.setState(function(f){var p=f.keyEntities.map(function(m){return m.key!==h?m:he(he({},m),{},{status:x1})});return{keyEntities:p}},function(){var f=s.state.keyEntities,p=f.filter(function(m){var b=m.status;return b!==x1}).length;p===0&&s.props.onAllRemoved&&s.props.onAllRemoved()})}),s}return ci(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,u=this.props,h=u.component,f=u.children,p=u.onVisibleChanged;u.onAllRemoved;var m=Fs(u,xLe),b=h||w.Fragment,C={};return RLe.forEach(function(y){C[y]=m[y],delete m[y]}),delete m.keys,w.createElement(b,m,l.map(function(y,x){var R=y.status,T=Fs(y,ELe),M=R===XF||R===QF;return w.createElement(t,Hn({},C,{key:T.key,visible:M,eventProps:T,onVisibleChanged:function(D){p==null||p(D,{key:T.key}),D||a.removeKey(T.key)}}),function(A,D){return f(he(he({},A),{},{index:x}),D)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var u=a.keys,h=l.keyEntities,f=JF(u),p=SLe(h,f);return{keyEntities:p.filter(function(m){var b=h.find(function(C){var y=C.key;return m.key===y});return!(b&&b.status===x1&&m.status===ZF)})}}}]),o}(w.Component);return de(n,"defaultProps",{component:"div"}),n}const ALe=TLe(dne);function PLe(e){const{children:t}=e,[,n]=cl(),{motion:r}=n,i=w.useRef(!1);return i.current=i.current||r===!1,i.current?w.createElement(aLe,{motion:r},t):t}const _Le=()=>null;var OLe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const DLe=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Dx,gne,mne,vne;function TS(){return Dx||Jy}function ILe(){return gne||wR}function MLe(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const FLe=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:i}=e;t!==void 0&&(Dx=t),n!==void 0&&(gne=n),"holderRender"in e&&(vne=i),r&&(MLe(r)?_ke(TS(),r):mne=r)},kLe=()=>({getPrefixCls:(e,t)=>t||(e?`${TS()}-${e}`:TS()),getIconPrefixCls:ILe,getRootPrefixCls:()=>Dx||TS(),getTheme:()=>mne,holderRender:vne}),LLe=e=>{const{children:t,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:s,locale:a,componentSize:l,direction:u,space:h,splitter:f,virtual:p,dropdownMatchSelectWidth:m,popupMatchSelectWidth:b,popupOverflow:C,legacyLocale:y,parentContext:x,iconPrefixCls:R,theme:T,componentDisabled:M,segmented:A,statistic:D,spin:_,calendar:I,carousel:O,cascader:F,collapse:L,typography:V,checkbox:N,descriptions:Y,divider:X,drawer:j,skeleton:G,steps:U,image:Z,layout:$,list:Q,mentions:J,modal:ne,progress:ee,result:fe,slider:me,breadcrumb:xe,menu:Pe,pagination:ue,input:Se,textArea:Re,empty:le,badge:Oe,radio:Ie,rate:_e,switch:Le,transfer:Be,avatar:ze,message:nt,tag:it,table:Ve,card:dt,tabs:Qe,timeline:wt,timePicker:qt,upload:ft,notification:Mt,tree:at,colorPicker:xn,datePicker:nn,rangePicker:jn,flex:cn,wave:Gn,dropdown:Gt,warning:Rn,tour:hn,tooltip:Kt,popover:Pi,popconfirm:Sa,floatButtonGroup:Bs,variant:_i,inputNumber:uo,treeSelect:Yn}=e,En=w.useCallback((kt,Jt)=>{const{prefixCls:en}=e;if(Jt)return Jt;const Vt=en||x.getPrefixCls("");return kt?`${Vt}-${kt}`:Vt},[x.getPrefixCls,e.prefixCls]),Mr=R||x.iconPrefixCls||wR,On=n||x.csp;tLe(Mr,On);const Kr=oLe(T,x.theme,{prefixCls:En("")}),Tt={csp:On,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:a||y,direction:u,space:h,splitter:f,virtual:p,popupMatchSelectWidth:b??m,popupOverflow:C,getPrefixCls:En,iconPrefixCls:Mr,theme:Kr,segmented:A,statistic:D,spin:_,calendar:I,carousel:O,cascader:F,collapse:L,typography:V,checkbox:N,descriptions:Y,divider:X,drawer:j,skeleton:G,steps:U,image:Z,input:Se,textArea:Re,layout:$,list:Q,mentions:J,modal:ne,progress:ee,result:fe,slider:me,breadcrumb:xe,menu:Pe,pagination:ue,empty:le,badge:Oe,radio:Ie,rate:_e,switch:Le,transfer:Be,avatar:ze,message:nt,tag:it,table:Ve,card:dt,tabs:Qe,timeline:wt,timePicker:qt,upload:ft,notification:Mt,tree:at,colorPicker:xn,datePicker:nn,rangePicker:jn,flex:cn,wave:Gn,dropdown:Gt,warning:Rn,tour:hn,tooltip:Kt,popover:Pi,popconfirm:Sa,floatButtonGroup:Bs,variant:_i,inputNumber:uo,treeSelect:Yn},At=Object.assign({},x);Object.keys(Tt).forEach(kt=>{Tt[kt]!==void 0&&(At[kt]=Tt[kt])}),DLe.forEach(kt=>{const Jt=e[kt];Jt&&(At[kt]=Jt)}),typeof r<"u"&&(At.button=Object.assign({autoInsertSpace:r},At.button));const xt=W2(()=>At,At,(kt,Jt)=>{const en=Object.keys(kt),Vt=Object.keys(Jt);return en.length!==Vt.length||en.some(br=>kt[br]!==Jt[br])}),{layer:Ui}=w.useContext(wC),Oi=w.useMemo(()=>({prefixCls:Mr,csp:On,layer:Ui?"antd":void 0}),[Mr,On,Ui]);let Pt=w.createElement(w.Fragment,null,w.createElement(_Le,{dropdownMatchSelectWidth:m}),t);const Ko=w.useMemo(()=>{var kt,Jt,en,Vt;return hp(((kt=Kc.Form)===null||kt===void 0?void 0:kt.defaultValidateMessages)||{},((en=(Jt=xt.locale)===null||Jt===void 0?void 0:Jt.Form)===null||en===void 0?void 0:en.defaultValidateMessages)||{},((Vt=xt.form)===null||Vt===void 0?void 0:Vt.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[xt,s==null?void 0:s.validateMessages]);Object.keys(Ko).length>0&&(Pt=w.createElement(jte.Provider,{value:Ko},Pt)),a&&(Pt=w.createElement(dke,{locale:a,_ANT_MARK__:cke},Pt)),Pt=w.createElement(rV.Provider,{value:Oi},Pt),l&&(Pt=w.createElement(Oke,{size:l},Pt)),Pt=w.createElement(PLe,null,Pt);const Yo=w.useMemo(()=>{const kt=Kr||{},{algorithm:Jt,token:en,components:Vt,cssVar:br}=kt,Wi=OLe(kt,["algorithm","token","components","cssVar"]),hi=Jt&&(!Array.isArray(Jt)||Jt.length>0)?DF(Jt):Kte,ur={};Object.entries(Vt||{}).forEach(fi=>{let[pi,Xr]=fi;const Lt=Object.assign({},Xr);"algorithm"in Lt&&(Lt.algorithm===!0?Lt.theme=hi:(Array.isArray(Lt.algorithm)||typeof Lt.algorithm=="function")&&(Lt.theme=DF(Lt.algorithm)),delete Lt.algorithm),ur[pi]=Lt});const Yr=Object.assign(Object.assign({},Qy),en);return Object.assign(Object.assign({},Wi),{theme:hi,token:Yr,components:ur,override:Object.assign({override:Yr},ur),cssVar:br})},[Kr]);return T&&(Pt=w.createElement(Yte.Provider,{value:Yo},Pt)),xt.warning&&(Pt=w.createElement(oke.Provider,{value:xt.warning},Pt)),M!==void 0&&(Pt=w.createElement(sV,{disabled:M},Pt)),w.createElement(Jn.Provider,{value:xt},Pt)},ud=e=>{const t=w.useContext(Jn),n=w.useContext(oV);return w.createElement(LLe,Object.assign({parentContext:t,legacyLocale:n},e))};ud.ConfigContext=Jn;ud.SizeContext=jh;ud.config=FLe;ud.useConfig=Dke;Object.defineProperty(ud,"SizeContext",{get:()=>jh});var NLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function yne(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function VLe(e){return yne(e)instanceof ShadowRoot}function Ix(e){return VLe(e)?yne(e):null}function BLe(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function HLe(e,t){Uo(e,"[@ant-design/icons] ".concat(t))}function W4(e){return gt(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(gt(e.icon)==="object"||typeof e.icon=="function")}function q4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:delete t[n],t[BLe(n)]=r}return t},{})}function ek(e,t,n){return n?z.createElement(e.tag,he(he({key:t},q4(e.attrs)),n),(e.children||[]).map(function(r,i){return ek(r,"".concat(t,"-").concat(e.tag,"-").concat(i))})):z.createElement(e.tag,he({key:t},q4(e.attrs)),(e.children||[]).map(function(r,i){return ek(r,"".concat(t,"-").concat(e.tag,"-").concat(i))}))}function bne(e){return Zy(e)[0]}function Cne(e){return e?Array.isArray(e)?e:[e]:[]}var $Le=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,jLe=function(t){var n=w.useContext(rV),r=n.csp,i=n.prefixCls,o=n.layer,s=$Le;i&&(s=s.replace(/anticon/g,i)),o&&(s="@layer ".concat(o,` {
`).concat(s,`
}`)),w.useEffect(function(){var a=t.current,l=Ix(a);tu(s,"@ant-design-icons",{prepend:!o,csp:r,attachTo:l})},[])},GLe=["icon","className","onClick","style","primaryColor","secondaryColor"],dy={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function zLe(e){var t=e.primaryColor,n=e.secondaryColor;dy.primaryColor=t,dy.secondaryColor=n||bne(t),dy.calculated=!!n}function ULe(){return he({},dy)}var um=function(t){var n=t.icon,r=t.className,i=t.onClick,o=t.style,s=t.primaryColor,a=t.secondaryColor,l=Fs(t,GLe),u=w.useRef(),h=dy;if(s&&(h={primaryColor:s,secondaryColor:a||bne(s)}),jLe(u),HLe(W4(n),"icon should be icon definiton, but got ".concat(n)),!W4(n))return null;var f=n;return f&&typeof f.icon=="function"&&(f=he(he({},f),{},{icon:f.icon(h.primaryColor,h.secondaryColor)})),ek(f.icon,"svg-".concat(f.name),he(he({className:r,onClick:i,style:o,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:u}))};um.displayName="IconReact";um.getTwoToneColors=ULe;um.setTwoToneColors=zLe;function wne(e){var t=Cne(e),n=He(t,2),r=n[0],i=n[1];return um.setTwoToneColors({primaryColor:r,secondaryColor:i})}function WLe(){var e=um.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var qLe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];wne(Ox.primary);var dl=w.forwardRef(function(e,t){var n=e.className,r=e.icon,i=e.spin,o=e.rotate,s=e.tabIndex,a=e.onClick,l=e.twoToneColor,u=Fs(e,qLe),h=w.useContext(rV),f=h.prefixCls,p=f===void 0?"anticon":f,m=h.rootClassName,b=qe(m,p,de(de({},"".concat(p,"-").concat(r.name),!!r.name),"".concat(p,"-spin"),!!i||r.name==="loading"),n),C=s;C===void 0&&a&&(C=-1);var y=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,x=Cne(l),R=He(x,2),T=R[0],M=R[1];return w.createElement("span",Hn({role:"img","aria-label":r.name},u,{ref:t,tabIndex:C,onClick:a,className:b}),w.createElement(um,{icon:r,primaryColor:T,secondaryColor:M,style:y}))});dl.displayName="AntdIcon";dl.getTwoToneColor=WLe;dl.setTwoToneColor=wne;var KLe=function(t,n){return w.createElement(dl,Hn({},t,{ref:n,icon:NLe}))},Sne=w.forwardRef(KLe),YLe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},XLe=function(t,n){return w.createElement(dl,Hn({},t,{ref:n,icon:YLe}))},xne=w.forwardRef(XLe),QLe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},ZLe=function(t,n){return w.createElement(dl,Hn({},t,{ref:n,icon:QLe}))},uV=w.forwardRef(ZLe),JLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},eNe=function(t,n){return w.createElement(dl,Hn({},t,{ref:n,icon:JLe}))},Ene=w.forwardRef(eNe),tNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},nNe=function(t,n){return w.createElement(dl,Hn({},t,{ref:n,icon:tNe}))},rNe=w.forwardRef(nNe),iNe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,oNe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,sNe="".concat(iNe," ").concat(oNe).split(/[\s\n]+/),aNe="aria-",lNe="data-";function K4(e,t){return e.indexOf(t)===0}function cV(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;t===!1?n={aria:!0,data:!0,attr:!0}:t===!0?n={aria:!0}:n=he({},t);var r={};return Object.keys(e).forEach(function(i){(n.aria&&(i==="role"||K4(i,aNe))||n.data&&K4(i,lNe)||n.attr&&sNe.includes(i))&&(r[i]=e[i])}),r}function Rne(e){return e&&z.isValidElement(e)&&e.type===z.Fragment}const uNe=(e,t,n)=>z.isValidElement(e)?z.cloneElement(e,typeof n=="function"?n(e.props||{}):n):t;function ER(e,t){return uNe(e,e,t)}const Y4=e=>typeof e=="object"&&e!=null&&e.nodeType===1,X4=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",T0=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return X4(n.overflowY,t)||X4(n.overflowX,t)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},A0=(e,t,n,r,i,o,s,a)=>o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-r:s>t&&a<n||o<e&&a>n?s-t+i:0,cNe=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Q4=(e,t)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:h}=t,f=typeof u=="function"?u:j=>j!==u;if(!Y4(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let b=e;for(;Y4(b)&&f(b);){if(b=cNe(b),b===p){m.push(b);break}b!=null&&b===document.body&&T0(b)&&!T0(document.documentElement)||b!=null&&T0(b,h)&&m.push(b)}const C=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,{scrollX:x,scrollY:R}=window,{height:T,width:M,top:A,right:D,bottom:_,left:I}=e.getBoundingClientRect(),{top:O,right:F,bottom:L,left:V}=(j=>{const G=window.getComputedStyle(j);return{top:parseFloat(G.scrollMarginTop)||0,right:parseFloat(G.scrollMarginRight)||0,bottom:parseFloat(G.scrollMarginBottom)||0,left:parseFloat(G.scrollMarginLeft)||0}})(e);let N=a==="start"||a==="nearest"?A-O:a==="end"?_+L:A+T/2-O+L,Y=l==="center"?I+M/2-V+F:l==="end"?D+F:I-V;const X=[];for(let j=0;j<m.length;j++){const G=m[j],{height:U,width:Z,top:$,right:Q,bottom:J,left:ne}=G.getBoundingClientRect();if(s==="if-needed"&&A>=0&&I>=0&&_<=y&&D<=C&&(G===p&&!T0(G)||A>=$&&_<=J&&I>=ne&&D<=Q))return X;const ee=getComputedStyle(G),fe=parseInt(ee.borderLeftWidth,10),me=parseInt(ee.borderTopWidth,10),xe=parseInt(ee.borderRightWidth,10),Pe=parseInt(ee.borderBottomWidth,10);let ue=0,Se=0;const Re="offsetWidth"in G?G.offsetWidth-G.clientWidth-fe-xe:0,le="offsetHeight"in G?G.offsetHeight-G.clientHeight-me-Pe:0,Oe="offsetWidth"in G?G.offsetWidth===0?0:Z/G.offsetWidth:0,Ie="offsetHeight"in G?G.offsetHeight===0?0:U/G.offsetHeight:0;if(p===G)ue=a==="start"?N:a==="end"?N-y:a==="nearest"?A0(R,R+y,y,me,Pe,R+N,R+N+T,T):N-y/2,Se=l==="start"?Y:l==="center"?Y-C/2:l==="end"?Y-C:A0(x,x+C,C,fe,xe,x+Y,x+Y+M,M),ue=Math.max(0,ue+R),Se=Math.max(0,Se+x);else{ue=a==="start"?N-$-me:a==="end"?N-J+Pe+le:a==="nearest"?A0($,J,U,me,Pe+le,N,N+T,T):N-($+U/2)+le/2,Se=l==="start"?Y-ne-fe:l==="center"?Y-(ne+Z/2)+Re/2:l==="end"?Y-Q+xe+Re:A0(ne,Q,Z,fe,xe+Re,Y,Y+M,M);const{scrollLeft:_e,scrollTop:Le}=G;ue=Ie===0?0:Math.max(0,Math.min(Le+ue/Ie,G.scrollHeight-U/Ie+le)),Se=Oe===0?0:Math.max(0,Math.min(_e+Se/Oe,G.scrollWidth-Z/Oe+Re)),N+=Le-ue,Y+=_e-Se}X.push({el:G,top:ue,left:Se})}return X},dNe=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function hNe(e,t){if(!e.isConnected||!(i=>{let o=i;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(e))return;const n=(i=>{const o=window.getComputedStyle(i);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(Q4(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:o,left:s}of Q4(e,dNe(t))){const a=o-n.top+n.bottom,l=s-n.left+n.right;i.scroll({top:a,left:l,behavior:r})}}const SC=e=>{const[,,,,t]=cl();return t?`${e}-css-var`:""};var Z4={TAB:9,ESC:27},fNe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},pNe=function(t,n){return w.createElement(dl,Hn({},t,{ref:n,icon:fNe}))},Tne=w.forwardRef(pNe);const dV=z.createContext(void 0),oc=100,gNe=10,mNe=oc*gNe,Ane={Modal:oc,Drawer:oc,Popover:oc,Popconfirm:oc,Tooltip:oc,Tour:oc,FloatButton:oc},vNe={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function yNe(e){return e in Ane}const Pne=(e,t)=>{const[,n]=cl(),r=z.useContext(dV),i=yNe(e);let o;if(t!==void 0)o=[t,t];else{let s=r??0;i?s+=(r?0:n.zIndexPopupBase)+Ane[e]:s+=vNe[e],o=[r===void 0?t:s,s]}return o};function bNe(){const[e,t]=w.useState([]),n=w.useCallback(r=>(t(i=>[].concat(Ge(i),[r])),()=>{t(i=>i.filter(o=>o!==r))}),[]);return[e,n]}function ao(){ao=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(j,G,U){j[G]=U.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(j,G,U){return Object.defineProperty(j,G,{value:U,enumerable:!0,configurable:!0,writable:!0}),j[G]}try{u({},"")}catch{u=function(U,Z,$){return U[Z]=$}}function h(j,G,U,Z){var $=G&&G.prototype instanceof x?G:x,Q=Object.create($.prototype),J=new Y(Z||[]);return i(Q,"_invoke",{value:F(j,U,J)}),Q}function f(j,G,U){try{return{type:"normal",arg:j.call(G,U)}}catch(Z){return{type:"throw",arg:Z}}}t.wrap=h;var p="suspendedStart",m="suspendedYield",b="executing",C="completed",y={};function x(){}function R(){}function T(){}var M={};u(M,s,function(){return this});var A=Object.getPrototypeOf,D=A&&A(A(X([])));D&&D!==n&&r.call(D,s)&&(M=D);var _=T.prototype=x.prototype=Object.create(M);function I(j){["next","throw","return"].forEach(function(G){u(j,G,function(U){return this._invoke(G,U)})})}function O(j,G){function U($,Q,J,ne){var ee=f(j[$],j,Q);if(ee.type!=="throw"){var fe=ee.arg,me=fe.value;return me&&gt(me)=="object"&&r.call(me,"__await")?G.resolve(me.__await).then(function(xe){U("next",xe,J,ne)},function(xe){U("throw",xe,J,ne)}):G.resolve(me).then(function(xe){fe.value=xe,J(fe)},function(xe){return U("throw",xe,J,ne)})}ne(ee.arg)}var Z;i(this,"_invoke",{value:function(Q,J){function ne(){return new G(function(ee,fe){U(Q,J,ee,fe)})}return Z=Z?Z.then(ne,ne):ne()}})}function F(j,G,U){var Z=p;return function($,Q){if(Z===b)throw Error("Generator is already running");if(Z===C){if($==="throw")throw Q;return{value:e,done:!0}}for(U.method=$,U.arg=Q;;){var J=U.delegate;if(J){var ne=L(J,U);if(ne){if(ne===y)continue;return ne}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(Z===p)throw Z=C,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);Z=b;var ee=f(j,G,U);if(ee.type==="normal"){if(Z=U.done?C:m,ee.arg===y)continue;return{value:ee.arg,done:U.done}}ee.type==="throw"&&(Z=C,U.method="throw",U.arg=ee.arg)}}}function L(j,G){var U=G.method,Z=j.iterator[U];if(Z===e)return G.delegate=null,U==="throw"&&j.iterator.return&&(G.method="return",G.arg=e,L(j,G),G.method==="throw")||U!=="return"&&(G.method="throw",G.arg=new TypeError("The iterator does not provide a '"+U+"' method")),y;var $=f(Z,j.iterator,G.arg);if($.type==="throw")return G.method="throw",G.arg=$.arg,G.delegate=null,y;var Q=$.arg;return Q?Q.done?(G[j.resultName]=Q.value,G.next=j.nextLoc,G.method!=="return"&&(G.method="next",G.arg=e),G.delegate=null,y):Q:(G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,y)}function V(j){var G={tryLoc:j[0]};1 in j&&(G.catchLoc=j[1]),2 in j&&(G.finallyLoc=j[2],G.afterLoc=j[3]),this.tryEntries.push(G)}function N(j){var G=j.completion||{};G.type="normal",delete G.arg,j.completion=G}function Y(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(V,this),this.reset(!0)}function X(j){if(j||j===""){var G=j[s];if(G)return G.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var U=-1,Z=function $(){for(;++U<j.length;)if(r.call(j,U))return $.value=j[U],$.done=!1,$;return $.value=e,$.done=!0,$};return Z.next=Z}}throw new TypeError(gt(j)+" is not iterable")}return R.prototype=T,i(_,"constructor",{value:T,configurable:!0}),i(T,"constructor",{value:R,configurable:!0}),R.displayName=u(T,l,"GeneratorFunction"),t.isGeneratorFunction=function(j){var G=typeof j=="function"&&j.constructor;return!!G&&(G===R||(G.displayName||G.name)==="GeneratorFunction")},t.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,T):(j.__proto__=T,u(j,l,"GeneratorFunction")),j.prototype=Object.create(_),j},t.awrap=function(j){return{__await:j}},I(O.prototype),u(O.prototype,a,function(){return this}),t.AsyncIterator=O,t.async=function(j,G,U,Z,$){$===void 0&&($=Promise);var Q=new O(h(j,G,U,Z),$);return t.isGeneratorFunction(G)?Q:Q.next().then(function(J){return J.done?J.value:Q.next()})},I(_),u(_,l,"Generator"),u(_,s,function(){return this}),u(_,"toString",function(){return"[object Generator]"}),t.keys=function(j){var G=Object(j),U=[];for(var Z in G)U.push(Z);return U.reverse(),function $(){for(;U.length;){var Q=U.pop();if(Q in G)return $.value=Q,$.done=!1,$}return $.done=!0,$}},t.values=X,Y.prototype={constructor:Y,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!G)for(var U in this)U.charAt(0)==="t"&&r.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=e)},stop:function(){this.done=!0;var G=this.tryEntries[0].completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var U=this;function Z(fe,me){return J.type="throw",J.arg=G,U.next=fe,me&&(U.method="next",U.arg=e),!!me}for(var $=this.tryEntries.length-1;$>=0;--$){var Q=this.tryEntries[$],J=Q.completion;if(Q.tryLoc==="root")return Z("end");if(Q.tryLoc<=this.prev){var ne=r.call(Q,"catchLoc"),ee=r.call(Q,"finallyLoc");if(ne&&ee){if(this.prev<Q.catchLoc)return Z(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return Z(Q.finallyLoc)}else if(ne){if(this.prev<Q.catchLoc)return Z(Q.catchLoc,!0)}else{if(!ee)throw Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return Z(Q.finallyLoc)}}}},abrupt:function(G,U){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var $=this.tryEntries[Z];if($.tryLoc<=this.prev&&r.call($,"finallyLoc")&&this.prev<$.finallyLoc){var Q=$;break}}Q&&(G==="break"||G==="continue")&&Q.tryLoc<=U&&U<=Q.finallyLoc&&(Q=null);var J=Q?Q.completion:{};return J.type=G,J.arg=U,Q?(this.method="next",this.next=Q.finallyLoc,y):this.complete(J)},complete:function(G,U){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&U&&(this.next=U),y},finish:function(G){for(var U=this.tryEntries.length-1;U>=0;--U){var Z=this.tryEntries[U];if(Z.finallyLoc===G)return this.complete(Z.completion,Z.afterLoc),N(Z),y}},catch:function(G){for(var U=this.tryEntries.length-1;U>=0;--U){var Z=this.tryEntries[U];if(Z.tryLoc===G){var $=Z.completion;if($.type==="throw"){var Q=$.arg;N(Z)}return Q}}throw Error("illegal catch attempt")},delegateYield:function(G,U,Z){return this.delegate={iterator:X(G),resultName:U,nextLoc:Z},this.method==="next"&&(this.arg=e),y}},t}function J4(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function sf(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){J4(o,r,i,s,a,"next",l)}function a(l){J4(o,r,i,s,a,"throw",l)}s(void 0)})}}var xC=he({},cde),CNe=xC.version,E1=xC.render,wNe=xC.unmountComponentAtNode,RR;try{var SNe=Number((CNe||"").split(".")[0]);SNe>=18&&(RR=xC.createRoot)}catch{}function eW(e){var t=xC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&gt(t)==="object"&&(t.usingClientEntryPoint=e)}var Mx="__rc_react_root__";function xNe(e,t){eW(!0);var n=t[Mx]||RR(t);eW(!1),n.render(e),t[Mx]=n}function ENe(e,t){E1==null||E1(e,t)}function RNe(e,t){if(RR){xNe(e,t);return}ENe(e,t)}function TNe(e){return tk.apply(this,arguments)}function tk(){return tk=sf(ao().mark(function e(t){return ao().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=t[Mx])===null||i===void 0||i.unmount(),delete t[Mx]}));case 1:case"end":return r.stop()}},e)})),tk.apply(this,arguments)}function ANe(e){wNe(e)}function PNe(e){return nk.apply(this,arguments)}function nk(){return nk=sf(ao().mark(function e(t){return ao().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(RR===void 0){r.next=2;break}return r.abrupt("return",TNe(t));case 2:ANe(t);case 3:case"end":return r.stop()}},e)})),nk.apply(this,arguments)}const _Ne=(e,t)=>(RNe(e,t),()=>PNe(t));let ONe=_Ne;function _ne(){return ONe}const R1=()=>({height:0,opacity:0}),tW=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},DNe=e=>({height:e?e.offsetHeight:0}),T1=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",nW=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jy}-motion-collapse`,onAppearStart:R1,onEnterStart:R1,onAppearActive:tW,onEnterActive:tW,onLeaveStart:DNe,onLeaveActive:R1,onAppearEnd:T1,onEnterEnd:T1,onLeaveEnd:T1,motionDeadline:500}},tb=(e,t,n)=>n!==void 0?n:`${e}-${t}`;function cm(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(r){delete n[r]}),n}const hV=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},INe=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},MNe=Jke("Wave",e=>[INe(e)]),One=`${Jy}-wave-target`;function A1(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function FNe(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return A1(t)?t:A1(n)?n:A1(r)?r:null}function P1(e){return Number.isNaN(e)?0:e}const kNe=e=>{const{className:t,target:n,component:r,registerUnmount:i}=e,o=w.useRef(null),s=w.useRef(null);w.useEffect(()=>{s.current=i()},[]);const[a,l]=w.useState(null),[u,h]=w.useState([]),[f,p]=w.useState(0),[m,b]=w.useState(0),[C,y]=w.useState(0),[x,R]=w.useState(0),[T,M]=w.useState(!1),A={left:f,top:m,width:C,height:x,borderRadius:u.map(I=>`${I}px`).join(" ")};a&&(A["--wave-color"]=a);function D(){const I=getComputedStyle(n);l(FNe(n));const O=I.position==="static",{borderLeftWidth:F,borderTopWidth:L}=I;p(O?n.offsetLeft:P1(-parseFloat(F))),b(O?n.offsetTop:P1(-parseFloat(L))),y(n.offsetWidth),R(n.offsetHeight);const{borderTopLeftRadius:V,borderTopRightRadius:N,borderBottomLeftRadius:Y,borderBottomRightRadius:X}=I;h([V,N,X,Y].map(j=>P1(parseFloat(j))))}if(w.useEffect(()=>{if(n){const I=gu(()=>{D(),M(!0)});let O;return typeof ResizeObserver<"u"&&(O=new ResizeObserver(D),O.observe(n)),()=>{gu.cancel(I),O==null||O.disconnect()}}},[]),!T)return null;const _=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(One));return w.createElement(ld,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(I,O)=>{var F,L;if(O.deadline||O.propertyName==="opacity"){const V=(F=o.current)===null||F===void 0?void 0:F.parentElement;(L=s.current)===null||L===void 0||L.call(s).then(()=>{V==null||V.remove()})}return!1}},(I,O)=>{let{className:F}=I;return w.createElement("div",{ref:yC(o,O),className:qe(t,F,{"wave-quick":_}),style:A})})},LNe=(e,t)=>{var n;const{component:r}=t;if(r==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",e==null||e.insertBefore(i,e==null?void 0:e.firstChild);const o=_ne();let s=null;function a(){return s}s=o(w.createElement(kNe,Object.assign({},t,{target:e,registerUnmount:a})),i)},NNe=(e,t,n)=>{const{wave:r}=w.useContext(Jn),[,i,o]=cl(),s=bo(u=>{const h=e.current;if(r!=null&&r.disabled||!h)return;const f=h.querySelector(`.${One}`)||h,{showEffect:p}=r||{};(p||LNe)(f,{className:t,token:i,component:n,event:u,hashId:o})}),a=w.useRef(null);return u=>{gu.cancel(a.current),a.current=gu(()=>{s(u)})}},VNe=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:i}=w.useContext(Jn),o=w.useRef(null),s=i("wave"),[,a]=MNe(s),l=NNe(o,qe(s,a),r);if(z.useEffect(()=>{const h=o.current;if(!h||h.nodeType!==1||n)return;const f=p=>{!hV(p.target)||!h.getAttribute||h.getAttribute("disabled")||h.disabled||h.className.includes("disabled")||h.className.includes("-leave")||l(p)};return h.addEventListener("click",f,!0),()=>{h.removeEventListener("click",f,!0)}},[n]),!z.isValidElement(t))return t??null;const u=am(t)?yC(CC(t),o):o;return ER(t,{ref:u})},Dne=e=>{const t=z.useContext(jh);return z.useMemo(()=>e?typeof e=="string"?e??t:typeof e=="function"?e(t):t:t,[e,t])},Ine=w.createContext(null),BNe=(e,t)=>{const n=w.useContext(Ine),r=w.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=n,a=i==="vertical"?"-vertical-":"-";return qe(`${e}-compact${a}item`,{[`${e}-compact${a}first-item`]:o,[`${e}-compact${a}last-item`]:s,[`${e}-compact${a}item-rtl`]:t==="rtl"})},[e,t,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},HNe=e=>{const{children:t}=e;return w.createElement(Ine.Provider,{value:null},t)};var $Ne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Mne=w.createContext(void 0),jNe=e=>{const{getPrefixCls:t,direction:n}=w.useContext(Jn),{prefixCls:r,size:i,className:o}=e,s=$Ne(e,["prefixCls","size","className"]),a=t("btn-group",r),[,,l]=cl(),u=w.useMemo(()=>{switch(i){case"large":return"lg";case"small":return"sm";default:return""}},[i]),h=qe(a,{[`${a}-${u}`]:u,[`${a}-rtl`]:n==="rtl"},o,l);return w.createElement(Mne.Provider,{value:i},w.createElement("div",Object.assign({},s,{className:h})))},rW=/^[\u4E00-\u9FA5]{2}$/,rk=rW.test.bind(rW);function Fne(e){return e==="danger"?{danger:!0}:{type:e}}function iW(e){return typeof e=="string"}function _1(e){return e==="text"||e==="link"}function GNe(e,t){if(e==null)return;const n=t?" ":"";return typeof e!="string"&&typeof e!="number"&&iW(e.type)&&rk(e.props.children)?ER(e,{children:e.props.children.split("").join(n)}):iW(e)?rk(e)?z.createElement("span",null,e.split("").join(n)):z.createElement("span",null,e):Rne(e)?z.createElement("span",null,e):e}function zNe(e,t){let n=!1;const r=[];return z.Children.forEach(e,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);n=s}),z.Children.map(r,i=>GNe(i,t))}["default","primary","danger"].concat(Ge(zh));const ik=w.forwardRef((e,t)=>{const{className:n,style:r,children:i,prefixCls:o}=e,s=qe(`${o}-icon`,n);return z.createElement("span",{ref:t,className:s,style:r},i)}),oW=w.forwardRef((e,t)=>{const{prefixCls:n,className:r,style:i,iconClassName:o}=e,s=qe(`${n}-loading-icon`,r);return z.createElement(ik,{prefixCls:n,className:s,style:i,ref:t},z.createElement(Tne,{className:o}))}),O1=()=>({width:0,opacity:0,transform:"scale(0)"}),D1=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),UNe=e=>{const{prefixCls:t,loading:n,existIcon:r,className:i,style:o,mount:s}=e,a=!!n;return r?z.createElement(oW,{prefixCls:t,className:i,style:o}):z.createElement(ld,{visible:a,motionName:`${t}-loading-icon-motion`,motionAppear:!s,motionEnter:!s,motionLeave:!s,removeOnLeave:!0,onAppearStart:O1,onAppearActive:D1,onEnterStart:O1,onEnterActive:D1,onLeaveStart:D1,onLeaveActive:O1},(l,u)=>{let{className:h,style:f}=l;const p=Object.assign(Object.assign({},o),f);return z.createElement(oW,{prefixCls:t,className:qe(i,h),style:p,ref:u})})},sW=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),WNe=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},sW(`${t}-primary`,i),sW(`${t}-danger`,o)]}};var qNe=["b"],KNe=["v"],I1=function(t){return Math.round(Number(t||0))},YNe=function(t){if(t instanceof or)return t;if(t&&gt(t)==="object"&&"h"in t&&"b"in t){var n=t,r=n.b,i=Fs(n,qNe);return he(he({},i),{},{v:r})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},nb=function(e){sd(n,e);var t=ad(n);function n(r){return ui(this,n),t.call(this,YNe(r))}return ci(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),o=I1(i.s*100),s=I1(i.b*100),a=I1(i.h),l=i.a,u="hsb(".concat(a,", ").concat(o,"%, ").concat(s,"%)"),h="hsba(".concat(a,", ").concat(o,"%, ").concat(s,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?u:h}},{key:"toHsb",value:function(){var i=this.toHsv(),o=i.v,s=Fs(i,KNe);return he(he({},s),{},{b:o,a:this.a})}}]),n}(or),XNe=function(t){return t instanceof nb?t:new nb(t)};XNe("#1677ff");const QNe=(e,t)=>(e==null?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"",ZNe=(e,t)=>e?QNe(e,t):"";let JNe=function(){function e(t){ui(this,e);var n;if(this.cleared=!1,t instanceof e){this.metaColor=t.metaColor.clone(),this.colors=(n=t.colors)===null||n===void 0?void 0:n.map(i=>({color:new e(i.color),percent:i.percent})),this.cleared=t.cleared;return}const r=Array.isArray(t);r&&t.length?(this.colors=t.map(i=>{let{color:o,percent:s}=i;return{color:new e(o),percent:s}}),this.metaColor=new nb(this.colors[0].color.metaColor)):this.metaColor=new nb(r?"":t),(!t||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return ci(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return ZNe(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,i)=>{const o=n.colors[i];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===n.toHexString()}}])}();const e2e=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),t2e=e=>({animationDuration:e,animationFillMode:"both"}),n2e=e=>({animationDuration:e,animationFillMode:"both"}),kne=function(e,t,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${e}-enter,
      ${o}${e}-appear
    `]:Object.assign(Object.assign({},t2e(r)),{animationPlayState:"paused"}),[`${o}${e}-leave`]:Object.assign(Object.assign({},n2e(r)),{animationPlayState:"paused"}),[`
      ${o}${e}-enter${e}-enter-active,
      ${o}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${o}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},r2e=new lo("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),i2e=new lo("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),o2e=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=e,r=`${n}-fade`,i=t?"&":"";return[kne(r,r2e,i2e,e.motionDurationMid,t),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},fV=new lo("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),s2e=new lo("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),aW=new lo("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),lW=new lo("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),a2e=new lo("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),l2e=new lo("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),u2e=new lo("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),c2e=new lo("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),d2e=new lo("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),h2e=new lo("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),f2e=new lo("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),p2e=new lo("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),g2e={zoom:{inKeyframes:fV,outKeyframes:s2e},"zoom-big":{inKeyframes:aW,outKeyframes:lW},"zoom-big-fast":{inKeyframes:aW,outKeyframes:lW},"zoom-left":{inKeyframes:u2e,outKeyframes:c2e},"zoom-right":{inKeyframes:d2e,outKeyframes:h2e},"zoom-up":{inKeyframes:a2e,outKeyframes:l2e},"zoom-down":{inKeyframes:f2e,outKeyframes:p2e}},Lne=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:o}=g2e[t];return[kne(r,i,o,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},m2e=(e,t)=>{const{r:n,g:r,b:i,a:o}=e.toRgb(),s=new nb(e.toRgbString()).onBackground(t).toHsv();return o<=.5?s.v>.5:n*.299+r*.587+i*.114>192},Nne=e=>{const{paddingInline:t,onlyIconSize:n}=e;return Ns(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},Vne=e=>{var t,n,r,i,o,s;const a=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,l=(n=e.contentFontSizeSM)!==null&&n!==void 0?n:e.fontSize,u=(r=e.contentFontSizeLG)!==null&&r!==void 0?r:e.fontSizeLG,h=(i=e.contentLineHeight)!==null&&i!==void 0?i:RS(a),f=(o=e.contentLineHeightSM)!==null&&o!==void 0?o:RS(l),p=(s=e.contentLineHeightLG)!==null&&s!==void 0?s:RS(u),m=m2e(new JNe(e.colorBgSolid),"#fff")?"#000":"#fff",b=zh.reduce((C,y)=>Object.assign(Object.assign({},C),{[`${y}ShadowColor`]:`0 ${vt(e.controlOutlineWidth)} 0 ${$v(e[`${y}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},b),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:m,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:u,contentLineHeight:h,contentLineHeightSM:f,contentLineHeightLG:p,paddingBlock:Math.max((e.controlHeight-a*h)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*f)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-u*p)/2-e.lineWidth,0)})},v2e=e=>{const{componentCls:t,iconCls:n,fontWeight:r,opacityLoading:i,motionDurationSlow:o,motionEaseInOut:s,marginXS:a,calc:l}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${vt(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:nne(),"> a":{color:"currentColor"},"&:not(:disabled)":rne(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:i,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(u=>`${u} ${o} ${s}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(a).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(a).mul(-1).equal()}}}}}},Bne=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),y2e=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),b2e=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),C2e=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),TR=(e,t,n,r,i,o,s,a)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},Bne(e,Object.assign({background:t},s),Object.assign({background:t},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),w2e=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},C2e(e))}),S2e=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),AR=(e,t,n,r)=>{const o=r&&["link","text"].includes(r)?S2e:w2e;return Object.assign(Object.assign({},o(e)),Bne(e.componentCls,t,n))},PR=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},AR(e,r,i))}),_R=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},AR(e,r,i))}),OR=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),DR=(e,t,n,r)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},AR(e,n,r))}),sl=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},AR(e,r,i,n))}),x2e=e=>{const{componentCls:t}=e;return zh.reduce((n,r)=>{const i=e[`${r}6`],o=e[`${r}1`],s=e[`${r}5`],a=e[`${r}2`],l=e[`${r}3`],u=e[`${r}7`];return Object.assign(Object.assign({},n),{[`&${t}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:i,boxShadow:e[`${r}ShadowColor`]},PR(e,e.colorTextLightSolid,i,{background:s},{background:u})),_R(e,i,e.colorBgContainer,{color:s,borderColor:s,background:e.colorBgContainer},{color:u,borderColor:u,background:e.colorBgContainer})),OR(e)),DR(e,o,{background:a},{background:l})),sl(e,i,"link",{color:s},{color:u})),sl(e,i,"text",{color:s,background:o},{color:u,background:l}))})},{})},E2e=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},PR(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),OR(e)),DR(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),TR(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),sl(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),R2e=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},_R(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),OR(e)),DR(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),sl(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),sl(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),TR(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),T2e=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},PR(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),_R(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),OR(e)),DR(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),sl(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),sl(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),TR(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),A2e=e=>Object.assign(Object.assign({},sl(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),TR(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),P2e=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:E2e(e),[`${t}-color-primary`]:R2e(e),[`${t}-color-dangerous`]:T2e(e),[`${t}-color-link`]:A2e(e)},x2e(e))},_2e=e=>Object.assign(Object.assign(Object.assign(Object.assign({},_R(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),sl(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),PR(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),sl(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),pV=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,borderRadius:o,buttonPaddingHorizontal:s,iconCls:a,buttonPaddingVertical:l,buttonIconOnlyFontSize:u}=e;return[{[t]:{fontSize:i,height:r,padding:`${vt(l)} ${vt(s)}`,borderRadius:o,[`&${n}-icon-only`]:{width:r,[a]:{fontSize:u}}}},{[`${n}${n}-circle${t}`]:y2e(e)},{[`${n}${n}-round${t}`]:b2e(e)}]},O2e=e=>{const t=Ns(e,{fontSize:e.contentFontSize});return pV(t,e.componentCls)},D2e=e=>{const t=Ns(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return pV(t,`${e.componentCls}-sm`)},I2e=e=>{const t=Ns(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return pV(t,`${e.componentCls}-lg`)},M2e=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},F2e=of("Button",e=>{const t=Nne(e);return[v2e(t),O2e(t),D2e(t),I2e(t),M2e(t),P2e(t),_2e(t),WNe(t)]},Vne,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function k2e(e,t,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function L2e(e,t,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function N2e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},k2e(e,r,t)),L2e(n,r,t))}}function V2e(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function B2e(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function H2e(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},V2e(e,t)),B2e(e.componentCls,t))}}const $2e=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:r,calc:i}=e,o=i(r).mul(-1).equal(),s=a=>{const l=`${t}-compact${a?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:a?o:0,insetInlineStart:a?0:o,backgroundColor:n,content:'""',width:a?"100%":r,height:a?r:"100%"}}};return Object.assign(Object.assign({},s()),s(!0))},j2e=aV(["Button","compact"],e=>{const t=Nne(e);return[N2e(t),H2e(t),$2e(t)]},Vne);var G2e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function z2e(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const U2e={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},W2e=z.forwardRef((e,t)=>{var n,r;const{loading:i=!1,prefixCls:o,color:s,variant:a,type:l,danger:u=!1,shape:h="default",size:f,styles:p,disabled:m,className:b,rootClassName:C,children:y,icon:x,iconPosition:R="start",ghost:T=!1,block:M=!1,htmlType:A="button",classNames:D,style:_={},autoInsertSpace:I,autoFocus:O}=e,F=G2e(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),L=l||"default",[V,N]=w.useMemo(()=>{if(s&&a)return[s,a];const Rn=U2e[L]||[];return u?["danger",Rn[1]]:Rn},[l,s,a,u]),X=V==="danger"?"dangerous":V,{getPrefixCls:j,direction:G,autoInsertSpace:U,className:Z,style:$,classNames:Q,styles:J}=SR("button"),ne=(n=I??U)!==null&&n!==void 0?n:!0,ee=j("btn",o),[fe,me,xe]=F2e(ee),Pe=w.useContext(eb),ue=m??Pe,Se=w.useContext(Mne),Re=w.useMemo(()=>z2e(i),[i]),[le,Oe]=w.useState(Re.loading),[Ie,_e]=w.useState(!1),Le=w.useRef(null),Be=bC(t,Le),ze=w.Children.count(y)===1&&!x&&!_1(N),nt=w.useRef(!0);z.useEffect(()=>(nt.current=!1,()=>{nt.current=!0}),[]),w.useEffect(()=>{let Rn=null;Re.delay>0?Rn=setTimeout(()=>{Rn=null,Oe(!0)},Re.delay):Oe(Re.loading);function hn(){Rn&&(clearTimeout(Rn),Rn=null)}return hn},[Re]),w.useEffect(()=>{if(!Le.current||!ne)return;const Rn=Le.current.textContent||"";ze&&rk(Rn)?Ie||_e(!0):Ie&&_e(!1)}),w.useEffect(()=>{O&&Le.current&&Le.current.focus()},[]);const it=z.useCallback(Rn=>{var hn;if(le||ue){Rn.preventDefault();return}(hn=e.onClick)===null||hn===void 0||hn.call(e,("href"in e,Rn))},[e.onClick,le,ue]),{compactSize:Ve,compactItemClassnames:dt}=BNe(ee,G),Qe={large:"lg",small:"sm",middle:void 0},wt=Dne(Rn=>{var hn,Kt;return(Kt=(hn=f??Ve)!==null&&hn!==void 0?hn:Se)!==null&&Kt!==void 0?Kt:Rn}),qt=wt&&(r=Qe[wt])!==null&&r!==void 0?r:"",ft=le?"loading":x,Mt=cm(F,["navigate"]),at=qe(ee,me,xe,{[`${ee}-${h}`]:h!=="default"&&h,[`${ee}-${L}`]:L,[`${ee}-dangerous`]:u,[`${ee}-color-${X}`]:X,[`${ee}-variant-${N}`]:N,[`${ee}-${qt}`]:qt,[`${ee}-icon-only`]:!y&&y!==0&&!!ft,[`${ee}-background-ghost`]:T&&!_1(N),[`${ee}-loading`]:le,[`${ee}-two-chinese-chars`]:Ie&&ne&&!le,[`${ee}-block`]:M,[`${ee}-rtl`]:G==="rtl",[`${ee}-icon-end`]:R==="end"},dt,b,C,Z),xn=Object.assign(Object.assign({},$),_),nn=qe(D==null?void 0:D.icon,Q.icon),jn=Object.assign(Object.assign({},(p==null?void 0:p.icon)||{}),J.icon||{}),cn=x&&!le?z.createElement(ik,{prefixCls:ee,className:nn,style:jn},x):i&&typeof i=="object"&&i.icon?z.createElement(ik,{prefixCls:ee,className:nn,style:jn},i.icon):z.createElement(UNe,{existIcon:!!x,prefixCls:ee,loading:le,mount:nt.current}),Gn=y||y===0?zNe(y,ze&&ne):null;if(Mt.href!==void 0)return fe(z.createElement("a",Object.assign({},Mt,{className:qe(at,{[`${ee}-disabled`]:ue}),href:ue?void 0:Mt.href,style:xn,onClick:it,ref:Be,tabIndex:ue?-1:0}),cn,Gn));let Gt=z.createElement("button",Object.assign({},F,{type:A,className:at,style:xn,onClick:it,disabled:ue,ref:Be}),cn,Gn,dt&&z.createElement(j2e,{prefixCls:ee}));return _1(N)||(Gt=z.createElement(VNe,{component:"Button",disabled:le},Gt)),fe(Gt)}),EC=W2e;EC.Group=jNe;EC.__ANT_BUTTON=!0;function M1(e){return!!(e!=null&&e.then)}const Hne=e=>{const{type:t,children:n,prefixCls:r,buttonProps:i,close:o,autoFocus:s,emitEvent:a,isSilent:l,quitOnNullishReturnValue:u,actionFn:h}=e,f=w.useRef(!1),p=w.useRef(null),[m,b]=Gh(!1),C=function(){o==null||o.apply(void 0,arguments)};w.useEffect(()=>{let R=null;return s&&(R=setTimeout(()=>{var T;(T=p.current)===null||T===void 0||T.focus({preventScroll:!0})})),()=>{R&&clearTimeout(R)}},[]);const y=R=>{M1(R)&&(b(!0),R.then(function(){b(!1,!0),C.apply(void 0,arguments),f.current=!1},T=>{if(b(!1,!0),f.current=!1,!(l!=null&&l()))return Promise.reject(T)}))},x=R=>{if(f.current)return;if(f.current=!0,!h){C();return}let T;if(a){if(T=h(R),u&&!M1(T)){f.current=!1,C(R);return}}else if(h.length)T=h(o),f.current=!1;else if(T=h(),!M1(T)){C();return}y(T)};return w.createElement(EC,Object.assign({},Fne(t),{onClick:x,loading:m,prefixCls:r},i,{ref:p}),n)},RC=z.createContext({}),{Provider:$ne}=RC,uW=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:o,close:s,onCancel:a,onConfirm:l}=w.useContext(RC);return i?z.createElement(Hne,{isSilent:r,actionFn:a,close:function(){s==null||s.apply(void 0,arguments),l==null||l(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${o}-btn`},n):null},cW=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:o,okType:s,onConfirm:a,onOk:l}=w.useContext(RC);return z.createElement(Hne,{isSilent:n,type:s||"primary",actionFn:l,close:function(){t==null||t.apply(void 0,arguments),a==null||a(!0)},autoFocus:e==="ok",buttonProps:r,prefixCls:`${i}-btn`},o)};var jne=w.createContext(null),dW=[];function q2e(e,t){var n=w.useState(function(){if(!Ro())return null;var b=document.createElement("div");return b}),r=He(n,1),i=r[0],o=w.useRef(!1),s=w.useContext(jne),a=w.useState(dW),l=He(a,2),u=l[0],h=l[1],f=s||(o.current?void 0:function(b){h(function(C){var y=[b].concat(Ge(C));return y})});function p(){i.parentElement||document.body.appendChild(i),o.current=!0}function m(){var b;(b=i.parentElement)===null||b===void 0||b.removeChild(i),o.current=!1}return li(function(){return e?s?s(p):p():m(),m},[e]),li(function(){u.length&&(u.forEach(function(b){return b()}),h(dW))},[u]),[i,f]}function K2e(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,o;if(e){var s=getComputedStyle(e);r.scrollbarColor=s.scrollbarColor,r.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(a.width,10),u=parseInt(a.height,10);try{var h=l?"width: ".concat(a.width,";"):"",f=u?"height: ".concat(a.height,";"):"";tu(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(h,`
`).concat(f,`
}`),t)}catch(b){console.error(b),i=l,o=u}}document.body.appendChild(n);var p=e&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,m=e&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),Yy(t),{width:p,height:m}}function Y2e(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:K2e(e)}function X2e(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Q2e="rc-util-locker-".concat(Date.now()),hW=0;function Z2e(e){var t=!!e,n=w.useState(function(){return hW+=1,"".concat(Q2e,"_").concat(hW)}),r=He(n,1),i=r[0];li(function(){if(t){var o=Y2e(document.body).width,s=X2e();tu(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else Yy(i);return function(){Yy(i)}},[t,i])}var J2e=!1;function eVe(e){return J2e}var fW=function(t){return t===!1?!1:!Ro()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},gV=w.forwardRef(function(e,t){var n=e.open,r=e.autoLock,i=e.getContainer;e.debug;var o=e.autoDestroy,s=o===void 0?!0:o,a=e.children,l=w.useState(n),u=He(l,2),h=u[0],f=u[1],p=h||n;w.useEffect(function(){(s||n)&&f(n)},[n,s]);var m=w.useState(function(){return fW(i)}),b=He(m,2),C=b[0],y=b[1];w.useEffect(function(){var L=fW(i);y(L??null)});var x=q2e(p&&!C),R=He(x,2),T=R[0],M=R[1],A=C??T;Z2e(r&&n&&Ro()&&(A===T||A===document.body));var D=null;if(a&&am(a)&&t){var _=a;D=_.ref}var I=bC(D,t);if(!p||!Ro()||C===void 0)return null;var O=A===!1||eVe(),F=a;return t&&(F=w.cloneElement(a,{ref:I})),w.createElement(jne.Provider,{value:M},O?F:Zb.createPortal(F,A))}),Gne=w.createContext({});function tVe(){var e=he({},IE);return e.useId}var pW=0,gW=tVe();const mV=gW?function(t){var n=gW();return t||n}:function(t){var n=w.useState("ssr-id"),r=He(n,2),i=r[0],o=r[1];return w.useEffect(function(){var s=pW;pW+=1,o("rc_unique_".concat(s))},[]),t||i};function mW(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function vW(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var i=e.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function nVe(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=vW(i),n.top+=vW(i,!0),n}const rVe=w.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var iVe={width:0,height:0,overflow:"hidden",outline:"none"},oVe={outline:"none"},zne=z.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,o=e.title,s=e.ariaId,a=e.footer,l=e.closable,u=e.closeIcon,h=e.onClose,f=e.children,p=e.bodyStyle,m=e.bodyProps,b=e.modalRender,C=e.onMouseDown,y=e.onMouseUp,x=e.holderRef,R=e.visible,T=e.forceRender,M=e.width,A=e.height,D=e.classNames,_=e.styles,I=z.useContext(Gne),O=I.panel,F=bC(x,O),L=w.useRef(),V=w.useRef();z.useImperativeHandle(t,function(){return{focus:function(){var J;(J=L.current)===null||J===void 0||J.focus({preventScroll:!0})},changeActive:function(J){var ne=document,ee=ne.activeElement;J&&ee===V.current?L.current.focus({preventScroll:!0}):!J&&ee===L.current&&V.current.focus({preventScroll:!0})}}});var N={};M!==void 0&&(N.width=M),A!==void 0&&(N.height=A);var Y=a?z.createElement("div",{className:qe("".concat(n,"-footer"),D==null?void 0:D.footer),style:he({},_==null?void 0:_.footer)},a):null,X=o?z.createElement("div",{className:qe("".concat(n,"-header"),D==null?void 0:D.header),style:he({},_==null?void 0:_.header)},z.createElement("div",{className:"".concat(n,"-title"),id:s},o)):null,j=w.useMemo(function(){return gt(l)==="object"&&l!==null?l:l?{closeIcon:u??z.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[l,u,n]),G=cV(j,!0),U=gt(l)==="object"&&l.disabled,Z=l?z.createElement("button",Hn({type:"button",onClick:h,"aria-label":"Close"},G,{className:"".concat(n,"-close"),disabled:U}),j.closeIcon):null,$=z.createElement("div",{className:qe("".concat(n,"-content"),D==null?void 0:D.content),style:_==null?void 0:_.content},Z,X,z.createElement("div",Hn({className:qe("".concat(n,"-body"),D==null?void 0:D.body),style:he(he({},p),_==null?void 0:_.body)},m),f),Y);return z.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?s:null,"aria-modal":"true",ref:F,style:he(he({},i),N),className:qe(n,r),onMouseDown:C,onMouseUp:y},z.createElement("div",{ref:L,tabIndex:0,style:oVe},z.createElement(rVe,{shouldUpdate:R||T},b?b($):$)),z.createElement("div",{tabIndex:0,ref:V,style:iVe}))}),Une=w.forwardRef(function(e,t){var n=e.prefixCls,r=e.title,i=e.style,o=e.className,s=e.visible,a=e.forceRender,l=e.destroyOnClose,u=e.motionName,h=e.ariaId,f=e.onVisibleChanged,p=e.mousePosition,m=w.useRef(),b=w.useState(),C=He(b,2),y=C[0],x=C[1],R={};y&&(R.transformOrigin=y);function T(){var M=nVe(m.current);x(p&&(p.x||p.y)?"".concat(p.x-M.left,"px ").concat(p.y-M.top,"px"):"")}return w.createElement(ld,{visible:s,onVisibleChanged:f,onAppearPrepare:T,onEnterPrepare:T,forceRender:a,motionName:u,removeOnLeave:l,ref:m},function(M,A){var D=M.className,_=M.style;return w.createElement(zne,Hn({},e,{ref:t,title:r,ariaId:h,prefixCls:n,holderRef:A,style:he(he(he({},_),i),R),className:qe(o,D)}))})});Une.displayName="Content";var sVe=function(t){var n=t.prefixCls,r=t.style,i=t.visible,o=t.maskProps,s=t.motionName,a=t.className;return w.createElement(ld,{key:"mask",visible:i,motionName:s,leavedClassName:"".concat(n,"-mask-hidden")},function(l,u){var h=l.className,f=l.style;return w.createElement("div",Hn({ref:u,style:he(he({},f),r),className:qe("".concat(n,"-mask"),h,a)},o))})},aVe=function(t){var n=t.prefixCls,r=n===void 0?"rc-dialog":n,i=t.zIndex,o=t.visible,s=o===void 0?!1:o,a=t.keyboard,l=a===void 0?!0:a,u=t.focusTriggerAfterClose,h=u===void 0?!0:u,f=t.wrapStyle,p=t.wrapClassName,m=t.wrapProps,b=t.onClose,C=t.afterOpenChange,y=t.afterClose,x=t.transitionName,R=t.animation,T=t.closable,M=T===void 0?!0:T,A=t.mask,D=A===void 0?!0:A,_=t.maskTransitionName,I=t.maskAnimation,O=t.maskClosable,F=O===void 0?!0:O,L=t.maskStyle,V=t.maskProps,N=t.rootClassName,Y=t.classNames,X=t.styles,j=w.useRef(),G=w.useRef(),U=w.useRef(),Z=w.useState(s),$=He(Z,2),Q=$[0],J=$[1],ne=mV();function ee(){AF(G.current,document.activeElement)||(j.current=document.activeElement)}function fe(){if(!AF(G.current,document.activeElement)){var _e;(_e=U.current)===null||_e===void 0||_e.focus()}}function me(_e){if(_e)fe();else{if(J(!1),D&&j.current&&h){try{j.current.focus({preventScroll:!0})}catch{}j.current=null}Q&&(y==null||y())}C==null||C(_e)}function xe(_e){b==null||b(_e)}var Pe=w.useRef(!1),ue=w.useRef(),Se=function(){clearTimeout(ue.current),Pe.current=!0},Re=function(){ue.current=setTimeout(function(){Pe.current=!1})},le=null;F&&(le=function(Le){Pe.current?Pe.current=!1:G.current===Le.target&&xe(Le)});function Oe(_e){if(l&&_e.keyCode===Z4.ESC){_e.stopPropagation(),xe(_e);return}s&&_e.keyCode===Z4.TAB&&U.current.changeActive(!_e.shiftKey)}w.useEffect(function(){s&&(J(!0),ee())},[s]),w.useEffect(function(){return function(){clearTimeout(ue.current)}},[]);var Ie=he(he(he({zIndex:i},f),X==null?void 0:X.wrapper),{},{display:Q?null:"none"});return w.createElement("div",Hn({className:qe("".concat(r,"-root"),N)},cV(t,{data:!0})),w.createElement(sVe,{prefixCls:r,visible:D&&s,motionName:mW(r,_,I),style:he(he({zIndex:i},L),X==null?void 0:X.mask),maskProps:V,className:Y==null?void 0:Y.mask}),w.createElement("div",Hn({tabIndex:-1,onKeyDown:Oe,className:qe("".concat(r,"-wrap"),p,Y==null?void 0:Y.wrapper),ref:G,onClick:le,style:Ie},m),w.createElement(Une,Hn({},t,{onMouseDown:Se,onMouseUp:Re,ref:U,closable:M,ariaId:ne,prefixCls:r,visible:s&&Q,onClose:xe,onVisibleChanged:me,motionName:mW(r,x,R)}))))},Wne=function(t){var n=t.visible,r=t.getContainer,i=t.forceRender,o=t.destroyOnClose,s=o===void 0?!1:o,a=t.afterClose,l=t.panelRef,u=w.useState(n),h=He(u,2),f=h[0],p=h[1],m=w.useMemo(function(){return{panel:l}},[l]);return w.useEffect(function(){n&&p(!0)},[n]),!i&&s&&!f?null:w.createElement(Gne.Provider,{value:m},w.createElement(gV,{open:n||i||f,autoDestroy:!1,getContainer:r,autoLock:n||f},w.createElement(aVe,Hn({},t,{destroyOnClose:s,afterClose:function(){a==null||a(),p(!1)}}))))};Wne.displayName="Dialog";var eh="RC_FORM_INTERNAL_HOOKS",Pn=function(){Uo(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Uh=w.createContext({getFieldValue:Pn,getFieldsValue:Pn,getFieldError:Pn,getFieldWarning:Pn,getFieldsError:Pn,isFieldsTouched:Pn,isFieldTouched:Pn,isFieldValidating:Pn,isFieldsValidating:Pn,resetFields:Pn,setFields:Pn,setFieldValue:Pn,setFieldsValue:Pn,validateFields:Pn,submit:Pn,getInternalHooks:function(){return Pn(),{dispatch:Pn,initEntityValue:Pn,registerField:Pn,useSubscribe:Pn,setInitialValues:Pn,destroyForm:Pn,setCallbacks:Pn,registerWatch:Pn,getFields:Pn,setValidateMessages:Pn,setPreserve:Pn,getInitialValue:Pn}}}),rb=w.createContext(null);function ok(e){return e==null?[]:Array.isArray(e)?e:[e]}function lVe(e){return e&&!!e._init}function sk(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var ak=sk();function uVe(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function cVe(e,t,n){if(K2())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&Wy(i,n.prototype),i}function lk(e){var t=typeof Map=="function"?new Map:void 0;return lk=function(r){if(r===null||!uVe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return cVe(r,arguments,qy(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Wy(i,r)},lk(e)}var dVe=/%[sdj%]/g,hVe=function(){};function uk(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function zo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var s=e.replace(dVe,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return e}function fVe(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Wr(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||fVe(t)&&typeof e=="string"&&!e)}function pVe(e,t,n){var r=[],i=0,o=e.length;function s(a){r.push.apply(r,Ge(a||[])),i++,i===o&&n(r)}e.forEach(function(a){t(a,s)})}function yW(e,t,n){var r=0,i=e.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?t(e[a],o):n([])}o([])}function gVe(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,Ge(e[n]||[]))}),t}var bW=function(e){sd(n,e);var t=ad(n);function n(r,i){var o;return ui(this,n),o=t.call(this,"Async Validation Error"),de(Ot(o),"errors",void 0),de(Ot(o),"fields",void 0),o.errors=r,o.fields=i,o}return ci(n)}(lk(Error));function mVe(e,t,n,r,i){if(t.first){var o=new Promise(function(p,m){var b=function(x){return r(x),x.length?m(new bW(x,uk(x))):p(i)},C=gVe(e);yW(C,n,b)});return o.catch(function(p){return p}),o}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],a=Object.keys(e),l=a.length,u=0,h=[],f=new Promise(function(p,m){var b=function(y){if(h.push.apply(h,y),u++,u===l)return r(h),h.length?m(new bW(h,uk(h))):p(i)};a.length||(r(h),p(i)),a.forEach(function(C){var y=e[C];s.indexOf(C)!==-1?yW(y,n,b):pVe(y,n,b)})});return f.catch(function(p){return p}),f}function vVe(e){return!!(e&&e.message!==void 0)}function yVe(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function CW(e,t){return function(n){var r;return e.fullFields?r=yVe(t,e.fullFields):r=t[n.field||e.fullField],vVe(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function wW(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];gt(r)==="object"&&gt(e[n])==="object"?e[n]=he(he({},e[n]),r):e[n]=r}}return e}var Xf="enum",bVe=function(t,n,r,i,o){t[Xf]=Array.isArray(t[Xf])?t[Xf]:[],t[Xf].indexOf(n)===-1&&i.push(zo(o.messages[Xf],t.fullField,t[Xf].join(", ")))},CVe=function(t,n,r,i,o){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||i.push(zo(o.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(n)||i.push(zo(o.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},wVe=function(t,n,r,i,o){var s=typeof t.len=="number",a=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=n,f=null,p=typeof n=="number",m=typeof n=="string",b=Array.isArray(n);if(p?f="number":m?f="string":b&&(f="array"),!f)return!1;b&&(h=n.length),m&&(h=n.replace(u,"_").length),s?h!==t.len&&i.push(zo(o.messages[f].len,t.fullField,t.len)):a&&!l&&h<t.min?i.push(zo(o.messages[f].min,t.fullField,t.min)):l&&!a&&h>t.max?i.push(zo(o.messages[f].max,t.fullField,t.max)):a&&l&&(h<t.min||h>t.max)&&i.push(zo(o.messages[f].range,t.fullField,t.min,t.max))},qne=function(t,n,r,i,o,s){t.required&&(!r.hasOwnProperty(t.field)||Wr(n,s||t.type))&&i.push(zo(o.messages.required,t.fullField))},P0;const SVe=function(){if(P0)return P0;var e="[a-fA-F\\d:]",t=function(D){return D&&D.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",s="(?:".concat(i.join("|"),")").concat(o),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(s,"$)")),l=new RegExp("^".concat(n,"$")),u=new RegExp("^".concat(s,"$")),h=function(D){return D&&D.exact?a:new RegExp("(?:".concat(t(D)).concat(n).concat(t(D),")|(?:").concat(t(D)).concat(s).concat(t(D),")"),"g")};h.v4=function(A){return A&&A.exact?l:new RegExp("".concat(t(A)).concat(n).concat(t(A)),"g")},h.v6=function(A){return A&&A.exact?u:new RegExp("".concat(t(A)).concat(s).concat(t(A)),"g")};var f="(?:(?:[a-z]+:)?//)",p="(?:\\S+(?::\\S*)?@)?",m=h.v4().source,b=h.v6().source,C="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",x="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",R="(?::\\d{2,5})?",T='(?:[/?#][^\\s"]*)?',M="(?:".concat(f,"|www\\.)").concat(p,"(?:localhost|").concat(m,"|").concat(b,"|").concat(C).concat(y).concat(x,")").concat(R).concat(T);return P0=new RegExp("(?:^".concat(M,"$)"),"i"),P0};var SW={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},jv={integer:function(t){return jv.number(t)&&parseInt(t,10)===t},float:function(t){return jv.number(t)&&!jv.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return gt(t)==="object"&&!jv.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(SW.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(SVe())},hex:function(t){return typeof t=="string"&&!!t.match(SW.hex)}},xVe=function(t,n,r,i,o){if(t.required&&n===void 0){qne(t,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=t.type;s.indexOf(a)>-1?jv[a](n)||i.push(zo(o.messages.types[a],t.fullField,t.type)):a&&gt(n)!==t.type&&i.push(zo(o.messages.types[a],t.fullField,t.type))},EVe=function(t,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(zo(o.messages.whitespace,t.fullField))};const jt={required:qne,whitespace:EVe,type:xVe,range:wVe,enum:bVe,pattern:CVe};var RVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n)&&!t.required)return r();jt.required(t,n,i,s,o)}r(s)},TVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(n==null&&!t.required)return r();jt.required(t,n,i,s,o,"array"),n!=null&&(jt.type(t,n,i,s,o),jt.range(t,n,i,s,o))}r(s)},AVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n)&&!t.required)return r();jt.required(t,n,i,s,o),n!==void 0&&jt.type(t,n,i,s,o)}r(s)},PVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n,"date")&&!t.required)return r();if(jt.required(t,n,i,s,o),!Wr(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),jt.type(t,l,i,s,o),l&&jt.range(t,l.getTime(),i,s,o)}}r(s)},_Ve="enum",OVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n)&&!t.required)return r();jt.required(t,n,i,s,o),n!==void 0&&jt[_Ve](t,n,i,s,o)}r(s)},DVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n)&&!t.required)return r();jt.required(t,n,i,s,o),n!==void 0&&(jt.type(t,n,i,s,o),jt.range(t,n,i,s,o))}r(s)},IVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n)&&!t.required)return r();jt.required(t,n,i,s,o),n!==void 0&&(jt.type(t,n,i,s,o),jt.range(t,n,i,s,o))}r(s)},MVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n)&&!t.required)return r();jt.required(t,n,i,s,o),n!==void 0&&jt.type(t,n,i,s,o)}r(s)},FVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(n===""&&(n=void 0),Wr(n)&&!t.required)return r();jt.required(t,n,i,s,o),n!==void 0&&(jt.type(t,n,i,s,o),jt.range(t,n,i,s,o))}r(s)},kVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n)&&!t.required)return r();jt.required(t,n,i,s,o),n!==void 0&&jt.type(t,n,i,s,o)}r(s)},LVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n,"string")&&!t.required)return r();jt.required(t,n,i,s,o),Wr(n,"string")||jt.pattern(t,n,i,s,o)}r(s)},NVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n)&&!t.required)return r();jt.required(t,n,i,s,o),Wr(n)||jt.type(t,n,i,s,o)}r(s)},VVe=function(t,n,r,i,o){var s=[],a=Array.isArray(n)?"array":gt(n);jt.required(t,n,i,s,o,a),r(s)},BVe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Wr(n,"string")&&!t.required)return r();jt.required(t,n,i,s,o,"string"),Wr(n,"string")||(jt.type(t,n,i,s,o),jt.range(t,n,i,s,o),jt.pattern(t,n,i,s,o),t.whitespace===!0&&jt.whitespace(t,n,i,s,o))}r(s)},F1=function(t,n,r,i,o){var s=t.type,a=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Wr(n,s)&&!t.required)return r();jt.required(t,n,i,a,o,s),Wr(n,s)||jt.type(t,n,i,a,o)}r(a)};const hy={string:BVe,method:MVe,number:FVe,boolean:AVe,regexp:NVe,integer:IVe,float:DVe,array:TVe,object:kVe,enum:OVe,pattern:LVe,date:PVe,url:F1,hex:F1,email:F1,required:VVe,any:RVe};var TC=function(){function e(t){ui(this,e),de(this,"rules",null),de(this,"_messages",ak),this.define(t)}return ci(e,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(gt(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var o=n[i];r.rules[i]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(n){return n&&(this._messages=wW(sk(),n)),this._messages}},{key:"validate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=n,a=i,l=o;if(typeof a=="function"&&(l=a,a={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,s),Promise.resolve(s);function u(b){var C=[],y={};function x(T){if(Array.isArray(T)){var M;C=(M=C).concat.apply(M,Ge(T))}else C.push(T)}for(var R=0;R<b.length;R++)x(b[R]);C.length?(y=uk(C),l(C,y)):l(null,s)}if(a.messages){var h=this.messages();h===ak&&(h=sk()),wW(h,a.messages),a.messages=h}else a.messages=this.messages();var f={},p=a.keys||Object.keys(this.rules);p.forEach(function(b){var C=r.rules[b],y=s[b];C.forEach(function(x){var R=x;typeof R.transform=="function"&&(s===n&&(s=he({},s)),y=s[b]=R.transform(y),y!=null&&(R.type=R.type||(Array.isArray(y)?"array":gt(y)))),typeof R=="function"?R={validator:R}:R=he({},R),R.validator=r.getValidationMethod(R),R.validator&&(R.field=b,R.fullField=R.fullField||b,R.type=r.getType(R),f[b]=f[b]||[],f[b].push({rule:R,value:y,source:s,field:b}))})});var m={};return mVe(f,a,function(b,C){var y=b.rule,x=(y.type==="object"||y.type==="array")&&(gt(y.fields)==="object"||gt(y.defaultField)==="object");x=x&&(y.required||!y.required&&b.value),y.field=b.field;function R(_,I){return he(he({},I),{},{fullField:"".concat(y.fullField,".").concat(_),fullFields:y.fullFields?[].concat(Ge(y.fullFields),[_]):[_]})}function T(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=Array.isArray(_)?_:[_];!a.suppressWarning&&I.length&&e.warning("async-validator:",I),I.length&&y.message!==void 0&&(I=[].concat(y.message));var O=I.map(CW(y,s));if(a.first&&O.length)return m[y.field]=1,C(O);if(!x)C(O);else{if(y.required&&!b.value)return y.message!==void 0?O=[].concat(y.message).map(CW(y,s)):a.error&&(O=[a.error(y,zo(a.messages.required,y.field))]),C(O);var F={};y.defaultField&&Object.keys(b.value).map(function(N){F[N]=y.defaultField}),F=he(he({},F),b.rule.fields);var L={};Object.keys(F).forEach(function(N){var Y=F[N],X=Array.isArray(Y)?Y:[Y];L[N]=X.map(R.bind(null,N))});var V=new e(L);V.messages(a.messages),b.rule.options&&(b.rule.options.messages=a.messages,b.rule.options.error=a.error),V.validate(b.value,b.rule.options||a,function(N){var Y=[];O&&O.length&&Y.push.apply(Y,Ge(O)),N&&N.length&&Y.push.apply(Y,Ge(N)),C(Y.length?Y:null)})}}var M;if(y.asyncValidator)M=y.asyncValidator(y,b.value,T,b.source,a);else if(y.validator){try{M=y.validator(y,b.value,T,b.source,a)}catch(_){var A,D;(A=(D=console).error)===null||A===void 0||A.call(D,_),a.suppressValidatorError||setTimeout(function(){throw _},0),T(_.message)}M===!0?T():M===!1?T(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||"".concat(y.fullField||y.field," fails")):M instanceof Array?T(M):M instanceof Error&&T(M.message)}M&&M.then&&M.then(function(){return T()},function(_){return T(_)})},function(b){u(b)},s)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!hy.hasOwnProperty(n.type))throw new Error(zo("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?hy.required:hy[this.getType(n)]||void 0}}]),e}();de(TC,"register",function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");hy[t]=n});de(TC,"warning",hVe);de(TC,"messages",ak);de(TC,"validators",hy);var Vo="'${name}' is not a valid ${type}",Kne={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Vo,method:Vo,array:Vo,object:Vo,number:Vo,date:Vo,boolean:Vo,integer:Vo,float:Vo,regexp:Vo,email:Vo,url:Vo,hex:Vo},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},xW=TC;function HVe(e,t){return e.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return t[r]})}var EW="CODE_LOGIC_ERROR";function ck(e,t,n,r,i){return dk.apply(this,arguments)}function dk(){return dk=sf(ao().mark(function e(t,n,r,i,o){var s,a,l,u,h,f,p,m,b;return ao().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return s=he({},r),delete s.ruleIndex,xW.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(x){return console.error(x),Promise.reject(EW)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),u=new xW(de({},t,[s])),h=hp(Kne,i.validateMessages),u.messages(h),f=[],y.prev=10,y.next=13,Promise.resolve(u.validate(de({},t,n),he({},i)));case 13:y.next=18;break;case 15:y.prev=15,y.t0=y.catch(10),y.t0.errors&&(f=y.t0.errors.map(function(x,R){var T=x.message,M=T===EW?h.default:T;return w.isValidElement(M)?w.cloneElement(M,{key:"error_".concat(R)}):M}));case 18:if(!(!f.length&&l)){y.next=23;break}return y.next=21,Promise.all(n.map(function(x,R){return ck("".concat(t,".").concat(R),x,l,i,o)}));case 21:return p=y.sent,y.abrupt("return",p.reduce(function(x,R){return[].concat(Ge(x),Ge(R))},[]));case 23:return m=he(he({},r),{},{name:t,enum:(r.enum||[]).join(", ")},o),b=f.map(function(x){return typeof x=="string"?HVe(x,m):x}),y.abrupt("return",b);case 26:case"end":return y.stop()}},e,null,[[10,15]])})),dk.apply(this,arguments)}function $Ve(e,t,n,r,i,o){var s=e.join("."),a=n.map(function(h,f){var p=h.validator,m=he(he({},h),{},{ruleIndex:f});return p&&(m.validator=function(b,C,y){var x=!1,R=function(){for(var A=arguments.length,D=new Array(A),_=0;_<A;_++)D[_]=arguments[_];Promise.resolve().then(function(){Uo(!x,"Your validator function has already return a promise. `callback` will be ignored."),x||y.apply(void 0,D)})},T=p(b,C,R);x=T&&typeof T.then=="function"&&typeof T.catch=="function",Uo(x,"`callback` is deprecated. Please return a promise instead."),x&&T.then(function(){y()}).catch(function(M){y(M||" ")})}),m}).sort(function(h,f){var p=h.warningOnly,m=h.ruleIndex,b=f.warningOnly,C=f.ruleIndex;return!!p==!!b?m-C:p?1:-1}),l;if(i===!0)l=new Promise(function(){var h=sf(ao().mark(function f(p,m){var b,C,y;return ao().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:b=0;case 1:if(!(b<a.length)){R.next=12;break}return C=a[b],R.next=5,ck(s,t,C,r,o);case 5:if(y=R.sent,!y.length){R.next=9;break}return m([{errors:y,rule:C}]),R.abrupt("return");case 9:b+=1,R.next=1;break;case 12:p([]);case 13:case"end":return R.stop()}},f)}));return function(f,p){return h.apply(this,arguments)}}());else{var u=a.map(function(h){return ck(s,t,h,r,o).then(function(f){return{errors:f,rule:h}})});l=(i?GVe(u):jVe(u)).then(function(h){return Promise.reject(h)})}return l.catch(function(h){return h}),l}function jVe(e){return hk.apply(this,arguments)}function hk(){return hk=sf(ao().mark(function e(t){return ao().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(t).then(function(i){var o,s=(o=[]).concat.apply(o,Ge(i));return s}));case 1:case"end":return r.stop()}},e)})),hk.apply(this,arguments)}function GVe(e){return fk.apply(this,arguments)}function fk(){return fk=sf(ao().mark(function e(t){var n;return ao().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){t.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),n+=1,n===t.length&&o([])})})}));case 2:case"end":return i.stop()}},e)})),fk.apply(this,arguments)}function xr(e){return ok(e)}function RW(e,t){var n={};return t.forEach(function(r){var i=As(e,r);n=Ss(n,r,i)}),n}function Np(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(r){return Yne(t,r,n)})}function Yne(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!n&&e.length!==t.length?!1:t.every(function(r,i){return e[i]===r})}function zVe(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||gt(e)!=="object"||gt(t)!=="object")return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return Ge(i).every(function(o){var s=e[o],a=t[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function UVe(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&gt(t.target)==="object"&&e in t.target?t.target[e]:t}function TW(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(Ge(e.slice(0,n)),[i],Ge(e.slice(n,t)),Ge(e.slice(t+1,r))):o<0?[].concat(Ge(e.slice(0,t)),Ge(e.slice(t+1,n+1)),[i],Ge(e.slice(n+1,r))):e}var WVe=["name"],ds=[];function k1(e,t,n,r,i,o){return typeof e=="function"?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var vV=function(e){sd(n,e);var t=ad(n);function n(r){var i;if(ui(this,n),i=t.call(this,r),de(Ot(i),"state",{resetCount:0}),de(Ot(i),"cancelRegisterFunc",null),de(Ot(i),"mounted",!1),de(Ot(i),"touched",!1),de(Ot(i),"dirty",!1),de(Ot(i),"validatePromise",void 0),de(Ot(i),"prevValidating",void 0),de(Ot(i),"errors",ds),de(Ot(i),"warnings",ds),de(Ot(i),"cancelRegister",function(){var l=i.props,u=l.preserve,h=l.isListField,f=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(h,u,xr(f)),i.cancelRegisterFunc=null}),de(Ot(i),"getNamePath",function(){var l=i.props,u=l.name,h=l.fieldContext,f=h.prefixName,p=f===void 0?[]:f;return u!==void 0?[].concat(Ge(p),Ge(u)):[]}),de(Ot(i),"getRules",function(){var l=i.props,u=l.rules,h=u===void 0?[]:u,f=l.fieldContext;return h.map(function(p){return typeof p=="function"?p(f):p})}),de(Ot(i),"refresh",function(){i.mounted&&i.setState(function(l){var u=l.resetCount;return{resetCount:u+1}})}),de(Ot(i),"metaCache",null),de(Ot(i),"triggerMetaEvent",function(l){var u=i.props.onMetaChange;if(u){var h=he(he({},i.getMeta()),{},{destroy:l});_F(i.metaCache,h)||u(h),i.metaCache=h}else i.metaCache=null}),de(Ot(i),"onStoreChange",function(l,u,h){var f=i.props,p=f.shouldUpdate,m=f.dependencies,b=m===void 0?[]:m,C=f.onReset,y=h.store,x=i.getNamePath(),R=i.getValue(l),T=i.getValue(y),M=u&&Np(u,x);switch(h.type==="valueUpdate"&&h.source==="external"&&!_F(R,T)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=ds,i.warnings=ds,i.triggerMetaEvent()),h.type){case"reset":if(!u||M){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=ds,i.warnings=ds,i.triggerMetaEvent(),C==null||C(),i.refresh();return}break;case"remove":{if(p&&k1(p,l,y,R,T,h)){i.reRender();return}break}case"setField":{var A=h.data;if(M){"touched"in A&&(i.touched=A.touched),"validating"in A&&!("originRCField"in A)&&(i.validatePromise=A.validating?Promise.resolve([]):null),"errors"in A&&(i.errors=A.errors||ds),"warnings"in A&&(i.warnings=A.warnings||ds),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in A&&Np(u,x,!0)){i.reRender();return}if(p&&!x.length&&k1(p,l,y,R,T,h)){i.reRender();return}break}case"dependenciesUpdate":{var D=b.map(xr);if(D.some(function(_){return Np(h.relatedFields,_)})){i.reRender();return}break}default:if(M||(!b.length||x.length||p)&&k1(p,l,y,R,T,h)){i.reRender();return}break}p===!0&&i.reRender()}),de(Ot(i),"validateRules",function(l){var u=i.getNamePath(),h=i.getValue(),f=l||{},p=f.triggerName,m=f.validateOnly,b=m===void 0?!1:m,C=Promise.resolve().then(sf(ao().mark(function y(){var x,R,T,M,A,D,_;return ao().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(i.mounted){O.next=2;break}return O.abrupt("return",[]);case 2:if(x=i.props,R=x.validateFirst,T=R===void 0?!1:R,M=x.messageVariables,A=x.validateDebounce,D=i.getRules(),p&&(D=D.filter(function(F){return F}).filter(function(F){var L=F.validateTrigger;if(!L)return!0;var V=ok(L);return V.includes(p)})),!(A&&p)){O.next=10;break}return O.next=8,new Promise(function(F){setTimeout(F,A)});case 8:if(i.validatePromise===C){O.next=10;break}return O.abrupt("return",[]);case 10:return _=$Ve(u,h,D,l,T,M),_.catch(function(F){return F}).then(function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ds;if(i.validatePromise===C){var L;i.validatePromise=null;var V=[],N=[];(L=F.forEach)===null||L===void 0||L.call(F,function(Y){var X=Y.rule.warningOnly,j=Y.errors,G=j===void 0?ds:j;X?N.push.apply(N,Ge(G)):V.push.apply(V,Ge(G))}),i.errors=V,i.warnings=N,i.triggerMetaEvent(),i.reRender()}}),O.abrupt("return",_);case 13:case"end":return O.stop()}},y)})));return b||(i.validatePromise=C,i.dirty=!0,i.errors=ds,i.warnings=ds,i.triggerMetaEvent(),i.reRender()),C}),de(Ot(i),"isFieldValidating",function(){return!!i.validatePromise}),de(Ot(i),"isFieldTouched",function(){return i.touched}),de(Ot(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,u=l.getInternalHooks(eh),h=u.getInitialValue;return h(i.getNamePath())!==void 0}),de(Ot(i),"getErrors",function(){return i.errors}),de(Ot(i),"getWarnings",function(){return i.warnings}),de(Ot(i),"isListField",function(){return i.props.isListField}),de(Ot(i),"isList",function(){return i.props.isList}),de(Ot(i),"isPreserve",function(){return i.props.preserve}),de(Ot(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),de(Ot(i),"getOnlyChild",function(l){if(typeof l=="function"){var u=i.getMeta();return he(he({},i.getOnlyChild(l(i.getControlled(),u,i.props.fieldContext))),{},{isFunction:!0})}var h=zy(l);return h.length!==1||!w.isValidElement(h[0])?{child:h,isFunction:!1}:{child:h[0],isFunction:!1}}),de(Ot(i),"getValue",function(l){var u=i.props.fieldContext.getFieldsValue,h=i.getNamePath();return As(l||u(!0),h)}),de(Ot(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=i.props,h=u.name,f=u.trigger,p=u.validateTrigger,m=u.getValueFromEvent,b=u.normalize,C=u.valuePropName,y=u.getValueProps,x=u.fieldContext,R=p!==void 0?p:x.validateTrigger,T=i.getNamePath(),M=x.getInternalHooks,A=x.getFieldsValue,D=M(eh),_=D.dispatch,I=i.getValue(),O=y||function(Y){return de({},C,Y)},F=l[f],L=h!==void 0?O(I):{},V=he(he({},l),L);V[f]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var Y,X=arguments.length,j=new Array(X),G=0;G<X;G++)j[G]=arguments[G];m?Y=m.apply(void 0,j):Y=UVe.apply(void 0,[C].concat(j)),b&&(Y=b(Y,I,A(!0))),Y!==I&&_({type:"updateValue",namePath:T,value:Y}),F&&F.apply(void 0,j)};var N=ok(R||[]);return N.forEach(function(Y){var X=V[Y];V[Y]=function(){X&&X.apply(void 0,arguments);var j=i.props.rules;j&&j.length&&_({type:"validateField",namePath:T,triggerName:Y})}}),V}),r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(eh),a=s.initEntityValue;a(Ot(i))}return i}return ci(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(eh),u=l.registerField;this.cancelRegisterFunc=u(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),a=s.child,l=s.isFunction,u;return l?u=a:w.isValidElement(a)?u=w.cloneElement(a,this.getControlled(a.props)):(Uo(!a,"`children` of Field is not validate ReactElement."),u=a),w.createElement(w.Fragment,{key:i},u)}}]),n}(w.Component);de(vV,"contextType",Uh);de(vV,"defaultProps",{trigger:"onChange",valuePropName:"value"});function yV(e){var t,n=e.name,r=Fs(e,WVe),i=w.useContext(Uh),o=w.useContext(rb),s=n!==void 0?xr(n):void 0,a=(t=r.isListField)!==null&&t!==void 0?t:!!o,l="keep";return a||(l="_".concat((s||[]).join("_"))),w.createElement(vV,Hn({key:l,name:s,isListField:a},r,{fieldContext:i}))}function Xne(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,o=e.validateTrigger,s=e.isListField,a=w.useContext(Uh),l=w.useContext(rb),u=w.useRef({keys:[],id:0}),h=u.current,f=w.useMemo(function(){var C=xr(a.prefixName)||[];return[].concat(Ge(C),Ge(xr(t)))},[a.prefixName,t]),p=w.useMemo(function(){return he(he({},a),{},{prefixName:f})},[a,f]),m=w.useMemo(function(){return{getKey:function(y){var x=f.length,R=y[x];return[h.keys[R],y.slice(x+1)]}}},[f]);if(typeof r!="function")return Uo(!1,"Form.List only accepts function as children."),null;var b=function(y,x,R){var T=R.source;return T==="internal"?!1:y!==x};return w.createElement(rb.Provider,{value:m},w.createElement(Uh.Provider,{value:p},w.createElement(yV,{name:[],shouldUpdate:b,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:s??!!l},function(C,y){var x=C.value,R=x===void 0?[]:x,T=C.onChange,M=a.getFieldValue,A=function(){var O=M(f||[]);return O||[]},D={add:function(O,F){var L=A();F>=0&&F<=L.length?(h.keys=[].concat(Ge(h.keys.slice(0,F)),[h.id],Ge(h.keys.slice(F))),T([].concat(Ge(L.slice(0,F)),[O],Ge(L.slice(F))))):(h.keys=[].concat(Ge(h.keys),[h.id]),T([].concat(Ge(L),[O]))),h.id+=1},remove:function(O){var F=A(),L=new Set(Array.isArray(O)?O:[O]);L.size<=0||(h.keys=h.keys.filter(function(V,N){return!L.has(N)}),T(F.filter(function(V,N){return!L.has(N)})))},move:function(O,F){if(O!==F){var L=A();O<0||O>=L.length||F<0||F>=L.length||(h.keys=TW(h.keys,O,F),T(TW(L,O,F)))}}},_=R||[];return Array.isArray(_)||(_=[]),r(_.map(function(I,O){var F=h.keys[O];return F===void 0&&(h.keys[O]=h.id,F=h.keys[O],h.id+=1),{name:O,key:F,isListField:!0}}),D,y)})))}function qVe(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(i,o){e.forEach(function(s,a){s.catch(function(l){return t=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(t&&o(r),i(r))})})}):Promise.resolve([])}var Qne="__@field_split__";function L1(e){return e.map(function(t){return"".concat(gt(t),":").concat(t)}).join(Qne)}var Qf=function(){function e(){ui(this,e),de(this,"kvs",new Map)}return ci(e,[{key:"set",value:function(n,r){this.kvs.set(L1(n),r)}},{key:"get",value:function(n){return this.kvs.get(L1(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(L1(n))}},{key:"map",value:function(n){return Ge(this.kvs.entries()).map(function(r){var i=He(r,2),o=i[0],s=i[1],a=o.split(Qne);return n({key:a.map(function(l){var u=l.match(/^([^:]*):(.*)$/),h=He(u,3),f=h[1],p=h[2];return f==="number"?Number(p):p}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),e}(),KVe=["name"],YVe=ci(function e(t){var n=this;ui(this,e),de(this,"formHooked",!1),de(this,"forceRootUpdate",void 0),de(this,"subscribable",!0),de(this,"store",{}),de(this,"fieldEntities",[]),de(this,"initialValues",{}),de(this,"callbacks",{}),de(this,"validateMessages",null),de(this,"preserve",null),de(this,"lastValidatePromise",null),de(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),de(this,"getInternalHooks",function(r){return r===eh?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Uo(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),de(this,"useSubscribe",function(r){n.subscribable=r}),de(this,"prevWithoutPreserves",null),de(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,s=hp(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=Ss(s,l,As(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),de(this,"destroyForm",function(r){if(r)n.updateStore({});else{var i=new Qf;n.getFieldEntities(!0).forEach(function(o){n.isMergedPreserve(o.isPreserve())||i.set(o.getNamePath(),!0)}),n.prevWithoutPreserves=i}}),de(this,"getInitialValue",function(r){var i=As(n.initialValues,r);return r.length?hp(i):i}),de(this,"setCallbacks",function(r){n.callbacks=r}),de(this,"setValidateMessages",function(r){n.validateMessages=r}),de(this,"setPreserve",function(r){n.preserve=r}),de(this,"watchList",[]),de(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),de(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(i,o,r)})}}),de(this,"timeoutId",null),de(this,"warningUnhooked",function(){}),de(this,"updateStore",function(r){n.store=r}),de(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),de(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Qf;return n.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i}),de(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var s=xr(o);return i.get(s)||{INVALIDATE_NAME_PATH:xr(o)}})}),de(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,s,a;if(r===!0||Array.isArray(r)?(o=r,s=i):r&&gt(r)==="object"&&(a=r.strict,s=r.filter),o===!0&&!s)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),u=[];return l.forEach(function(h){var f,p,m="INVALIDATE_NAME_PATH"in h?h.INVALIDATE_NAME_PATH:h.getNamePath();if(a){var b,C;if((b=(C=h).isList)!==null&&b!==void 0&&b.call(C))return}else if(!o&&(f=(p=h).isListField)!==null&&f!==void 0&&f.call(p))return;if(!s)u.push(m);else{var y="getMeta"in h?h.getMeta():null;s(y)&&u.push(m)}}),RW(n.store,u.map(xr))}),de(this,"getFieldValue",function(r){n.warningUnhooked();var i=xr(r);return As(n.store,i)}),de(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:xr(r[s]),errors:[],warnings:[]}})}),de(this,"getFieldError",function(r){n.warningUnhooked();var i=xr(r),o=n.getFieldsError([i])[0];return o.errors}),de(this,"getFieldWarning",function(r){n.warningUnhooked();var i=xr(r),o=n.getFieldsError([i])[0];return o.warnings}),de(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,u=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(xr),u=!1):(l=null,u=s):(l=s.map(xr),u=a);var h=n.getFieldEntities(!0),f=function(y){return y.isFieldTouched()};if(!l)return u?h.every(function(C){return f(C)||C.isList()}):h.some(f);var p=new Qf;l.forEach(function(C){p.set(C,[])}),h.forEach(function(C){var y=C.getNamePath();l.forEach(function(x){x.every(function(R,T){return y[T]===R})&&p.update(x,function(R){return[].concat(Ge(R),[C])})})});var m=function(y){return y.some(f)},b=p.map(function(C){var y=C.value;return y});return u?b.every(m):b.some(m)}),de(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),de(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(xr);return i.some(function(s){var a=s.getNamePath();return Np(o,a)&&s.isFieldValidating()})}),de(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),de(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Qf,o=n.getFieldEntities(!0);o.forEach(function(l){var u=l.props.initialValue,h=l.getNamePath();if(u!==void 0){var f=i.get(h)||new Set;f.add({entity:l,value:u}),i.set(h,f)}});var s=function(u){u.forEach(function(h){var f=h.props.initialValue;if(f!==void 0){var p=h.getNamePath(),m=n.getInitialValue(p);if(m!==void 0)Uo(!1,"Form already set 'initialValues' with path '".concat(p.join("."),"'. Field can not overwrite it."));else{var b=i.get(p);if(b&&b.size>1)Uo(!1,"Multiple Field with path '".concat(p.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(b){var C=n.getFieldValue(p),y=h.isListField();!y&&(!r.skipExist||C===void 0)&&n.updateStore(Ss(n.store,p,Ge(b)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var u=i.get(l);if(u){var h;(h=a).push.apply(h,Ge(Ge(u).map(function(f){return f.entity})))}})):a=o,s(a)}),de(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(hp(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(xr);o.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(Ss(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),de(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(s){var a=s.name,l=Fs(s,KVe),u=xr(a);o.push(u),"value"in l&&n.updateStore(Ss(n.store,u,l.value)),n.notifyObservers(i,[u],{type:"setField",data:s})}),n.notifyWatch(o)}),de(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=he(he({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),de(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=As(n.store,o);s===void 0&&n.updateStore(Ss(n.store,o,i))}}),de(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),de(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(f){return f!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var u=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==u&&n.fieldEntities.every(function(f){return!Yne(f.getNamePath(),i)})){var h=n.store;n.updateStore(Ss(h,i,u,!0)),n.notifyObservers(h,[i],{type:"remove"}),n.triggerDependenciesUpdate(h,i)}}n.notifyWatch([i])}}),de(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}}),de(this,"notifyObservers",function(r,i,o){if(n.subscribable){var s=he(he({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()}),de(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(Ge(o))}),o}),de(this,"updateValue",function(r,i){var o=xr(r),s=n.store;n.updateStore(Ss(n.store,o,i)),n.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(s,o),l=n.callbacks.onValuesChange;if(l){var u=RW(n.store,[o]);l(u,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(Ge(a)))}),de(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=hp(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),de(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i,errors:[],warnings:[]}])}),de(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],s=new Qf;n.getFieldEntities().forEach(function(l){var u=l.props.dependencies;(u||[]).forEach(function(h){var f=xr(h);s.update(f,function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return p.add(l),p})})});var a=function l(u){var h=s.get(u)||new Set;h.forEach(function(f){if(!i.has(f)){i.add(f);var p=f.getNamePath();f.isFieldDirty()&&p.length&&(o.push(p),l(p))}})};return a(r),o}),de(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var s=n.getFields();if(i){var a=new Qf;i.forEach(function(u){var h=u.name,f=u.errors;a.set(h,f)}),s.forEach(function(u){u.errors=a.get(u.name)||u.errors})}var l=s.filter(function(u){var h=u.name;return Np(r,h)});l.length&&o(l,s)}}),de(this,"validateFields",function(r,i){n.warningUnhooked();var o,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,s=i):s=r;var a=!!o,l=a?o.map(xr):[],u=[],h=String(Date.now()),f=new Set,p=s||{},m=p.recursive,b=p.dirty;n.getFieldEntities(!0).forEach(function(R){if(a||l.push(R.getNamePath()),!(!R.props.rules||!R.props.rules.length)&&!(b&&!R.isFieldDirty())){var T=R.getNamePath();if(f.add(T.join(h)),!a||Np(l,T,m)){var M=R.validateRules(he({validateMessages:he(he({},Kne),n.validateMessages)},s));u.push(M.then(function(){return{name:T,errors:[],warnings:[]}}).catch(function(A){var D,_=[],I=[];return(D=A.forEach)===null||D===void 0||D.call(A,function(O){var F=O.rule.warningOnly,L=O.errors;F?I.push.apply(I,Ge(L)):_.push.apply(_,Ge(L))}),_.length?Promise.reject({name:T,errors:_,warnings:I}):{name:T,errors:_,warnings:I}}))}}});var C=qVe(u);n.lastValidatePromise=C,C.catch(function(R){return R}).then(function(R){var T=R.map(function(M){var A=M.name;return A});n.notifyObservers(n.store,T,{type:"validateFinish"}),n.triggerOnFieldsChange(T,R)});var y=C.then(function(){return n.lastValidatePromise===C?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(R){var T=R.filter(function(M){return M&&M.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:T,outOfDate:n.lastValidatePromise!==C})});y.catch(function(R){return R});var x=l.filter(function(R){return f.has(R.join(h))});return n.triggerOnFieldsChange(x),y}),de(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=t});function bV(e){var t=w.useRef(),n=w.useState({}),r=He(n,2),i=r[1];if(!t.current)if(e)t.current=e;else{var o=function(){i({})},s=new YVe(o);t.current=s.getForm()}return[t.current]}var pk=w.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Zne=function(t){var n=t.validateMessages,r=t.onFormChange,i=t.onFormFinish,o=t.children,s=w.useContext(pk),a=w.useRef({});return w.createElement(pk.Provider,{value:he(he({},s),{},{validateMessages:he(he({},s.validateMessages),n),triggerFormChange:function(u,h){r&&r(u,{changedFields:h,forms:a.current}),s.triggerFormChange(u,h)},triggerFormFinish:function(u,h){i&&i(u,{values:h,forms:a.current}),s.triggerFormFinish(u,h)},registerForm:function(u,h){u&&(a.current=he(he({},a.current),{},de({},u,h))),s.registerForm(u,h)},unregisterForm:function(u){var h=he({},a.current);delete h[u],a.current=h,s.unregisterForm(u)}})},o)},XVe=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],QVe=function(t,n){var r=t.name,i=t.initialValues,o=t.fields,s=t.form,a=t.preserve,l=t.children,u=t.component,h=u===void 0?"form":u,f=t.validateMessages,p=t.validateTrigger,m=p===void 0?"onChange":p,b=t.onValuesChange,C=t.onFieldsChange,y=t.onFinish,x=t.onFinishFailed,R=t.clearOnDestroy,T=Fs(t,XVe),M=w.useRef(null),A=w.useContext(pk),D=bV(s),_=He(D,1),I=_[0],O=I.getInternalHooks(eh),F=O.useSubscribe,L=O.setInitialValues,V=O.setCallbacks,N=O.setValidateMessages,Y=O.setPreserve,X=O.destroyForm;w.useImperativeHandle(n,function(){return he(he({},I),{},{nativeElement:M.current})}),w.useEffect(function(){return A.registerForm(r,I),function(){A.unregisterForm(r)}},[A,I,r]),N(he(he({},A.validateMessages),f)),V({onValuesChange:b,onFieldsChange:function(ee){if(A.triggerFormChange(r,ee),C){for(var fe=arguments.length,me=new Array(fe>1?fe-1:0),xe=1;xe<fe;xe++)me[xe-1]=arguments[xe];C.apply(void 0,[ee].concat(me))}},onFinish:function(ee){A.triggerFormFinish(r,ee),y&&y(ee)},onFinishFailed:x}),Y(a);var j=w.useRef(null);L(i,!j.current),j.current||(j.current=!0),w.useEffect(function(){return function(){return X(R)}},[]);var G,U=typeof l=="function";if(U){var Z=I.getFieldsValue(!0);G=l(Z,I)}else G=l;F(!U);var $=w.useRef();w.useEffect(function(){zVe($.current||[],o||[])||I.setFields(o||[]),$.current=o},[o,I]);var Q=w.useMemo(function(){return he(he({},I),{},{validateTrigger:m})},[I,m]),J=w.createElement(rb.Provider,{value:null},w.createElement(Uh.Provider,{value:Q},G));return h===!1?J:w.createElement(h,Hn({},T,{ref:M,onSubmit:function(ee){ee.preventDefault(),ee.stopPropagation(),I.submit()},onReset:function(ee){var fe;ee.preventDefault(),I.resetFields(),(fe=T.onReset)===null||fe===void 0||fe.call(T,ee)}}),J)};function AW(e){try{return JSON.stringify(e)}catch{return Math.random()}}function Jne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=i===void 0?{}:i,s=lVe(o)?{form:o}:o,a=s.form,l=w.useState(),u=He(l,2),h=u[0],f=u[1],p=w.useMemo(function(){return AW(h)},[h]),m=w.useRef(p);m.current=p;var b=w.useContext(Uh),C=a||b,y=C&&C._init,x=xr(r),R=w.useRef(x);return R.current=x,w.useEffect(function(){if(y){var T=C.getFieldsValue,M=C.getInternalHooks,A=M(eh),D=A.registerWatch,_=function(L,V){var N=s.preserve?V:L;return typeof r=="function"?r(N):As(N,R.current)},I=D(function(F,L){var V=_(F,L),N=AW(V);m.current!==N&&(m.current=N,f(V))}),O=_(T(),T(!0));return h!==O&&f(O),I}},[y]),h}var ZVe=w.forwardRef(QVe),dm=ZVe;dm.FormProvider=Zne;dm.Field=yV;dm.List=Xne;dm.useForm=bV;dm.useWatch=Jne;const mu=w.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),ere=w.createContext(null),tre=e=>{const t=cm(e,["prefixCls"]);return w.createElement(Zne,Object.assign({},t))},CV=w.createContext({prefixCls:""}),Cg=w.createContext({}),JVe=e=>{let{children:t,status:n,override:r}=e;const i=w.useContext(Cg),o=w.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,i]);return w.createElement(Cg.Provider,{value:o},t)},eBe=w.createContext(void 0),nre=e=>{const{space:t,form:n,children:r}=e;if(r==null)return null;let i=r;return n&&(i=z.createElement(JVe,{override:!0,status:!0},i)),t&&(i=z.createElement(HNe,null,i)),i};function PW(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function _W(e){const{closable:t,closeIcon:n}=e||{};return z.useMemo(()=>{if(!t&&(t===!1||n===!1||n===null))return!1;if(t===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return t&&typeof t=="object"&&(r=Object.assign(Object.assign({},r),t)),r},[t,n])}function OW(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(i=>{i&&Object.keys(i).forEach(o=>{i[o]!==void 0&&(e[o]=i[o])})}),e}const tBe={};function nBe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tBe;const r=_W(e),i=_W(t),o=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,s=z.useMemo(()=>Object.assign({closeIcon:z.createElement(uV,null)},n),[n]),a=z.useMemo(()=>r===!1?!1:r?OW(s,i,r):i===!1?!1:i?OW(s,i):s.closable?s:!1,[r,i,s]);return z.useMemo(()=>{if(a===!1)return[!1,null,o];const{closeIconRender:l}=s,{closeIcon:u}=a;let h=u;if(h!=null){l&&(h=l(u));const f=cV(a,!0);Object.keys(f).length&&(h=z.isValidElement(h)?z.cloneElement(h,f):z.createElement("span",Object.assign({},f),h))}return[!0,h,o]},[a,s])}const rBe=()=>Ro()&&window.document.documentElement,IR=e=>{const{prefixCls:t,className:n,style:r,size:i,shape:o}=e,s=qe({[`${t}-lg`]:i==="large",[`${t}-sm`]:i==="small"}),a=qe({[`${t}-circle`]:o==="circle",[`${t}-square`]:o==="square",[`${t}-round`]:o==="round"}),l=w.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return w.createElement("span",{className:qe(t,s,a,n),style:Object.assign(Object.assign({},l),r)})},iBe=new lo("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),MR=e=>({height:e,lineHeight:vt(e)}),Vp=e=>Object.assign({width:e},MR(e)),oBe=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:iBe,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),N1=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},MR(e)),sBe=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},Vp(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Vp(i)),[`${t}${t}-sm`]:Object.assign({},Vp(o))}},aBe=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:s,calc:a}=e;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:n},N1(t,a)),[`${r}-lg`]:Object.assign({},N1(i,a)),[`${r}-sm`]:Object.assign({},N1(o,a))}},DW=e=>Object.assign({width:e},MR(e)),lBe=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:i,calc:o}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:i},DW(o(n).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},DW(n)),{maxWidth:o(n).mul(4).equal(),maxHeight:o(n).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},V1=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},B1=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},MR(e)),uBe=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:s,calc:a}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:t,width:a(r).mul(2).equal(),minWidth:a(r).mul(2).equal()},B1(r,a))},V1(e,r,n)),{[`${n}-lg`]:Object.assign({},B1(i,a))}),V1(e,i,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},B1(o,a))}),V1(e,o,`${n}-sm`))},cBe=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:s,skeletonImageCls:a,controlHeight:l,controlHeightLG:u,controlHeightSM:h,gradientFromColor:f,padding:p,marginSM:m,borderRadius:b,titleHeight:C,blockRadius:y,paragraphLiHeight:x,controlHeightXS:R,paragraphMarginTop:T}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:p,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:f},Vp(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},Vp(u)),[`${n}-sm`]:Object.assign({},Vp(h))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:C,background:f,borderRadius:y,[`+ ${i}`]:{marginBlockStart:h}},[i]:{padding:0,"> li":{width:"100%",height:x,listStyle:"none",background:f,borderRadius:y,"+ li":{marginBlockStart:R}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${i} > li`]:{borderRadius:b}}},[`${t}-with-avatar ${t}-content`]:{[r]:{marginBlockStart:m,[`+ ${i}`]:{marginBlockStart:T}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},uBe(e)),sBe(e)),aBe(e)),lBe(e)),[`${t}${t}-block`]:{width:"100%",[o]:{width:"100%"},[s]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${r},
        ${i} > li,
        ${n},
        ${o},
        ${s},
        ${a}
      `]:Object.assign({},oBe(e))}}},dBe=e=>{const{colorFillContent:t,colorFill:n}=e,r=t,i=n;return{color:r,colorGradientEnd:i,gradientFromColor:r,gradientToColor:i,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},hm=of("Skeleton",e=>{const{componentCls:t,calc:n}=e,r=Ns(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[cBe(r)]},dBe,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),hBe=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,shape:o="circle",size:s="default"}=e,{getPrefixCls:a}=w.useContext(Jn),l=a("skeleton",t),[u,h,f]=hm(l),p=cm(e,["prefixCls","className"]),m=qe(l,`${l}-element`,{[`${l}-active`]:i},n,r,h,f);return u(w.createElement("div",{className:m},w.createElement(IR,Object.assign({prefixCls:`${l}-avatar`,shape:o,size:s},p))))},fBe=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,block:o=!1,size:s="default"}=e,{getPrefixCls:a}=w.useContext(Jn),l=a("skeleton",t),[u,h,f]=hm(l),p=cm(e,["prefixCls"]),m=qe(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,h,f);return u(w.createElement("div",{className:m},w.createElement(IR,Object.assign({prefixCls:`${l}-button`,size:s},p))))},pBe="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",gBe=e=>{const{prefixCls:t,className:n,rootClassName:r,style:i,active:o}=e,{getPrefixCls:s}=w.useContext(Jn),a=s("skeleton",t),[l,u,h]=hm(a),f=qe(a,`${a}-element`,{[`${a}-active`]:o},n,r,u,h);return l(w.createElement("div",{className:f},w.createElement("div",{className:qe(`${a}-image`,n),style:i},w.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${a}-image-svg`},w.createElement("title",null,"Image placeholder"),w.createElement("path",{d:pBe,className:`${a}-image-path`})))))},mBe=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,block:o,size:s="default"}=e,{getPrefixCls:a}=w.useContext(Jn),l=a("skeleton",t),[u,h,f]=hm(l),p=cm(e,["prefixCls"]),m=qe(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,h,f);return u(w.createElement("div",{className:m},w.createElement(IR,Object.assign({prefixCls:`${l}-input`,size:s},p))))},vBe=e=>{const{prefixCls:t,className:n,rootClassName:r,style:i,active:o,children:s}=e,{getPrefixCls:a}=w.useContext(Jn),l=a("skeleton",t),[u,h,f]=hm(l),p=qe(l,`${l}-element`,{[`${l}-active`]:o},h,n,r,f);return u(w.createElement("div",{className:p},w.createElement("div",{className:qe(`${l}-image`,n),style:i},s)))},yBe=(e,t)=>{const{width:n,rows:r=2}=t;if(Array.isArray(n))return n[e];if(r-1===e)return n},bBe=e=>{const{prefixCls:t,className:n,style:r,rows:i=0}=e,o=Array.from({length:i}).map((s,a)=>w.createElement("li",{key:a,style:{width:yBe(a,e)}}));return w.createElement("ul",{className:qe(t,n),style:r},o)},CBe=e=>{let{prefixCls:t,className:n,width:r,style:i}=e;return w.createElement("h3",{className:qe(t,n),style:Object.assign({width:r},i)})};function H1(e){return e&&typeof e=="object"?e:{}}function wBe(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function SBe(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function xBe(e,t){const n={};return(!e||!t)&&(n.width="61%"),!e&&t?n.rows=3:n.rows=2,n}const fm=e=>{const{prefixCls:t,loading:n,className:r,rootClassName:i,style:o,children:s,avatar:a=!1,title:l=!0,paragraph:u=!0,active:h,round:f}=e,{getPrefixCls:p,direction:m,className:b,style:C}=SR("skeleton"),y=p("skeleton",t),[x,R,T]=hm(y);if(n||!("loading"in e)){const M=!!a,A=!!l,D=!!u;let _;if(M){const F=Object.assign(Object.assign({prefixCls:`${y}-avatar`},wBe(A,D)),H1(a));_=w.createElement("div",{className:`${y}-header`},w.createElement(IR,Object.assign({},F)))}let I;if(A||D){let F;if(A){const V=Object.assign(Object.assign({prefixCls:`${y}-title`},SBe(M,D)),H1(l));F=w.createElement(CBe,Object.assign({},V))}let L;if(D){const V=Object.assign(Object.assign({prefixCls:`${y}-paragraph`},xBe(M,A)),H1(u));L=w.createElement(bBe,Object.assign({},V))}I=w.createElement("div",{className:`${y}-content`},F,L)}const O=qe(y,{[`${y}-with-avatar`]:M,[`${y}-active`]:h,[`${y}-rtl`]:m==="rtl",[`${y}-round`]:f},b,r,i,R,T);return x(w.createElement("div",{className:O,style:Object.assign(Object.assign({},C),o)},_,I))}return s??null};fm.Button=fBe;fm.Avatar=hBe;fm.Input=mBe;fm.Image=gBe;fm.Node=vBe;function IW(){}const EBe=w.createContext({add:IW,remove:IW});function RBe(e){const t=w.useContext(EBe),n=w.useRef(null);return bo(i=>{if(i){const o=e?i.querySelector(e):i;t.add(o),n.current=o}else t.remove(n.current)})}const MW=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=w.useContext(RC);return z.createElement(EC,Object.assign({onClick:n},e),t)},FW=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:i}=w.useContext(RC);return z.createElement(EC,Object.assign({},Fne(n),{loading:e,onClick:i},t),r)};function rre(e,t){return z.createElement("span",{className:`${e}-close-x`},t||z.createElement(uV,{className:`${e}-close-icon`}))}const ire=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:i,onOk:o,onCancel:s,okButtonProps:a,cancelButtonProps:l,footer:u}=e,[h]=CR("Modal",zte()),f=t||(h==null?void 0:h.okText),p=r||(h==null?void 0:h.cancelText),m={confirmLoading:i,okButtonProps:a,cancelButtonProps:l,okTextLocale:f,cancelTextLocale:p,okType:n,onOk:o,onCancel:s},b=z.useMemo(()=>m,Ge(Object.values(m)));let C;return typeof u=="function"||typeof u>"u"?(C=z.createElement(z.Fragment,null,z.createElement(MW,null),z.createElement(FW,null)),typeof u=="function"&&(C=u(C,{OkBtn:FW,CancelBtn:MW})),C=z.createElement($ne,{value:b},C)):C=u,z.createElement(sV,{disabled:!1},C)},TBe=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},ABe=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},PBe=(e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=e,o={};for(let s=i;s>=0;s--)s===0?(o[`${r}${t}-${s}`]={display:"none"},o[`${r}-push-${s}`]={insetInlineStart:"auto"},o[`${r}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${t}-push-${s}`]={insetInlineStart:"auto"},o[`${r}${t}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${t}-offset-${s}`]={marginInlineStart:0},o[`${r}${t}-order-${s}`]={order:0}):(o[`${r}${t}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/i*100}%`,maxWidth:`${s/i*100}%`}],o[`${r}${t}-push-${s}`]={insetInlineStart:`${s/i*100}%`},o[`${r}${t}-pull-${s}`]={insetInlineEnd:`${s/i*100}%`},o[`${r}${t}-offset-${s}`]={marginInlineStart:`${s/i*100}%`},o[`${r}${t}-order-${s}`]={order:s});return o[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},o},gk=(e,t)=>PBe(e,t),_Be=(e,t,n)=>({[`@media (min-width: ${vt(t)})`]:Object.assign({},gk(e,n))}),OBe=()=>({}),DBe=()=>({}),IBe=of("Grid",TBe,OBe),ore=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),MBe=of("Grid",e=>{const t=Ns(e,{gridColumns:24}),n=ore(t);return delete n.xs,[ABe(t),gk(t,""),gk(t,"-xs"),Object.keys(n).map(r=>_Be(t,n[r],`-${r}`)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},DBe);function kW(e){return{position:e,inset:0}}const FBe=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},kW("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},kW("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:o2e(e)}]},kBe=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${vt(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},xR(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${vt(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:vt(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},rne(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${vt(e.borderRadiusLG)} ${vt(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${vt(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},LBe=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},NBe=e=>{const{componentCls:t}=e,n=ore(e);delete n.xs;const r=Object.keys(n).map(i=>({[`@media (min-width: ${vt(n[i])})`]:{width:`var(--${t.replace(".","")}-${i}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat(Ge(r))}}},sre=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return Ns(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},are=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${vt(e.paddingMD)} ${vt(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${vt(e.padding)} ${vt(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${vt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${vt(e.paddingXS)} ${vt(e.padding)}`:0,footerBorderTop:e.wireframe?`${vt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${vt(e.borderRadiusLG)} ${vt(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${vt(e.padding*2)} ${vt(e.padding*2)} ${vt(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),lre=of("Modal",e=>{const t=sre(e);return[kBe(t),LBe(t),FBe(t),Lne(t,"zoom"),NBe(t)]},are,{unitless:{titleLineHeight:!0}});var VBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let mk;const BBe=e=>{mk={x:e.pageX,y:e.pageY},setTimeout(()=>{mk=null},100)};rBe()&&document.documentElement.addEventListener("click",BBe,!0);const ure=e=>{var t;const{getPopupContainer:n,getPrefixCls:r,direction:i,modal:o}=w.useContext(Jn),s=me=>{const{onCancel:xe}=e;xe==null||xe(me)},a=me=>{const{onOk:xe}=e;xe==null||xe(me)},{prefixCls:l,className:u,rootClassName:h,open:f,wrapClassName:p,centered:m,getContainer:b,focusTriggerAfterClose:C=!0,style:y,visible:x,width:R=520,footer:T,classNames:M,styles:A,children:D,loading:_}=e,I=VBe(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),O=r("modal",l),F=r(),L=SC(O),[V,N,Y]=lre(O,L),X=qe(p,{[`${O}-centered`]:m??(o==null?void 0:o.centered),[`${O}-wrap-rtl`]:i==="rtl"}),j=T!==null&&!_?w.createElement(ire,Object.assign({},e,{onOk:a,onCancel:s})):null,[G,U,Z]=nBe(PW(e),PW(o),{closable:!0,closeIcon:w.createElement(uV,{className:`${O}-close-icon`}),closeIconRender:me=>rre(O,me)}),$=RBe(`.${O}-content`),[Q,J]=Pne("Modal",I.zIndex),[ne,ee]=w.useMemo(()=>R&&typeof R=="object"?[void 0,R]:[R,void 0],[R]),fe=w.useMemo(()=>{const me={};return ee&&Object.keys(ee).forEach(xe=>{const Pe=ee[xe];Pe!==void 0&&(me[`--${O}-${xe}-width`]=typeof Pe=="number"?`${Pe}px`:Pe)}),me},[ee]);return V(w.createElement(nre,{form:!0,space:!0},w.createElement(dV.Provider,{value:J},w.createElement(Wne,Object.assign({width:ne},I,{zIndex:Q,getContainer:b===void 0?n:b,prefixCls:O,rootClassName:qe(N,h,Y,L),footer:j,visible:f??x,mousePosition:(t=I.mousePosition)!==null&&t!==void 0?t:mk,onClose:s,closable:G&&{disabled:Z,closeIcon:U},closeIcon:U,focusTriggerAfterClose:C,transitionName:tb(F,"zoom",e.transitionName),maskTransitionName:tb(F,"fade",e.maskTransitionName),className:qe(N,u,o==null?void 0:o.className),style:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.style),y),fe),classNames:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.classNames),M),{wrapper:qe(X,M==null?void 0:M.wrapper)}),styles:Object.assign(Object.assign({},o==null?void 0:o.styles),A),panelRef:$}),_?w.createElement(fm,{active:!0,title:!1,paragraph:{rows:4},className:`${O}-body-skeleton`}):D))))},HBe=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:i,fontSize:o,lineHeight:s,modalTitleHeight:a,fontHeight:l,confirmBodyPadding:u}=e,h=`${t}-confirm`;return{[h]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${h}-body-wrapper`]:Object.assign({},Yke()),[`&${t} ${t}-body`]:{padding:u},[`${h}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(l).sub(i).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(a).sub(i).equal()).div(2).equal()}},[`${h}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${vt(e.marginSM)})`},[`${e.iconCls} + ${h}-paragraph`]:{maxWidth:`calc(100% - ${vt(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${h}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${h}-content`]:{color:e.colorText,fontSize:o,lineHeight:s},[`${h}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${h}-error ${h}-body > ${e.iconCls}`]:{color:e.colorError},[`${h}-warning ${h}-body > ${e.iconCls},
        ${h}-confirm ${h}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${h}-info ${h}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${h}-success ${h}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},$Be=aV(["Modal","confirm"],e=>{const t=sre(e);return[HBe(t)]},are,{order:-1e3});var jBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function cre(e){const{prefixCls:t,icon:n,okText:r,cancelText:i,confirmPrefixCls:o,type:s,okCancel:a,footer:l,locale:u}=e,h=jBe(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=n;if(!n&&n!==null)switch(s){case"info":f=w.createElement(rNe,null);break;case"success":f=w.createElement(Sne,null);break;case"error":f=w.createElement(xne,null);break;default:f=w.createElement(Ene,null)}const p=a??s==="confirm",m=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[b]=CR("Modal"),C=u||b,y=r||(p?C==null?void 0:C.okText:C==null?void 0:C.justOkText),x=i||(C==null?void 0:C.cancelText),R=Object.assign({autoFocusButton:m,cancelTextLocale:x,okTextLocale:y,mergedOkCancel:p},h),T=w.useMemo(()=>R,Ge(Object.values(R))),M=w.createElement(w.Fragment,null,w.createElement(uW,null),w.createElement(cW,null)),A=e.title!==void 0&&e.title!==null,D=`${o}-body`;return w.createElement("div",{className:`${o}-body-wrapper`},w.createElement("div",{className:qe(D,{[`${D}-has-title`]:A})},f,w.createElement("div",{className:`${o}-paragraph`},A&&w.createElement("span",{className:`${o}-title`},e.title),w.createElement("div",{className:`${o}-content`},e.content))),l===void 0||typeof l=="function"?w.createElement($ne,{value:T},w.createElement("div",{className:`${o}-btns`},typeof l=="function"?l(M,{OkBtn:cW,CancelBtn:uW}):M)):l,w.createElement($Be,{prefixCls:t}))}const GBe=e=>{const{close:t,zIndex:n,maskStyle:r,direction:i,prefixCls:o,wrapClassName:s,rootPrefixCls:a,bodyStyle:l,closable:u=!1,onConfirm:h,styles:f}=e,p=`${o}-confirm`,m=e.width||416,b=e.style||{},C=e.mask===void 0?!0:e.mask,y=e.maskClosable===void 0?!1:e.maskClosable,x=qe(p,`${p}-${e.type}`,{[`${p}-rtl`]:i==="rtl"},e.className),[,R]=cl(),T=w.useMemo(()=>n!==void 0?n:R.zIndexPopupBase+mNe,[n,R]);return w.createElement(ure,Object.assign({},e,{className:x,wrapClassName:qe({[`${p}-centered`]:!!e.centered},s),onCancel:()=>{t==null||t({triggerCancel:!0}),h==null||h(!1)},title:"",footer:null,transitionName:tb(a||"","zoom",e.transitionName),maskTransitionName:tb(a||"","fade",e.maskTransitionName),mask:C,maskClosable:y,style:b,styles:Object.assign({body:l,mask:r},f),width:m,zIndex:T,closable:u}),w.createElement(cre,Object.assign({},e,{confirmPrefixCls:p})))},dre=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:i}=e;return w.createElement(ud,{prefixCls:t,iconPrefixCls:n,direction:r,theme:i},w.createElement(GBe,Object.assign({},e)))},th=[];let hre="";function fre(){return hre}const zBe=e=>{var t,n;const{prefixCls:r,getContainer:i,direction:o}=e,s=zte(),a=w.useContext(Jn),l=fre()||a.getPrefixCls(),u=r||`${l}-modal`;let h=i;return h===!1&&(h=void 0),z.createElement(dre,Object.assign({},e,{rootPrefixCls:l,prefixCls:u,iconPrefixCls:a.iconPrefixCls,theme:a.theme,direction:o??a.direction,locale:(n=(t=a.locale)===null||t===void 0?void 0:t.Modal)!==null&&n!==void 0?n:s,getContainer:h}))};function AC(e){const t=kLe(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},e),{close:l,open:!0}),i,o;function s(){for(var h,f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];if(p.some(y=>y==null?void 0:y.triggerCancel)){var C;(h=e.onCancel)===null||h===void 0||(C=h).call.apply(C,[e,()=>{}].concat(Ge(p.slice(1))))}for(let y=0;y<th.length;y++)if(th[y]===l){th.splice(y,1);break}o()}function a(h){clearTimeout(i),i=setTimeout(()=>{const f=t.getPrefixCls(void 0,fre()),p=t.getIconPrefixCls(),m=t.getTheme(),b=z.createElement(zBe,Object.assign({},h));o=_ne()(z.createElement(ud,{prefixCls:f,iconPrefixCls:p,theme:m},t.holderRender?t.holderRender(b):b),n)})}function l(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),s.apply(this,f)}}),r.visible&&delete r.visible,a(r)}function u(h){typeof h=="function"?r=h(r):r=Object.assign(Object.assign({},r),h),a(r)}return a(r),th.push(l),{destroy:l,update:u}}function pre(e){return Object.assign(Object.assign({},e),{type:"warning"})}function gre(e){return Object.assign(Object.assign({},e),{type:"info"})}function mre(e){return Object.assign(Object.assign({},e),{type:"success"})}function vre(e){return Object.assign(Object.assign({},e),{type:"error"})}function yre(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function UBe(e){let{rootPrefixCls:t}=e;hre=t}var WBe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const qBe=(e,t)=>{var n,{afterClose:r,config:i}=e,o=WBe(e,["afterClose","config"]);const[s,a]=w.useState(!0),[l,u]=w.useState(i),{direction:h,getPrefixCls:f}=w.useContext(Jn),p=f("modal"),m=f(),b=()=>{var R;r(),(R=l.afterClose)===null||R===void 0||R.call(l)},C=function(){var R;a(!1);for(var T=arguments.length,M=new Array(T),A=0;A<T;A++)M[A]=arguments[A];if(M.some(I=>I==null?void 0:I.triggerCancel)){var _;(R=l.onCancel)===null||R===void 0||(_=R).call.apply(_,[l,()=>{}].concat(Ge(M.slice(1))))}};w.useImperativeHandle(t,()=>({destroy:C,update:R=>{u(T=>Object.assign(Object.assign({},T),R))}}));const y=(n=l.okCancel)!==null&&n!==void 0?n:l.type==="confirm",[x]=CR("Modal",Kc.Modal);return w.createElement(dre,Object.assign({prefixCls:p,rootPrefixCls:m},l,{close:C,open:s,afterClose:b,okText:l.okText||(y?x==null?void 0:x.okText:x==null?void 0:x.justOkText),direction:l.direction||h,cancelText:l.cancelText||(x==null?void 0:x.cancelText)},o))},KBe=w.forwardRef(qBe);let LW=0;const YBe=w.memo(w.forwardRef((e,t)=>{const[n,r]=bNe();return w.useImperativeHandle(t,()=>({patchElement:r}),[]),w.createElement(w.Fragment,null,n)}));function XBe(){const e=w.useRef(null),[t,n]=w.useState([]);w.useEffect(()=>{t.length&&(Ge(t).forEach(s=>{s()}),n([]))},[t]);const r=w.useCallback(o=>function(a){var l;LW+=1;const u=w.createRef();let h;const f=new Promise(y=>{h=y});let p=!1,m;const b=w.createElement(KBe,{key:`modal-${LW}`,config:o(a),ref:u,afterClose:()=>{m==null||m()},isSilent:()=>p,onConfirm:y=>{h(y)}});return m=(l=e.current)===null||l===void 0?void 0:l.patchElement(b),m&&th.push(m),{destroy:()=>{function y(){var x;(x=u.current)===null||x===void 0||x.destroy()}u.current?y():n(x=>[].concat(Ge(x),[y]))},update:y=>{function x(){var R;(R=u.current)===null||R===void 0||R.update(y)}u.current?x():n(R=>[].concat(Ge(R),[x]))},then:y=>(p=!0,f.then(y))}},[]);return[w.useMemo(()=>({info:r(gre),success:r(mre),error:r(vre),warning:r(pre),confirm:r(yre)}),[]),w.createElement(YBe,{key:"modal-holder",ref:e})]}function QBe(e){return t=>w.createElement(ud,{theme:{token:{motion:!1,zIndexPopupBase:0}}},w.createElement(e,Object.assign({},t)))}const ZBe=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function JBe(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,o=r||{},s=o.className,a=o.content,l=i.x,u=l===void 0?0:l,h=i.y,f=h===void 0?0:h,p=w.useRef();if(!n||!n.points)return null;var m={position:"absolute"};if(n.autoArrow!==!1){var b=n.points[0],C=n.points[1],y=b[0],x=b[1],R=C[0],T=C[1];y===R||!["t","b"].includes(y)?m.top=f:y==="t"?m.top=0:m.bottom=0,x===T||!["l","r"].includes(x)?m.left=u:x==="l"?m.left=0:m.right=0}return w.createElement("div",{ref:p,className:qe("".concat(t,"-arrow"),s),style:m},a)}function eHe(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,o=e.motion;return i?w.createElement(ld,Hn({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var a=s.className;return w.createElement("div",{style:{zIndex:r},className:qe("".concat(t,"-mask"),a)})}):null}var tHe=w.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),nHe=w.forwardRef(function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,o=e.style,s=e.target,a=e.onVisibleChanged,l=e.open,u=e.keepDom,h=e.fresh,f=e.onClick,p=e.mask,m=e.arrow,b=e.arrowPos,C=e.align,y=e.motion,x=e.maskMotion,R=e.forceRender,T=e.getPopupContainer,M=e.autoDestroy,A=e.portal,D=e.zIndex,_=e.onMouseEnter,I=e.onMouseLeave,O=e.onPointerEnter,F=e.onPointerDownCapture,L=e.ready,V=e.offsetX,N=e.offsetY,Y=e.offsetR,X=e.offsetB,j=e.onAlign,G=e.onPrepare,U=e.stretch,Z=e.targetWidth,$=e.targetHeight,Q=typeof n=="function"?n():n,J=l||u,ne=(T==null?void 0:T.length)>0,ee=w.useState(!T||!ne),fe=He(ee,2),me=fe[0],xe=fe[1];if(li(function(){!me&&ne&&s&&xe(!0)},[me,ne,s]),!me)return null;var Pe="auto",ue={left:"-1000vw",top:"-1000vh",right:Pe,bottom:Pe};if(L||!l){var Se,Re=C.points,le=C.dynamicInset||((Se=C._experimental)===null||Se===void 0?void 0:Se.dynamicInset),Oe=le&&Re[0][1]==="r",Ie=le&&Re[0][0]==="b";Oe?(ue.right=Y,ue.left=Pe):(ue.left=V,ue.right=Pe),Ie?(ue.bottom=X,ue.top=Pe):(ue.top=N,ue.bottom=Pe)}var _e={};return U&&(U.includes("height")&&$?_e.height=$:U.includes("minHeight")&&$&&(_e.minHeight=$),U.includes("width")&&Z?_e.width=Z:U.includes("minWidth")&&Z&&(_e.minWidth=Z)),l||(_e.pointerEvents="none"),w.createElement(A,{open:R||J,getContainer:T&&function(){return T(s)},autoDestroy:M},w.createElement(eHe,{prefixCls:i,open:l,zIndex:D,mask:p,motion:x}),w.createElement(Y2,{onResize:j,disabled:!l},function(Le){return w.createElement(ld,Hn({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:R,leavedClassName:"".concat(i,"-hidden")},y,{onAppearPrepare:G,onEnterPrepare:G,visible:l,onVisibleChanged:function(ze){var nt;y==null||(nt=y.onVisibleChanged)===null||nt===void 0||nt.call(y,ze),a(ze)}}),function(Be,ze){var nt=Be.className,it=Be.style,Ve=qe(i,nt,r);return w.createElement("div",{ref:yC(Le,t,ze),className:Ve,style:he(he(he(he({"--arrow-x":"".concat(b.x||0,"px"),"--arrow-y":"".concat(b.y||0,"px")},ue),_e),it),{},{boxSizing:"border-box",zIndex:D},o),onMouseEnter:_,onMouseLeave:I,onPointerEnter:O,onClick:f,onPointerDownCapture:F},m&&w.createElement(JBe,{prefixCls:i,arrow:m,arrowPos:b,align:C}),w.createElement(tHe,{cache:!l&&!h},Q))})}))}),rHe=w.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,i=am(n),o=w.useCallback(function(a){q2(t,r?r(a):a)},[r]),s=bC(o,CC(n));return i?w.cloneElement(n,{ref:s}):n}),NW=w.createContext(null);function VW(e){return e?Array.isArray(e)?e:[e]:[]}function iHe(e,t,n,r){return w.useMemo(function(){var i=VW(n??t),o=VW(r??t),s=new Set(i),a=new Set(o);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[e,t,n,r])}function oHe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function sHe(e,t,n,r){for(var i=n.points,o=Object.keys(e),s=0;s<o.length;s+=1){var a,l=o[s];if(oHe((a=e[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(t,"-placement-").concat(l)}return""}function BW(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function PC(e){return e.ownerDocument.defaultView}function vk(e){for(var t=[],n=e==null?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=PC(n).getComputedStyle(n),o=i.overflowX,s=i.overflowY,a=i.overflow;[o,s,a].some(function(l){return r.includes(l)})&&t.push(n),n=n.parentElement}return t}function ib(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function Sv(e){return ib(parseFloat(e),0)}function HW(e,t){var n=he({},e);return(t||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=PC(r).getComputedStyle(r),o=i.overflow,s=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,u=i.borderLeftWidth,h=i.borderRightWidth,f=r.getBoundingClientRect(),p=r.offsetHeight,m=r.clientHeight,b=r.offsetWidth,C=r.clientWidth,y=Sv(a),x=Sv(l),R=Sv(u),T=Sv(h),M=ib(Math.round(f.width/b*1e3)/1e3),A=ib(Math.round(f.height/p*1e3)/1e3),D=(b-C-R-T)*M,_=(p-m-y-x)*A,I=y*A,O=x*A,F=R*M,L=T*M,V=0,N=0;if(o==="clip"){var Y=Sv(s);V=Y*M,N=Y*A}var X=f.x+F-V,j=f.y+I-N,G=X+f.width+2*V-F-L-D,U=j+f.height+2*N-I-O-_;n.left=Math.max(n.left,X),n.top=Math.max(n.top,j),n.right=Math.min(n.right,G),n.bottom=Math.min(n.bottom,U)}}),n}function $W(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(t),r=n.match(/^(.*)\%$/);return r?e*(parseFloat(r[1])/100):parseFloat(n)}function jW(e,t){var n=t||[],r=He(n,2),i=r[0],o=r[1];return[$W(e.width,i),$W(e.height,o)]}function GW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Zf(e,t){var n=t[0],r=t[1],i,o;return n==="t"?o=e.y:n==="b"?o=e.y+e.height:o=e.y+e.height/2,r==="l"?i=e.x:r==="r"?i=e.x+e.width:i=e.x+e.width/2,{x:i,y:o}}function tc(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(r,i){return i===t?n[r]||"c":r}).join("")}function aHe(e,t,n,r,i,o,s){var a=w.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=He(a,2),u=l[0],h=l[1],f=w.useRef(0),p=w.useMemo(function(){return t?vk(t):[]},[t]),m=w.useRef({}),b=function(){m.current={}};e||b();var C=bo(function(){if(t&&n&&e){let Fn=function(Oo,Zr){var Ii=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wt,ho=ee.x+Oo,Aa=ee.y+Zr,Du=ho+Oe,$e=Aa+le,Ze=Math.max(ho,Ii.left),rn=Math.max(Aa,Ii.top),on=Math.min(Du,Ii.right),tn=Math.min($e,Ii.bottom);return Math.max(0,(on-Ze)*(tn-rn))},Lr=function(){hi=ee.y+At,ur=hi+le,Yr=ee.x+Tt,fi=Yr+Oe};var hf=Fn,ff=Lr,R,T,M,A,D=t,_=D.ownerDocument,I=PC(D),O=I.getComputedStyle(D),F=O.width,L=O.height,V=O.position,N=D.style.left,Y=D.style.top,X=D.style.right,j=D.style.bottom,G=D.style.overflow,U=he(he({},i[r]),o),Z=_.createElement("div");(R=D.parentElement)===null||R===void 0||R.appendChild(Z),Z.style.left="".concat(D.offsetLeft,"px"),Z.style.top="".concat(D.offsetTop,"px"),Z.style.position=V,Z.style.height="".concat(D.offsetHeight,"px"),Z.style.width="".concat(D.offsetWidth,"px"),D.style.left="0",D.style.top="0",D.style.right="auto",D.style.bottom="auto",D.style.overflow="hidden";var $;if(Array.isArray(n))$={x:n[0],y:n[1],width:0,height:0};else{var Q,J,ne=n.getBoundingClientRect();ne.x=(Q=ne.x)!==null&&Q!==void 0?Q:ne.left,ne.y=(J=ne.y)!==null&&J!==void 0?J:ne.top,$={x:ne.x,y:ne.y,width:ne.width,height:ne.height}}var ee=D.getBoundingClientRect();ee.x=(T=ee.x)!==null&&T!==void 0?T:ee.left,ee.y=(M=ee.y)!==null&&M!==void 0?M:ee.top;var fe=_.documentElement,me=fe.clientWidth,xe=fe.clientHeight,Pe=fe.scrollWidth,ue=fe.scrollHeight,Se=fe.scrollTop,Re=fe.scrollLeft,le=ee.height,Oe=ee.width,Ie=$.height,_e=$.width,Le={left:0,top:0,right:me,bottom:xe},Be={left:-Re,top:-Se,right:Pe-Re,bottom:ue-Se},ze=U.htmlRegion,nt="visible",it="visibleFirst";ze!=="scroll"&&ze!==it&&(ze=nt);var Ve=ze===it,dt=HW(Be,p),Qe=HW(Le,p),wt=ze===nt?Qe:dt,qt=Ve?Qe:wt;D.style.left="auto",D.style.top="auto",D.style.right="0",D.style.bottom="0";var ft=D.getBoundingClientRect();D.style.left=N,D.style.top=Y,D.style.right=X,D.style.bottom=j,D.style.overflow=G,(A=D.parentElement)===null||A===void 0||A.removeChild(Z);var Mt=ib(Math.round(Oe/parseFloat(F)*1e3)/1e3),at=ib(Math.round(le/parseFloat(L)*1e3)/1e3);if(Mt===0||at===0||Uy(n)&&!hV(n))return;var xn=U.offset,nn=U.targetOffset,jn=jW(ee,xn),cn=He(jn,2),Gn=cn[0],Gt=cn[1],Rn=jW($,nn),hn=He(Rn,2),Kt=hn[0],Pi=hn[1];$.x-=Kt,$.y-=Pi;var Sa=U.points||[],Bs=He(Sa,2),_i=Bs[0],uo=Bs[1],Yn=GW(uo),En=GW(_i),Mr=Zf($,Yn),On=Zf(ee,En),Kr=he({},U),Tt=Mr.x-On.x+Gn,At=Mr.y-On.y+Gt,xt=Fn(Tt,At),Ui=Fn(Tt,At,Qe),Oi=Zf($,["t","l"]),Pt=Zf(ee,["t","l"]),Ko=Zf($,["b","r"]),Yo=Zf(ee,["b","r"]),kt=U.overflow||{},Jt=kt.adjustX,en=kt.adjustY,Vt=kt.shiftX,br=kt.shiftY,Wi=function(Zr){return typeof Zr=="boolean"?Zr:Zr>=0},hi,ur,Yr,fi;Lr();var pi=Wi(en),Xr=En[0]===Yn[0];if(pi&&En[0]==="t"&&(ur>qt.bottom||m.current.bt)){var Lt=At;Xr?Lt-=le-Ie:Lt=Oi.y-Yo.y-Gt;var Ao=Fn(Tt,Lt),Xo=Fn(Tt,Lt,Qe);Ao>xt||Ao===xt&&(!Ve||Xo>=Ui)?(m.current.bt=!0,At=Lt,Gt=-Gt,Kr.points=[tc(En,0),tc(Yn,0)]):m.current.bt=!1}if(pi&&En[0]==="b"&&(hi<qt.top||m.current.tb)){var dn=At;Xr?dn+=le-Ie:dn=Ko.y-Pt.y-Gt;var xa=Fn(Tt,dn),Ea=Fn(Tt,dn,Qe);xa>xt||xa===xt&&(!Ve||Ea>=Ui)?(m.current.tb=!0,At=dn,Gt=-Gt,Kr.points=[tc(En,0),tc(Yn,0)]):m.current.tb=!1}var Qr=Wi(Jt),Fr=En[1]===Yn[1];if(Qr&&En[1]==="l"&&(fi>qt.right||m.current.rl)){var Cr=Tt;Fr?Cr-=Oe-_e:Cr=Oi.x-Yo.x-Gn;var Ou=Fn(Cr,At),Qo=Fn(Cr,At,Qe);Ou>xt||Ou===xt&&(!Ve||Qo>=Ui)?(m.current.rl=!0,Tt=Cr,Gn=-Gn,Kr.points=[tc(En,1),tc(Yn,1)]):m.current.rl=!1}if(Qr&&En[1]==="r"&&(Yr<qt.left||m.current.lr)){var qi=Tt;Fr?qi+=Oe-_e:qi=Ko.x-Pt.x-Gn;var gl=Fn(qi,At),Po=Fn(qi,At,Qe);gl>xt||gl===xt&&(!Ve||Po>=Ui)?(m.current.lr=!0,Tt=qi,Gn=-Gn,Kr.points=[tc(En,1),tc(Yn,1)]):m.current.lr=!1}Lr();var kr=Vt===!0?0:Vt;typeof kr=="number"&&(Yr<Qe.left&&(Tt-=Yr-Qe.left-Gn,$.x+_e<Qe.left+kr&&(Tt+=$.x-Qe.left+_e-kr)),fi>Qe.right&&(Tt-=fi-Qe.right-Gn,$.x>Qe.right-kr&&(Tt+=$.x-Qe.right+kr)));var Xn=br===!0?0:br;typeof Xn=="number"&&(hi<Qe.top&&(At-=hi-Qe.top-Gt,$.y+Ie<Qe.top+Xn&&(At+=$.y-Qe.top+Ie-Xn)),ur>Qe.bottom&&(At-=ur-Qe.bottom-Gt,$.y>Qe.bottom-Xn&&(At+=$.y-Qe.bottom+Xn)));var cr=ee.x+Tt,Hs=cr+Oe,co=ee.y+At,$s=co+le,Ra=$.x,Ta=Ra+_e,Ki=$.y,Mn=Ki+Ie,Zo=Math.max(cr,Ra),js=Math.min(Hs,Ta),Gs=(Zo+js)/2,Bt=Gs-cr,zs=Math.max(co,Ki),_o=Math.min($s,Mn),Di=(zs+_o)/2,gd=Di-co;s==null||s(t,Kr);var Us=ft.right-ee.x-(Tt+ee.width),Yi=ft.bottom-ee.y-(At+ee.height);Mt===1&&(Tt=Math.round(Tt),Us=Math.round(Us)),at===1&&(At=Math.round(At),Yi=Math.round(Yi));var ml={ready:!0,offsetX:Tt/Mt,offsetY:At/at,offsetR:Us/Mt,offsetB:Yi/at,arrowX:Bt/Mt,arrowY:gd/at,scaleX:Mt,scaleY:at,align:Kr};h(ml)}}),y=function(){f.current+=1;var T=f.current;Promise.resolve().then(function(){f.current===T&&C()})},x=function(){h(function(T){return he(he({},T),{},{ready:!1})})};return li(x,[r]),li(function(){e||x()},[e]),[u.ready,u.offsetX,u.offsetY,u.offsetR,u.offsetB,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,y]}function lHe(e,t,n,r,i){li(function(){if(e&&t&&n){let p=function(){r(),i()};var f=p,o=t,s=n,a=vk(o),l=vk(s),u=PC(s),h=new Set([u].concat(Ge(a),Ge(l)));return h.forEach(function(m){m.addEventListener("scroll",p,{passive:!0})}),u.addEventListener("resize",p,{passive:!0}),r(),function(){h.forEach(function(m){m.removeEventListener("scroll",p),u.removeEventListener("resize",p)})}}},[e,t,n])}function uHe(e,t,n,r,i,o,s,a){var l=w.useRef(e);l.current=e;var u=w.useRef(!1);w.useEffect(function(){if(t&&r&&(!i||o)){var f=function(){u.current=!1},p=function(y){var x;l.current&&!s(((x=y.composedPath)===null||x===void 0||(x=x.call(y))===null||x===void 0?void 0:x[0])||y.target)&&!u.current&&a(!1)},m=PC(r);m.addEventListener("pointerdown",f,!0),m.addEventListener("mousedown",p,!0),m.addEventListener("contextmenu",p,!0);var b=Ix(n);return b&&(b.addEventListener("mousedown",p,!0),b.addEventListener("contextmenu",p,!0)),function(){m.removeEventListener("pointerdown",f,!0),m.removeEventListener("mousedown",p,!0),m.removeEventListener("contextmenu",p,!0),b&&(b.removeEventListener("mousedown",p,!0),b.removeEventListener("contextmenu",p,!0))}}},[t,n,r,i,o]);function h(){u.current=!0}return h}var cHe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function dHe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gV,t=w.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,s=n.children,a=n.action,l=a===void 0?"hover":a,u=n.showAction,h=n.hideAction,f=n.popupVisible,p=n.defaultPopupVisible,m=n.onPopupVisibleChange,b=n.afterPopupVisibleChange,C=n.mouseEnterDelay,y=n.mouseLeaveDelay,x=y===void 0?.1:y,R=n.focusDelay,T=n.blurDelay,M=n.mask,A=n.maskClosable,D=A===void 0?!0:A,_=n.getPopupContainer,I=n.forceRender,O=n.autoDestroy,F=n.destroyPopupOnHide,L=n.popup,V=n.popupClassName,N=n.popupStyle,Y=n.popupPlacement,X=n.builtinPlacements,j=X===void 0?{}:X,G=n.popupAlign,U=n.zIndex,Z=n.stretch,$=n.getPopupClassNameFromAlign,Q=n.fresh,J=n.alignPoint,ne=n.onPopupClick,ee=n.onPopupAlign,fe=n.arrow,me=n.popupMotion,xe=n.maskMotion,Pe=n.popupTransitionName,ue=n.popupAnimation,Se=n.maskTransitionName,Re=n.maskAnimation,le=n.className,Oe=n.getTriggerDOMNode,Ie=Fs(n,cHe),_e=O||F||!1,Le=w.useState(!1),Be=He(Le,2),ze=Be[0],nt=Be[1];li(function(){nt(ZBe())},[]);var it=w.useRef({}),Ve=w.useContext(NW),dt=w.useMemo(function(){return{registerSubPopup:function(Ze,rn){it.current[Ze]=rn,Ve==null||Ve.registerSubPopup(Ze,rn)}}},[Ve]),Qe=mV(),wt=w.useState(null),qt=He(wt,2),ft=qt[0],Mt=qt[1],at=w.useRef(null),xn=bo(function($e){at.current=$e,Uy($e)&&ft!==$e&&Mt($e),Ve==null||Ve.registerSubPopup(Qe,$e)}),nn=w.useState(null),jn=He(nn,2),cn=jn[0],Gn=jn[1],Gt=w.useRef(null),Rn=bo(function($e){Uy($e)&&cn!==$e&&(Gn($e),Gt.current=$e)}),hn=w.Children.only(s),Kt=(hn==null?void 0:hn.props)||{},Pi={},Sa=bo(function($e){var Ze,rn,on=cn;return(on==null?void 0:on.contains($e))||((Ze=Ix(on))===null||Ze===void 0?void 0:Ze.host)===$e||$e===on||(ft==null?void 0:ft.contains($e))||((rn=Ix(ft))===null||rn===void 0?void 0:rn.host)===$e||$e===ft||Object.values(it.current).some(function(tn){return(tn==null?void 0:tn.contains($e))||$e===tn})}),Bs=BW(o,me,ue,Pe),_i=BW(o,xe,Re,Se),uo=w.useState(p||!1),Yn=He(uo,2),En=Yn[0],Mr=Yn[1],On=f??En,Kr=bo(function($e){f===void 0&&Mr($e)});li(function(){Mr(f||!1)},[f]);var Tt=w.useRef(On);Tt.current=On;var At=w.useRef([]);At.current=[];var xt=bo(function($e){var Ze;Kr($e),((Ze=At.current[At.current.length-1])!==null&&Ze!==void 0?Ze:On)!==$e&&(At.current.push($e),m==null||m($e))}),Ui=w.useRef(),Oi=function(){clearTimeout(Ui.current)},Pt=function(Ze){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Oi(),rn===0?xt(Ze):Ui.current=setTimeout(function(){xt(Ze)},rn*1e3)};w.useEffect(function(){return Oi},[]);var Ko=w.useState(!1),Yo=He(Ko,2),kt=Yo[0],Jt=Yo[1];li(function($e){(!$e||On)&&Jt(!0)},[On]);var en=w.useState(null),Vt=He(en,2),br=Vt[0],Wi=Vt[1],hi=w.useState(null),ur=He(hi,2),Yr=ur[0],fi=ur[1],pi=function(Ze){fi([Ze.clientX,Ze.clientY])},Xr=aHe(On,ft,J&&Yr!==null?Yr:cn,Y,j,G,ee),Lt=He(Xr,11),Ao=Lt[0],Xo=Lt[1],dn=Lt[2],xa=Lt[3],Ea=Lt[4],Qr=Lt[5],Fr=Lt[6],Cr=Lt[7],Ou=Lt[8],Qo=Lt[9],qi=Lt[10],gl=iHe(ze,l,u,h),Po=He(gl,2),kr=Po[0],Xn=Po[1],cr=kr.has("click"),Hs=Xn.has("click")||Xn.has("contextMenu"),co=bo(function(){kt||qi()}),$s=function(){Tt.current&&J&&Hs&&Pt(!1)};lHe(On,cn,ft,co,$s),li(function(){co()},[Yr,Y]),li(function(){On&&!(j!=null&&j[Y])&&co()},[JSON.stringify(G)]);var Ra=w.useMemo(function(){var $e=sHe(j,o,Qo,J);return qe($e,$==null?void 0:$(Qo))},[Qo,$,j,o,J]);w.useImperativeHandle(r,function(){return{nativeElement:Gt.current,popupElement:at.current,forceAlign:co}});var Ta=w.useState(0),Ki=He(Ta,2),Mn=Ki[0],Zo=Ki[1],js=w.useState(0),Gs=He(js,2),Bt=Gs[0],zs=Gs[1],_o=function(){if(Z&&cn){var Ze=cn.getBoundingClientRect();Zo(Ze.width),zs(Ze.height)}},Di=function(){_o(),co()},gd=function(Ze){Jt(!1),qi(),b==null||b(Ze)},Us=function(){return new Promise(function(Ze){_o(),Wi(function(){return Ze})})};li(function(){br&&(qi(),br(),Wi(null))},[br]);function Yi($e,Ze,rn,on){Pi[$e]=function(tn){var fo;on==null||on(tn),Pt(Ze,rn);for(var vl=arguments.length,Do=new Array(vl>1?vl-1:0),Xi=1;Xi<vl;Xi++)Do[Xi-1]=arguments[Xi];(fo=Kt[$e])===null||fo===void 0||fo.call.apply(fo,[Kt,tn].concat(Do))}}(cr||Hs)&&(Pi.onClick=function($e){var Ze;Tt.current&&Hs?Pt(!1):!Tt.current&&cr&&(pi($e),Pt(!0));for(var rn=arguments.length,on=new Array(rn>1?rn-1:0),tn=1;tn<rn;tn++)on[tn-1]=arguments[tn];(Ze=Kt.onClick)===null||Ze===void 0||Ze.call.apply(Ze,[Kt,$e].concat(on))});var ml=uHe(On,Hs,cn,ft,M,D,Sa,Pt),hf=kr.has("hover"),ff=Xn.has("hover"),Fn,Lr;hf&&(Yi("onMouseEnter",!0,C,function($e){pi($e)}),Yi("onPointerEnter",!0,C,function($e){pi($e)}),Fn=function(Ze){(On||kt)&&ft!==null&&ft!==void 0&&ft.contains(Ze.target)&&Pt(!0,C)},J&&(Pi.onMouseMove=function($e){var Ze;(Ze=Kt.onMouseMove)===null||Ze===void 0||Ze.call(Kt,$e)})),ff&&(Yi("onMouseLeave",!1,x),Yi("onPointerLeave",!1,x),Lr=function(){Pt(!1,x)}),kr.has("focus")&&Yi("onFocus",!0,R),Xn.has("focus")&&Yi("onBlur",!1,T),kr.has("contextMenu")&&(Pi.onContextMenu=function($e){var Ze;Tt.current&&Xn.has("contextMenu")?Pt(!1):(pi($e),Pt(!0)),$e.preventDefault();for(var rn=arguments.length,on=new Array(rn>1?rn-1:0),tn=1;tn<rn;tn++)on[tn-1]=arguments[tn];(Ze=Kt.onContextMenu)===null||Ze===void 0||Ze.call.apply(Ze,[Kt,$e].concat(on))}),le&&(Pi.className=qe(Kt.className,le));var Oo=he(he({},Kt),Pi),Zr={},Ii=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Ii.forEach(function($e){Ie[$e]&&(Zr[$e]=function(){for(var Ze,rn=arguments.length,on=new Array(rn),tn=0;tn<rn;tn++)on[tn]=arguments[tn];(Ze=Oo[$e])===null||Ze===void 0||Ze.call.apply(Ze,[Oo].concat(on)),Ie[$e].apply(Ie,on)})});var ho=w.cloneElement(hn,he(he({},Oo),Zr)),Aa={x:Qr,y:Fr},Du=fe?he({},fe!==!0?fe:{}):null;return w.createElement(w.Fragment,null,w.createElement(Y2,{disabled:!On,ref:Rn,onResize:Di},w.createElement(rHe,{getTriggerDOMNode:Oe},ho)),w.createElement(NW.Provider,{value:dt},w.createElement(nHe,{portal:e,ref:xn,prefixCls:o,popup:L,className:qe(V,Ra),style:N,target:cn,onMouseEnter:Fn,onMouseLeave:Lr,onPointerEnter:Fn,zIndex:U,open:On,keepDom:kt,fresh:Q,onClick:ne,onPointerDownCapture:ml,mask:M,motion:Bs,maskMotion:_i,onVisibleChanged:gd,onPrepare:Us,forceRender:I,autoDestroy:_e,getPopupContainer:_,align:Qo,arrow:Du,arrowPos:Aa,ready:Ao,offsetX:Xo,offsetY:dn,offsetR:xa,offsetB:Ea,onAlign:co,stretch:Z,targetWidth:Mn/Cr,targetHeight:Bt/Ou})))});return t}const hHe=dHe(gV),ob=["xxl","xl","lg","md","sm","xs"],fHe=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),pHe=e=>{const t=e,n=[].concat(ob).reverse();return n.forEach((r,i)=>{const o=r.toUpperCase(),s=`screen${o}Min`,a=`screen${o}`;if(!(t[s]<=t[a]))throw new Error(`${s}<=${a} fails : !(${t[s]}<=${t[a]})`);if(i<n.length-1){const l=`screen${o}Max`;if(!(t[a]<=t[l]))throw new Error(`${a}<=${l} fails : !(${t[a]}<=${t[l]})`);const h=`screen${n[i+1].toUpperCase()}Min`;if(!(t[l]<=t[h]))throw new Error(`${l}<=${h} fails : !(${t[l]}<=${t[h]})`)}}),e};function gHe(){const[,e]=cl(),t=fHe(pHe(e));return z.useMemo(()=>{const n=new Map;let r=-1,i={};return{responsiveMap:t,matchHandlers:{},dispatch(o){return i=o,n.forEach(s=>s(i)),n.size>=1},subscribe(o){return n.size||this.register(),r+=1,n.set(r,o),o(i),r},unsubscribe(o){n.delete(o),n.size||this.unregister()},register(){Object.keys(t).forEach(o=>{const s=t[o],a=u=>{let{matches:h}=u;this.dispatch(Object.assign(Object.assign({},i),{[o]:h}))},l=window.matchMedia(s);l.addListener(a),this.matchHandlers[s]={mql:l,listener:a},a(l)})},unregister(){Object.keys(t).forEach(o=>{const s=t[o],a=this.matchHandlers[s];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),n.clear()}}},[e])}function mHe(){const[,e]=w.useReducer(t=>t+1,0);return e}function vHe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=w.useRef(t),r=mHe(),i=gHe();return li(()=>{const o=i.subscribe(s=>{n.current=s,e&&r()});return()=>i.unsubscribe(o)},[]),n.current}function bre(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,o=e.bodyClassName,s=e.className,a=e.style;return w.createElement("div",{className:qe("".concat(n,"-content"),s),style:a},w.createElement("div",{className:qe("".concat(n,"-inner"),o),id:r,role:"tooltip",style:i},typeof t=="function"?t():t))}var Jf={shiftX:64,adjustY:1},ep={adjustX:1,shiftY:!0},hs=[0,0],yHe={left:{points:["cr","cl"],overflow:ep,offset:[-4,0],targetOffset:hs},right:{points:["cl","cr"],overflow:ep,offset:[4,0],targetOffset:hs},top:{points:["bc","tc"],overflow:Jf,offset:[0,-4],targetOffset:hs},bottom:{points:["tc","bc"],overflow:Jf,offset:[0,4],targetOffset:hs},topLeft:{points:["bl","tl"],overflow:Jf,offset:[0,-4],targetOffset:hs},leftTop:{points:["tr","tl"],overflow:ep,offset:[-4,0],targetOffset:hs},topRight:{points:["br","tr"],overflow:Jf,offset:[0,-4],targetOffset:hs},rightTop:{points:["tl","tr"],overflow:ep,offset:[4,0],targetOffset:hs},bottomRight:{points:["tr","br"],overflow:Jf,offset:[0,4],targetOffset:hs},rightBottom:{points:["bl","br"],overflow:ep,offset:[4,0],targetOffset:hs},bottomLeft:{points:["tl","bl"],overflow:Jf,offset:[0,4],targetOffset:hs},leftBottom:{points:["br","bl"],overflow:ep,offset:[-4,0],targetOffset:hs}},bHe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],CHe=function(t,n){var r=t.overlayClassName,i=t.trigger,o=i===void 0?["hover"]:i,s=t.mouseEnterDelay,a=s===void 0?0:s,l=t.mouseLeaveDelay,u=l===void 0?.1:l,h=t.overlayStyle,f=t.prefixCls,p=f===void 0?"rc-tooltip":f,m=t.children,b=t.onVisibleChange,C=t.afterVisibleChange,y=t.transitionName,x=t.animation,R=t.motion,T=t.placement,M=T===void 0?"right":T,A=t.align,D=A===void 0?{}:A,_=t.destroyTooltipOnHide,I=_===void 0?!1:_,O=t.defaultVisible,F=t.getTooltipContainer,L=t.overlayInnerStyle;t.arrowContent;var V=t.overlay,N=t.id,Y=t.showArrow,X=Y===void 0?!0:Y,j=t.classNames,G=t.styles,U=Fs(t,bHe),Z=mV(N),$=w.useRef(null);w.useImperativeHandle(n,function(){return $.current});var Q=he({},U);"visible"in t&&(Q.popupVisible=t.visible);var J=function(){return w.createElement(bre,{key:"content",prefixCls:p,id:Z,bodyClassName:j==null?void 0:j.body,overlayInnerStyle:he(he({},L),G==null?void 0:G.body)},V)},ne=function(){var fe=w.Children.only(m),me=(fe==null?void 0:fe.props)||{},xe=he(he({},me),{},{"aria-describedby":V?Z:null});return w.cloneElement(m,xe)};return w.createElement(hHe,Hn({popupClassName:qe(r,j==null?void 0:j.root),prefixCls:p,popup:J,action:o,builtinPlacements:yHe,popupPlacement:M,ref:$,popupAlign:D,getPopupContainer:F,onPopupVisibleChange:b,afterPopupVisibleChange:C,popupTransitionName:y,popupAnimation:x,popupMotion:R,defaultPopupVisible:O,autoDestroy:I,mouseLeaveDelay:u,popupStyle:he(he({},h),G==null?void 0:G.root),mouseEnterDelay:a,arrow:X},Q),ne())};const wHe=w.forwardRef(CHe);function SHe(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,i=t/2,o=0,s=i,a=r*1/Math.sqrt(2),l=i-r*(1-1/Math.sqrt(2)),u=i-n*(1/Math.sqrt(2)),h=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),f=2*i-u,p=h,m=2*i-a,b=l,C=2*i-o,y=s,x=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),R=r*(Math.sqrt(2)-1),T=`polygon(${R}px 100%, 50% ${R}px, ${2*i-R}px 100%, ${R}px 100%)`,M=`path('M ${o} ${s} A ${r} ${r} 0 0 0 ${a} ${l} L ${u} ${h} A ${n} ${n} 0 0 1 ${f} ${p} L ${m} ${b} A ${r} ${r} 0 0 0 ${C} ${y} Z')`;return{arrowShadowWidth:x,arrowPath:M,arrowPolygon:T}}const xHe=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:s,borderRadiusXS:a,calc:l}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${vt(a)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},Cre=8;function wre(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?Cre:r}}function _0(e,t){return e?t:{}}function EHe(e,t,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:s}=e,{arrowDistance:a=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},xHe(e,t,i)),{"&:before":{background:t}})]},_0(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${vt(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),_0(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:a,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${vt(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),_0(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),_0(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function RHe(e,t,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(e){case"top":case"bottom":o.shiftX=t.arrowOffsetHorizontal*2+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=t.arrowOffsetVertical*2+n,o.shiftX=!0,o.adjustX=!0;break}const s=Object.assign(Object.assign({},o),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const zW={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},THe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},AHe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function PHe(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o}=e,s=t/2,a={};return Object.keys(zW).forEach(l=>{const u=r&&THe[l]||zW[l],h=Object.assign(Object.assign({},u),{offset:[0,0],dynamicInset:!0});switch(a[l]=h,AHe.has(l)&&(h.autoArrow=!1),l){case"top":case"topLeft":case"topRight":h.offset[1]=-s-i;break;case"bottom":case"bottomLeft":case"bottomRight":h.offset[1]=s+i;break;case"left":case"leftTop":case"leftBottom":h.offset[0]=-s-i;break;case"right":case"rightTop":case"rightBottom":h.offset[0]=s+i;break}const f=wre({contentRadius:o,limitVerticalRadius:!0});if(r)switch(l){case"topLeft":case"bottomLeft":h.offset[0]=-f.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":h.offset[0]=f.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":h.offset[1]=-f.arrowOffsetHorizontal*2+s;break;case"leftBottom":case"rightBottom":h.offset[1]=f.arrowOffsetHorizontal*2-s;break}h.overflow=RHe(l,f,t,n),h.htmlRegion="visibleFirst"}),a}const _He=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:o,tooltipBorderRadius:s,zIndexPopup:a,controlHeight:l,boxShadowSecondary:u,paddingSM:h,paddingXS:f,arrowOffsetHorizontal:p,sizePopupArrow:m}=e,b=t(s).add(m).add(p).equal(),C=t(s).mul(2).add(m).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},xR(e)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${n}-inner`]:{minWidth:C,minHeight:l,padding:`${vt(e.calc(h).div(2).equal())} ${vt(f)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:s,boxShadow:u,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:b},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:e.min(s,Cre)}},[`${n}-content`]:{position:"relative"}}),eLe(e,(y,x)=>{let{darkColor:R}=x;return{[`&${n}-${y}`]:{[`${n}-inner`]:{backgroundColor:R},[`${n}-arrow`]:{"--antd-arrow-background-color":R}}}})),{"&-rtl":{direction:"rtl"}})},EHe(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},OHe=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},wre({contentRadius:e.borderRadius,limitVerticalRadius:!0})),SHe(Ns(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),Sre=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return of("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:o,colorBgSpotlight:s}=r,a=Ns(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s});return[_He(a),Lne(r,"zoom-big-fast")]},OHe,{resetStyle:!1,injectStyle:t})(e)},DHe=zh.map(e=>`${e}-inverse`);function IHe(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(Ge(DHe),Ge(zh)).includes(e):zh.includes(e)}function xre(e,t){const n=IHe(t),r=qe({[`${e}-${t}`]:t&&n}),i={},o={};return t&&!n&&(i.background=t,o["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:o}}const MHe=e=>{const{prefixCls:t,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:s}=e,{getPrefixCls:a}=w.useContext(Jn),l=a("tooltip",t),[u,h,f]=Sre(l),p=xre(l,o),m=p.arrowStyle,b=Object.assign(Object.assign({},s),p.overlayStyle),C=qe(h,f,l,`${l}-pure`,`${l}-placement-${r}`,n,p.className);return u(w.createElement("div",{className:C,style:m},w.createElement("div",{className:`${l}-arrow`}),w.createElement(bre,Object.assign({},e,{className:h,prefixCls:l,overlayInnerStyle:b}),i)))};var FHe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const kHe=w.forwardRef((e,t)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:s,color:a,overlayInnerStyle:l,children:u,afterOpenChange:h,afterVisibleChange:f,destroyTooltipOnHide:p,arrow:m=!0,title:b,overlay:C,builtinPlacements:y,arrowPointAtCenter:x=!1,autoAdjustOverflow:R=!0,motion:T,getPopupContainer:M,placement:A="top",mouseEnterDelay:D=.1,mouseLeaveDelay:_=.1,overlayStyle:I,rootClassName:O,overlayClassName:F,styles:L,classNames:V}=e,N=FHe(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),Y=!!m,[,X]=cl(),{getPopupContainer:j,getPrefixCls:G,direction:U,className:Z,style:$,classNames:Q,styles:J}=SR("tooltip"),ne=iV(),ee=w.useRef(null),fe=()=>{var nn;(nn=ee.current)===null||nn===void 0||nn.forceAlign()};w.useImperativeHandle(t,()=>{var nn,jn;return{forceAlign:fe,forcePopupAlign:()=>{ne.deprecated(!1,"forcePopupAlign","forceAlign"),fe()},nativeElement:(nn=ee.current)===null||nn===void 0?void 0:nn.nativeElement,popupElement:(jn=ee.current)===null||jn===void 0?void 0:jn.popupElement}});const[me,xe]=Lke(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(r=e.defaultOpen)!==null&&r!==void 0?r:e.defaultVisible}),Pe=!b&&!C&&b!==0,ue=nn=>{var jn,cn;xe(Pe?!1:nn),Pe||((jn=e.onOpenChange)===null||jn===void 0||jn.call(e,nn),(cn=e.onVisibleChange)===null||cn===void 0||cn.call(e,nn))},Se=w.useMemo(()=>{var nn,jn;let cn=x;return typeof m=="object"&&(cn=(jn=(nn=m.pointAtCenter)!==null&&nn!==void 0?nn:m.arrowPointAtCenter)!==null&&jn!==void 0?jn:x),y||PHe({arrowPointAtCenter:cn,autoAdjustOverflow:R,arrowWidth:Y?X.sizePopupArrow:0,borderRadius:X.borderRadius,offset:X.marginXXS})},[x,m,y,X]),Re=w.useMemo(()=>b===0?b:C||b||"",[C,b]),le=w.createElement(nre,{space:!0},typeof Re=="function"?Re():Re),Oe=G("tooltip",i),Ie=G(),_e=e["data-popover-inject"];let Le=me;!("open"in e)&&!("visible"in e)&&Pe&&(Le=!1);const Be=w.isValidElement(u)&&!Rne(u)?u:w.createElement("span",null,u),ze=Be.props,nt=!ze.className||typeof ze.className=="string"?qe(ze.className,o||`${Oe}-open`):ze.className,[it,Ve,dt]=Sre(Oe,!_e),Qe=xre(Oe,a),wt=Qe.arrowStyle,qt=qe(F,{[`${Oe}-rtl`]:U==="rtl"},Qe.className,O,Ve,dt,Z,Q.root,V==null?void 0:V.root),ft=qe(Q.body,V==null?void 0:V.body),[Mt,at]=Pne("Tooltip",N.zIndex),xn=w.createElement(wHe,Object.assign({},N,{zIndex:Mt,showArrow:Y,placement:A,mouseEnterDelay:D,mouseLeaveDelay:_,prefixCls:Oe,classNames:{root:qt,body:ft},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},wt),J.root),$),I),L==null?void 0:L.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},J.body),l),L==null?void 0:L.body),Qe.overlayStyle)},getTooltipContainer:M||s||j,ref:ee,builtinPlacements:Se,overlay:le,visible:Le,onVisibleChange:ue,afterVisibleChange:h??f,arrowContent:w.createElement("span",{className:`${Oe}-arrow-content`}),motion:{motionName:tb(Ie,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!p}),Le?ER(Be,{className:nt}):Be);return it(w.createElement(dV.Provider,{value:at},xn))}),Ere=kHe;Ere._InternalPanelDoNotUseOrYouWillBeFired=MHe;const Rre=w.createContext({});var LHe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function UW(e){return typeof e=="number"?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const NHe=["xs","sm","md","lg","xl","xxl"],Tre=w.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=w.useContext(Jn),{gutter:i,wrap:o}=w.useContext(Rre),{prefixCls:s,span:a,order:l,offset:u,push:h,pull:f,className:p,children:m,flex:b,style:C}=e,y=LHe(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),x=n("col",s),[R,T,M]=MBe(x),A={};let D={};NHe.forEach(O=>{let F={};const L=e[O];typeof L=="number"?F.span=L:typeof L=="object"&&(F=L||{}),delete y[O],D=Object.assign(Object.assign({},D),{[`${x}-${O}-${F.span}`]:F.span!==void 0,[`${x}-${O}-order-${F.order}`]:F.order||F.order===0,[`${x}-${O}-offset-${F.offset}`]:F.offset||F.offset===0,[`${x}-${O}-push-${F.push}`]:F.push||F.push===0,[`${x}-${O}-pull-${F.pull}`]:F.pull||F.pull===0,[`${x}-rtl`]:r==="rtl"}),F.flex&&(D[`${x}-${O}-flex`]=!0,A[`--${x}-${O}-flex`]=UW(F.flex))});const _=qe(x,{[`${x}-${a}`]:a!==void 0,[`${x}-order-${l}`]:l,[`${x}-offset-${u}`]:u,[`${x}-push-${h}`]:h,[`${x}-pull-${f}`]:f},p,D,T,M),I={};if(i&&i[0]>0){const O=i[0]/2;I.paddingLeft=O,I.paddingRight=O}return b&&(I.flex=UW(b),o===!1&&!I.minWidth&&(I.minWidth=0)),R(w.createElement("div",Object.assign({},y,{style:Object.assign(Object.assign(Object.assign({},I),C),A),className:_,ref:t}),m))});function VHe(e,t){const n=[void 0,void 0],r=Array.isArray(e)?e:[e,void 0],i=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((o,s)=>{if(typeof o=="object"&&o!==null)for(let a=0;a<ob.length;a++){const l=ob[a];if(i[l]&&o[l]!==void 0){n[s]=o[l];break}}else n[s]=o}),n}var BHe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function WW(e,t){const[n,r]=w.useState(typeof e=="string"?e:""),i=()=>{if(typeof e=="string"&&r(e),typeof e=="object")for(let o=0;o<ob.length;o++){const s=ob[o];if(!t||!t[s])continue;const a=e[s];if(a!==void 0){r(a);return}}};return w.useEffect(()=>{i()},[JSON.stringify(e),t]),n}const HHe=w.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:i,className:o,style:s,children:a,gutter:l=0,wrap:u}=e,h=BHe(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:f,direction:p}=w.useContext(Jn),m=vHe(!0,null),b=WW(i,m),C=WW(r,m),y=f("row",n),[x,R,T]=IBe(y),M=VHe(l,m),A=qe(y,{[`${y}-no-wrap`]:u===!1,[`${y}-${C}`]:C,[`${y}-${b}`]:b,[`${y}-rtl`]:p==="rtl"},o,R,T),D={},_=M[0]!=null&&M[0]>0?M[0]/-2:void 0;_&&(D.marginLeft=_,D.marginRight=_);const[I,O]=M;D.rowGap=O;const F=w.useMemo(()=>({gutter:[I,O],wrap:u}),[I,O,u]);return x(w.createElement(Rre.Provider,{value:F},w.createElement("div",Object.assign({},h,{className:A,style:Object.assign(Object.assign({},D),s),ref:t}),a)))});function Fx(e){const[t,n]=w.useState(e);return w.useEffect(()=>{const r=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(r)}},[e]),t}const $He=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},
                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},
                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},jHe=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${vt(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${vt(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),qW=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},GHe=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},xR(e)),jHe(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},qW(e,e.controlHeightSM)),"&-large":Object.assign({},qW(e,e.controlHeightLG))})}},zHe=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:r,antCls:i,labelRequiredMarkColor:o,labelColor:s,labelFontSize:a,labelHeight:l,labelColonMarginInlineStart:u,labelColonMarginInlineEnd:h,itemMarginBottom:f}=e;return{[t]:Object.assign(Object.assign({},xR(e)),{marginBottom:f,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${i}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:l,color:s,fontSize:a,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:o,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${t}-required-mark-hidden, &${t}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`&${t}-required-mark-hidden`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:u,marginInlineEnd:h},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:fV,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},KW=(e,t)=>{const{formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},UHe=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},ia=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),Are=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:ia(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},WHe=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${t}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:ia(e)}},[`@media (max-width: ${vt(e.screenXSMax)})`]:[Are(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:ia(e)}}}],[`@media (max-width: ${vt(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:ia(e)}}},[`@media (max-width: ${vt(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:ia(e)}}},[`@media (max-width: ${vt(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:ia(e)}}}}},qHe=e=>{const{formItemCls:t,antCls:n}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,
      ${n}-col-24${t}-label,
      ${n}-col-xl-24${t}-label`]:ia(e),[`@media (max-width: ${vt(e.screenXSMax)})`]:[Are(e),{[t]:{[`${n}-col-xs-24${t}-label`]:ia(e)}}],[`@media (max-width: ${vt(e.screenSMMax)})`]:{[t]:{[`${n}-col-sm-24${t}-label`]:ia(e)}},[`@media (max-width: ${vt(e.screenMDMax)})`]:{[t]:{[`${n}-col-md-24${t}-label`]:ia(e)}},[`@media (max-width: ${vt(e.screenLGMax)})`]:{[t]:{[`${n}-col-lg-24${t}-label`]:ia(e)}}}},KHe=e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),Pre=(e,t)=>Ns(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),wV=of("Form",(e,t)=>{let{rootPrefixCls:n}=t;const r=Pre(e,n);return[GHe(r),zHe(r),$He(r),KW(r,r.componentCls),KW(r,r.formItemCls),UHe(r),WHe(r),qHe(r),e2e(r),fV]},KHe,{order:-1e3}),YW=[];function $1(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof e=="string"?e:`${t}-${r}`,error:e,errorStatus:n}}const _re=e=>{let{help:t,helpStatus:n,errors:r=YW,warnings:i=YW,className:o,fieldId:s,onVisibleChanged:a}=e;const{prefixCls:l}=w.useContext(CV),u=`${l}-item-explain`,h=SC(l),[f,p,m]=wV(l,h),b=w.useMemo(()=>nW(l),[l]),C=Fx(r),y=Fx(i),x=w.useMemo(()=>t!=null?[$1(t,"help",n)]:[].concat(Ge(C.map((M,A)=>$1(M,"error","error",A))),Ge(y.map((M,A)=>$1(M,"warning","warning",A)))),[t,n,C,y]),R=w.useMemo(()=>{const M={};return x.forEach(A=>{let{key:D}=A;M[D]=(M[D]||0)+1}),x.map((A,D)=>Object.assign(Object.assign({},A),{key:M[A.key]>1?`${A.key}-fallback-${D}`:A.key}))},[x]),T={};return s&&(T.id=`${s}_help`),f(w.createElement(ld,{motionDeadline:b.motionDeadline,motionName:`${l}-show-help`,visible:!!R.length,onVisibleChanged:a},M=>{const{className:A,style:D}=M;return w.createElement("div",Object.assign({},T,{className:qe(u,A,m,h,o,p),style:D}),w.createElement(ALe,Object.assign({keys:R},nW(l),{motionName:`${l}-show-help-item`,component:!1}),_=>{const{key:I,error:O,errorStatus:F,className:L,style:V}=_;return w.createElement("div",{key:I,className:qe(L,{[`${u}-${F}`]:F}),style:V},O)}))}))},YHe=["parentNode"],XHe="form_item";function fy(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function Ore(e,t){if(!e.length)return;const n=e.join("_");return t?`${t}_${n}`:YHe.includes(n)?`${XHe}_${n}`:n}function Dre(e,t,n,r,i,o){let s=r;return o!==void 0?s=o:n.validating?s="validating":e.length?s="error":t.length?s="warning":(n.touched||i&&n.validated)&&(s="success"),s}var QHe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function XW(e){return fy(e).join("_")}function QW(e,t){const n=t.getFieldInstance(e),r=ute(n);if(r)return r;const i=Ore(fy(e),t.__INTERNAL__.name);if(i)return document.getElementById(i)}function Ire(e){const[t]=bV(),n=w.useRef({}),r=w.useMemo(()=>e??Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:i=>o=>{const s=XW(i);o?n.current[s]=o:delete n.current[s]}},scrollToField:function(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focus:s}=o,a=QHe(o,["focus"]),l=QW(i,r);l&&(hNe(l,Object.assign({scrollMode:"if-needed",block:"nearest"},a)),s&&r.focusField(i))},focusField:i=>{var o,s;const a=r.getFieldInstance(i);typeof(a==null?void 0:a.focus)=="function"?a.focus():(s=(o=QW(i,r))===null||o===void 0?void 0:o.focus)===null||s===void 0||s.call(o)},getFieldInstance:i=>{const o=XW(i);return n.current[o]}}),[e,t]);return[r]}var ZHe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const JHe=(e,t)=>{const n=w.useContext(eb),{getPrefixCls:r,direction:i,requiredMark:o,colon:s,scrollToFirstError:a,className:l,style:u}=SR("form"),{prefixCls:h,className:f,rootClassName:p,size:m,disabled:b=n,form:C,colon:y,labelAlign:x,labelWrap:R,labelCol:T,wrapperCol:M,hideRequiredMark:A,layout:D="horizontal",scrollToFirstError:_,requiredMark:I,onFinishFailed:O,name:F,style:L,feedbackIcons:V,variant:N}=e,Y=ZHe(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),X=Dne(m),j=w.useContext(jte),G=w.useMemo(()=>I!==void 0?I:A?!1:o!==void 0?o:!0,[A,I,o]),U=y??s,Z=r("form",h),$=SC(Z),[Q,J,ne]=wV(Z,$),ee=qe(Z,`${Z}-${D}`,{[`${Z}-hide-required-mark`]:G===!1,[`${Z}-rtl`]:i==="rtl",[`${Z}-${X}`]:X},ne,$,J,l,f,p),[fe]=Ire(C),{__INTERNAL__:me}=fe;me.name=F;const xe=w.useMemo(()=>({name:F,labelAlign:x,labelCol:T,labelWrap:R,wrapperCol:M,vertical:D==="vertical",colon:U,requiredMark:G,itemRef:me.itemRef,form:fe,feedbackIcons:V}),[F,x,T,M,D,U,G,fe,V]),Pe=w.useRef(null);w.useImperativeHandle(t,()=>{var Re;return Object.assign(Object.assign({},fe),{nativeElement:(Re=Pe.current)===null||Re===void 0?void 0:Re.nativeElement})});const ue=(Re,le)=>{if(Re){let Oe={block:"nearest"};typeof Re=="object"&&(Oe=Object.assign(Object.assign({},Oe),Re)),fe.scrollToField(le,Oe)}},Se=Re=>{if(O==null||O(Re),Re.errorFields.length){const le=Re.errorFields[0].name;if(_!==void 0){ue(_,le);return}a!==void 0&&ue(a,le)}};return Q(w.createElement(eBe.Provider,{value:N},w.createElement(sV,{disabled:b},w.createElement(jh.Provider,{value:X},w.createElement(tre,{validateMessages:j},w.createElement(mu.Provider,{value:xe},w.createElement(dm,Object.assign({id:F},Y,{name:F,onFinishFailed:Se,form:fe,ref:Pe,style:Object.assign(Object.assign({},u),L),className:ee}))))))))},e$e=w.forwardRef(JHe);function t$e(e){if(typeof e=="function")return e;const t=zy(e);return t.length<=1?t[0]:t}const Mre=()=>{const{status:e,errors:t=[],warnings:n=[]}=w.useContext(Cg);return{status:e,errors:t,warnings:n}};Mre.Context=Cg;function n$e(e){const[t,n]=w.useState(e),r=w.useRef(null),i=w.useRef([]),o=w.useRef(!1);w.useEffect(()=>(o.current=!1,()=>{o.current=!0,gu.cancel(r.current),r.current=null}),[]);function s(a){o.current||(r.current===null&&(i.current=[],r.current=gu(()=>{r.current=null,n(l=>{let u=l;return i.current.forEach(h=>{u=h(u)}),u})})),i.current.push(a))}return[t,s]}function r$e(){const{itemRef:e}=w.useContext(mu),t=w.useRef({});function n(r,i){const o=i&&typeof i=="object"&&CC(i),s=r.join("_");return(t.current.name!==s||t.current.originRef!==o)&&(t.current.name=s,t.current.originRef=o,t.current.ref=yC(e(r),o)),t.current.ref}return n}const i$e=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},o$e=aV(["Form","item-item"],(e,t)=>{let{rootPrefixCls:n}=t;const r=Pre(e,n);return[i$e(r)]});var s$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const a$e=24,l$e=e=>{const{prefixCls:t,status:n,labelCol:r,wrapperCol:i,children:o,errors:s,warnings:a,_internalItemRender:l,extra:u,help:h,fieldId:f,marginBottom:p,onErrorVisibleChanged:m,label:b}=e,C=`${t}-item`,y=w.useContext(mu),x=w.useMemo(()=>{let Y=Object.assign({},i||y.wrapperCol||{});return b===null&&!r&&!i&&y.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(j=>{const G=j?[j]:[],U=As(y.labelCol,G),Z=typeof U=="object"?U:{},$=As(Y,G),Q=typeof $=="object"?$:{};"span"in Z&&!("offset"in Q)&&Z.span<a$e&&(Y=Ss(Y,[].concat(G,["offset"]),Z.span))}),Y},[i,y]),R=qe(`${C}-control`,x.className),T=w.useMemo(()=>{const{labelCol:Y,wrapperCol:X}=y;return s$e(y,["labelCol","wrapperCol"])},[y]),M=w.useRef(null),[A,D]=w.useState(0);li(()=>{u&&M.current?D(M.current.clientHeight):D(0)},[u]);const _=w.createElement("div",{className:`${C}-control-input`},w.createElement("div",{className:`${C}-control-input-content`},o)),I=w.useMemo(()=>({prefixCls:t,status:n}),[t,n]),O=p!==null||s.length||a.length?w.createElement(CV.Provider,{value:I},w.createElement(_re,{fieldId:f,errors:s,warnings:a,help:h,helpStatus:n,className:`${C}-explain-connected`,onVisibleChanged:m})):null,F={};f&&(F.id=`${f}_extra`);const L=u?w.createElement("div",Object.assign({},F,{className:`${C}-extra`,ref:M}),u):null,V=O||L?w.createElement("div",{className:`${C}-additional`,style:p?{minHeight:p+A}:{}},O,L):null,N=l&&l.mark==="pro_table_render"&&l.render?l.render(e,{input:_,errorList:O,extra:L}):w.createElement(w.Fragment,null,_,V);return w.createElement(mu.Provider,{value:T},w.createElement(Tre,Object.assign({},x,{className:R}),N),w.createElement(o$e,{prefixCls:t}))};var u$e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},c$e=function(t,n){return w.createElement(dl,Hn({},t,{ref:n,icon:u$e}))},d$e=w.forwardRef(c$e),h$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function f$e(e){return e?typeof e=="object"&&!w.isValidElement(e)?e:{title:e}:null}const p$e=e=>{let{prefixCls:t,label:n,htmlFor:r,labelCol:i,labelAlign:o,colon:s,required:a,requiredMark:l,tooltip:u,vertical:h}=e;var f;const[p]=CR("Form"),{labelAlign:m,labelCol:b,labelWrap:C,colon:y}=w.useContext(mu);if(!n)return null;const x=i||b||{},R=o||m,T=`${t}-item-label`,M=qe(T,R==="left"&&`${T}-left`,x.className,{[`${T}-wrap`]:!!C});let A=n;const D=s===!0||y!==!1&&s!==!1;D&&!h&&typeof n=="string"&&n.trim()&&(A=n.replace(/[:|]\s*$/,""));const I=f$e(u);if(I){const{icon:Y=w.createElement(d$e,null)}=I,X=h$e(I,["icon"]),j=w.createElement(Ere,Object.assign({},X),w.cloneElement(Y,{className:`${t}-item-tooltip`,title:"",onClick:G=>{G.preventDefault()},tabIndex:null}));A=w.createElement(w.Fragment,null,A,j)}const O=l==="optional",F=typeof l=="function",L=l===!1;F?A=l(A,{required:!!a}):O&&!a&&(A=w.createElement(w.Fragment,null,A,w.createElement("span",{className:`${t}-item-optional`,title:""},(p==null?void 0:p.optional)||((f=Kc.Form)===null||f===void 0?void 0:f.optional))));let V;L?V="hidden":(O||F)&&(V="optional");const N=qe({[`${t}-item-required`]:a,[`${t}-item-required-mark-${V}`]:V,[`${t}-item-no-colon`]:!D});return w.createElement(Tre,Object.assign({},x,{className:M}),w.createElement("label",{htmlFor:r,className:N,title:typeof n=="string"?n:""},A))},g$e={success:Sne,warning:Ene,error:xne,validating:Tne};function Fre(e){let{children:t,errors:n,warnings:r,hasFeedback:i,validateStatus:o,prefixCls:s,meta:a,noStyle:l}=e;const u=`${s}-item`,{feedbackIcons:h}=w.useContext(mu),f=Dre(n,r,a,null,!!i,o),{isFormItemInput:p,status:m,hasFeedback:b,feedbackIcon:C}=w.useContext(Cg),y=w.useMemo(()=>{var x;let R;if(i){const M=i!==!0&&i.icons||h,A=f&&((x=M==null?void 0:M({status:f,errors:n,warnings:r}))===null||x===void 0?void 0:x[f]),D=f&&g$e[f];R=A!==!1&&D?w.createElement("span",{className:qe(`${u}-feedback-icon`,`${u}-feedback-icon-${f}`)},A||w.createElement(D,null)):null}const T={status:f||"",errors:n,warnings:r,hasFeedback:!!i,feedbackIcon:R,isFormItemInput:!0};return l&&(T.status=(f??m)||"",T.isFormItemInput=p,T.hasFeedback=!!(i??b),T.feedbackIcon=i!==void 0?T.feedbackIcon:C),T},[f,i,l,p,m]);return w.createElement(Cg.Provider,{value:y},t)}var m$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function v$e(e){const{prefixCls:t,className:n,rootClassName:r,style:i,help:o,errors:s,warnings:a,validateStatus:l,meta:u,hasFeedback:h,hidden:f,children:p,fieldId:m,required:b,isRequired:C,onSubItemMetaChange:y,layout:x}=e,R=m$e(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),T=`${t}-item`,{requiredMark:M,vertical:A}=w.useContext(mu),D=A||x==="vertical",_=w.useRef(null),I=Fx(s),O=Fx(a),F=o!=null,L=!!(F||s.length||a.length),V=!!_.current&&hV(_.current),[N,Y]=w.useState(null);li(()=>{if(L&&_.current){const Z=getComputedStyle(_.current);Y(parseInt(Z.marginBottom,10))}},[L,V]);const X=Z=>{Z||Y(null)},G=function(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const $=Z?I:u.errors,Q=Z?O:u.warnings;return Dre($,Q,u,"",!!h,l)}(),U=qe(T,n,r,{[`${T}-with-help`]:F||I.length||O.length,[`${T}-has-feedback`]:G&&h,[`${T}-has-success`]:G==="success",[`${T}-has-warning`]:G==="warning",[`${T}-has-error`]:G==="error",[`${T}-is-validating`]:G==="validating",[`${T}-hidden`]:f,[`${T}-${x}`]:x});return w.createElement("div",{className:U,style:i,ref:_},w.createElement(HHe,Object.assign({className:`${T}-row`},cm(R,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),w.createElement(p$e,Object.assign({htmlFor:m},e,{requiredMark:M,required:b??C,prefixCls:t,vertical:D})),w.createElement(l$e,Object.assign({},e,u,{errors:I,warnings:O,prefixCls:t,status:G,help:o,marginBottom:N,onErrorVisibleChanged:X}),w.createElement(ere.Provider,{value:y},w.createElement(Fre,{prefixCls:t,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:h,validateStatus:G},p)))),!!N&&w.createElement("div",{className:`${T}-margin-offset`,style:{marginBottom:-N}}))}const y$e="__SPLIT__";function b$e(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>{const o=e[i],s=t[i];return o===s||typeof o=="function"||typeof s=="function"})}const C$e=w.memo(e=>{let{children:t}=e;return t},(e,t)=>b$e(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((n,r)=>n===t.childProps[r]));function ZW(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function w$e(e){const{name:t,noStyle:n,className:r,dependencies:i,prefixCls:o,shouldUpdate:s,rules:a,children:l,required:u,label:h,messageVariables:f,trigger:p="onChange",validateTrigger:m,hidden:b,help:C,layout:y}=e,{getPrefixCls:x}=w.useContext(Jn),{name:R}=w.useContext(mu),T=t$e(l),M=typeof T=="function",A=w.useContext(ere),{validateTrigger:D}=w.useContext(Uh),_=m!==void 0?m:D,I=t!=null,O=x("form",o),F=SC(O),[L,V,N]=wV(O,F);iV();const Y=w.useContext(rb),X=w.useRef(null),[j,G]=n$e({}),[U,Z]=Gh(()=>ZW()),$=xe=>{const Pe=Y==null?void 0:Y.getKey(xe.name);if(Z(xe.destroy?ZW():xe,!0),n&&C!==!1&&A){let ue=xe.name;if(xe.destroy)ue=X.current||ue;else if(Pe!==void 0){const[Se,Re]=Pe;ue=[Se].concat(Ge(Re)),X.current=ue}A(xe,ue)}},Q=(xe,Pe)=>{G(ue=>{const Se=Object.assign({},ue),le=[].concat(Ge(xe.name.slice(0,-1)),Ge(Pe)).join(y$e);return xe.destroy?delete Se[le]:Se[le]=xe,Se})},[J,ne]=w.useMemo(()=>{const xe=Ge(U.errors),Pe=Ge(U.warnings);return Object.values(j).forEach(ue=>{xe.push.apply(xe,Ge(ue.errors||[])),Pe.push.apply(Pe,Ge(ue.warnings||[]))}),[xe,Pe]},[j,U.errors,U.warnings]),ee=r$e();function fe(xe,Pe,ue){return n&&!b?w.createElement(Fre,{prefixCls:O,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:U,errors:J,warnings:ne,noStyle:!0},xe):w.createElement(v$e,Object.assign({key:"row"},e,{className:qe(r,N,F,V),prefixCls:O,fieldId:Pe,isRequired:ue,errors:J,warnings:ne,meta:U,onSubItemMetaChange:Q,layout:y}),xe)}if(!I&&!M&&!i)return L(fe(T));let me={};return typeof h=="string"?me.label=h:t&&(me.label=String(t)),f&&(me=Object.assign(Object.assign({},me),f)),L(w.createElement(yV,Object.assign({},e,{messageVariables:me,trigger:p,validateTrigger:_,onMetaChange:$}),(xe,Pe,ue)=>{const Se=fy(t).length&&Pe?Pe.name:[],Re=Ore(Se,R),le=u!==void 0?u:!!(a!=null&&a.some(_e=>{if(_e&&typeof _e=="object"&&_e.required&&!_e.warningOnly)return!0;if(typeof _e=="function"){const Le=_e(ue);return(Le==null?void 0:Le.required)&&!(Le!=null&&Le.warningOnly)}return!1})),Oe=Object.assign({},xe);let Ie=null;if(Array.isArray(T)&&I)Ie=T;else if(!(M&&(!(s||i)||I))){if(!(i&&!M&&!I))if(w.isValidElement(T)){const _e=Object.assign(Object.assign({},T.props),Oe);if(_e.id||(_e.id=Re),C||J.length>0||ne.length>0||e.extra){const ze=[];(C||J.length>0)&&ze.push(`${Re}_help`),e.extra&&ze.push(`${Re}_extra`),_e["aria-describedby"]=ze.join(" ")}J.length>0&&(_e["aria-invalid"]="true"),le&&(_e["aria-required"]="true"),am(T)&&(_e.ref=ee(Se,T)),new Set([].concat(Ge(fy(p)),Ge(fy(_)))).forEach(ze=>{_e[ze]=function(){for(var nt,it,Ve,dt,Qe,wt=arguments.length,qt=new Array(wt),ft=0;ft<wt;ft++)qt[ft]=arguments[ft];(Ve=Oe[ze])===null||Ve===void 0||(nt=Ve).call.apply(nt,[Oe].concat(qt)),(Qe=(dt=T.props)[ze])===null||Qe===void 0||(it=Qe).call.apply(it,[dt].concat(qt))}});const Be=[_e["aria-required"],_e["aria-invalid"],_e["aria-describedby"]];Ie=w.createElement(C$e,{control:Oe,update:T,childProps:Be},ER(T,_e))}else M&&(s||i)&&!I?Ie=T(ue):Ie=T}return fe(Ie,Re,le)}))}const kre=w$e;kre.useStatus=Mre;var S$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const x$e=e=>{var{prefixCls:t,children:n}=e,r=S$e(e,["prefixCls","children"]);const{getPrefixCls:i}=w.useContext(Jn),o=i("form",t),s=w.useMemo(()=>({prefixCls:o,status:"error"}),[o]);return w.createElement(Xne,Object.assign({},r),(a,l,u)=>w.createElement(CV.Provider,{value:s},n(a.map(h=>Object.assign(Object.assign({},h),{fieldKey:h.key})),l,{errors:u.errors,warnings:u.warnings})))};function E$e(){const{form:e}=w.useContext(mu);return e}const Ru=e$e;Ru.Item=kre;Ru.List=x$e;Ru.ErrorList=_re;Ru.useForm=Ire;Ru.useFormInstance=E$e;Ru.useWatch=Jne;Ru.Provider=tre;Ru.create=()=>{};var R$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const T$e=e=>{const{prefixCls:t,className:n,closeIcon:r,closable:i,type:o,title:s,children:a,footer:l}=e,u=R$e(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:h}=w.useContext(Jn),f=h(),p=t||h("modal"),m=SC(f),[b,C,y]=lre(p,m),x=`${p}-confirm`;let R={};return o?R={closable:i??!1,title:"",footer:"",children:w.createElement(cre,Object.assign({},e,{prefixCls:p,confirmPrefixCls:x,rootPrefixCls:f,content:a}))}:R={closable:i??!0,title:s,footer:l!==null&&w.createElement(ire,Object.assign({},e)),children:a},b(w.createElement(zne,Object.assign({prefixCls:p,className:qe(C,`${p}-pure-panel`,o&&x,o&&`${x}-${o}`,n,y,m)},u,{closeIcon:rre(p,r),closable:i},R)))},A$e=QBe(T$e);function Lre(e){return AC(pre(e))}const Ca=ure;Ca.useModal=XBe;Ca.info=function(t){return AC(gre(t))};Ca.success=function(t){return AC(mre(t))};Ca.error=function(t){return AC(vre(t))};Ca.warning=Lre;Ca.warn=Lre;Ca.confirm=function(t){return AC(yre(t))};Ca.destroyAll=function(){for(;th.length;){const t=th.pop();t&&t()}};Ca.config=UBe;Ca._InternalPanelDoNotUseOrYouWillBeFired=A$e;function P$e({isOpen:e,onRequestClose:t,editBookData:n,setEditBookData:r,handleUpdate:i}){const[o]=Ru.useForm();return q.jsx(Ca,{open:e,onCancel:t,footer:null,children:q.jsxs("div",{children:[q.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Edit Book"}),q.jsxs("div",{className:"flex flex-col gap-2",children:[q.jsx("input",{type:"text",value:n.name,onChange:s=>r({...n,name:s.target.value}),placeholder:"Name",className:"border p-2 rounded"}),q.jsx("input",{type:"text",value:n.author,onChange:s=>r({...n,author:s.target.value}),placeholder:"Author",className:"border p-2 rounded"}),q.jsx("input",{type:"text",value:n.publisher,onChange:s=>r({...n,publisher:s.target.value}),placeholder:"Publisher",className:"border p-2 rounded"}),q.jsx("input",{type:"text",value:n.isbn,onChange:s=>r({...n,isbn:s.target.value}),placeholder:"ISBN",className:"border p-2 rounded"})]}),q.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[q.jsx("button",{onClick:t,className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),q.jsx("button",{onClick:i,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Save"})]})]})})}c0e.registerModules([qDe]);const _$e=()=>{const[e,t]=w.useState(null);w.useEffect(()=>{const R=localStorage.getItem("user");R&&t(JSON.parse(R))},[]),qh();const n=dN(),[r,i]=w.useState(""),[o,s]=w.useState(!1),[a,l]=w.useState({id:"",name:"",author:"",publisher:"",isbn:""}),{data:u,isPending:h,error:f}=jde({queryKey:["books"],queryFn:$be}),p=IG({mutationFn:jbe,onSuccess:()=>{vn.success("Book deleted successfully"),n.invalidateQueries(["books"])},onError:R=>{vn.error(R.message)}}),m=IG({mutationFn:({id:R,updatedData:T})=>Gbe(R,T),onSuccess:()=>{vn.success("Book updated successfully"),n.invalidateQueries(["books"]),s(!1)},onError:R=>{vn.error(R.message)}}),b=R=>{l(R),s(!0)},C=R=>{window.confirm("Are you sure you want to delete this book?")&&p.mutate(R)},y=()=>{m.mutate({id:a.id,updatedData:a})},x=[{field:"name"},{field:"author"},{field:"publisher"},{field:"isbn"},{field:"edit",cellRenderer:R=>q.jsx("div",{className:`py-2 ${!e||e.role!=="librarian"?"opacity-50 pointer-events-none":""}`,children:q.jsx(eIe,{color:"gray",className:"cursor-pointer",onClick:()=>b(R.data)})})},{field:"delete",cellRenderer:R=>q.jsx("div",{className:`py-2 ${e.role!=="librarian"?"opacity-50 pointer-events-none":""}`,children:q.jsx(nIe,{color:"red",className:"cursor-pointer",onClick:()=>C(R.data.id)})})}];return q.jsxs("div",{className:"px-4",children:[q.jsx("h2",{className:"text-center text-2xl my-3 font-semibold",children:"Book List"}),q.jsxs("div",{className:"py-3 my-3",children:[q.jsxs("div",{className:"border flex my-3 p-2 max-w-sm",children:[q.jsx(ZDe,{}),q.jsx("input",{type:"text",placeholder:"Search by any field",className:"outline-none pl-2",onChange:R=>i(R.target.value)})]}),q.jsx("div",{style:{height:500},className:"ag-theme-alpine",children:q.jsx(aMe,{rowData:u,columnDefs:x,pagination:!0,quickFilterText:r,domLayout:"autoHeight",defaultColDef:{flex:1,resizable:!0}})})]}),q.jsx(P$e,{isOpen:o,onRequestClose:()=>s(!1),editBookData:a,setEditBookData:l,handleUpdate:y})]})},_C=w.createContext();function O$e({toggleAuth:e}){const{loading:t,setLoading:n,login:r}=w.useContext(_C),i=qh(),[o,s]=w.useState({email:"",password:""}),[a,l]=w.useState(!1),u=async()=>{var h;if(o.email===""||o.password===""){vn.error("All fields are required");return}n(!0);try{const f=await Rye(d2,o.email,o.password),m=aC(ji(sr,a?"teachers":"users"),Fh("uid","==",(h=f==null?void 0:f.user)==null?void 0:h.uid)),b=Rve(m,C=>{let y;C.forEach(x=>y=x.data()),y?(localStorage.setItem("user",JSON.stringify(y)),s({email:"",password:""}),vn.success("Login Successfully"),r(),n(!1),y.role==="user"||a?i("/dashboard"):i("/admin"),setTimeout(()=>{window.location.reload()})):(vn.error("No user data found"),n(!1))});return()=>b()}catch(f){console.error("Login Error:",f),n(!1),vn.error("Login Failed: "+f.message)}};return q.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-10",children:[q.jsx("h1",{className:"text-2xl font-bold",children:a?"Librarian Login":"User Login"}),q.jsx("input",{value:o.email,onChange:h=>s({...o,email:h.target.value}),type:"email",placeholder:"Email",className:"w-full p-2 mt-2 bg-gray-200 rounded"}),q.jsx("input",{value:o.password,onChange:h=>s({...o,password:h.target.value}),type:"password",placeholder:"Password",className:"w-full p-2 mt-2 bg-gray-200 rounded"}),q.jsx("button",{onClick:u,className:"mt-4 px-5 py-2 bg-purple-600 text-white rounded",disabled:t,children:t?"Signing In...":"Sign In"}),q.jsxs("div",{className:"mt-2",children:[q.jsx("input",{type:"checkbox",checked:a,onChange:()=>l(!a),className:"mr-2"}),q.jsx("label",{children:"Login as Librarian"})]})]})}function D$e({toggleAuth:e}){const[t,n]=w.useState({name:"",email:"",password:"",role:"user"}),[r,i]=w.useState(!1),o=qh(),s=async()=>{if(t.name===""||t.email===""||t.password===""){vn.error("All fields are required");return}i(!0);try{const a=await gZ(d2,t.email,t.password),l={name:t.name,email:a.user.email,uid:a.user.uid,role:t.role,time:Dr.now(),date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})},u=ji(sr,"users");await rR(u,l),n({name:"",email:"",password:"",role:"user"}),vn.success("Signup successful!"),i(!1),o("/login")}catch(a){console.error("Signup error:",a),vn.error(a.message||"Failed to sign up"),i(!1)}};return q.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-10",children:[q.jsx("h1",{className:"text-2xl font-bold",children:"Create Account"}),q.jsxs("div",{className:"flex gap-2 mt-4",children:[q.jsx("a",{href:"#",className:"p-2 border rounded-full",children:q.jsx("i",{className:"fab fa-google"})}),q.jsx("a",{href:"#",className:"p-2 border rounded-full",children:q.jsx("i",{className:"fab fa-facebook-f"})}),q.jsx("a",{href:"#",className:"p-2 border rounded-full",children:q.jsx("i",{className:"fab fa-github"})}),q.jsx("a",{href:"#",className:"p-2 border rounded-full",children:q.jsx("i",{className:"fab fa-linkedin-in"})})]}),q.jsx("span",{className:"text-sm mt-3",children:"or use your email for registration"}),q.jsx("input",{value:t.name,onChange:a=>n({...t,name:a.target.value}),type:"text",placeholder:"Name",className:"w-full p-2 mt-2 bg-gray-200 rounded"}),q.jsx("input",{value:t.email,onChange:a=>n({...t,email:a.target.value}),type:"email",placeholder:"Email",className:"w-full p-2 mt-2 bg-gray-200 rounded"}),q.jsx("input",{value:t.password,onChange:a=>n({...t,password:a.target.value}),type:"password",placeholder:"Password",className:"w-full p-2 mt-2 bg-gray-200 rounded"}),q.jsx("button",{onClick:s,className:"w-full bg-purple-600 text-white py-2 rounded mt-2",disabled:r,children:r?"Signing up...":"Sign Up"}),q.jsxs("p",{className:"mt-4 text-sm",children:["Already have an account?"," ",q.jsx("button",{className:"text-purple-600",onClick:e,children:"Sign In"})]})]})}function I$e(){const[e,t]=w.useState(!1);return q.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-r from-gray-200 to-indigo-200",children:q.jsxs("div",{className:"relative w-[768px] min-h-[480px] bg-white shadow-lg rounded-3xl overflow-hidden",children:[q.jsx("div",{className:`absolute top-0 h-full w-1/2 transition-transform duration-500 ease-in-out ${e?"translate-x-full opacity-100 z-10":"opacity-100 z-10"}`,children:e?q.jsx(D$e,{toggleAuth:()=>t(!1)}):q.jsx(O$e,{toggleAuth:()=>t(!0)})}),q.jsxs("div",{className:"absolute top-0 right-0 h-full w-1/2 bg-purple-700 text-white flex flex-col items-center justify-center p-10 transition-transform duration-500 ease-in-out",style:{transform:e?"translateX(-100%)":"translateX(0)"},children:[q.jsx("h1",{className:"text-2xl font-bold",children:e?"Welcome Back!":"Hello, Friend!"}),q.jsx("p",{className:"text-center text-sm mt-2",children:e?"Enter your personal details to use all of site features":"Register with your personal details to use all of site features"}),q.jsx("button",{className:"mt-4 px-5 py-2 border border-white rounded",onClick:()=>t(!e),children:e?"Sign In":"Sign Up"})]})]})})}const M$e=async(e,t)=>{if(!e.name||!e.author||!e.publisher||!e.isbn)return ai.error("All fields are required"),{success:!1};t(!0);try{const n=ji(sr,"books");return await rR(n,e),ai.success("Book added successfully!"),t(!1),{success:!0}}catch(n){return console.error("Error adding book:",n),ai.error("Failed to add book."),t(!1),{success:!1}}},F$e=()=>{const[e,t]=w.useState({name:"",author:"",publisher:"",isbn:""}),[n,r]=w.useState(""),[i,o]=w.useState(!1),s=l=>{t({...e,[l.target.name]:l.target.value})},a=async l=>{l.preventDefault(),(await M$e(e,o)).success?(r("Book added successfully!"),t({name:"",author:"",publisher:"",isbn:""})):r("Failed to add book. Try again.")};return q.jsxs("div",{className:"add-book-container",children:[q.jsx("h2",{className:"text-center text-2xl my-3 font-semibold",children:"Add a New Book"}),n&&q.jsx("p",{children:n}),i&&q.jsx("p",{children:"Loading..."}),q.jsxs("form",{onSubmit:a,className:"add-book-form",children:[q.jsx("input",{type:"text",name:"name",placeholder:"Book Name",value:e.name,onChange:s,required:!0}),q.jsx("input",{type:"text",name:"author",placeholder:"Author",value:e.author,onChange:s,required:!0}),q.jsx("input",{type:"text",name:"publisher",placeholder:"Publisher",value:e.publisher,onChange:s,required:!0}),q.jsx("input",{type:"text",name:"isbn",placeholder:"ISBN",value:e.isbn,onChange:s,required:!0}),q.jsx("button",{type:"submit",disabled:i,children:i?"Adding...":"Add Book"})]})]})},k$e=()=>q.jsx("div",{children:"EditBook"}),L$e=async()=>{try{const e=ji(sr,"users");return(await la(e)).docs.map(r=>({id:r.id,...r.data()})).map(r=>({id:r.id,name:r.name,email:r.email,role:r.role}))}catch(e){throw console.error("Error fetching students:",e),new Error(e.message)}},N$e=async()=>{try{const e=ji(sr,"books");return(await la(e)).docs.map(r=>({id:r.id,...r.data()})).map(r=>({id:r.id,name:r.name,author:r.author,isbn:r.isbn}))}catch(e){throw console.error("Error fetching books:",e),new Error(e.message)}},V$e=async(e,t,n,r)=>{try{const i=zc(sr,"users",e),s=(await zz(i)).data(),a=zc(sr,"books",t),u=(await zz(a)).data();if(!s||!u)throw new Error("Student or Book not found");const h=ji(sr,"issued_books");return await rR(h,{student_id:e,student_name:s.name,book_id:t,book_name:u.name,isbn:u.isbn,issue_date:n,return_date:r,returned:!1}),await JN(i,{books:Tve({book_id:t,book_name:u.name,isbn:u.isbn,issue_date:n,return_date:r})}),console.log("Book issued successfully"),!0}catch(i){throw console.error("Error issuing book:",i),new Error(i.message)}},B$e=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[i,o]=w.useState(""),[s,a]=w.useState(""),[l,u]=w.useState(""),[h,f]=w.useState(""),[p,m]=w.useState("");w.useEffect(()=>{b(),C()},[]);const b=async()=>{try{const R=await L$e();t(R)}catch{vn.error("Failed to load students")}},C=async()=>{try{const R=await N$e();r(R)}catch{vn.error("Failed to load books")}},y=R=>{a(R);const T=n.find(M=>M.id===R);m(T?T.isbn:"")},x=async R=>{if(R.preventDefault(),!i||!s||!l||!h){vn.error("Please fill all fields!");return}try{await V$e(i,s,l,h),vn.success("Book issued successfully!"),o(""),a(""),u(""),f(""),m("")}catch(T){vn.error("Error issuing book: "+T.message)}};return q.jsxs("div",{className:"p-4",children:[q.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Issue Book"}),q.jsxs("form",{onSubmit:x,className:"space-y-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block font-medium",children:"Student:"}),q.jsxs("select",{value:i,onChange:R=>o(R.target.value),className:"border p-2 w-full",children:[q.jsx("option",{value:"",children:"Select Student"}),e.filter(R=>R.role==="user").map(R=>q.jsxs("option",{value:R.id,children:[R.name," (",R.email,")"]},R.id))]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block font-medium",children:"Book:"}),q.jsxs("select",{value:s,onChange:R=>y(R.target.value),className:"border p-2 w-full",children:[q.jsx("option",{value:"",children:"Select Book"}),n.map(R=>q.jsxs("option",{value:R.id,children:[R.name," by ",R.author]},R.id))]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block font-medium",children:"ISBN:"}),q.jsx("input",{type:"text",value:p,disabled:!0,className:"border p-2 w-full bg-gray-100"})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block font-medium",children:"Issue Date:"}),q.jsx("input",{type:"date",value:l,onChange:R=>u(R.target.value),className:"border p-2 w-full"})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block font-medium",children:"Return Date:"}),q.jsx("input",{type:"date",value:h,onChange:R=>f(R.target.value),className:"border p-2 w-full"})]}),q.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:"Issue Book"})]})]})},H$e=async e=>{try{const t=ji(sr,"issued_books"),n=aC(t,Fh("isbn","==",e),Fh("returned","==",!1)),r=await la(n);if(r.empty)return console.error("No issued book found for the given ISBN."),null;const i=r.docs[0].data();return{id:r.docs[0].id,...i}}catch(t){return console.error("Error fetching book:",t.message),null}},$$e=async e=>{try{const t=zc(sr,"issued_books",e);return await JN(t,{returned:!0}),console.log("Book successfully returned."),!0}catch(t){throw console.error("Error returning book:",t.message),new Error(t.message)}},j$e=async()=>{try{const e=ji(sr,"issued_books"),t=aC(e,Fh("returned","==",!1));return(await la(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return console.error("Error fetching non-returned books:",e.message),[]}},G$e=()=>{const[e,t]=w.useState(""),[n,r]=w.useState([]),[i,o]=w.useState({});w.useEffect(()=>{s()},[]);const s=async()=>{try{const h=await j$e(),f={};h.forEach(p=>{f[p.id]=l(p.issue_date)}),o(f),r(h)}catch(h){console.error("Error loading books:",h),vn.error("Failed to load non-returned books.")}},a=async()=>{if(!e){vn.error("Please enter ISBN");return}try{const h=await H$e(e);if(!h){vn.error("No issued book found with this ISBN!");return}r([h]),o({[h.id]:l(h.issue_date)})}catch(h){console.error("Error fetching book:",h),vn.error("Failed to fetch book.")}},l=h=>{const f=new Date(h),m=Math.floor((new Date-f)/(1e3*60*60*24));return m>7?(m-7)*5:0},u=async h=>{try{await $$e(h),vn.success("Book returned successfully!"),s()}catch(f){console.error("Error returning book:",f),vn.error("Error returning book!")}};return q.jsxs("div",{className:"p-4",children:[q.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Return Book"}),q.jsxs("div",{className:"flex items-center border p-2 mb-4",children:[q.jsx("input",{type:"text",placeholder:"Enter ISBN",className:"border p-2 w-full",value:e,onChange:h=>t(h.target.value)}),q.jsx("button",{onClick:a,className:"ml-2 bg-blue-500 text-white px-4 py-2",children:"Search"})]}),n.length>0?q.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[q.jsx("thead",{children:q.jsxs("tr",{className:"bg-gray-200",children:[q.jsx("th",{className:"border p-2",children:"Book Name"}),q.jsx("th",{className:"border p-2",children:"ISBN"}),q.jsx("th",{className:"border p-2",children:"Issued To"}),q.jsx("th",{className:"border p-2",children:"Issue Date"}),q.jsx("th",{className:"border p-2",children:"Fine"}),q.jsx("th",{className:"border p-2",children:"Actions"})]})}),q.jsx("tbody",{children:n.map(h=>q.jsxs("tr",{children:[q.jsx("td",{className:"border p-2",children:h.book_name}),q.jsx("td",{className:"border p-2",children:h.isbn}),q.jsx("td",{className:"border p-2",children:h.student_name}),q.jsx("td",{className:"border p-2",children:h.issue_date}),q.jsxs("td",{className:"border p-2",children:["",i[h.id]]}),q.jsxs("td",{className:"border p-2 flex gap-2",children:[q.jsx("button",{className:"bg-red-500 text-white px-4 py-2",onClick:()=>vn.success(`Fine paid: ${i[h.id]}`),children:"Pay Fine"}),q.jsx("button",{className:"bg-green-500 text-white px-4 py-2",onClick:()=>u(h.id),children:"Submit Book"})]})]},h.id))})]}):q.jsx("p",{children:"No non-returned books found."})]})},z$e=async()=>{try{const e=ji(sr,"users");return(await la(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching students:",e),[]}},U$e=async e=>{try{const t=zc(sr,"users",e);return await e2(t),console.log("Student deleted successfully"),!0}catch(t){return console.error("Error deleting student:",t),!1}},W$e=JSON.parse(localStorage.getItem("user")),q$e=()=>{const[e,t]=w.useState([]);w.useEffect(()=>{n()},[]);const n=async()=>{const i=await z$e();t(i)},r=async i=>{await U$e(i)&&t(e.filter(s=>s.id!==i))};return q.jsxs("div",{className:"student-list-container",children:[q.jsx("h2",{className:"text-center text-2xl my-3 font-semibold",children:"Student List"}),q.jsxs("table",{className:"student-table",children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{children:"ID"}),q.jsx("th",{children:"Name"}),q.jsx("th",{children:"Email"}),q.jsx("th",{children:"Action"})]})}),q.jsx("tbody",{children:e.length>0?e.filter(i=>i.role==="user").map(i=>q.jsxs("tr",{children:[q.jsx("td",{children:i.id}),q.jsx("td",{children:i.name}),q.jsx("td",{children:i.email}),q.jsx("td",{children:q.jsx("button",{onClick:()=>r(i.id),className:"delete-btn",disabled:W$e.role!=="librarian",children:"Delete"})})]},i.id)):q.jsx("tr",{children:q.jsx("td",{colSpan:"6",children:"No students found."})})})]})]})},K$e=async()=>{try{const t=(await la(ji(sr,"users"))).size-1,r=(await la(ji(sr,"issued_books"))).size,i=aC(ji(sr,"issued_books"),Fh("returned","==",!1)),s=(await la(i)).size;return{totalStudents:t,totalBooksIssued:r,totalOverdueBooks:s}}catch(e){throw console.error("Error fetching analytics data:",e),new Error(e.message)}};function Nre(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Nre(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Nre(e))&&(r&&(r+=" "),r+=t);return r}var j1,JW;function To(){if(JW)return j1;JW=1;var e=Array.isArray;return j1=e,j1}var G1,e3;function Vre(){if(e3)return G1;e3=1;var e=typeof Jw=="object"&&Jw&&Jw.Object===Object&&Jw;return G1=e,G1}var z1,t3;function hl(){if(t3)return z1;t3=1;var e=Vre(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return z1=n,z1}var U1,n3;function OC(){if(n3)return U1;n3=1;var e=hl(),t=e.Symbol;return U1=t,U1}var W1,r3;function Y$e(){if(r3)return W1;r3=1;var e=OC(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var h=r.call(s);return u&&(a?s[i]=l:delete s[i]),h}return W1=o,W1}var q1,i3;function X$e(){if(i3)return q1;i3=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return q1=n,q1}var K1,o3;function Tu(){if(o3)return K1;o3=1;var e=OC(),t=Y$e(),n=X$e(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return K1=s,K1}var Y1,s3;function Au(){if(s3)return Y1;s3=1;function e(t){return t!=null&&typeof t=="object"}return Y1=e,Y1}var X1,a3;function pm(){if(a3)return X1;a3=1;var e=Tu(),t=Au(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return X1=r,X1}var Q1,l3;function SV(){if(l3)return Q1;l3=1;var e=To(),t=pm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return Q1=i,Q1}var Z1,u3;function cd(){if(u3)return Z1;u3=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Z1=e,Z1}var J1,c3;function xV(){if(c3)return J1;c3=1;var e=Tu(),t=cd(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==o}return J1=s,J1}var e_,d3;function Q$e(){if(d3)return e_;d3=1;var e=hl(),t=e["__core-js_shared__"];return e_=t,e_}var t_,h3;function Z$e(){if(h3)return t_;h3=1;var e=Q$e(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return t_=n,t_}var n_,f3;function Bre(){if(f3)return n_;f3=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return n_=n,n_}var r_,p3;function J$e(){if(p3)return r_;p3=1;var e=xV(),t=Z$e(),n=cd(),r=Bre(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,h=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||t(p))return!1;var m=e(p)?h:o;return m.test(r(p))}return r_=f,r_}var i_,g3;function eje(){if(g3)return i_;g3=1;function e(t,n){return t==null?void 0:t[n]}return i_=e,i_}var o_,m3;function af(){if(m3)return o_;m3=1;var e=J$e(),t=eje();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return o_=n,o_}var s_,v3;function FR(){if(v3)return s_;v3=1;var e=af(),t=e(Object,"create");return s_=t,s_}var a_,y3;function tje(){if(y3)return a_;y3=1;var e=FR();function t(){this.__data__=e?e(null):{},this.size=0}return a_=t,a_}var l_,b3;function nje(){if(b3)return l_;b3=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return l_=e,l_}var u_,C3;function rje(){if(C3)return u_;C3=1;var e=FR(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return u_=i,u_}var c_,w3;function ije(){if(w3)return c_;w3=1;var e=FR(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return c_=r,c_}var d_,S3;function oje(){if(S3)return d_;S3=1;var e=FR(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return d_=n,d_}var h_,x3;function sje(){if(x3)return h_;x3=1;var e=tje(),t=nje(),n=rje(),r=ije(),i=oje();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,h_=o,h_}var f_,E3;function aje(){if(E3)return f_;E3=1;function e(){this.__data__=[],this.size=0}return f_=e,f_}var p_,R3;function EV(){if(R3)return p_;R3=1;function e(t,n){return t===n||t!==t&&n!==n}return p_=e,p_}var g_,T3;function kR(){if(T3)return g_;T3=1;var e=EV();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return g_=t,g_}var m_,A3;function lje(){if(A3)return m_;A3=1;var e=kR(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return m_=r,m_}var v_,P3;function uje(){if(P3)return v_;P3=1;var e=kR();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return v_=t,v_}var y_,_3;function cje(){if(_3)return y_;_3=1;var e=kR();function t(n){return e(this.__data__,n)>-1}return y_=t,y_}var b_,O3;function dje(){if(O3)return b_;O3=1;var e=kR();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return b_=t,b_}var C_,D3;function LR(){if(D3)return C_;D3=1;var e=aje(),t=lje(),n=uje(),r=cje(),i=dje();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,C_=o,C_}var w_,I3;function RV(){if(I3)return w_;I3=1;var e=af(),t=hl(),n=e(t,"Map");return w_=n,w_}var S_,M3;function hje(){if(M3)return S_;M3=1;var e=sje(),t=LR(),n=RV();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return S_=r,S_}var x_,F3;function fje(){if(F3)return x_;F3=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return x_=e,x_}var E_,k3;function NR(){if(k3)return E_;k3=1;var e=fje();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return E_=t,E_}var R_,L3;function pje(){if(L3)return R_;L3=1;var e=NR();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return R_=t,R_}var T_,N3;function gje(){if(N3)return T_;N3=1;var e=NR();function t(n){return e(this,n).get(n)}return T_=t,T_}var A_,V3;function mje(){if(V3)return A_;V3=1;var e=NR();function t(n){return e(this,n).has(n)}return A_=t,A_}var P_,B3;function vje(){if(B3)return P_;B3=1;var e=NR();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return P_=t,P_}var __,H3;function TV(){if(H3)return __;H3=1;var e=hje(),t=pje(),n=gje(),r=mje(),i=vje();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,__=o,__}var O_,$3;function Hre(){if($3)return O_;$3=1;var e=TV(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,O_=n,O_}var D_,j3;function yje(){if(j3)return D_;j3=1;var e=Hre(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return D_=n,D_}var I_,G3;function bje(){if(G3)return I_;G3=1;var e=yje(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return I_=r,I_}var M_,z3;function AV(){if(z3)return M_;z3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return M_=e,M_}var F_,U3;function Cje(){if(U3)return F_;U3=1;var e=OC(),t=AV(),n=To(),r=pm(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return F_=s,F_}var k_,W3;function $re(){if(W3)return k_;W3=1;var e=Cje();function t(n){return n==null?"":e(n)}return k_=t,k_}var L_,q3;function jre(){if(q3)return L_;q3=1;var e=To(),t=SV(),n=bje(),r=$re();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return L_=i,L_}var N_,K3;function VR(){if(K3)return N_;K3=1;var e=pm();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return N_=t,N_}var V_,Y3;function PV(){if(Y3)return V_;Y3=1;var e=jre(),t=VR();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return V_=n,V_}var B_,X3;function Gre(){if(X3)return B_;X3=1;var e=PV();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return B_=t,B_}var wje=Gre();const da=Sn(wje);var H_,Q3;function Sje(){if(Q3)return H_;Q3=1;function e(t){return t==null}return H_=e,H_}var xje=Sje();const Wt=Sn(xje);var $_,Z3;function Eje(){if(Z3)return $_;Z3=1;var e=Tu(),t=To(),n=Au(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return $_=i,$_}var Rje=Eje();const DC=Sn(Rje);var Tje=xV();const Dt=Sn(Tje);var Aje=cd();const gm=Sn(Aje);var j_={exports:{}},gn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3;function Pje(){if(J3)return gn;J3=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function C(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case e:switch(y=y.type,y){case n:case i:case r:case u:case h:return y;default:switch(y=y&&y.$$typeof,y){case a:case s:case l:case p:case f:case o:return y;default:return x}}case t:return x}}}return gn.ContextConsumer=s,gn.ContextProvider=o,gn.Element=e,gn.ForwardRef=l,gn.Fragment=n,gn.Lazy=p,gn.Memo=f,gn.Portal=t,gn.Profiler=i,gn.StrictMode=r,gn.Suspense=u,gn.SuspenseList=h,gn.isAsyncMode=function(){return!1},gn.isConcurrentMode=function(){return!1},gn.isContextConsumer=function(y){return C(y)===s},gn.isContextProvider=function(y){return C(y)===o},gn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},gn.isForwardRef=function(y){return C(y)===l},gn.isFragment=function(y){return C(y)===n},gn.isLazy=function(y){return C(y)===p},gn.isMemo=function(y){return C(y)===f},gn.isPortal=function(y){return C(y)===t},gn.isProfiler=function(y){return C(y)===i},gn.isStrictMode=function(y){return C(y)===r},gn.isSuspense=function(y){return C(y)===u},gn.isSuspenseList=function(y){return C(y)===h},gn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===u||y===h||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===f||y.$$typeof===o||y.$$typeof===s||y.$$typeof===l||y.$$typeof===b||y.getModuleId!==void 0)},gn.typeOf=C,gn}var e5;function _je(){return e5||(e5=1,j_.exports=Pje()),j_.exports}var Oje=_je(),G_,t5;function zre(){if(t5)return G_;t5=1;var e=Tu(),t=Au(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return G_=r,G_}var z_,n5;function Dje(){if(n5)return z_;n5=1;var e=zre();function t(n){return e(n)&&n!=+n}return z_=t,z_}var Ije=Dje();const IC=Sn(Ije);var Mje=zre();const Fje=Sn(Mje);var Ps=function(t){return t===0?0:t>0?1:-1},nh=function(t){return DC(t)&&t.indexOf("%")===t.length-1},Ue=function(t){return Fje(t)&&!IC(t)},zr=function(t){return Ue(t)||DC(t)},kje=0,BR=function(t){var n=++kje;return"".concat(t||"").concat(n)},So=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(t)&&!DC(t))return r;var o;if(nh(t)){var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return IC(o)&&(o=r),i&&o>n&&(o=n),o},lp=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Lje=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},r5=function(t,n){return Ue(t)&&Ue(n)?function(r){return t+r*(n-t)}:function(){return n}};function yk(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):da(r,t))===n})}function bk(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Ck(e){"@babel/helpers - typeof";return Ck=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ck(e)}var Nje=["viewBox","children"],Vje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],i5=["points","pathLength"],U_={svg:Nje,polygon:i5,polyline:i5},_V=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kx=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(w.isValidElement(t)&&(r=t.props),!gm(r))return null;var i={};return Object.keys(r).forEach(function(o){_V.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Bje=function(t,n,r){return function(i){return t(n,r,i),null}},HR=function(t,n,r){if(!gm(t)||Ck(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];_V.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Bje(s,n,r))}),i},Hje=["children"],$je=["children"];function o5(e,t){if(e==null)return{};var n=jje(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var s5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},nu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},a5=null,W_=null,OV=function e(t){if(t===a5&&Array.isArray(W_))return W_;var n=[];return w.Children.forEach(t,function(r){Wt(r)||(Oje.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),W_=n,a5=t,n};function Za(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return nu(i)}):r=[nu(t)],OV(e).forEach(function(i){var o=da(i,"type.displayName")||da(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Cs(e,t){var n=Za(e,t);return n&&n[0]}var l5=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Ue(r)||r<=0||!Ue(i)||i<=0)},Gje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zje=function(t){return t&&t.type&&DC(t.type)&&Gje.indexOf(t.type)>=0},Uje=function(t,n,r,i){var o,s=(o=U_==null?void 0:U_[i])!==null&&o!==void 0?o:[];return!Dt(t)&&(i&&s.includes(n)||Vje.includes(n))||r&&_V.includes(n)},Rt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!gm(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Uje((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},wk=function e(t,n){if(t===n)return!0;var r=w.Children.count(t);if(r!==w.Children.count(n))return!1;if(r===0)return!0;if(r===1)return u5(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!u5(o,s))return!1}return!0},u5=function(t,n){if(Wt(t)&&Wt(n))return!0;if(!Wt(t)&&!Wt(n)){var r=t.props||{},i=r.children,o=o5(r,Hje),s=n.props||{},a=s.children,l=o5(s,$je);return i&&a?bk(o,l)&&wk(i,a):!i&&!a?bk(o,l):!1}return!1},c5=function(t,n){var r=[],i={};return OV(t).forEach(function(o,s){if(zje(o))r.push(o);else if(o){var a=nu(o.type),l=n[a]||{},u=l.handler,h=l.once;if(u&&(!h||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},Wje=function(t){var n=t&&t.type;return n&&s5[n]?s5[n]:null},qje=function(t,n){return OV(n).indexOf(t)},Kje=["children","width","height","viewBox","className","style","title","desc"];function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sk.apply(this,arguments)}function Yje(e,t){if(e==null)return{};var n=Xje(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xk(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,s=e.style,a=e.title,l=e.desc,u=Yje(e,Kje),h=i||{width:n,height:r,x:0,y:0},f=ln("recharts-surface",o);return z.createElement("svg",Sk({},Rt(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),z.createElement("title",null,a),z.createElement("desc",null,l),t)}var Qje=["children","className"];function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ek.apply(this,arguments)}function Zje(e,t){if(e==null)return{};var n=Jje(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var yr=z.forwardRef(function(e,t){var n=e.children,r=e.className,i=Zje(e,Qje),o=ln("recharts-layer",r);return z.createElement("g",Ek({className:o},Rt(i,!0),{ref:t}),n)}),ru=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},q_,d5;function eGe(){if(d5)return q_;d5=1;function e(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=t[i+n];return s}return q_=e,q_}var K_,h5;function tGe(){if(h5)return K_;h5=1;var e=eGe();function t(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:e(n,r,i)}return K_=t,K_}var Y_,f5;function Ure(){if(f5)return Y_;f5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function l(u){return a.test(u)}return Y_=l,Y_}var X_,p5;function nGe(){if(p5)return X_;p5=1;function e(t){return t.split("")}return X_=e,X_}var Q_,g5;function rGe(){if(g5)return Q_;g5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",h="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",b=u+"?",C="["+o+"]?",y="(?:"+m+"(?:"+[h,f,p].join("|")+")"+C+b+")*",x=C+b+y,R="(?:"+[h+a+"?",a,f,p,s].join("|")+")",T=RegExp(l+"(?="+l+")|"+R+x,"g");function M(A){return A.match(T)||[]}return Q_=M,Q_}var Z_,m5;function iGe(){if(m5)return Z_;m5=1;var e=nGe(),t=Ure(),n=rGe();function r(i){return t(i)?n(i):e(i)}return Z_=r,Z_}var J_,v5;function oGe(){if(v5)return J_;v5=1;var e=tGe(),t=Ure(),n=iGe(),r=$re();function i(o){return function(s){s=r(s);var a=t(s)?n(s):void 0,l=a?a[0]:s.charAt(0),u=a?e(a,1).join(""):s.slice(1);return l[o]()+u}}return J_=i,J_}var eO,y5;function sGe(){if(y5)return eO;y5=1;var e=oGe(),t=e("toUpperCase");return eO=t,eO}var aGe=sGe();const $R=Sn(aGe);function Vn(e){return function(){return e}}const Wre=Math.cos,Lx=Math.sin,wa=Math.sqrt,Nx=Math.PI,jR=2*Nx,Rk=Math.PI,Tk=2*Rk,Ud=1e-6,lGe=Tk-Ud;function qre(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function uGe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return qre;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cGe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?qre:uGe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,h=s-t,f=a-n,p=h*h+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Ud)if(!(Math.abs(f*l-u*h)>Ud)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,b=i-a,C=l*l+u*u,y=m*m+b*b,x=Math.sqrt(C),R=Math.sqrt(p),T=o*Math.tan((Rk-Math.acos((C+p-y)/(2*x*R)))/2),M=T/R,A=T/x;Math.abs(M-1)>Ud&&this._append`L${t+M*h},${n+M*f}`,this._append`A${o},${o},0,0,${+(f*m>h*b)},${this._x1=t+A*l},${this._y1=n+A*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,h=n+l,f=1^s,p=s?i-o:o-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Ud||Math.abs(this._y1-h)>Ud)&&this._append`L${u},${h}`,r&&(p<0&&(p=p%Tk+Tk),p>lGe?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=h}`:p>Ud&&this._append`A${r},${r},0,${+(p>=Rk)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function DV(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new cGe(t)}function IV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kre(e){this._context=e}Kre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function GR(e){return new Kre(e)}function Yre(e){return e[0]}function Xre(e){return e[1]}function Qre(e,t){var n=Vn(!0),r=null,i=GR,o=null,s=DV(a);e=typeof e=="function"?e:e===void 0?Yre:Vn(e),t=typeof t=="function"?t:t===void 0?Xre:Vn(t);function a(l){var u,h=(l=IV(l)).length,f,p=!1,m;for(r==null&&(o=i(m=s())),u=0;u<=h;++u)!(u<h&&n(f=l[u],u,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(f,u,l),+t(f,u,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Vn(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Vn(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Vn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function O0(e,t,n){var r=null,i=Vn(!0),o=null,s=GR,a=null,l=DV(u);e=typeof e=="function"?e:e===void 0?Yre:Vn(+e),t=typeof t=="function"?t:Vn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Xre:Vn(+n);function u(f){var p,m,b,C=(f=IV(f)).length,y,x=!1,R,T=new Array(C),M=new Array(C);for(o==null&&(a=s(R=l())),p=0;p<=C;++p){if(!(p<C&&i(y=f[p],p,f))===x)if(x=!x)m=p,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),b=p-1;b>=m;--b)a.point(T[b],M[b]);a.lineEnd(),a.areaEnd()}x&&(T[p]=+e(y,p,f),M[p]=+t(y,p,f),a.point(r?+r(y,p,f):T[p],n?+n(y,p,f):M[p]))}if(R)return a=null,R+""||null}function h(){return Qre().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Vn(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Vn(+f),u):n},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(n)},u.lineX1=function(){return h().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Vn(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class Zre{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function dGe(e){return new Zre(e,!0)}function hGe(e){return new Zre(e,!1)}const MV={draw(e,t){const n=wa(t/Nx);e.moveTo(n,0),e.arc(0,0,n,0,jR)}},fGe={draw(e,t){const n=wa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Jre=wa(1/3),pGe=Jre*2,gGe={draw(e,t){const n=wa(t/pGe),r=n*Jre;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},mGe={draw(e,t){const n=wa(t),r=-n/2;e.rect(r,r,n,n)}},vGe=.8908130915292852,eie=Lx(Nx/10)/Lx(7*Nx/10),yGe=Lx(jR/10)*eie,bGe=-Wre(jR/10)*eie,CGe={draw(e,t){const n=wa(t*vGe),r=yGe*n,i=bGe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=jR*o/5,a=Wre(s),l=Lx(s);e.lineTo(l*n,-a*n),e.lineTo(a*r-l*i,l*r+a*i)}e.closePath()}},tO=wa(3),wGe={draw(e,t){const n=-wa(t/(tO*3));e.moveTo(0,n*2),e.lineTo(-tO*n,-n),e.lineTo(tO*n,-n),e.closePath()}},fs=-.5,ps=wa(3)/2,Ak=1/wa(12),SGe=(Ak/2+1)*3,xGe={draw(e,t){const n=wa(t/SGe),r=n/2,i=n*Ak,o=r,s=n*Ak+n,a=-o,l=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(fs*r-ps*i,ps*r+fs*i),e.lineTo(fs*o-ps*s,ps*o+fs*s),e.lineTo(fs*a-ps*l,ps*a+fs*l),e.lineTo(fs*r+ps*i,fs*i-ps*r),e.lineTo(fs*o+ps*s,fs*s-ps*o),e.lineTo(fs*a+ps*l,fs*l-ps*a),e.closePath()}};function EGe(e,t){let n=null,r=DV(i);e=typeof e=="function"?e:Vn(e||MV),t=typeof t=="function"?t:Vn(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Vn(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Vn(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Vx(){}function Bx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function tie(e){this._context=e}tie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RGe(e){return new tie(e)}function nie(e){this._context=e}nie.prototype={areaStart:Vx,areaEnd:Vx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TGe(e){return new nie(e)}function rie(e){this._context=e}rie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AGe(e){return new rie(e)}function iie(e){this._context=e}iie.prototype={areaStart:Vx,areaEnd:Vx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function PGe(e){return new iie(e)}function b5(e){return e<0?-1:1}function C5(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(b5(o)+b5(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function w5(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function nO(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function Hx(e){this._context=e}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nO(this,this._t0,w5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nO(this,w5(this,n=C5(this,e,t)),n);break;default:nO(this,this._t0,n=C5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function oie(e){this._context=new sie(e)}(oie.prototype=Object.create(Hx.prototype)).point=function(e,t){Hx.prototype.point.call(this,t,e)};function sie(e){this._context=e}sie.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function _Ge(e){return new Hx(e)}function OGe(e){return new oie(e)}function aie(e){this._context=e}aie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=S5(e),i=S5(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S5(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function DGe(e){return new aie(e)}function zR(e,t){this._context=e,this._t=t}zR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function IGe(e){return new zR(e,.5)}function MGe(e){return new zR(e,0)}function FGe(e){return new zR(e,1)}function wg(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Pk(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function kGe(e,t){return e[t]}function LGe(e){const t=[];return t.key=e,t}function NGe(){var e=Vn([]),t=Pk,n=wg,r=kGe;function i(o){var s=Array.from(e.apply(this,arguments),LGe),a,l=s.length,u=-1,h;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,h=IV(t(s));a<l;++a)s[h[a]].index=a;return n(s,h),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Vn(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Vn(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Pk:typeof o=="function"?o:Vn(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??wg,i):n},i}function VGe(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}wg(e,t)}}function BGe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}wg(e,t)}}function HGe(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var h=e[t[a]],f=h[r][1]||0,p=h[r-1][1]||0,m=(f-p)/2,b=0;b<a;++b){var C=e[t[b]],y=C[r][1]||0,x=C[r-1][1]||0;m+=y-x}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,wg(e,t)}}function sb(e){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(e)}var $Ge=["type","size","sizeType"];function _k(){return _k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_k.apply(this,arguments)}function x5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(n),!0).forEach(function(r){jGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jGe(e,t,n){return t=GGe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GGe(e){var t=zGe(e,"string");return sb(t)=="symbol"?t:t+""}function zGe(e,t){if(sb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UGe(e,t){if(e==null)return{};var n=WGe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WGe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var lie={symbolCircle:MV,symbolCross:fGe,symbolDiamond:gGe,symbolSquare:mGe,symbolStar:CGe,symbolTriangle:wGe,symbolWye:xGe},qGe=Math.PI/180,KGe=function(t){var n="symbol".concat($R(t));return lie[n]||MV},YGe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*qGe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},XGe=function(t,n){lie["symbol".concat($R(t))]=n},FV=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,s=t.sizeType,a=s===void 0?"area":s,l=UGe(t,$Ge),u=E5(E5({},l),{},{type:r,size:o,sizeType:a}),h=function(){var y=KGe(r),x=EGe().type(y).size(YGe(o,a,r));return x()},f=u.className,p=u.cx,m=u.cy,b=Rt(u,!0);return p===+p&&m===+m&&o===+o?z.createElement("path",_k({},b,{className:ln("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(m,")"),d:h()})):null};FV.registerSymbol=XGe;function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ok.apply(this,arguments)}function R5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QGe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R5(Object(n),!0).forEach(function(r){ab(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JGe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cie(r.key),r)}}function eze(e,t,n){return t&&JGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tze(e,t,n){return t=$x(t),nze(e,uie()?Reflect.construct(t,n||[],$x(e).constructor):t.apply(e,n))}function nze(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rze(e)}function rze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uie=function(){return!!e})()}function $x(e){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$x(e)}function ize(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dk(e,t)}function Dk(e,t){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dk(e,t)}function ab(e,t,n){return t=cie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cie(e){var t=oze(e,"string");return Sg(t)=="symbol"?t:t+""}function oze(e,t){if(Sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xs=32,kV=function(e){function t(){return ZGe(this,t),tze(this,t,arguments)}return ize(t,e),eze(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Xs/2,s=Xs/6,a=Xs/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Xs,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Xs,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xs/8,"h").concat(Xs,"v").concat(Xs*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var u=QGe({},r);return delete u.legendIcon,z.cloneElement(r.legendIcon,u)}return z.createElement(FV,{fill:l,cx:o,cy:o,size:Xs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,h={x:0,y:0,width:Xs,height:Xs},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,b){var C=m.formatter||l,y=ln(ab(ab({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=Dt(m.value)?null:m.value;ru(!Dt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var R=m.inactive?u:m.color;return z.createElement("li",Ok({className:y,style:f,key:"legend-item-".concat(b)},HR(r.props,m,b)),z.createElement(xk,{width:s,height:s,viewBox:h,style:p},r.renderIcon(m)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:R}},C?C(x,m,b):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(w.PureComponent);ab(kV,"displayName","Legend");ab(kV,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rO,T5;function sze(){if(T5)return rO;T5=1;var e=LR();function t(){this.__data__=new e,this.size=0}return rO=t,rO}var iO,A5;function aze(){if(A5)return iO;A5=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return iO=e,iO}var oO,P5;function lze(){if(P5)return oO;P5=1;function e(t){return this.__data__.get(t)}return oO=e,oO}var sO,_5;function uze(){if(_5)return sO;_5=1;function e(t){return this.__data__.has(t)}return sO=e,sO}var aO,O5;function cze(){if(O5)return aO;O5=1;var e=LR(),t=RV(),n=TV(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return aO=i,aO}var lO,D5;function die(){if(D5)return lO;D5=1;var e=LR(),t=sze(),n=aze(),r=lze(),i=uze(),o=cze();function s(a){var l=this.__data__=new e(a);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,lO=s,lO}var uO,I5;function dze(){if(I5)return uO;I5=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return uO=t,uO}var cO,M5;function hze(){if(M5)return cO;M5=1;function e(t){return this.__data__.has(t)}return cO=e,cO}var dO,F5;function hie(){if(F5)return dO;F5=1;var e=TV(),t=dze(),n=hze();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,dO=r,dO}var hO,k5;function fie(){if(k5)return hO;k5=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return hO=e,hO}var fO,L5;function pie(){if(L5)return fO;L5=1;function e(t,n){return t.has(n)}return fO=e,fO}var pO,N5;function gie(){if(N5)return pO;N5=1;var e=hie(),t=fie(),n=pie(),r=1,i=2;function o(s,a,l,u,h,f){var p=l&r,m=s.length,b=a.length;if(m!=b&&!(p&&b>m))return!1;var C=f.get(s),y=f.get(a);if(C&&y)return C==a&&y==s;var x=-1,R=!0,T=l&i?new e:void 0;for(f.set(s,a),f.set(a,s);++x<m;){var M=s[x],A=a[x];if(u)var D=p?u(A,M,x,a,s,f):u(M,A,x,s,a,f);if(D!==void 0){if(D)continue;R=!1;break}if(T){if(!t(a,function(_,I){if(!n(T,I)&&(M===_||h(M,_,l,u,f)))return T.push(I)})){R=!1;break}}else if(!(M===A||h(M,A,l,u,f))){R=!1;break}}return f.delete(s),f.delete(a),R}return pO=o,pO}var gO,V5;function fze(){if(V5)return gO;V5=1;var e=hl(),t=e.Uint8Array;return gO=t,gO}var mO,B5;function pze(){if(B5)return mO;B5=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return mO=e,mO}var vO,H5;function LV(){if(H5)return vO;H5=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return vO=e,vO}var yO,$5;function gze(){if($5)return yO;$5=1;var e=OC(),t=fze(),n=EV(),r=gie(),i=pze(),o=LV(),s=1,a=2,l="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",b="[object Set]",C="[object String]",y="[object Symbol]",x="[object ArrayBuffer]",R="[object DataView]",T=e?e.prototype:void 0,M=T?T.valueOf:void 0;function A(D,_,I,O,F,L,V){switch(I){case R:if(D.byteLength!=_.byteLength||D.byteOffset!=_.byteOffset)return!1;D=D.buffer,_=_.buffer;case x:return!(D.byteLength!=_.byteLength||!L(new t(D),new t(_)));case l:case u:case p:return n(+D,+_);case h:return D.name==_.name&&D.message==_.message;case m:case C:return D==_+"";case f:var N=i;case b:var Y=O&s;if(N||(N=o),D.size!=_.size&&!Y)return!1;var X=V.get(D);if(X)return X==_;O|=a,V.set(D,_);var j=r(N(D),N(_),O,F,L,V);return V.delete(D),j;case y:if(M)return M.call(D)==M.call(_)}return!1}return yO=A,yO}var bO,j5;function mie(){if(j5)return bO;j5=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return bO=e,bO}var CO,G5;function mze(){if(G5)return CO;G5=1;var e=mie(),t=To();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return CO=n,CO}var wO,z5;function vze(){if(z5)return wO;z5=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return wO=e,wO}var SO,U5;function yze(){if(U5)return SO;U5=1;function e(){return[]}return SO=e,SO}var xO,W5;function bze(){if(W5)return xO;W5=1;var e=vze(),t=yze(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return xO=o,xO}var EO,q5;function Cze(){if(q5)return EO;q5=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return EO=e,EO}var RO,K5;function wze(){if(K5)return RO;K5=1;var e=Tu(),t=Au(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return RO=r,RO}var TO,Y5;function NV(){if(Y5)return TO;Y5=1;var e=wze(),t=Au(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return TO=o,TO}var Gv={exports:{}},AO,X5;function Sze(){if(X5)return AO;X5=1;function e(){return!1}return AO=e,AO}Gv.exports;var Q5;function vie(){return Q5||(Q5=1,function(e,t){var n=hl(),r=Sze(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(Gv,Gv.exports)),Gv.exports}var PO,Z5;function VV(){if(Z5)return PO;Z5=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return PO=n,PO}var _O,J5;function BV(){if(J5)return _O;J5=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return _O=t,_O}var OO,e6;function xze(){if(e6)return OO;e6=1;var e=Tu(),t=BV(),n=Au(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",h="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",b="[object String]",C="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",R="[object Float32Array]",T="[object Float64Array]",M="[object Int8Array]",A="[object Int16Array]",D="[object Int32Array]",_="[object Uint8Array]",I="[object Uint8ClampedArray]",O="[object Uint16Array]",F="[object Uint32Array]",L={};L[R]=L[T]=L[M]=L[A]=L[D]=L[_]=L[I]=L[O]=L[F]=!0,L[r]=L[i]=L[y]=L[o]=L[x]=L[s]=L[a]=L[l]=L[u]=L[h]=L[f]=L[p]=L[m]=L[b]=L[C]=!1;function V(N){return n(N)&&t(N.length)&&!!L[e(N)]}return OO=V,OO}var DO,t6;function yie(){if(t6)return DO;t6=1;function e(t){return function(n){return t(n)}}return DO=e,DO}var zv={exports:{}};zv.exports;var n6;function Eze(){return n6||(n6=1,function(e,t){var n=Vre(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}(zv,zv.exports)),zv.exports}var IO,r6;function bie(){if(r6)return IO;r6=1;var e=xze(),t=yie(),n=Eze(),r=n&&n.isTypedArray,i=r?t(r):e;return IO=i,IO}var MO,i6;function Rze(){if(i6)return MO;i6=1;var e=Cze(),t=NV(),n=To(),r=vie(),i=VV(),o=bie(),s=Object.prototype,a=s.hasOwnProperty;function l(u,h){var f=n(u),p=!f&&t(u),m=!f&&!p&&r(u),b=!f&&!p&&!m&&o(u),C=f||p||m||b,y=C?e(u.length,String):[],x=y.length;for(var R in u)(h||a.call(u,R))&&!(C&&(R=="length"||m&&(R=="offset"||R=="parent")||b&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||i(R,x)))&&y.push(R);return y}return MO=l,MO}var FO,o6;function Tze(){if(o6)return FO;o6=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return FO=t,FO}var kO,s6;function Cie(){if(s6)return kO;s6=1;function e(t,n){return function(r){return t(n(r))}}return kO=e,kO}var LO,a6;function Aze(){if(a6)return LO;a6=1;var e=Cie(),t=e(Object.keys,Object);return LO=t,LO}var NO,l6;function Pze(){if(l6)return NO;l6=1;var e=Tze(),t=Aze(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return NO=i,NO}var VO,u6;function MC(){if(u6)return VO;u6=1;var e=xV(),t=BV();function n(r){return r!=null&&t(r.length)&&!e(r)}return VO=n,VO}var BO,c6;function UR(){if(c6)return BO;c6=1;var e=Rze(),t=Pze(),n=MC();function r(i){return n(i)?e(i):t(i)}return BO=r,BO}var HO,d6;function _ze(){if(d6)return HO;d6=1;var e=mze(),t=bze(),n=UR();function r(i){return e(i,n,t)}return HO=r,HO}var $O,h6;function Oze(){if(h6)return $O;h6=1;var e=_ze(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,h){var f=a&t,p=e(o),m=p.length,b=e(s),C=b.length;if(m!=C&&!f)return!1;for(var y=m;y--;){var x=p[y];if(!(f?x in s:r.call(s,x)))return!1}var R=h.get(o),T=h.get(s);if(R&&T)return R==s&&T==o;var M=!0;h.set(o,s),h.set(s,o);for(var A=f;++y<m;){x=p[y];var D=o[x],_=s[x];if(l)var I=f?l(_,D,x,s,o,h):l(D,_,x,o,s,h);if(!(I===void 0?D===_||u(D,_,a,l,h):I)){M=!1;break}A||(A=x=="constructor")}if(M&&!A){var O=o.constructor,F=s.constructor;O!=F&&"constructor"in o&&"constructor"in s&&!(typeof O=="function"&&O instanceof O&&typeof F=="function"&&F instanceof F)&&(M=!1)}return h.delete(o),h.delete(s),M}return $O=i,$O}var jO,f6;function Dze(){if(f6)return jO;f6=1;var e=af(),t=hl(),n=e(t,"DataView");return jO=n,jO}var GO,p6;function Ize(){if(p6)return GO;p6=1;var e=af(),t=hl(),n=e(t,"Promise");return GO=n,GO}var zO,g6;function wie(){if(g6)return zO;g6=1;var e=af(),t=hl(),n=e(t,"Set");return zO=n,zO}var UO,m6;function Mze(){if(m6)return UO;m6=1;var e=af(),t=hl(),n=e(t,"WeakMap");return UO=n,UO}var WO,v6;function Fze(){if(v6)return WO;v6=1;var e=Dze(),t=RV(),n=Ize(),r=wie(),i=Mze(),o=Tu(),s=Bre(),a="[object Map]",l="[object Object]",u="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=s(e),b=s(t),C=s(n),y=s(r),x=s(i),R=o;return(e&&R(new e(new ArrayBuffer(1)))!=p||t&&R(new t)!=a||n&&R(n.resolve())!=u||r&&R(new r)!=h||i&&R(new i)!=f)&&(R=function(T){var M=o(T),A=M==l?T.constructor:void 0,D=A?s(A):"";if(D)switch(D){case m:return p;case b:return a;case C:return u;case y:return h;case x:return f}return M}),WO=R,WO}var qO,y6;function kze(){if(y6)return qO;y6=1;var e=die(),t=gie(),n=gze(),r=Oze(),i=Fze(),o=To(),s=vie(),a=bie(),l=1,u="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function b(C,y,x,R,T,M){var A=o(C),D=o(y),_=A?h:i(C),I=D?h:i(y);_=_==u?f:_,I=I==u?f:I;var O=_==f,F=I==f,L=_==I;if(L&&s(C)){if(!s(y))return!1;A=!0,O=!1}if(L&&!O)return M||(M=new e),A||a(C)?t(C,y,x,R,T,M):n(C,y,_,x,R,T,M);if(!(x&l)){var V=O&&m.call(C,"__wrapped__"),N=F&&m.call(y,"__wrapped__");if(V||N){var Y=V?C.value():C,X=N?y.value():y;return M||(M=new e),T(Y,X,x,R,M)}}return L?(M||(M=new e),r(C,y,x,R,T,M)):!1}return qO=b,qO}var KO,b6;function HV(){if(b6)return KO;b6=1;var e=kze(),t=Au();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return KO=n,KO}var YO,C6;function Lze(){if(C6)return YO;C6=1;var e=die(),t=HV(),n=1,r=2;function i(o,s,a,l){var u=a.length,h=u,f=!l;if(o==null)return!h;for(o=Object(o);u--;){var p=a[u];if(f&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++u<h;){p=a[u];var m=p[0],b=o[m],C=p[1];if(f&&p[2]){if(b===void 0&&!(m in o))return!1}else{var y=new e;if(l)var x=l(b,C,m,o,s,y);if(!(x===void 0?t(C,b,n|r,l,y):x))return!1}}return!0}return YO=i,YO}var XO,w6;function Sie(){if(w6)return XO;w6=1;var e=cd();function t(n){return n===n&&!e(n)}return XO=t,XO}var QO,S6;function Nze(){if(S6)return QO;S6=1;var e=Sie(),t=UR();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return QO=n,QO}var ZO,x6;function xie(){if(x6)return ZO;x6=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return ZO=e,ZO}var JO,E6;function Vze(){if(E6)return JO;E6=1;var e=Lze(),t=Nze(),n=xie();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return JO=r,JO}var eD,R6;function Bze(){if(R6)return eD;R6=1;function e(t,n){return t!=null&&n in Object(t)}return eD=e,eD}var tD,T6;function Hze(){if(T6)return tD;T6=1;var e=jre(),t=NV(),n=To(),r=VV(),i=BV(),o=VR();function s(a,l,u){l=e(l,a);for(var h=-1,f=l.length,p=!1;++h<f;){var m=o(l[h]);if(!(p=a!=null&&u(a,m)))break;a=a[m]}return p||++h!=f?p:(f=a==null?0:a.length,!!f&&i(f)&&r(m,f)&&(n(a)||t(a)))}return tD=s,tD}var nD,A6;function $ze(){if(A6)return nD;A6=1;var e=Bze(),t=Hze();function n(r,i){return r!=null&&t(r,i,e)}return nD=n,nD}var rD,P6;function jze(){if(P6)return rD;P6=1;var e=HV(),t=Gre(),n=$ze(),r=SV(),i=Sie(),o=xie(),s=VR(),a=1,l=2;function u(h,f){return r(h)&&i(f)?o(s(h),f):function(p){var m=t(p,h);return m===void 0&&m===f?n(p,h):e(f,m,a|l)}}return rD=u,rD}var iD,_6;function mm(){if(_6)return iD;_6=1;function e(t){return t}return iD=e,iD}var oD,O6;function Gze(){if(O6)return oD;O6=1;function e(t){return function(n){return n==null?void 0:n[t]}}return oD=e,oD}var sD,D6;function zze(){if(D6)return sD;D6=1;var e=PV();function t(n){return function(r){return e(r,n)}}return sD=t,sD}var aD,I6;function Uze(){if(I6)return aD;I6=1;var e=Gze(),t=zze(),n=SV(),r=VR();function i(o){return n(o)?e(r(o)):t(o)}return aD=i,aD}var lD,M6;function fl(){if(M6)return lD;M6=1;var e=Vze(),t=jze(),n=mm(),r=To(),i=Uze();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return lD=o,lD}var uD,F6;function Eie(){if(F6)return uD;F6=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return uD=e,uD}var cD,k6;function Wze(){if(k6)return cD;k6=1;function e(t){return t!==t}return cD=e,cD}var dD,L6;function qze(){if(L6)return dD;L6=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return dD=e,dD}var hD,N6;function Kze(){if(N6)return hD;N6=1;var e=Eie(),t=Wze(),n=qze();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return hD=r,hD}var fD,V6;function Yze(){if(V6)return fD;V6=1;var e=Kze();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return fD=t,fD}var pD,B6;function Xze(){if(B6)return pD;B6=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return pD=e,pD}var gD,H6;function Qze(){if(H6)return gD;H6=1;function e(){}return gD=e,gD}var mD,$6;function Zze(){if($6)return mD;$6=1;var e=wie(),t=Qze(),n=LV(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return mD=i,mD}var vD,j6;function Jze(){if(j6)return vD;j6=1;var e=hie(),t=Yze(),n=Xze(),r=pie(),i=Zze(),o=LV(),s=200;function a(l,u,h){var f=-1,p=t,m=l.length,b=!0,C=[],y=C;if(h)b=!1,p=n;else if(m>=s){var x=u?null:i(l);if(x)return o(x);b=!1,p=r,y=new e}else y=u?[]:C;e:for(;++f<m;){var R=l[f],T=u?u(R):R;if(R=h||R!==0?R:0,b&&T===T){for(var M=y.length;M--;)if(y[M]===T)continue e;u&&y.push(T),C.push(R)}else p(y,T,h)||(y!==C&&y.push(T),C.push(R))}return C}return vD=a,vD}var yD,G6;function eUe(){if(G6)return yD;G6=1;var e=fl(),t=Jze();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return yD=n,yD}var tUe=eUe();const z6=Sn(tUe);function Rie(e,t,n){return t===!0?z6(e,n):Dt(t)?z6(e,t):e}function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}var nUe=["ref"];function U6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(n),!0).forEach(function(r){WR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Aie(r.key),r)}}function iUe(e,t,n){return t&&W6(e.prototype,t),n&&W6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oUe(e,t,n){return t=jx(t),sUe(e,Tie()?Reflect.construct(t,n||[],jx(e).constructor):t.apply(e,n))}function sUe(e,t){if(t&&(xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aUe(e)}function aUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tie=function(){return!!e})()}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jx(e)}function lUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ik(e,t)}function Ik(e,t){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ik(e,t)}function WR(e,t,n){return t=Aie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aie(e){var t=uUe(e,"string");return xg(t)=="symbol"?t:t+""}function uUe(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cUe(e,t){if(e==null)return{};var n=dUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dUe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function hUe(e){return e.value}function fUe(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var n=cUe(t,nUe);return z.createElement(kV,n)}var q6=1,Eh=function(e){function t(){var n;rUe(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=oUe(this,t,[].concat(i)),WR(n,"lastBoundingBox",{width:-1,height:-1}),n}return lUe(t,e),iUe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>q6||Math.abs(i.height-this.lastBoundingBox.height)>q6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ll({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,h=i.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var b=this.getBBoxSnapshot();p={top:((h||0)-b.height)/2}}else p=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ll(Ll({},f),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,h=i.payload,f=Ll(Ll({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},fUe(o,Ll(Ll({},this.props),{},{payload:Rie(h,u,hUe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ll(Ll({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Ue(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(w.PureComponent);WR(Eh,"displayName","Legend");WR(Eh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bD,K6;function pUe(){if(K6)return bD;K6=1;var e=OC(),t=NV(),n=To(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return bD=i,bD}var CD,Y6;function Pie(){if(Y6)return CD;Y6=1;var e=mie(),t=pUe();function n(r,i,o,s,a){var l=-1,u=r.length;for(o||(o=t),a||(a=[]);++l<u;){var h=r[l];i>0&&o(h)?i>1?n(h,i-1,o,s,a):e(a,h):s||(a[a.length]=h)}return a}return CD=n,CD}var wD,X6;function gUe(){if(X6)return wD;X6=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++o];if(r(s[u],u,s)===!1)break}return n}}return wD=e,wD}var SD,Q6;function mUe(){if(Q6)return SD;Q6=1;var e=gUe(),t=e();return SD=t,SD}var xD,Z6;function _ie(){if(Z6)return xD;Z6=1;var e=mUe(),t=UR();function n(r,i){return r&&e(r,i,t)}return xD=n,xD}var ED,J6;function vUe(){if(J6)return ED;J6=1;var e=MC();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return ED=t,ED}var RD,eq;function $V(){if(eq)return RD;eq=1;var e=_ie(),t=vUe(),n=t(e);return RD=n,RD}var TD,tq;function Oie(){if(tq)return TD;tq=1;var e=$V(),t=MC();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return TD=n,TD}var AD,nq;function yUe(){if(nq)return AD;nq=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return AD=e,AD}var PD,rq;function bUe(){if(rq)return PD;rq=1;var e=pm();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),l=r!==void 0,u=r===null,h=r===r,f=e(r);if(!u&&!f&&!a&&n>r||a&&l&&h&&!u&&!f||o&&l&&h||!i&&h||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||u&&i&&s||!l&&s||!h)return-1}return 0}return PD=t,PD}var _D,iq;function CUe(){if(iq)return _D;iq=1;var e=bUe();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,l=s.length,u=i.length;++o<l;){var h=e(s[o],a[o]);if(h){if(o>=u)return h;var f=i[o];return h*(f=="desc"?-1:1)}}return n.index-r.index}return _D=t,_D}var OD,oq;function wUe(){if(oq)return OD;oq=1;var e=AV(),t=PV(),n=fl(),r=Oie(),i=yUe(),o=yie(),s=CUe(),a=mm(),l=To();function u(h,f,p){f.length?f=e(f,function(C){return l(C)?function(y){return t(y,C.length===1?C[0]:C)}:C}):f=[a];var m=-1;f=e(f,o(n));var b=r(h,function(C,y,x){var R=e(f,function(T){return T(C)});return{criteria:R,index:++m,value:C}});return i(b,function(C,y){return s(C,y,p)})}return OD=u,OD}var DD,sq;function SUe(){if(sq)return DD;sq=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return DD=e,DD}var ID,aq;function xUe(){if(aq)return ID;aq=1;var e=SUe(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=t(s.length-i,0),u=Array(l);++a<l;)u[a]=s[i+a];a=-1;for(var h=Array(i+1);++a<i;)h[a]=s[a];return h[i]=o(u),e(r,this,h)}}return ID=n,ID}var MD,lq;function EUe(){if(lq)return MD;lq=1;function e(t){return function(){return t}}return MD=e,MD}var FD,uq;function Die(){if(uq)return FD;uq=1;var e=af(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return FD=t,FD}var kD,cq;function RUe(){if(cq)return kD;cq=1;var e=EUe(),t=Die(),n=mm(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return kD=r,kD}var LD,dq;function TUe(){if(dq)return LD;dq=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),l=t-(a-s);if(s=a,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return LD=r,LD}var ND,hq;function AUe(){if(hq)return ND;hq=1;var e=RUe(),t=TUe(),n=t(e);return ND=n,ND}var VD,fq;function PUe(){if(fq)return VD;fq=1;var e=mm(),t=xUe(),n=AUe();function r(i,o){return n(t(i,o,e),i+"")}return VD=r,VD}var BD,pq;function qR(){if(pq)return BD;pq=1;var e=EV(),t=MC(),n=VV(),r=cd();function i(o,s,a){if(!r(a))return!1;var l=typeof s;return(l=="number"?t(a)&&n(s,a.length):l=="string"&&s in a)?e(a[s],o):!1}return BD=i,BD}var HD,gq;function _Ue(){if(gq)return HD;gq=1;var e=Pie(),t=wUe(),n=PUe(),r=qR(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return HD=i,HD}var OUe=_Ue();const jV=Sn(OUe);function lb(e){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lb(e)}function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mk.apply(this,arguments)}function DUe(e,t){return kUe(e)||FUe(e,t)||MUe(e,t)||IUe()}function IUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MUe(e,t){if(e){if(typeof e=="string")return mq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mq(e,t)}}function mq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function kUe(e){if(Array.isArray(e))return e}function vq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vq(Object(n),!0).forEach(function(r){LUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LUe(e,t,n){return t=NUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NUe(e){var t=VUe(e,"string");return lb(t)=="symbol"?t:t+""}function VUe(e,t){if(lb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BUe(e){return Array.isArray(e)&&zr(e[0])&&zr(e[1])?e.join(" ~ "):e}var HUe=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,l=t.labelStyle,u=l===void 0?{}:l,h=t.payload,f=t.formatter,p=t.itemSorter,m=t.wrapperClassName,b=t.labelClassName,C=t.label,y=t.labelFormatter,x=t.accessibilityLayer,R=x===void 0?!1:x,T=function(){if(h&&h.length){var V={padding:0,margin:0},N=(p?jV(h,p):h).map(function(Y,X){if(Y.type==="none")return null;var j=$D({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},a),G=Y.formatter||f||BUe,U=Y.value,Z=Y.name,$=U,Q=Z;if(G&&$!=null&&Q!=null){var J=G(U,Z,Y,X,h);if(Array.isArray(J)){var ne=DUe(J,2);$=ne[0],Q=ne[1]}else $=J}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:j},zr(Q)?z.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,zr(Q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},$),z.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:V},N)}return null},M=$D({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=$D({margin:0},u),D=!Wt(C),_=D?C:"",I=ln("recharts-default-tooltip",m),O=ln("recharts-tooltip-label",b);D&&y&&h!==void 0&&h!==null&&(_=y(C,h));var F=R?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",Mk({className:I,style:M},F),z.createElement("p",{className:O,style:A},z.isValidElement(_)?_:"".concat(_)),T())};function ub(e){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ub(e)}function D0(e,t,n){return t=$Ue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Ue(e){var t=jUe(e,"string");return ub(t)=="symbol"?t:t+""}function jUe(e,t){if(ub(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ub(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xv="recharts-tooltip-wrapper",GUe={visibility:"hidden"};function zUe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ln(xv,D0(D0(D0(D0({},"".concat(xv,"-right"),Ue(n)&&t&&Ue(t.x)&&n>=t.x),"".concat(xv,"-left"),Ue(n)&&t&&Ue(t.x)&&n<t.x),"".concat(xv,"-bottom"),Ue(r)&&t&&Ue(t.y)&&r>=t.y),"".concat(xv,"-top"),Ue(r)&&t&&Ue(t.y)&&r<t.y))}function yq(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,a=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&Ue(o[r]))return o[r];var h=n[r]-a-i,f=n[r]+i;if(t[r])return s[r]?h:f;if(s[r]){var p=h,m=l[r];return p<m?Math.max(f,l[r]):Math.max(h,l[r])}var b=f+a,C=l[r]+u;return b>C?Math.max(h,l[r]):Math.max(f,l[r])}function UUe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function WUe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipBox,a=e.useTranslate3d,l=e.viewBox,u,h,f;return s.height>0&&s.width>0&&n?(h=yq({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=yq({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=UUe({translateX:h,translateY:f,useTranslate3d:a})):u=GUe,{cssProperties:u,cssClasses:zUe({translateX:h,translateY:f,coordinate:n})}}function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function bq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bq(Object(n),!0).forEach(function(r){kk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mie(r.key),r)}}function YUe(e,t,n){return t&&KUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XUe(e,t,n){return t=Gx(t),QUe(e,Iie()?Reflect.construct(t,n||[],Gx(e).constructor):t.apply(e,n))}function QUe(e,t){if(t&&(Eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZUe(e)}function ZUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iie=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gx(e)}function JUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}function Fk(e,t){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fk(e,t)}function kk(e,t,n){return t=Mie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mie(e){var t=e4e(e,"string");return Eg(t)=="symbol"?t:t+""}function e4e(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wq=1,t4e=function(e){function t(){var n;qUe(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=XUe(this,t,[].concat(i)),kk(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),kk(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),n}return JUe(t,e),YUe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>wq||Math.abs(r.height-this.state.lastBoundingBox.height)>wq)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,h=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,m=i.offset,b=i.position,C=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,R=i.wrapperStyle,T=WUe({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:m,position:b,reverseDirection:C,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),M=T.cssClasses,A=T.cssProperties,D=Cq(Cq({transition:p&&o?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},R);return z.createElement("div",{tabIndex:-1,className:M,style:D,ref:function(I){r.wrapperNode=I}},u)}}])}(w.PureComponent),n4e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},KR={isSsr:n4e()};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function Sq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sq(Object(n),!0).forEach(function(r){GV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i4e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kie(r.key),r)}}function o4e(e,t,n){return t&&i4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s4e(e,t,n){return t=zx(t),a4e(e,Fie()?Reflect.construct(t,n||[],zx(e).constructor):t.apply(e,n))}function a4e(e,t){if(t&&(Rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l4e(e)}function l4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fie=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zx(e)}function u4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lk(e,t)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lk(e,t)}function GV(e,t,n){return t=kie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kie(e){var t=c4e(e,"string");return Rg(t)=="symbol"?t:t+""}function c4e(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function d4e(e){return e.dataKey}function h4e(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(HUe,t)}var Ha=function(e){function t(){return r4e(this,t),s4e(this,t,arguments)}return u4e(t,e),o4e(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,h=i.coordinate,f=i.filterNull,p=i.isAnimationActive,m=i.offset,b=i.payload,C=i.payloadUniqBy,y=i.position,x=i.reverseDirection,R=i.useTranslate3d,T=i.viewBox,M=i.wrapperStyle,A=b??[];f&&A.length&&(A=Rie(b.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),C,d4e));var D=A.length>0;return z.createElement(t4e,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:p,active:o,coordinate:h,hasPayload:D,offset:m,position:y,reverseDirection:x,useTranslate3d:R,viewBox:T,wrapperStyle:M},h4e(u,xq(xq({},this.props),{},{payload:A})))}}])}(w.PureComponent);GV(Ha,"displayName","Tooltip");GV(Ha,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!KR.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jD,Eq;function f4e(){if(Eq)return jD;Eq=1;var e=hl(),t=function(){return e.Date.now()};return jD=t,jD}var GD,Rq;function p4e(){if(Rq)return GD;Rq=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return GD=t,GD}var zD,Tq;function g4e(){if(Tq)return zD;Tq=1;var e=p4e(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return zD=n,zD}var UD,Aq;function Lie(){if(Aq)return UD;Aq=1;var e=g4e(),t=cd(),n=pm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=t(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||s.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return UD=l,UD}var WD,Pq;function m4e(){if(Pq)return WD;Pq=1;var e=cd(),t=f4e(),n=Lie(),r="Expected a function",i=Math.max,o=Math.min;function s(a,l,u){var h,f,p,m,b,C,y=0,x=!1,R=!1,T=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,e(u)&&(x=!!u.leading,R="maxWait"in u,p=R?i(n(u.maxWait)||0,l):p,T="trailing"in u?!!u.trailing:T);function M(N){var Y=h,X=f;return h=f=void 0,y=N,m=a.apply(X,Y),m}function A(N){return y=N,b=setTimeout(I,l),x?M(N):m}function D(N){var Y=N-C,X=N-y,j=l-Y;return R?o(j,p-X):j}function _(N){var Y=N-C,X=N-y;return C===void 0||Y>=l||Y<0||R&&X>=p}function I(){var N=t();if(_(N))return O(N);b=setTimeout(I,D(N))}function O(N){return b=void 0,T&&h?M(N):(h=f=void 0,m)}function F(){b!==void 0&&clearTimeout(b),y=0,h=C=f=b=void 0}function L(){return b===void 0?m:O(t())}function V(){var N=t(),Y=_(N);if(h=arguments,f=this,C=N,Y){if(b===void 0)return A(C);if(R)return clearTimeout(b),b=setTimeout(I,l),M(C)}return b===void 0&&(b=setTimeout(I,l)),m}return V.cancel=F,V.flush=L,V}return WD=s,WD}var qD,_q;function v4e(){if(_q)return qD;_q=1;var e=m4e(),t=cd(),n="Expected a function";function r(i,o,s){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(s)&&(a="leading"in s?!!s.leading:a,l="trailing"in s?!!s.trailing:l),e(i,o,{leading:a,maxWait:o,trailing:l})}return qD=r,qD}var y4e=v4e();const Nie=Sn(y4e);function cb(e){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cb(e)}function Oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oq(Object(n),!0).forEach(function(r){b4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b4e(e,t,n){return t=C4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C4e(e){var t=w4e(e,"string");return cb(t)=="symbol"?t:t+""}function w4e(e,t){if(cb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S4e(e,t){return T4e(e)||R4e(e,t)||E4e(e,t)||x4e()}function x4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E4e(e,t){if(e){if(typeof e=="string")return Dq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dq(e,t)}}function Dq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function T4e(e){if(Array.isArray(e))return e}var A4e=w.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,s=o===void 0?"100%":o,a=e.height,l=a===void 0?"100%":a,u=e.minWidth,h=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,m=e.children,b=e.debounce,C=b===void 0?0:b,y=e.id,x=e.className,R=e.onResize,T=e.style,M=T===void 0?{}:T,A=w.useRef(null),D=w.useRef();D.current=R,w.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var _=w.useState({containerWidth:i.width,containerHeight:i.height}),I=S4e(_,2),O=I[0],F=I[1],L=w.useCallback(function(N,Y){F(function(X){var j=Math.round(N),G=Math.round(Y);return X.containerWidth===j&&X.containerHeight===G?X:{containerWidth:j,containerHeight:G}})},[]);w.useEffect(function(){var N=function(Z){var $,Q=Z[0].contentRect,J=Q.width,ne=Q.height;L(J,ne),($=D.current)===null||$===void 0||$.call(D,J,ne)};C>0&&(N=Nie(N,C,{trailing:!0,leading:!1}));var Y=new ResizeObserver(N),X=A.current.getBoundingClientRect(),j=X.width,G=X.height;return L(j,G),Y.observe(A.current),function(){Y.disconnect()}},[L,C]);var V=w.useMemo(function(){var N=O.containerWidth,Y=O.containerHeight;if(N<0||Y<0)return null;ru(nh(s)||nh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ru(!n||n>0,"The aspect(%s) must be greater than zero.",n);var X=nh(s)?N:s,j=nh(l)?Y:l;n&&n>0&&(X?j=X/n:j&&(X=j*n),p&&j>p&&(j=p)),ru(X>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,j,s,l,h,f,n);var G=!Array.isArray(m)&&nu(m.type).endsWith("Chart");return z.Children.map(m,function(U){return z.isValidElement(U)?w.cloneElement(U,I0({width:X,height:j},G?{style:I0({height:"100%",width:"100%",maxHeight:j,maxWidth:X},U.props.style)}:{})):U})},[n,m,l,p,f,h,O,s]);return z.createElement("div",{id:y?"".concat(y):void 0,className:ln("recharts-responsive-container",x),style:I0(I0({},M),{},{width:s,height:l,minWidth:h,minHeight:f,maxHeight:p}),ref:A},V)}),zV=function(t){return null};zV.displayName="Cell";function db(e){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},db(e)}function Iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iq(Object(n),!0).forEach(function(r){P4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P4e(e,t,n){return t=_4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _4e(e){var t=O4e(e,"string");return db(t)=="symbol"?t:t+""}function O4e(e,t){if(db(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp={widthCache:{},cacheCount:0},D4e=2e3,I4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mq="recharts_measurement_span";function M4e(e){var t=Nk({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Fq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||KR.isSsr)return{width:0,height:0};var r=M4e(n),i=JSON.stringify({text:t,copyStyle:r});if(tp.widthCache[i])return tp.widthCache[i];try{var o=document.getElementById(Mq);o||(o=document.createElement("span"),o.setAttribute("id",Mq),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Nk(Nk({},I4e),r);Object.assign(o.style,s),o.textContent="".concat(t);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return tp.widthCache[i]=l,++tp.cacheCount>D4e&&(tp.cacheCount=0,tp.widthCache={}),l}catch{return{width:0,height:0}}},F4e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hb(e){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hb(e)}function Ux(e,t){return V4e(e)||N4e(e,t)||L4e(e,t)||k4e()}function k4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4e(e,t){if(e){if(typeof e=="string")return kq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kq(e,t)}}function kq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function V4e(e){if(Array.isArray(e))return e}function B4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$4e(r.key),r)}}function H4e(e,t,n){return t&&Lq(e.prototype,t),n&&Lq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $4e(e){var t=j4e(e,"string");return hb(t)=="symbol"?t:t+""}function j4e(e,t){if(hb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G4e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,z4e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Vie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},U4e=Object.keys(Vie),gp="NaN";function W4e(e,t){return e*Vie[t]}var M0=function(){function e(t,n){B4e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!G4e.test(n)&&(this.num=NaN,this.unit=""),U4e.includes(n)&&(this.num=W4e(t,n),this.unit="px")}return H4e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=z4e.exec(n))!==null&&r!==void 0?r:[],o=Ux(i,3),s=o[1],a=o[2];return new e(parseFloat(s),a??"")}}])}();function Bie(e){if(e.includes(gp))return gp;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=Nq.exec(t))!==null&&n!==void 0?n:[],i=Ux(r,4),o=i[1],s=i[2],a=i[3],l=M0.parse(o??""),u=M0.parse(a??""),h=s==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return gp;t=t.replace(Nq,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=Vq.exec(t))!==null&&f!==void 0?f:[],m=Ux(p,4),b=m[1],C=m[2],y=m[3],x=M0.parse(b??""),R=M0.parse(y??""),T=C==="+"?x.add(R):x.subtract(R);if(T.isNaN())return gp;t=t.replace(Vq,T.toString())}return t}var Bq=/\(([^()]*)\)/;function q4e(e){for(var t=e;t.includes("(");){var n=Bq.exec(t),r=Ux(n,2),i=r[1];t=t.replace(Bq,Bie(i))}return t}function K4e(e){var t=e.replace(/\s+/g,"");return t=q4e(t),t=Bie(t),t}function Y4e(e){try{return K4e(e)}catch{return gp}}function KD(e){var t=Y4e(e.slice(5,-1));return t===gp?"":t}var X4e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Q4e=["dx","dy","angle","className","breakAll"];function Vk(){return Vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vk.apply(this,arguments)}function Hq(e,t){if(e==null)return{};var n=Z4e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Z4e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $q(e,t){return nWe(e)||tWe(e,t)||eWe(e,t)||J4e()}function J4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eWe(e,t){if(e){if(typeof e=="string")return jq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jq(e,t)}}function jq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function nWe(e){if(Array.isArray(e))return e}var Hie=/[ \f\n\r\t\v\u2028\u2029]+/,$ie=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];Wt(n)||(r?o=n.toString().split(""):o=n.toString().split(Hie));var s=o.map(function(l){return{word:l,width:Fq(l,i).width}}),a=r?0:Fq("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},rWe=function(t,n,r,i,o){var s=t.maxLines,a=t.children,l=t.style,u=t.breakAll,h=Ue(s),f=a,p=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(j,G){var U=G.word,Z=G.width,$=j[j.length-1];if($&&(i==null||o||$.width+Z+r<Number(i)))$.words.push(U),$.width+=Z+r;else{var Q={words:[U],width:Z};j.push(Q)}return j},[])},m=p(n),b=function(X){return X.reduce(function(j,G){return j.width>G.width?j:G})};if(!h)return m;for(var C="",y=function(X){var j=f.slice(0,X),G=$ie({breakAll:u,style:l,children:j+C}).wordsWithComputedWidth,U=p(G),Z=U.length>s||b(U).width>Number(i);return[Z,U]},x=0,R=f.length-1,T=0,M;x<=R&&T<=f.length-1;){var A=Math.floor((x+R)/2),D=A-1,_=y(D),I=$q(_,2),O=I[0],F=I[1],L=y(A),V=$q(L,1),N=V[0];if(!O&&!N&&(x=A+1),O&&N&&(R=A-1),!O&&N){M=F;break}T++}return M||m},Gq=function(t){var n=Wt(t)?[]:t.toString().split(Hie);return[{words:n}]},iWe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((n||r)&&!KR.isSsr){var l,u,h=$ie({breakAll:s,children:i,style:o});if(h){var f=h.wordsWithComputedWidth,p=h.spaceWidth;l=f,u=p}else return Gq(i);return rWe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return Gq(i)},zq="#808080",Tg=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.lineHeight,a=s===void 0?"1em":s,l=t.capHeight,u=l===void 0?"0.71em":l,h=t.scaleToFit,f=h===void 0?!1:h,p=t.textAnchor,m=p===void 0?"start":p,b=t.verticalAnchor,C=b===void 0?"end":b,y=t.fill,x=y===void 0?zq:y,R=Hq(t,X4e),T=w.useMemo(function(){return iWe({breakAll:R.breakAll,children:R.children,maxLines:R.maxLines,scaleToFit:f,style:R.style,width:R.width})},[R.breakAll,R.children,R.maxLines,f,R.style,R.width]),M=R.dx,A=R.dy,D=R.angle,_=R.className,I=R.breakAll,O=Hq(R,Q4e);if(!zr(r)||!zr(o))return null;var F=r+(Ue(M)?M:0),L=o+(Ue(A)?A:0),V;switch(C){case"start":V=KD("calc(".concat(u,")"));break;case"middle":V=KD("calc(".concat((T.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:V=KD("calc(".concat(T.length-1," * -").concat(a,")"));break}var N=[];if(f){var Y=T[0].width,X=R.width;N.push("scale(".concat((Ue(X)?X/Y:1)/Y,")"))}return D&&N.push("rotate(".concat(D,", ").concat(F,", ").concat(L,")")),N.length&&(O.transform=N.join(" ")),z.createElement("text",Vk({},Rt(O,!0),{x:F,y:L,className:ln("recharts-text",_),textAnchor:m,fill:x.includes("url")?zq:x}),T.map(function(j,G){var U=j.words.join(I?"":" ");return z.createElement("tspan",{x:F,dy:G===0?V:a,key:"".concat(U,"-").concat(G)},U)}))};function kc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oWe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UV(e){let t,n,r;e.length!==2?(t=kc,n=(a,l)=>kc(e(a),l),r=(a,l)=>e(a)-l):(t=e===kc||e===oWe?e:sWe,n=e,r=e);function i(a,l,u=0,h=a.length){if(u<h){if(t(l,l)!==0)return h;do{const f=u+h>>>1;n(a[f],l)<0?u=f+1:h=f}while(u<h)}return u}function o(a,l,u=0,h=a.length){if(u<h){if(t(l,l)!==0)return h;do{const f=u+h>>>1;n(a[f],l)<=0?u=f+1:h=f}while(u<h)}return u}function s(a,l,u=0,h=a.length){const f=i(a,l,u,h-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function sWe(){return 0}function jie(e){return e===null?NaN:+e}function*aWe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const lWe=UV(kc),FC=lWe.right;UV(jie).center;class Uq extends Map{constructor(t,n=dWe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Wq(this,t))}has(t){return super.has(Wq(this,t))}set(t,n){return super.set(uWe(this,t),n)}delete(t){return super.delete(cWe(this,t))}}function Wq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uWe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function cWe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function dWe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hWe(e=kc){if(e===kc)return Gie;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Gie(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fWe=Math.sqrt(50),pWe=Math.sqrt(10),gWe=Math.sqrt(2);function Wx(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=fWe?10:o>=pWe?5:o>=gWe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?Wx(e,t,n*2):[a,l,u]}function Bk(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?Wx(t,e,n):Wx(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Hk(e,t,n){return t=+t,e=+e,n=+n,Wx(e,t,n)[2]}function $k(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Hk(t,e,n):Hk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function qq(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Kq(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function zie(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Gie:hWe(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,h=Math.log(l),f=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+p)),b=Math.min(r,Math.floor(t+(l-u)*f/l+p));zie(e,t,m,b,i)}const o=e[t];let s=n,a=r;for(Ev(e,n,t),i(e[r],o)>0&&Ev(e,n,r);s<a;){for(Ev(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?Ev(e,n,a):(++a,Ev(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Ev(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mWe(e,t,n){if(e=Float64Array.from(aWe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Kq(e);if(t>=1)return qq(e);var r,i=(r-1)*t,o=Math.floor(i),s=qq(zie(e,o).subarray(0,o+1)),a=Kq(e.subarray(o+1));return s+(a-s)*(i-o)}}function vWe(e,t,n=jie){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function yWe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Vs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jk=Symbol("implicit");function WV(){var e=new Uq,t=[],n=[],r=jk;function i(o){let s=e.get(o);if(s===void 0){if(r!==jk)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Uq;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return WV(t,n).unknown(r)},Vs.apply(i,arguments),i}function fb(){var e=WV().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,u=0,h=.5;delete e.unknown;function f(){var p=t().length,m=i<r,b=m?i:r,C=m?r:i;o=(C-b)/Math.max(1,p-l+u*2),a&&(o=Math.floor(o)),b+=(C-b-o*(p-l))*h,s=o*(1-l),a&&(b=Math.round(b),s=Math.round(s));var y=yWe(p).map(function(x){return b+o*x});return n(m?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(p){return arguments.length?(a=!!p,f()):a},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),f()):h},e.copy=function(){return fb(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(h)},Vs.apply(f(),arguments)}function Uie(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Uie(t())},e}function py(){return Uie(fb.apply(null,arguments).paddingInner(1))}function qV(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Wie(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kC(){}var pb=.7,qx=1/pb,Bp="\\s*([+-]?\\d+)\\s*",gb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bWe=/^#([0-9a-f]{3,8})$/,CWe=new RegExp(`^rgb\\(${Bp},${Bp},${Bp}\\)$`),wWe=new RegExp(`^rgb\\(${Ja},${Ja},${Ja}\\)$`),SWe=new RegExp(`^rgba\\(${Bp},${Bp},${Bp},${gb}\\)$`),xWe=new RegExp(`^rgba\\(${Ja},${Ja},${Ja},${gb}\\)$`),EWe=new RegExp(`^hsl\\(${gb},${Ja},${Ja}\\)$`),RWe=new RegExp(`^hsla\\(${gb},${Ja},${Ja},${gb}\\)$`),Yq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qV(kC,mb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xq,formatHex:Xq,formatHex8:TWe,formatHsl:AWe,formatRgb:Qq,toString:Qq});function Xq(){return this.rgb().formatHex()}function TWe(){return this.rgb().formatHex8()}function AWe(){return qie(this).formatHsl()}function Qq(){return this.rgb().formatRgb()}function mb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bWe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Zq(t):n===3?new xo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?F0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?F0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CWe.exec(e))?new xo(t[1],t[2],t[3],1):(t=wWe.exec(e))?new xo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=SWe.exec(e))?F0(t[1],t[2],t[3],t[4]):(t=xWe.exec(e))?F0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EWe.exec(e))?t9(t[1],t[2]/100,t[3]/100,1):(t=RWe.exec(e))?t9(t[1],t[2]/100,t[3]/100,t[4]):Yq.hasOwnProperty(e)?Zq(Yq[e]):e==="transparent"?new xo(NaN,NaN,NaN,0):null}function Zq(e){return new xo(e>>16&255,e>>8&255,e&255,1)}function F0(e,t,n,r){return r<=0&&(e=t=n=NaN),new xo(e,t,n,r)}function PWe(e){return e instanceof kC||(e=mb(e)),e?(e=e.rgb(),new xo(e.r,e.g,e.b,e.opacity)):new xo}function Gk(e,t,n,r){return arguments.length===1?PWe(e):new xo(e,t,n,r??1)}function xo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qV(xo,Gk,Wie(kC,{brighter(e){return e=e==null?qx:Math.pow(qx,e),new xo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pb:Math.pow(pb,e),new xo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xo(Rh(this.r),Rh(this.g),Rh(this.b),Kx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jq,formatHex:Jq,formatHex8:_We,formatRgb:e9,toString:e9}));function Jq(){return`#${rh(this.r)}${rh(this.g)}${rh(this.b)}`}function _We(){return`#${rh(this.r)}${rh(this.g)}${rh(this.b)}${rh((isNaN(this.opacity)?1:this.opacity)*255)}`}function e9(){const e=Kx(this.opacity);return`${e===1?"rgb(":"rgba("}${Rh(this.r)}, ${Rh(this.g)}, ${Rh(this.b)}${e===1?")":`, ${e})`}`}function Kx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rh(e){return e=Rh(e),(e<16?"0":"")+e.toString(16)}function t9(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oa(e,t,n,r)}function qie(e){if(e instanceof oa)return new oa(e.h,e.s,e.l,e.opacity);if(e instanceof kC||(e=mb(e)),!e)return new oa;if(e instanceof oa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new oa(s,a,l,e.opacity)}function OWe(e,t,n,r){return arguments.length===1?qie(e):new oa(e,t,n,r??1)}function oa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qV(oa,OWe,Wie(kC,{brighter(e){return e=e==null?qx:Math.pow(qx,e),new oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pb:Math.pow(pb,e),new oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xo(YD(e>=240?e-240:e+120,i,r),YD(e,i,r),YD(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new oa(n9(this.h),k0(this.s),k0(this.l),Kx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kx(this.opacity);return`${e===1?"hsl(":"hsla("}${n9(this.h)}, ${k0(this.s)*100}%, ${k0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n9(e){return e=(e||0)%360,e<0?e+360:e}function k0(e){return Math.max(0,Math.min(1,e||0))}function YD(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const KV=e=>()=>e;function DWe(e,t){return function(n){return e+n*t}}function IWe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function MWe(e){return(e=+e)==1?Kie:function(t,n){return n-t?IWe(t,n,e):KV(isNaN(t)?n:t)}}function Kie(e,t){var n=t-e;return n?DWe(e,n):KV(isNaN(e)?t:e)}const r9=function e(t){var n=MWe(t);function r(i,o){var s=n((i=Gk(i)).r,(o=Gk(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=Kie(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=a(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=e,r}(1);function FWe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function kWe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LWe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=vm(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function NWe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Yx(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function VWe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=vm(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var zk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XD=new RegExp(zk.source,"g");function BWe(e){return function(){return e}}function HWe(e){return function(t){return e(t)+""}}function $We(e,t){var n=zk.lastIndex=XD.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=zk.exec(e))&&(i=XD.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Yx(r,i)})),n=XD.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?HWe(l[0].x):BWe(t):(t=l.length,function(u){for(var h=0,f;h<t;++h)a[(f=l[h]).i]=f.x(u);return a.join("")})}function vm(e,t){var n=typeof t,r;return t==null||n==="boolean"?KV(t):(n==="number"?Yx:n==="string"?(r=mb(t))?(t=r,r9):$We:t instanceof mb?r9:t instanceof Date?NWe:kWe(t)?FWe:Array.isArray(t)?LWe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VWe:Yx)(e,t)}function YV(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function jWe(e,t){t===void 0&&(t=e,e=vm);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function GWe(e){return function(){return e}}function Xx(e){return+e}var i9=[0,1];function io(e){return e}function Uk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:GWe(isNaN(t)?NaN:.5)}function zWe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function UWe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Uk(i,r),o=n(s,o)):(r=Uk(r,i),o=n(o,s)),function(a){return o(r(a))}}function WWe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Uk(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=FC(e,a,1,r)-1;return o[l](i[l](a))}}function LC(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function YR(){var e=i9,t=i9,n=vm,r,i,o,s=io,a,l,u;function h(){var p=Math.min(e.length,t.length);return s!==io&&(s=zWe(e[0],e[p-1])),a=p>2?WWe:UWe,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?o:(l||(l=a(e.map(r),t,n)))(r(s(p)))}return f.invert=function(p){return s(i((u||(u=a(t,e.map(r),Yx)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Xx),h()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=YV,h()},f.clamp=function(p){return arguments.length?(s=p?!0:io,h()):s!==io},f.interpolate=function(p){return arguments.length?(n=p,h()):n},f.unknown=function(p){return arguments.length?(o=p,f):o},function(p,m){return r=p,i=m,h()}}function XV(){return YR()(io,io)}function qWe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ag(e){return e=Qx(Math.abs(e)),e?e[1]:NaN}function KWe(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function YWe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var XWe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vb(e){if(!(t=XWe.exec(e)))throw new Error("invalid format: "+e);var t;return new QV({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vb.prototype=QV.prototype;function QV(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}QV.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QWe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Yie;function ZWe(e,t){var n=Qx(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Yie=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qx(e,Math.max(0,t+o-1))[0]}function o9(e,t){var n=Qx(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const s9={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qWe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>o9(e*100,t),r:o9,s:ZWe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function a9(e){return e}var l9=Array.prototype.map,u9=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JWe(e){var t=e.grouping===void 0||e.thousands===void 0?a9:KWe(l9.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?a9:YWe(l9.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=vb(f);var p=f.fill,m=f.align,b=f.sign,C=f.symbol,y=f.zero,x=f.width,R=f.comma,T=f.precision,M=f.trim,A=f.type;A==="n"?(R=!0,A="g"):s9[A]||(T===void 0&&(T=12),M=!0,A="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var D=C==="$"?n:C==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",_=C==="$"?r:/[%p]/.test(A)?s:"",I=s9[A],O=/[defgprs%]/.test(A);T=T===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function F(L){var V=D,N=_,Y,X,j;if(A==="c")N=I(L)+N,L="";else{L=+L;var G=L<0||1/L<0;if(L=isNaN(L)?l:I(Math.abs(L),T),M&&(L=QWe(L)),G&&+L==0&&b!=="+"&&(G=!1),V=(G?b==="("?b:a:b==="-"||b==="("?"":b)+V,N=(A==="s"?u9[8+Yie/3]:"")+N+(G&&b==="("?")":""),O){for(Y=-1,X=L.length;++Y<X;)if(j=L.charCodeAt(Y),48>j||j>57){N=(j===46?i+L.slice(Y+1):L.slice(Y))+N,L=L.slice(0,Y);break}}}R&&!y&&(L=t(L,1/0));var U=V.length+L.length+N.length,Z=U<x?new Array(x-U+1).join(p):"";switch(R&&y&&(L=t(Z+L,Z.length?x-N.length:1/0),Z=""),m){case"<":L=V+L+N+Z;break;case"=":L=V+Z+L+N;break;case"^":L=Z.slice(0,U=Z.length>>1)+V+L+N+Z.slice(U);break;default:L=Z+V+L+N;break}return o(L)}return F.toString=function(){return f+""},F}function h(f,p){var m=u((f=vb(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(Ag(p)/3)))*3,C=Math.pow(10,-b),y=u9[8+b/3];return function(x){return m(C*x)+y}}return{format:u,formatPrefix:h}}var L0,ZV,Xie;e3e({thousands:",",grouping:[3],currency:["$",""]});function e3e(e){return L0=JWe(e),ZV=L0.format,Xie=L0.formatPrefix,L0}function t3e(e){return Math.max(0,-Ag(Math.abs(e)))}function n3e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ag(t)/3)))*3-Ag(Math.abs(e)))}function r3e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ag(t)-Ag(e))+1}function Qie(e,t,n,r){var i=$k(e,t,n),o;switch(r=vb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=n3e(i,s))&&(r.precision=o),Xie(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=r3e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=t3e(i))&&(r.precision=o-(r.type==="%")*2);break}}return ZV(r)}function dd(e){var t=e.domain;return e.ticks=function(n){var r=t();return Bk(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Qie(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,h=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);h-- >0;){if(u=Hk(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function Zx(){var e=XV();return e.copy=function(){return LC(e,Zx())},Vs.apply(e,arguments),dd(e)}function Zie(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Xx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Zie(e).unknown(t)},e=arguments.length?Array.from(e,Xx):[0,1],dd(n)}function Jie(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function c9(e){return Math.log(e)}function d9(e){return Math.exp(e)}function i3e(e){return-Math.log(-e)}function o3e(e){return-Math.exp(-e)}function s3e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function a3e(e){return e===10?s3e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function l3e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function h9(e){return(t,n)=>-e(-t,n)}function JV(e){const t=e(c9,d9),n=t.domain;let r=10,i,o;function s(){return i=l3e(r),o=a3e(r),n()[0]<0?(i=h9(i),o=h9(o),e(i3e,o3e)):e(c9,d9),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],h=l[l.length-1];const f=h<u;f&&([u,h]=[h,u]);let p=i(u),m=i(h),b,C;const y=a==null?10:+a;let x=[];if(!(r%1)&&m-p<y){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(b=1;b<r;++b)if(C=p<0?b/o(-p):b*o(p),!(C<u)){if(C>h)break;x.push(C)}}else for(;p<=m;++p)for(b=r-1;b>=1;--b)if(C=p>0?b/o(-p):b*o(p),!(C<u)){if(C>h)break;x.push(C)}x.length*2<y&&(x=Bk(u,h,y))}else x=Bk(p,m,Math.min(m-p,y)).map(o);return f?x.reverse():x},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=vb(l)).precision==null&&(l.trim=!0),l=ZV(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return h=>{let f=h/o(Math.round(i(h)));return f*r<r-.5&&(f*=r),f<=u?l(h):""}},t.nice=()=>n(Jie(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function eoe(){const e=JV(YR()).domain([1,10]);return e.copy=()=>LC(e,eoe()).base(e.base()),Vs.apply(e,arguments),e}function f9(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function p9(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eB(e){var t=1,n=e(f9(t),p9(t));return n.constant=function(r){return arguments.length?e(f9(t=+r),p9(t)):t},dd(n)}function toe(){var e=eB(YR());return e.copy=function(){return LC(e,toe()).constant(e.constant())},Vs.apply(e,arguments)}function g9(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function u3e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function c3e(e){return e<0?-e*e:e*e}function tB(e){var t=e(io,io),n=1;function r(){return n===1?e(io,io):n===.5?e(u3e,c3e):e(g9(n),g9(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},dd(t)}function nB(){var e=tB(YR());return e.copy=function(){return LC(e,nB()).exponent(e.exponent())},Vs.apply(e,arguments),e}function d3e(){return nB.apply(null,arguments).exponent(.5)}function m9(e){return Math.sign(e)*e*e}function h3e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function noe(){var e=XV(),t=[0,1],n=!1,r;function i(o){var s=h3e(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(m9(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Xx)).map(m9)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return noe(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Vs.apply(i,arguments),dd(i)}function roe(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=vWe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[FC(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(kc),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return roe().domain(e).range(t).unknown(r)},Vs.apply(o,arguments)}function ioe(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[FC(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return ioe().domain([e,t]).range(i).unknown(o)},Vs.apply(dd(s),arguments)}function ooe(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[FC(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return ooe().domain(e).range(t).unknown(n)},Vs.apply(i,arguments)}const QD=new Date,ZD=new Date;function qr(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>qr(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(QD.setTime(+o),ZD.setTime(+s),e(QD),e(ZD),Math.floor(n(QD,ZD))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Jx=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Jx);Jx.range;const Wl=1e3,_s=Wl*60,ql=_s*60,vu=ql*24,rB=vu*7,v9=vu*30,JD=vu*365,ih=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getUTCSeconds());ih.range;const iB=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getMinutes());iB.range;const oB=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getUTCMinutes());oB.range;const sB=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl-e.getMinutes()*_s)},(e,t)=>{e.setTime(+e+t*ql)},(e,t)=>(t-e)/ql,e=>e.getHours());sB.range;const aB=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ql)},(e,t)=>(t-e)/ql,e=>e.getUTCHours());aB.range;const NC=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_s)/vu,e=>e.getDate()-1);NC.range;const XR=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>e.getUTCDate()-1);XR.range;const soe=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>Math.floor(e/vu));soe.range;function lf(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_s)/rB)}const QR=lf(0),eE=lf(1),f3e=lf(2),p3e=lf(3),Pg=lf(4),g3e=lf(5),m3e=lf(6);QR.range;eE.range;f3e.range;p3e.range;Pg.range;g3e.range;m3e.range;function uf(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rB)}const ZR=uf(0),tE=uf(1),v3e=uf(2),y3e=uf(3),_g=uf(4),b3e=uf(5),C3e=uf(6);ZR.range;tE.range;v3e.range;y3e.range;_g.range;b3e.range;C3e.range;const lB=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lB.range;const uB=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());uB.range;const yu=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});yu.range;const bu=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});bu.range;function aoe(e,t,n,r,i,o){const s=[[ih,1,Wl],[ih,5,5*Wl],[ih,15,15*Wl],[ih,30,30*Wl],[o,1,_s],[o,5,5*_s],[o,15,15*_s],[o,30,30*_s],[i,1,ql],[i,3,3*ql],[i,6,6*ql],[i,12,12*ql],[r,1,vu],[r,2,2*vu],[n,1,rB],[t,1,v9],[t,3,3*v9],[e,1,JD]];function a(u,h,f){const p=h<u;p&&([u,h]=[h,u]);const m=f&&typeof f.range=="function"?f:l(u,h,f),b=m?m.range(u,+h+1):[];return p?b.reverse():b}function l(u,h,f){const p=Math.abs(h-u)/f,m=UV(([,,y])=>y).right(s,p);if(m===s.length)return e.every($k(u/JD,h/JD,f));if(m===0)return Jx.every(Math.max($k(u,h,f),1));const[b,C]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return b.every(C)}return[a,l]}const[w3e,S3e]=aoe(bu,uB,ZR,soe,aB,oB),[x3e,E3e]=aoe(yu,lB,QR,NC,sB,iB);function eI(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tI(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function R3e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=Tv(i),h=Av(i),f=Tv(o),p=Av(o),m=Tv(s),b=Av(s),C=Tv(a),y=Av(a),x=Tv(l),R=Av(l),T={a:G,A:U,b:Z,B:$,c:null,d:x9,e:x9,f:K3e,g:i5e,G:s5e,H:U3e,I:W3e,j:q3e,L:loe,m:Y3e,M:X3e,p:Q,q:J,Q:T9,s:A9,S:Q3e,u:Z3e,U:J3e,V:e5e,w:t5e,W:n5e,x:null,X:null,y:r5e,Y:o5e,Z:a5e,"%":R9},M={a:ne,A:ee,b:fe,B:me,c:null,d:E9,e:E9,f:d5e,g:w5e,G:x5e,H:l5e,I:u5e,j:c5e,L:coe,m:h5e,M:f5e,p:xe,q:Pe,Q:T9,s:A9,S:p5e,u:g5e,U:m5e,V:v5e,w:y5e,W:b5e,x:null,X:null,y:C5e,Y:S5e,Z:E5e,"%":R9},A={a:F,A:L,b:V,B:N,c:Y,d:w9,e:w9,f:$3e,g:C9,G:b9,H:S9,I:S9,j:N3e,L:H3e,m:L3e,M:V3e,p:O,q:k3e,Q:G3e,s:z3e,S:B3e,u:O3e,U:D3e,V:I3e,w:_3e,W:M3e,x:X,X:j,y:C9,Y:b9,Z:F3e,"%":j3e};T.x=D(n,T),T.X=D(r,T),T.c=D(t,T),M.x=D(n,M),M.X=D(r,M),M.c=D(t,M);function D(ue,Se){return function(Re){var le=[],Oe=-1,Ie=0,_e=ue.length,Le,Be,ze;for(Re instanceof Date||(Re=new Date(+Re));++Oe<_e;)ue.charCodeAt(Oe)===37&&(le.push(ue.slice(Ie,Oe)),(Be=y9[Le=ue.charAt(++Oe)])!=null?Le=ue.charAt(++Oe):Be=Le==="e"?" ":"0",(ze=Se[Le])&&(Le=ze(Re,Be)),le.push(Le),Ie=Oe+1);return le.push(ue.slice(Ie,Oe)),le.join("")}}function _(ue,Se){return function(Re){var le=Rv(1900,void 0,1),Oe=I(le,ue,Re+="",0),Ie,_e;if(Oe!=Re.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Se&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Ie=tI(Rv(le.y,0,1)),_e=Ie.getUTCDay(),Ie=_e>4||_e===0?tE.ceil(Ie):tE(Ie),Ie=XR.offset(Ie,(le.V-1)*7),le.y=Ie.getUTCFullYear(),le.m=Ie.getUTCMonth(),le.d=Ie.getUTCDate()+(le.w+6)%7):(Ie=eI(Rv(le.y,0,1)),_e=Ie.getDay(),Ie=_e>4||_e===0?eE.ceil(Ie):eE(Ie),Ie=NC.offset(Ie,(le.V-1)*7),le.y=Ie.getFullYear(),le.m=Ie.getMonth(),le.d=Ie.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),_e="Z"in le?tI(Rv(le.y,0,1)).getUTCDay():eI(Rv(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(_e+5)%7:le.w+le.U*7-(_e+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,tI(le)):eI(le)}}function I(ue,Se,Re,le){for(var Oe=0,Ie=Se.length,_e=Re.length,Le,Be;Oe<Ie;){if(le>=_e)return-1;if(Le=Se.charCodeAt(Oe++),Le===37){if(Le=Se.charAt(Oe++),Be=A[Le in y9?Se.charAt(Oe++):Le],!Be||(le=Be(ue,Re,le))<0)return-1}else if(Le!=Re.charCodeAt(le++))return-1}return le}function O(ue,Se,Re){var le=u.exec(Se.slice(Re));return le?(ue.p=h.get(le[0].toLowerCase()),Re+le[0].length):-1}function F(ue,Se,Re){var le=m.exec(Se.slice(Re));return le?(ue.w=b.get(le[0].toLowerCase()),Re+le[0].length):-1}function L(ue,Se,Re){var le=f.exec(Se.slice(Re));return le?(ue.w=p.get(le[0].toLowerCase()),Re+le[0].length):-1}function V(ue,Se,Re){var le=x.exec(Se.slice(Re));return le?(ue.m=R.get(le[0].toLowerCase()),Re+le[0].length):-1}function N(ue,Se,Re){var le=C.exec(Se.slice(Re));return le?(ue.m=y.get(le[0].toLowerCase()),Re+le[0].length):-1}function Y(ue,Se,Re){return I(ue,t,Se,Re)}function X(ue,Se,Re){return I(ue,n,Se,Re)}function j(ue,Se,Re){return I(ue,r,Se,Re)}function G(ue){return s[ue.getDay()]}function U(ue){return o[ue.getDay()]}function Z(ue){return l[ue.getMonth()]}function $(ue){return a[ue.getMonth()]}function Q(ue){return i[+(ue.getHours()>=12)]}function J(ue){return 1+~~(ue.getMonth()/3)}function ne(ue){return s[ue.getUTCDay()]}function ee(ue){return o[ue.getUTCDay()]}function fe(ue){return l[ue.getUTCMonth()]}function me(ue){return a[ue.getUTCMonth()]}function xe(ue){return i[+(ue.getUTCHours()>=12)]}function Pe(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Se=D(ue+="",T);return Se.toString=function(){return ue},Se},parse:function(ue){var Se=_(ue+="",!1);return Se.toString=function(){return ue},Se},utcFormat:function(ue){var Se=D(ue+="",M);return Se.toString=function(){return ue},Se},utcParse:function(ue){var Se=_(ue+="",!0);return Se.toString=function(){return ue},Se}}}var y9={"-":"",_:" ",0:"0"},di=/^\s*\d+/,T3e=/^%/,A3e=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function P3e(e){return e.replace(A3e,"\\$&")}function Tv(e){return new RegExp("^(?:"+e.map(P3e).join("|")+")","i")}function Av(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _3e(e,t,n){var r=di.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function O3e(e,t,n){var r=di.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function D3e(e,t,n){var r=di.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function I3e(e,t,n){var r=di.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function M3e(e,t,n){var r=di.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function b9(e,t,n){var r=di.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function C9(e,t,n){var r=di.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function F3e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function k3e(e,t,n){var r=di.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function L3e(e,t,n){var r=di.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function w9(e,t,n){var r=di.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function N3e(e,t,n){var r=di.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function S9(e,t,n){var r=di.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function V3e(e,t,n){var r=di.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function B3e(e,t,n){var r=di.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function H3e(e,t,n){var r=di.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $3e(e,t,n){var r=di.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function j3e(e,t,n){var r=T3e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function G3e(e,t,n){var r=di.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function z3e(e,t,n){var r=di.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function x9(e,t){return un(e.getDate(),t,2)}function U3e(e,t){return un(e.getHours(),t,2)}function W3e(e,t){return un(e.getHours()%12||12,t,2)}function q3e(e,t){return un(1+NC.count(yu(e),e),t,3)}function loe(e,t){return un(e.getMilliseconds(),t,3)}function K3e(e,t){return loe(e,t)+"000"}function Y3e(e,t){return un(e.getMonth()+1,t,2)}function X3e(e,t){return un(e.getMinutes(),t,2)}function Q3e(e,t){return un(e.getSeconds(),t,2)}function Z3e(e){var t=e.getDay();return t===0?7:t}function J3e(e,t){return un(QR.count(yu(e)-1,e),t,2)}function uoe(e){var t=e.getDay();return t>=4||t===0?Pg(e):Pg.ceil(e)}function e5e(e,t){return e=uoe(e),un(Pg.count(yu(e),e)+(yu(e).getDay()===4),t,2)}function t5e(e){return e.getDay()}function n5e(e,t){return un(eE.count(yu(e)-1,e),t,2)}function r5e(e,t){return un(e.getFullYear()%100,t,2)}function i5e(e,t){return e=uoe(e),un(e.getFullYear()%100,t,2)}function o5e(e,t){return un(e.getFullYear()%1e4,t,4)}function s5e(e,t){var n=e.getDay();return e=n>=4||n===0?Pg(e):Pg.ceil(e),un(e.getFullYear()%1e4,t,4)}function a5e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function E9(e,t){return un(e.getUTCDate(),t,2)}function l5e(e,t){return un(e.getUTCHours(),t,2)}function u5e(e,t){return un(e.getUTCHours()%12||12,t,2)}function c5e(e,t){return un(1+XR.count(bu(e),e),t,3)}function coe(e,t){return un(e.getUTCMilliseconds(),t,3)}function d5e(e,t){return coe(e,t)+"000"}function h5e(e,t){return un(e.getUTCMonth()+1,t,2)}function f5e(e,t){return un(e.getUTCMinutes(),t,2)}function p5e(e,t){return un(e.getUTCSeconds(),t,2)}function g5e(e){var t=e.getUTCDay();return t===0?7:t}function m5e(e,t){return un(ZR.count(bu(e)-1,e),t,2)}function doe(e){var t=e.getUTCDay();return t>=4||t===0?_g(e):_g.ceil(e)}function v5e(e,t){return e=doe(e),un(_g.count(bu(e),e)+(bu(e).getUTCDay()===4),t,2)}function y5e(e){return e.getUTCDay()}function b5e(e,t){return un(tE.count(bu(e)-1,e),t,2)}function C5e(e,t){return un(e.getUTCFullYear()%100,t,2)}function w5e(e,t){return e=doe(e),un(e.getUTCFullYear()%100,t,2)}function S5e(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function x5e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?_g(e):_g.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function E5e(){return"+0000"}function R9(){return"%"}function T9(e){return+e}function A9(e){return Math.floor(+e/1e3)}var np,hoe,foe;R5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function R5e(e){return np=R3e(e),hoe=np.format,np.parse,foe=np.utcFormat,np.utcParse,np}function T5e(e){return new Date(e)}function A5e(e){return e instanceof Date?+e:+new Date(+e)}function cB(e,t,n,r,i,o,s,a,l,u){var h=XV(),f=h.invert,p=h.domain,m=u(".%L"),b=u(":%S"),C=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),R=u("%b %d"),T=u("%B"),M=u("%Y");function A(D){return(l(D)<D?m:a(D)<D?b:s(D)<D?C:o(D)<D?y:r(D)<D?i(D)<D?x:R:n(D)<D?T:M)(D)}return h.invert=function(D){return new Date(f(D))},h.domain=function(D){return arguments.length?p(Array.from(D,A5e)):p().map(T5e)},h.ticks=function(D){var _=p();return e(_[0],_[_.length-1],D??10)},h.tickFormat=function(D,_){return _==null?A:u(_)},h.nice=function(D){var _=p();return(!D||typeof D.range!="function")&&(D=t(_[0],_[_.length-1],D??10)),D?p(Jie(_,D)):h},h.copy=function(){return LC(h,cB(e,t,n,r,i,o,s,a,l,u))},h}function P5e(){return Vs.apply(cB(x3e,E3e,yu,lB,QR,NC,sB,iB,ih,hoe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _5e(){return Vs.apply(cB(w3e,S3e,bu,uB,ZR,XR,aB,oB,ih,foe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function JR(){var e=0,t=1,n,r,i,o,s=io,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function h(f){return function(p){var m,b;return arguments.length?([m,b]=p,s=f(m,b),u):[s(0),s(1)]}}return u.range=h(vm),u.rangeRound=h(YV),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function hd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function poe(){var e=dd(JR()(io));return e.copy=function(){return hd(e,poe())},Pu.apply(e,arguments)}function goe(){var e=JV(JR()).domain([1,10]);return e.copy=function(){return hd(e,goe()).base(e.base())},Pu.apply(e,arguments)}function moe(){var e=eB(JR());return e.copy=function(){return hd(e,moe()).constant(e.constant())},Pu.apply(e,arguments)}function dB(){var e=tB(JR());return e.copy=function(){return hd(e,dB()).exponent(e.exponent())},Pu.apply(e,arguments)}function O5e(){return dB.apply(null,arguments).exponent(.5)}function voe(){var e=[],t=io;function n(r){if(r!=null&&!isNaN(r=+r))return t((FC(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(kc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>mWe(e,o/r))},n.copy=function(){return voe(t).domain(e)},Pu.apply(n,arguments)}function eT(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=io,h,f=!1,p;function m(C){return isNaN(C=+C)?p:(C=.5+((C=+h(C))-o)*(r*C<r*o?a:l),u(f?Math.max(0,Math.min(1,C)):C))}m.domain=function(C){return arguments.length?([e,t,n]=C,i=h(e=+e),o=h(t=+t),s=h(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m):[e,t,n]},m.clamp=function(C){return arguments.length?(f=!!C,m):f},m.interpolator=function(C){return arguments.length?(u=C,m):u};function b(C){return function(y){var x,R,T;return arguments.length?([x,R,T]=y,u=jWe(C,[x,R,T]),m):[u(0),u(.5),u(1)]}}return m.range=b(vm),m.rangeRound=b(YV),m.unknown=function(C){return arguments.length?(p=C,m):p},function(C){return h=C,i=C(e),o=C(t),s=C(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function yoe(){var e=dd(eT()(io));return e.copy=function(){return hd(e,yoe())},Pu.apply(e,arguments)}function boe(){var e=JV(eT()).domain([.1,1,10]);return e.copy=function(){return hd(e,boe()).base(e.base())},Pu.apply(e,arguments)}function Coe(){var e=eB(eT());return e.copy=function(){return hd(e,Coe()).constant(e.constant())},Pu.apply(e,arguments)}function hB(){var e=tB(eT());return e.copy=function(){return hd(e,hB()).exponent(e.exponent())},Pu.apply(e,arguments)}function D5e(){return hB.apply(null,arguments).exponent(.5)}const P9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fb,scaleDiverging:yoe,scaleDivergingLog:boe,scaleDivergingPow:hB,scaleDivergingSqrt:D5e,scaleDivergingSymlog:Coe,scaleIdentity:Zie,scaleImplicit:jk,scaleLinear:Zx,scaleLog:eoe,scaleOrdinal:WV,scalePoint:py,scalePow:nB,scaleQuantile:roe,scaleQuantize:ioe,scaleRadial:noe,scaleSequential:poe,scaleSequentialLog:goe,scaleSequentialPow:dB,scaleSequentialQuantile:voe,scaleSequentialSqrt:O5e,scaleSequentialSymlog:moe,scaleSqrt:d3e,scaleSymlog:toe,scaleThreshold:ooe,scaleTime:P5e,scaleUtc:_5e,tickFormat:Qie},Symbol.toStringTag,{value:"Module"}));var nI,_9;function tT(){if(_9)return nI;_9=1;var e=pm();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,h=a}return h}return nI=t,nI}var rI,O9;function woe(){if(O9)return rI;O9=1;function e(t,n){return t>n}return rI=e,rI}var iI,D9;function I5e(){if(D9)return iI;D9=1;var e=tT(),t=woe(),n=mm();function r(i){return i&&i.length?e(i,n,t):void 0}return iI=r,iI}var M5e=I5e();const nT=Sn(M5e);var oI,I9;function Soe(){if(I9)return oI;I9=1;function e(t,n){return t<n}return oI=e,oI}var sI,M9;function F5e(){if(M9)return sI;M9=1;var e=tT(),t=Soe(),n=mm();function r(i){return i&&i.length?e(i,n,t):void 0}return sI=r,sI}var k5e=F5e();const rT=Sn(k5e);var aI,F9;function L5e(){if(F9)return aI;F9=1;var e=AV(),t=fl(),n=Oie(),r=To();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return aI=i,aI}var lI,k9;function N5e(){if(k9)return lI;k9=1;var e=Pie(),t=L5e();function n(r,i){return e(t(r,i),1)}return lI=n,lI}var V5e=N5e();const B5e=Sn(V5e);var uI,L9;function H5e(){if(L9)return uI;L9=1;var e=HV();function t(n,r){return e(n,r)}return uI=t,uI}var $5e=H5e();const fB=Sn($5e);var ym=1e9,j5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gB,Qn=!0,Ls="[DecimalError] ",Th=Ls+"Invalid argument: ",pB=Ls+"Exponent out of range: ",bm=Math.floor,Wd=Math.pow,G5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$o,si=1e7,zn=7,xoe=9007199254740991,nE=bm(xoe/zn),Ye={};Ye.absoluteValue=Ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ye.comparedTo=Ye.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ye.decimalPlaces=Ye.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*zn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ye.dividedBy=Ye.div=function(e){return iu(this,new this.constructor(e))};Ye.dividedToIntegerBy=Ye.idiv=function(e){var t=this,n=t.constructor;return In(iu(t,new n(e),0,1),n.precision)};Ye.equals=Ye.eq=function(e){return!this.cmp(e)};Ye.exponent=function(){return Ir(this)};Ye.greaterThan=Ye.gt=function(e){return this.cmp(e)>0};Ye.greaterThanOrEqualTo=Ye.gte=function(e){return this.cmp(e)>=0};Ye.isInteger=Ye.isint=function(){return this.e>this.d.length-2};Ye.isNegative=Ye.isneg=function(){return this.s<0};Ye.isPositive=Ye.ispos=function(){return this.s>0};Ye.isZero=function(){return this.s===0};Ye.lessThan=Ye.lt=function(e){return this.cmp(e)<0};Ye.lessThanOrEqualTo=Ye.lte=function(e){return this.cmp(e)<1};Ye.logarithm=Ye.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq($o))throw Error(Ls+"NaN");if(n.s<1)throw Error(Ls+(n.s?"NaN":"-Infinity"));return n.eq($o)?new r(0):(Qn=!1,t=iu(yb(n,o),yb(e,o),o),Qn=!0,In(t,i))};Ye.minus=Ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Toe(t,e):Eoe(t,(e.s=-e.s,e))};Ye.modulo=Ye.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ls+"NaN");return n.s?(Qn=!1,t=iu(n,e,0,1).times(e),Qn=!0,n.minus(t)):In(new r(n),i)};Ye.naturalExponential=Ye.exp=function(){return Roe(this)};Ye.naturalLogarithm=Ye.ln=function(){return yb(this)};Ye.negated=Ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ye.plus=Ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Eoe(t,e):Toe(t,(e.s=-e.s,e))};Ye.precision=Ye.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Th+e);if(t=Ir(i)+1,r=i.d.length-1,n=r*zn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ye.squareRoot=Ye.sqrt=function(){var e,t,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ls+"NaN")}for(e=Ir(a),Qn=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Wa(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=bm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(iu(a,o,s+2)).times(.5),Wa(o.d).slice(0,s)===(t=Wa(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(In(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return Qn=!0,In(r,n)};Ye.times=Ye.mul=function(e){var t,n,r,i,o,s,a,l,u,h=this,f=h.constructor,p=h.d,m=(e=new f(e)).d;if(!h.s||!e.s)return new f(0);for(e.s*=h.s,n=h.e+e.e,l=p.length,u=m.length,l<u&&(o=p,p=m,m=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)a=o[i]+m[r]*p[i-r-1]+t,o[i--]=a%si|0,t=a/si|0;o[i]=(o[i]+t)%si|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Qn?In(e,f.precision):e};Ye.toDecimalPlaces=Ye.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(al(e,0,ym),t===void 0?t=r.rounding:al(t,0,8),In(n,e+Ir(n)+1,t))};Ye.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Wh(r,!0):(al(e,0,ym),t===void 0?t=i.rounding:al(t,0,8),r=In(new i(r),e+1,t),n=Wh(r,!0,e+1)),n};Ye.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Wh(i):(al(e,0,ym),t===void 0?t=o.rounding:al(t,0,8),r=In(new o(i),e+Ir(i)+1,t),n=Wh(r.abs(),!1,e+Ir(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ye.toInteger=Ye.toint=function(){var e=this,t=e.constructor;return In(new t(e),Ir(e)+1,t.rounding)};Ye.toNumber=function(){return+this};Ye.toPower=Ye.pow=function(e){var t,n,r,i,o,s,a=this,l=a.constructor,u=12,h=+(e=new l(e));if(!e.s)return new l($o);if(a=new l(a),!a.s){if(e.s<1)throw Error(Ls+"Infinity");return a}if(a.eq($o))return a;if(r=l.precision,e.eq($o))return In(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=h<0?-h:h)<=xoe){for(i=new l($o),t=Math.ceil(r/zn+4),Qn=!1;n%2&&(i=i.times(a),V9(i.d,t)),n=bm(n/2),n!==0;)a=a.times(a),V9(a.d,t);return Qn=!0,e.s<0?new l($o).div(i):In(i,r)}}else if(o<0)throw Error(Ls+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,Qn=!1,i=e.times(yb(a,r+u)),Qn=!0,i=Roe(i),i.s=o,i};Ye.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Ir(i),r=Wh(i,n<=o.toExpNeg||n>=o.toExpPos)):(al(e,1,ym),t===void 0?t=o.rounding:al(t,0,8),i=In(new o(i),e,t),n=Ir(i),r=Wh(i,e<=n||n<=o.toExpNeg,e)),r};Ye.toSignificantDigits=Ye.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(al(e,1,ym),t===void 0?t=r.rounding:al(t,0,8)),In(new r(n),e,t)};Ye.toString=Ye.valueOf=Ye.val=Ye.toJSON=Ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ir(e),n=e.constructor;return Wh(e,t<=n.toExpNeg||t>=n.toExpPos)};function Eoe(e,t){var n,r,i,o,s,a,l,u,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Qn?In(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/zn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/si|0,l[o]%=si;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,Qn?In(t,f):t}function al(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Th+e)}function Wa(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=zn-r.length,n&&(o+=lc(n)),o+=r;s=e[t],r=s+"",n=zn-r.length,n&&(o+=lc(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var iu=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%si|0,s=o/si|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*si+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,h,f,p,m,b,C,y,x,R,T,M,A,D,_,I,O=r.constructor,F=r.s==i.s?1:-1,L=r.d,V=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Ls+"Division by zero");for(l=r.e-i.e,_=V.length,A=L.length,m=new O(F),b=m.d=[],u=0;V[u]==(L[u]||0);)++u;if(V[u]>(L[u]||0)&&--l,o==null?R=o=O.precision:s?R=o+(Ir(r)-Ir(i))+1:R=o,R<0)return new O(0);if(R=R/zn+2|0,u=0,_==1)for(h=0,V=V[0],R++;(u<A||h)&&R--;u++)T=h*si+(L[u]||0),b[u]=T/V|0,h=T%V|0;else{for(h=si/(V[0]+1)|0,h>1&&(V=e(V,h),L=e(L,h),_=V.length,A=L.length),M=_,C=L.slice(0,_),y=C.length;y<_;)C[y++]=0;I=V.slice(),I.unshift(0),D=V[0],V[1]>=si/2&&++D;do h=0,a=t(V,C,_,y),a<0?(x=C[0],_!=y&&(x=x*si+(C[1]||0)),h=x/D|0,h>1?(h>=si&&(h=si-1),f=e(V,h),p=f.length,y=C.length,a=t(f,C,p,y),a==1&&(h--,n(f,_<p?I:V,p))):(h==0&&(a=h=1),f=V.slice()),p=f.length,p<y&&f.unshift(0),n(C,f,y),a==-1&&(y=C.length,a=t(V,C,_,y),a<1&&(h++,n(C,_<y?I:V,y))),y=C.length):a===0&&(h++,C=[0]),b[u++]=h,a&&C[0]?C[y++]=L[M]||0:(C=[L[M]],y=1);while((M++<A||C[0]!==void 0)&&R--)}return b[0]||b.shift(),m.e=l,In(m,s?o+Ir(m)+1:o)}}();function Roe(e,t){var n,r,i,o,s,a,l=0,u=0,h=e.constructor,f=h.precision;if(Ir(e)>16)throw Error(pB+Ir(e));if(!e.s)return new h($o);for(Qn=!1,a=f,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Wd(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new h($o),h.precision=a;;){if(i=In(i.times(e),a),n=n.times(++l),s=o.plus(iu(i,n,a)),Wa(s.d).slice(0,a)===Wa(o.d).slice(0,a)){for(;u--;)o=In(o.times(o),a);return h.precision=f,t==null?(Qn=!0,In(o,f)):o}o=s}}function Ir(e){for(var t=e.e*zn,n=e.d[0];n>=10;n/=10)t++;return t}function cI(e,t,n){if(t>e.LN10.sd())throw Qn=!0,n&&(e.precision=n),Error(Ls+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function lc(e){for(var t="";e--;)t+="0";return t}function yb(e,t){var n,r,i,o,s,a,l,u,h,f=1,p=10,m=e,b=m.d,C=m.constructor,y=C.precision;if(m.s<1)throw Error(Ls+(m.s?"NaN":"-Infinity"));if(m.eq($o))return new C(0);if(t==null?(Qn=!1,u=y):u=t,m.eq(10))return t==null&&(Qn=!0),cI(C,u);if(u+=p,C.precision=u,n=Wa(b),r=n.charAt(0),o=Ir(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Wa(m.d),r=n.charAt(0),f++;o=Ir(m),r>1?(m=new C("0."+n),o++):m=new C(r+"."+n.slice(1))}else return l=cI(C,u+2,y).times(o+""),m=yb(new C(r+"."+n.slice(1)),u-p).plus(l),C.precision=y,t==null?(Qn=!0,In(m,y)):m;for(a=s=m=iu(m.minus($o),m.plus($o),u),h=In(m.times(m),u),i=3;;){if(s=In(s.times(h),u),l=a.plus(iu(s,new C(i),u)),Wa(l.d).slice(0,u)===Wa(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(cI(C,u+2,y).times(o+""))),a=iu(a,new C(f),u),C.precision=y,t==null?(Qn=!0,In(a,y)):a;a=l,i+=2}}function N9(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=bm(n/zn),e.d=[],r=(n+1)%zn,n<0&&(r+=zn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=zn;r<i;)e.d.push(+t.slice(r,r+=zn));t=t.slice(r),r=zn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Qn&&(e.e>nE||e.e<-nE))throw Error(pB+n)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,n){var r,i,o,s,a,l,u,h,f=e.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=zn,i=t,u=f[h=0];else{if(h=Math.ceil((r+1)/zn),o=f.length,h>=o)return e;for(u=o=f[h],s=1;o>=10;o/=10)s++;r%=zn,i=r-zn+s}if(n!==void 0&&(o=Wd(10,s-i-1),a=u/o%10|0,l=t<0||f[h+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Wd(10,s-i):0:f[h-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(o=Ir(e),f.length=1,t=t-o-1,f[0]=Wd(10,(zn-t%zn)%zn),e.e=bm(-t/zn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=h,o=1,h--):(f.length=h+1,o=Wd(10,zn-r),f[h]=i>0?(u/Wd(10,s-i)%Wd(10,i)|0)*o:0),l)for(;;)if(h==0){(f[0]+=o)==si&&(f[0]=1,++e.e);break}else{if(f[h]+=o,f[h]!=si)break;f[h--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Qn&&(e.e>nE||e.e<-nE))throw Error(pB+Ir(e));return e}function Toe(e,t){var n,r,i,o,s,a,l,u,h,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Qn?In(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(h=s<0,h?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(m/zn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,h=i<a,h&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){h=l[i]<f[i];break}s=0}for(h&&(n=l,l=f,f=n,t.s=-t.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=si-1;--l[o],l[i]+=si}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Qn?In(t,m):t):new p(0)}function Wh(e,t,n){var r,i=Ir(e),o=Wa(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+lc(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+lc(-i-1)+o,n&&(r=n-s)>0&&(o+=lc(r))):i>=s?(o+=lc(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+lc(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=lc(r))),e.s<0?"-"+o:o}function V9(e,t){if(e.length>t)return e.length=t,!0}function Aoe(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Th+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return N9(s,o.toString())}else if(typeof o!="string")throw Error(Th+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,G5e.test(o))N9(s,o);else throw Error(Th+o)}if(i.prototype=Ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Aoe,i.config=i.set=z5e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function z5e(e){if(!e||typeof e!="object")throw Error(Ls+"Object expected");var t,n,r,i=["precision",1,ym,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(bm(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Th+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Th+n+": "+r);return this}var gB=Aoe(j5e);$o=new gB(1);const _n=gB;function U5e(e){return Y5e(e)||K5e(e)||q5e(e)||W5e()}function W5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q5e(e,t){if(e){if(typeof e=="string")return Wk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wk(e,t)}}function K5e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Y5e(e){if(Array.isArray(e))return Wk(e)}function Wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X5e=function(t){return t},Poe={},_oe=function(t){return t===Poe},B9=function(t){return function n(){return arguments.length===0||arguments.length===1&&_oe(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Q5e=function e(t,n){return t===1?n:B9(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==Poe}).length;return s>=t?n.apply(void 0,i):e(t-s,B9(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var h=i.map(function(f){return _oe(f)?l.shift():f});return n.apply(void 0,U5e(h).concat(l))}))})},iT=function(t){return Q5e(t.length,t)},qk=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Z5e=iT(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),J5e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return X5e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Kk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Ooe=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function e6e(e){var t;return e===0?t=1:t=Math.floor(new _n(e).abs().log(10).toNumber())+1,t}function t6e(e,t,n){for(var r=new _n(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var n6e=iT(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),r6e=iT(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),i6e=iT(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const oT={rangeStep:t6e,getDigitCount:e6e,interpolateNumber:n6e,uninterpolateNumber:r6e,uninterpolateTruncation:i6e};function Yk(e){return a6e(e)||s6e(e)||Doe(e)||o6e()}function o6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function a6e(e){if(Array.isArray(e))return Xk(e)}function bb(e,t){return c6e(e)||u6e(e,t)||Doe(e,t)||l6e()}function l6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Doe(e,t){if(e){if(typeof e=="string")return Xk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xk(e,t)}}function Xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u6e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function c6e(e){if(Array.isArray(e))return e}function Ioe(e){var t=bb(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Moe(e,t,n){if(e.lte(0))return new _n(0);var r=oT.getDigitCount(e.toNumber()),i=new _n(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new _n(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return t?l:new _n(Math.ceil(l))}function d6e(e,t,n){var r=1,i=new _n(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new _n(10).pow(oT.getDigitCount(e)-1),i=new _n(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new _n(Math.floor(e)))}else e===0?i=new _n(Math.floor((t-1)/2)):n||(i=new _n(Math.floor(e)));var s=Math.floor((t-1)/2),a=J5e(Z5e(function(l){return i.add(new _n(l-s).mul(r)).toNumber()}),qk);return a(0,t)}function Foe(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new _n(0),tickMin:new _n(0),tickMax:new _n(0)};var o=Moe(new _n(t).sub(e).div(n-1),r,i),s;e<=0&&t>=0?s=new _n(0):(s=new _n(e).add(t).div(2),s=s.sub(new _n(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),l=Math.ceil(new _n(t).sub(s).div(o).toNumber()),u=a+l+1;return u>n?Foe(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,a=t>0?a:a+(n-u)),{step:o,tickMin:s.sub(new _n(a).mul(o)),tickMax:s.add(new _n(l).mul(o))})}function h6e(e){var t=bb(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=Ioe([n,r]),l=bb(a,2),u=l[0],h=l[1];if(u===-1/0||h===1/0){var f=h===1/0?[u].concat(Yk(qk(0,i-1).map(function(){return 1/0}))):[].concat(Yk(qk(0,i-1).map(function(){return-1/0})),[h]);return n>r?Kk(f):f}if(u===h)return d6e(u,i,o);var p=Foe(u,h,s,o),m=p.step,b=p.tickMin,C=p.tickMax,y=oT.rangeStep(b,C.add(new _n(.1).mul(m)),m);return n>r?Kk(y):y}function f6e(e,t){var n=bb(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Ioe([r,i]),a=bb(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var h=Math.max(t,2),f=Moe(new _n(u).sub(l).div(h-1),o,0),p=[].concat(Yk(oT.rangeStep(new _n(l),new _n(u).sub(new _n(.99).mul(f)),f)),[u]);return r>i?Kk(p):p}var p6e=Ooe(h6e),g6e=Ooe(f6e),m6e="Invariant failed";function Og(e,t){throw new Error(m6e)}var v6e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rE.apply(this,arguments)}function y6e(e,t){return S6e(e)||w6e(e,t)||C6e(e,t)||b6e()}function b6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6e(e,t){if(e){if(typeof e=="string")return H9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H9(e,t)}}function H9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w6e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function S6e(e){if(Array.isArray(e))return e}function x6e(e,t){if(e==null)return{};var n=E6e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E6e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function R6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T6e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Noe(r.key),r)}}function A6e(e,t,n){return t&&T6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P6e(e,t,n){return t=iE(t),_6e(e,koe()?Reflect.construct(t,n||[],iE(e).constructor):t.apply(e,n))}function _6e(e,t){if(t&&(Dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O6e(e)}function O6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function koe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(koe=function(){return!!e})()}function iE(e){return iE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iE(e)}function D6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qk(e,t)}function Qk(e,t){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qk(e,t)}function Loe(e,t,n){return t=Noe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Noe(e){var t=I6e(e,"string");return Dg(t)=="symbol"?t:t+""}function I6e(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mB=function(e){function t(){return R6e(this,t),P6e(this,t,arguments)}return D6e(t,e),A6e(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,h=r.xAxis,f=r.yAxis,p=x6e(r,v6e),m=Rt(p,!1);this.props.direction==="x"&&h.type!=="number"&&Og();var b=l.map(function(C){var y=u(C,a),x=y.x,R=y.y,T=y.value,M=y.errorVal;if(!M)return null;var A=[],D,_;if(Array.isArray(M)){var I=y6e(M,2);D=I[0],_=I[1]}else D=_=M;if(o==="vertical"){var O=h.scale,F=R+i,L=F+s,V=F-s,N=O(T-D),Y=O(T+_);A.push({x1:Y,y1:L,x2:Y,y2:V}),A.push({x1:N,y1:F,x2:Y,y2:F}),A.push({x1:N,y1:L,x2:N,y2:V})}else if(o==="horizontal"){var X=f.scale,j=x+i,G=j-s,U=j+s,Z=X(T-D),$=X(T+_);A.push({x1:G,y1:$,x2:U,y2:$}),A.push({x1:j,y1:Z,x2:j,y2:$}),A.push({x1:G,y1:Z,x2:U,y2:Z})}return z.createElement(yr,rE({className:"recharts-errorBar",key:"bar-".concat(A.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),A.map(function(Q){return z.createElement("line",rE({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return z.createElement(yr,{className:"recharts-errorBars"},b)}}])}(z.Component);Loe(mB,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Loe(mB,"displayName","ErrorBar");function Cb(e){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cb(e)}function $9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$9(Object(n),!0).forEach(function(r){M6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M6e(e,t,n){return t=F6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F6e(e){var t=k6e(e,"string");return Cb(t)=="symbol"?t:t+""}function k6e(e,t){if(Cb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Voe=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=Cs(n,Eh);if(!s)return null;var a=Eh.defaultProps,l=a!==void 0?Bd(Bd({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(h,f){var p=f.item,m=f.props,b=m.sectors||m.data||[];return h.concat(b.map(function(C){return{type:s.props.iconType||p.props.legendType,value:C.name,color:C.fill,payload:C}}))},[]):u=(r||[]).map(function(h){var f=h.item,p=f.type.defaultProps,m=p!==void 0?Bd(Bd({},p),f.props):{},b=m.dataKey,C=m.name,y=m.legendType,x=m.hide;return{inactive:x,dataKey:b,type:l.iconType||y||"square",color:vB(f),value:C||b,payload:m}}),Bd(Bd(Bd({},l),Eh.getWithHeight(s,i)),{},{payload:u,item:s})};function wb(e){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wb(e)}function j9(e){return B6e(e)||V6e(e)||N6e(e)||L6e()}function L6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N6e(e,t){if(e){if(typeof e=="string")return Zk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zk(e,t)}}function V6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B6e(e){if(Array.isArray(e))return Zk(e)}function Zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G9(Object(n),!0).forEach(function(r){Hp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hp(e,t,n){return t=H6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H6e(e){var t=$6e(e,"string");return wb(t)=="symbol"?t:t+""}function $6e(e,t){if(wb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(e,t,n){return Wt(e)||Wt(t)?n:zr(t)?da(e,t,n):Dt(t)?t(e):n}function gy(e,t,n,r){var i=B5e(e,function(a){return jo(a,t)});if(n==="number"){var o=i.filter(function(a){return Ue(a)||parseFloat(a)});return o.length?[rT(o),nT(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Wt(a)}):i;return s.map(function(a){return zr(a)||a instanceof Date?a:""})}var j6e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var h=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,p=u>=a-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Ps(f-h)!==Ps(p-f)){var b=[];if(Ps(p-f)===Ps(l[1]-l[0])){m=p;var C=f+l[1]-l[0];b[0]=Math.min(C,(C+h)/2),b[1]=Math.max(C,(C+h)/2)}else{m=h;var y=p+l[1]-l[0];b[0]=Math.min(f,(y+f)/2),b[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>x[0]&&t<=x[1]||t>=b[0]&&t<=b[1]){s=i[u].index;break}}else{var R=Math.min(h,p),T=Math.max(h,p);if(t>(R+f)/2&&t<=(T+f)/2){s=i[u].index;break}}}else for(var M=0;M<a;M++)if(M===0&&t<=(r[M].coordinate+r[M+1].coordinate)/2||M>0&&M<a-1&&t>(r[M].coordinate+r[M-1].coordinate)/2&&t<=(r[M].coordinate+r[M+1].coordinate)/2||M===a-1&&t>(r[M].coordinate+r[M-1].coordinate)/2){s=r[M].index;break}return s},vB=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},G6e=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var h=o[a[l]].stackGroups,f=Object.keys(h),p=0,m=f.length;p<m;p++){var b=h[f[p]],C=b.items,y=b.cateAxisId,x=C.filter(function(_){return nu(_.type).indexOf("Bar")>=0});if(x&&x.length){var R=x[0].type.defaultProps,T=R!==void 0?mr(mr({},R),x[0].props):x[0].props,M=T.barSize,A=T[y];s[A]||(s[A]=[]);var D=Wt(M)?n:M;s[A].push({item:x[0],stackList:x.slice(1),barSize:Wt(D)?void 0:So(D,r,0)})}}return s},z6e=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,l=s.length;if(l<1)return null;var u=So(n,i,0,!0),h,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,m=i/l,b=s.reduce(function(M,A){return M+A.barSize||0},0);b+=(l-1)*u,b>=i&&(b-=(l-1)*u,u=0),b>=i&&m>0&&(p=!0,m*=.9,b=l*m);var C=(i-b)/2>>0,y={offset:C-u,size:0};h=s.reduce(function(M,A){var D={item:A.item,position:{offset:y.offset+y.size+u,size:p?m:A.barSize}},_=[].concat(j9(M),[D]);return y=_[_.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){_.push({item:I,position:y})}),_},f)}else{var x=So(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var R=(i-2*x-(l-1)*u)/l;R>1&&(R>>=0);var T=a===+a?Math.min(R,a):R;h=s.reduce(function(M,A,D){var _=[].concat(j9(M),[{item:A.item,position:{offset:x+(R+u)*D+(R-T)/2,size:T}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){_.push({item:I,position:_[_.length-1].position})}),_},f)}return h},U6e=function(t,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=Voe({children:o,legendWidth:l});if(u){var h=i||{},f=h.width,p=h.height,m=u.align,b=u.verticalAlign,C=u.layout;if((C==="vertical"||C==="horizontal"&&b==="middle")&&m!=="center"&&Ue(t[m]))return mr(mr({},t),{},Hp({},m,t[m]+(f||0)));if((C==="horizontal"||C==="vertical"&&m==="center")&&b!=="middle"&&Ue(t[b]))return mr(mr({},t),{},Hp({},b,t[b]+(p||0)))}return t},W6e=function(t,n,r){return Wt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Boe=function(t,n,r,i,o){var s=n.props.children,a=Za(s,mB).filter(function(u){return W6e(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return t.reduce(function(u,h){var f=jo(h,r);if(Wt(f))return u;var p=Array.isArray(f)?[rT(f),nT(f)]:[f,f],m=l.reduce(function(b,C){var y=jo(h,C,0),x=p[0]-Math.abs(Array.isArray(y)?y[0]:y),R=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,b[0]),Math.max(R,b[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},q6e=function(t,n,r,i,o){var s=n.map(function(a){return Boe(t,a,r,o,i)}).filter(function(a){return!Wt(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},Hoe=function(t,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&Boe(t,l,u,i)||gy(t,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var h=0,f=u.length;h<f;h++)a[u[h]]||(a[u[h]]=!0,l.push(u[h]));return l},[])},$oe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Uv=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Ps(a[0]-a[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(f){var p=o?o.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return h.filter(function(f){return!IC(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:o?o[f]:f,index:p,offset:u}})},dI=new WeakMap,N0=function(t,n){if(typeof n!="function")return t;dI.has(t)||dI.set(t,new WeakMap);var r=dI.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},K6e=function(t,n,r){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:fb(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Zx(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0)?{scale:py(),realScaleType:"point"}:o==="category"?{scale:fb(),realScaleType:"band"}:{scale:Zx(),realScaleType:"linear"};if(DC(i)){var l="scale".concat($R(i));return{scale:(P9[l]||py)(),realScaleType:P9[l]?l:"point"}}return Dt(i)?{scale:i}:{scale:py(),realScaleType:"point"}},z9=1e-4,Y6e=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-z9,s=Math.max(i[0],i[1])+z9,a=t(n[0]),l=t(n[r-1]);(a<o||a>s||l<o||l>s)&&t.domain([n[0],n[r-1]])}},X6e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=IC(t[a][r][1])?t[a][r][0]:t[a][r][1];l>=0?(t[a][r][0]=o,t[a][r][1]=o+l,o=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+l,s=t[a][r][1])}},Q6e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=IC(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=o,t[s][r][1]=o+a,o=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},Z6e={sign:X6e,expand:VGe,none:wg,silhouette:BGe,wiggle:HGe,positive:Q6e},J6e=function(t,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Z6e[r],s=NGe().keys(i).value(function(a,l){return+jo(a,l,0)}).order(Pk).offset(o);return s(t)},eqe=function(t,n,r,i,o,s){if(!t)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,p){var m,b=(m=p.type)!==null&&m!==void 0&&m.defaultProps?mr(mr({},p.type.defaultProps),p.props):p.props,C=b.stackId,y=b.hide;if(y)return f;var x=b[r],R=f[x]||{hasStack:!1,stackGroups:{}};if(zr(C)){var T=R.stackGroups[C]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(p),R.hasStack=!0,R.stackGroups[C]=T}else R.stackGroups[BR("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return mr(mr({},f),{},Hp({},x,R))},l),h={};return Object.keys(u).reduce(function(f,p){var m=u[p];if(m.hasStack){var b={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(C,y){var x=m.stackGroups[y];return mr(mr({},C),{},Hp({},y,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:J6e(t,x.items,o)}))},b)}return mr(mr({},f),{},Hp({},p,m))},h)},tqe=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var h=p6e(u,o,a);return t.domain([rT(h),nT(h)]),{niceTicks:h}}if(o&&i==="number"){var f=t.domain(),p=g6e(f,o,a);return{niceTicks:p}}return null},nqe=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(zr(o)){var s=n[o];if(s){var a=s.items.indexOf(t);return a>=0?s.stackedData[a]:null}}return null},rqe=function(t){return t.reduce(function(n,r){return[rT(r.concat([n[0]]).filter(Ue)),nT(r.concat([n[1]]).filter(Ue))]},[1/0,-1/0])},joe=function(t,n,r){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,l=a.reduce(function(u,h){var f=rqe(h.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},U9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jk=function(t,n,r){if(Dt(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Ue(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(U9.test(t[0])){var o=+U9.exec(t[0])[1];i[0]=n[0]-o}else Dt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ue(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(W9.test(t[1])){var s=+W9.exec(t[1])[1];i[1]=n[1]+s}else Dt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},eL=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=jV(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],h=o[a-1];s=Math.min((u.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},q9=function(t,n,r){return!t||!t.length||fB(t,da(r,"type.defaultProps.domain"))?n:t},iqe=function(t,n){var r=t.type.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,h=r.hide;return mr(mr({},Rt(t,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:vB(t),value:jo(n,i),type:l,payload:n,chartType:u,hide:h})};function Sb(e){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sb(e)}function K9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K9(Object(n),!0).forEach(function(r){Goe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Goe(e,t,n){return t=oqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oqe(e){var t=sqe(e,"string");return Sb(t)=="symbol"?t:t+""}function sqe(e,t){if(Sb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aqe(e,t){return dqe(e)||cqe(e,t)||uqe(e,t)||lqe()}function lqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uqe(e,t){if(e){if(typeof e=="string")return Y9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y9(e,t)}}function Y9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cqe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function dqe(e){if(Array.isArray(e))return e}var oE=Math.PI/180,hqe=function(t){return t*180/Math.PI},Bn=function(t,n,r,i){return{x:t+Math.cos(-oE*i)*r,y:n+Math.sin(-oE*i)*r}},zoe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fqe=function(t,n,r,i,o){var s=t.width,a=t.height,l=t.startAngle,u=t.endAngle,h=So(t.cx,s,s/2),f=So(t.cy,a,a/2),p=zoe(s,a,r),m=So(t.innerRadius,p,0),b=So(t.outerRadius,p,p*.8),C=Object.keys(n);return C.reduce(function(y,x){var R=n[x],T=R.domain,M=R.reversed,A;if(Wt(R.range))i==="angleAxis"?A=[l,u]:i==="radiusAxis"&&(A=[m,b]),M&&(A=[A[1],A[0]]);else{A=R.range;var D=A,_=aqe(D,2);l=_[0],u=_[1]}var I=K6e(R,o),O=I.realScaleType,F=I.scale;F.domain(T).range(A),Y6e(F);var L=tqe(F,Vl(Vl({},R),{},{realScaleType:O})),V=Vl(Vl(Vl({},R),L),{},{range:A,radius:b,realScaleType:O,scale:F,cx:h,cy:f,innerRadius:m,outerRadius:b,startAngle:l,endAngle:u});return Vl(Vl({},y),{},Goe({},x,V))},{})},pqe=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},gqe=function(t,n){var r=t.x,i=t.y,o=n.cx,s=n.cy,a=pqe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:hqe(u),angleInRadian:u}},mqe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},vqe=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},X9=function(t,n){var r=t.x,i=t.y,o=gqe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var h=mqe(n),f=h.startAngle,p=h.endAngle,m=a,b;if(f<=p){for(;m>p;)m-=360;for(;m<f;)m+=360;b=m>=f&&m<=p}else{for(;m>f;)m-=360;for(;m<p;)m+=360;b=m>=p&&m<=f}return b?Vl(Vl({},n),{},{radius:s,angle:vqe(m,n)}):null},Uoe=function(t){return!w.isValidElement(t)&&!Dt(t)&&typeof t!="boolean"?t.className:""};function xb(e){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xb(e)}var yqe=["offset"];function bqe(e){return xqe(e)||Sqe(e)||wqe(e)||Cqe()}function Cqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wqe(e,t){if(e){if(typeof e=="string")return tL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tL(e,t)}}function Sqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xqe(e){if(Array.isArray(e))return tL(e)}function tL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eqe(e,t){if(e==null)return{};var n=Rqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rqe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q9(Object(n),!0).forEach(function(r){Tqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tqe(e,t,n){return t=Aqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aqe(e){var t=Pqe(e,"string");return xb(t)=="symbol"?t:t+""}function Pqe(e,t){if(xb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(this,arguments)}var _qe=function(t){var n=t.value,r=t.formatter,i=Wt(t.children)?n:t.children;return Dt(r)?r(i):i},Oqe=function(t,n){var r=Ps(n-t),i=Math.min(Math.abs(n-t),360);return r*i},Dqe=function(t,n,r){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,l=o,u=l.cx,h=l.cy,f=l.innerRadius,p=l.outerRadius,m=l.startAngle,b=l.endAngle,C=l.clockWise,y=(f+p)/2,x=Oqe(m,b),R=x>=0?1:-1,T,M;i==="insideStart"?(T=m+R*s,M=C):i==="insideEnd"?(T=b-R*s,M=!C):i==="end"&&(T=b+R*s,M=C),M=x<=0?M:!M;var A=Bn(u,h,y,T),D=Bn(u,h,y,T+(M?1:-1)*359),_="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(M?0:1,`,
    `).concat(D.x,",").concat(D.y),I=Wt(t.id)?BR("recharts-radial-line-"):t.id;return z.createElement("text",Eb({},r,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",a)}),z.createElement("defs",null,z.createElement("path",{id:I,d:_})),z.createElement("textPath",{xlinkHref:"#".concat(I)},n))},Iqe=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,h=o.startAngle,f=o.endAngle,p=(h+f)/2;if(i==="outside"){var m=Bn(s,a,u+r,p),b=m.x,C=m.y;return{x:b,y:C,textAnchor:b>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,x=Bn(s,a,y,p),R=x.x,T=x.y;return{x:R,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Mqe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,s=n,a=s.x,l=s.y,u=s.width,h=s.height,f=h>=0?1:-1,p=f*i,m=f>0?"end":"start",b=f>0?"start":"end",C=u>=0?1:-1,y=C*i,x=C>0?"end":"start",R=C>0?"start":"end";if(o==="top"){var T={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return jr(jr({},T),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var M={x:a+u/2,y:l+h+p,textAnchor:"middle",verticalAnchor:b};return jr(jr({},M),r?{height:Math.max(r.y+r.height-(l+h),0),width:u}:{})}if(o==="left"){var A={x:a-y,y:l+h/2,textAnchor:x,verticalAnchor:"middle"};return jr(jr({},A),r?{width:Math.max(A.x-r.x,0),height:h}:{})}if(o==="right"){var D={x:a+u+y,y:l+h/2,textAnchor:R,verticalAnchor:"middle"};return jr(jr({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:h}:{})}var _=r?{width:u,height:h}:{};return o==="insideLeft"?jr({x:a+y,y:l+h/2,textAnchor:R,verticalAnchor:"middle"},_):o==="insideRight"?jr({x:a+u-y,y:l+h/2,textAnchor:x,verticalAnchor:"middle"},_):o==="insideTop"?jr({x:a+u/2,y:l+p,textAnchor:"middle",verticalAnchor:b},_):o==="insideBottom"?jr({x:a+u/2,y:l+h-p,textAnchor:"middle",verticalAnchor:m},_):o==="insideTopLeft"?jr({x:a+y,y:l+p,textAnchor:R,verticalAnchor:b},_):o==="insideTopRight"?jr({x:a+u-y,y:l+p,textAnchor:x,verticalAnchor:b},_):o==="insideBottomLeft"?jr({x:a+y,y:l+h-p,textAnchor:R,verticalAnchor:m},_):o==="insideBottomRight"?jr({x:a+u-y,y:l+h-p,textAnchor:x,verticalAnchor:m},_):gm(o)&&(Ue(o.x)||nh(o.x))&&(Ue(o.y)||nh(o.y))?jr({x:a+So(o.x,u),y:l+So(o.y,h),textAnchor:"end",verticalAnchor:"end"},_):jr({x:a+u/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Fqe=function(t){return"cx"in t&&Ue(t.cx)};function Si(e){var t=e.offset,n=t===void 0?5:t,r=Eqe(e,yqe),i=jr({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,h=i.className,f=h===void 0?"":h,p=i.textBreakAll;if(!o||Wt(a)&&Wt(l)&&!w.isValidElement(u)&&!Dt(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var m;if(Dt(u)){if(m=w.createElement(u,i),w.isValidElement(m))return m}else m=_qe(i);var b=Fqe(o),C=Rt(i,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Dqe(i,m,C);var y=b?Iqe(i):Mqe(i);return z.createElement(Tg,Eb({className:ln("recharts-label",f)},C,y,{breakAll:p}),m)}Si.displayName="Label";var Woe=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,l=t.radius,u=t.innerRadius,h=t.outerRadius,f=t.x,p=t.y,m=t.top,b=t.left,C=t.width,y=t.height,x=t.clockWise,R=t.labelViewBox;if(R)return R;if(Ue(C)&&Ue(y)){if(Ue(f)&&Ue(p))return{x:f,y:p,width:C,height:y};if(Ue(m)&&Ue(b))return{x:m,y:b,width:C,height:y}}return Ue(f)&&Ue(p)?{x:f,y:p,width:0,height:0}:Ue(n)&&Ue(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:h||l||a||0,clockWise:x}:t.viewBox?t.viewBox:{}},kqe=function(t,n){return t?t===!0?z.createElement(Si,{key:"label-implicit",viewBox:n}):zr(t)?z.createElement(Si,{key:"label-implicit",viewBox:n,value:t}):w.isValidElement(t)?t.type===Si?w.cloneElement(t,{key:"label-implicit",viewBox:n}):z.createElement(Si,{key:"label-implicit",content:t,viewBox:n}):Dt(t)?z.createElement(Si,{key:"label-implicit",content:t,viewBox:n}):gm(t)?z.createElement(Si,Eb({viewBox:n},t,{key:"label-implicit"})):null:null},Lqe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=Woe(t),s=Za(i,Si).map(function(l,u){return w.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=kqe(t.label,n||o);return[a].concat(bqe(s))};Si.parseViewBox=Woe;Si.renderCallByParent=Lqe;var hI,Z9;function Nqe(){if(Z9)return hI;Z9=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return hI=e,hI}var Vqe=Nqe();const Bqe=Sn(Vqe);function Rb(e){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(e)}var Hqe=["valueAccessor"],$qe=["data","dataKey","clockWise","id","textBreakAll"];function jqe(e){return Wqe(e)||Uqe(e)||zqe(e)||Gqe()}function Gqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zqe(e,t){if(e){if(typeof e=="string")return nL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(e,t)}}function Uqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wqe(e){if(Array.isArray(e))return nL(e)}function nL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sE.apply(this,arguments)}function J9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function e8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J9(Object(n),!0).forEach(function(r){qqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qqe(e,t,n){return t=Kqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kqe(e){var t=Yqe(e,"string");return Rb(t)=="symbol"?t:t+""}function Yqe(e,t){if(Rb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t8(e,t){if(e==null)return{};var n=Xqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xqe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Qqe=function(t){return Array.isArray(t.value)?Bqe(t.value):t.value};function Ah(e){var t=e.valueAccessor,n=t===void 0?Qqe:t,r=t8(e,Hqe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=t8(r,$qe);return!i||!i.length?null:z.createElement(yr,{className:"recharts-label-list"},i.map(function(h,f){var p=Wt(o)?n(h,f):jo(h&&h.payload,o),m=Wt(a)?{}:{id:"".concat(a,"-").concat(f)};return z.createElement(Si,sE({},Rt(h,!0),u,m,{parentViewBox:h.parentViewBox,value:p,textBreakAll:l,viewBox:Si.parseViewBox(Wt(s)?h:e8(e8({},h),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ah.displayName="LabelList";function Zqe(e,t){return e?e===!0?z.createElement(Ah,{key:"labelList-implicit",data:t}):z.isValidElement(e)||Dt(e)?z.createElement(Ah,{key:"labelList-implicit",data:t,content:e}):gm(e)?z.createElement(Ah,sE({data:t},e,{key:"labelList-implicit"})):null:null}function Jqe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Za(r,Ah).map(function(s,a){return w.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!n)return i;var o=Zqe(e.label,t);return[o].concat(jqe(i))}Ah.renderCallByParent=Jqe;function Tb(e){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tb(e)}function rL(){return rL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rL.apply(this,arguments)}function n8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(n),!0).forEach(function(r){e9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e9e(e,t,n){return t=t9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9e(e){var t=n9e(e,"string");return Tb(t)=="symbol"?t:t+""}function n9e(e,t){if(Tb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r9e=function(t,n){var r=Ps(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},V0=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,h=l*(a?1:-1)+i,f=Math.asin(l/h)/oE,p=u?o:o+s*f,m=Bn(n,r,h,p),b=Bn(n,r,i,p),C=u?o-s*f:o,y=Bn(n,r,h*Math.cos(f*oE),C);return{center:m,circleTangency:b,lineTangency:y,theta:f}},qoe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,l=r9e(s,a),u=s+l,h=Bn(n,r,o,s),f=Bn(n,r,o,u),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Bn(n,r,i,s),b=Bn(n,r,i,u);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},i9e=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,h=t.endAngle,f=Ps(h-u),p=V0({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),m=p.circleTangency,b=p.lineTangency,C=p.theta,y=V0({cx:n,cy:r,radius:o,angle:h,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=y.circleTangency,R=y.lineTangency,T=y.theta,M=l?Math.abs(u-h):Math.abs(u-h)-C-T;if(M<0)return a?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):qoe({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h});var A="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(M>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
  `);if(i>0){var D=V0({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=D.circleTangency,I=D.lineTangency,O=D.theta,F=V0({cx:n,cy:r,radius:i,angle:h,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),L=F.circleTangency,V=F.lineTangency,N=F.theta,Y=l?Math.abs(u-h):Math.abs(u-h)-O-N;if(Y<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Y>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},o9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Koe=function(t){var n=r8(r8({},o9e),t),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,h=n.startAngle,f=n.endAngle,p=n.className;if(s<o||h===f)return null;var m=ln("recharts-sector",p),b=s-o,C=So(a,b,0,!0),y;return C>0&&Math.abs(h-f)<360?y=i9e({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(C,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f}):y=qoe({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:h,endAngle:f}),z.createElement("path",rL({},Rt(n,!0),{className:m,d:y,role:"img"}))};function Ab(e){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ab(e)}function iL(){return iL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iL.apply(this,arguments)}function i8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(n),!0).forEach(function(r){s9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s9e(e,t,n){return t=a9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a9e(e){var t=l9e(e,"string");return Ab(t)=="symbol"?t:t+""}function l9e(e,t){if(Ab(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ab(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s8={curveBasisClosed:TGe,curveBasisOpen:AGe,curveBasis:RGe,curveBumpX:dGe,curveBumpY:hGe,curveLinearClosed:PGe,curveLinear:GR,curveMonotoneX:_Ge,curveMonotoneY:OGe,curveNatural:DGe,curveStep:IGe,curveStepAfter:FGe,curveStepBefore:MGe},B0=function(t){return t.x===+t.x&&t.y===+t.y},Pv=function(t){return t.x},_v=function(t){return t.y},u9e=function(t,n){if(Dt(t))return t;var r="curve".concat($R(t));return(r==="curveMonotone"||r==="curveBump")&&n?s8["".concat(r).concat(n==="vertical"?"Y":"X")]:s8[r]||GR},c9e=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,s=t.baseLine,a=t.layout,l=t.connectNulls,u=l===void 0?!1:l,h=u9e(r,a),f=u?o.filter(function(C){return B0(C)}):o,p;if(Array.isArray(s)){var m=u?s.filter(function(C){return B0(C)}):s,b=f.map(function(C,y){return o8(o8({},C),{},{base:m[y]})});return a==="vertical"?p=O0().y(_v).x1(Pv).x0(function(C){return C.base.x}):p=O0().x(Pv).y1(_v).y0(function(C){return C.base.y}),p.defined(B0).curve(h),p(b)}return a==="vertical"&&Ue(s)?p=O0().y(_v).x1(Pv).x0(s):Ue(s)?p=O0().x(Pv).y1(_v).y0(s):p=Qre().x(Pv).y(_v),p.defined(B0).curve(h),p(f)},oL=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?c9e(t):i;return z.createElement("path",iL({},Rt(t,!1),kx(t),{className:ln("recharts-curve",n),d:s,ref:o}))},fI={exports:{}},pI,a8;function d9e(){if(a8)return pI;a8=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pI=e,pI}var gI,l8;function h9e(){if(l8)return gI;l8=1;var e=d9e();function t(){}function n(){}return n.resetWarningCache=t,gI=function(){function r(s,a,l,u,h,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},gI}var u8;function f9e(){return u8||(u8=1,fI.exports=h9e()()),fI.exports}var p9e=f9e();const mn=Sn(p9e);var g9e=Object.getOwnPropertyNames,m9e=Object.getOwnPropertySymbols,v9e=Object.prototype.hasOwnProperty;function c8(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function H0(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=e(n,r,i);return o.delete(n),o.delete(r),l}}function d8(e){return g9e(e).concat(m9e(e))}var y9e=Object.hasOwn||function(e,t){return v9e.call(e,t)};function cf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var b9e="__v",C9e="__o",w9e="_owner",h8=Object.getOwnPropertyDescriptor,f8=Object.keys;function S9e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function x9e(e,t){return cf(e.getTime(),t.getTime())}function E9e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function R9e(e,t){return e===t}function p8(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=t.entries(),h=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var p=s.value,m=a.value;if(n.equals(p[0],m[0],l,f,e,t,n)&&n.equals(p[1],m[1],p[0],m[0],e,t,n)){h=i[f]=!0;break}f++}if(!h)return!1;l++}return!0}var T9e=cf;function A9e(e,t,n){var r=f8(e),i=r.length;if(f8(t).length!==i)return!1;for(;i-- >0;)if(!Yoe(e,t,n,r[i]))return!1;return!0}function Ov(e,t,n){var r=d8(e),i=r.length;if(d8(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!Yoe(e,t,n,o)||(s=h8(e,o),a=h8(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function P9e(e,t){return cf(e.valueOf(),t.valueOf())}function _9e(e,t){return e.source===t.source&&e.flags===t.flags}function g8(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.values(),s,a;(s=o.next())&&!s.done;){for(var l=t.values(),u=!1,h=0;(a=l.next())&&!a.done;){if(!i[h]&&n.equals(s.value,a.value,s.value,a.value,e,t,n)){u=i[h]=!0;break}h++}if(!u)return!1}return!0}function O9e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function D9e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Yoe(e,t,n,r){return(r===w9e||r===C9e||r===b9e)&&(e.$$typeof||t.$$typeof)?!0:y9e(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var I9e="[object Arguments]",M9e="[object Boolean]",F9e="[object Date]",k9e="[object Error]",L9e="[object Map]",N9e="[object Number]",V9e="[object Object]",B9e="[object RegExp]",H9e="[object Set]",$9e="[object String]",j9e="[object URL]",G9e=Array.isArray,m8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,v8=Object.assign,z9e=Object.prototype.toString.call.bind(Object.prototype.toString);function U9e(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,s=e.areNumbersEqual,a=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,h=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(b,C,y){if(b===C)return!0;if(b==null||C==null)return!1;var x=typeof b;if(x!==typeof C)return!1;if(x!=="object")return x==="number"?s(b,C,y):x==="function"?i(b,C,y):!1;var R=b.constructor;if(R!==C.constructor)return!1;if(R===Object)return a(b,C,y);if(G9e(b))return t(b,C,y);if(m8!=null&&m8(b))return f(b,C,y);if(R===Date)return n(b,C,y);if(R===RegExp)return u(b,C,y);if(R===Map)return o(b,C,y);if(R===Set)return h(b,C,y);var T=z9e(b);return T===F9e?n(b,C,y):T===B9e?u(b,C,y):T===L9e?o(b,C,y):T===H9e?h(b,C,y):T===V9e?typeof b.then!="function"&&typeof C.then!="function"&&a(b,C,y):T===j9e?p(b,C,y):T===k9e?r(b,C,y):T===I9e?a(b,C,y):T===M9e||T===N9e||T===$9e?l(b,C,y):!1}}function W9e(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Ov:S9e,areDatesEqual:x9e,areErrorsEqual:E9e,areFunctionsEqual:R9e,areMapsEqual:r?c8(p8,Ov):p8,areNumbersEqual:T9e,areObjectsEqual:r?Ov:A9e,arePrimitiveWrappersEqual:P9e,areRegExpsEqual:_9e,areSetsEqual:r?c8(g8,Ov):g8,areTypedArraysEqual:r?Ov:O9e,areUrlsEqual:D9e};if(n&&(i=v8({},i,n(i))),t){var o=H0(i.areArraysEqual),s=H0(i.areMapsEqual),a=H0(i.areObjectsEqual),l=H0(i.areSetsEqual);i=v8({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function q9e(e){return function(t,n,r,i,o,s,a){return e(t,n,a)}}function K9e(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(l,u){var h=r(),f=h.cache,p=f===void 0?t?new WeakMap:void 0:f,m=h.meta;return n(l,u,{cache:p,equals:i,meta:m,strict:o})};if(t)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var Y9e=fd();fd({strict:!0});fd({circular:!0});fd({circular:!0,strict:!0});fd({createInternalComparator:function(){return cf}});fd({strict:!0,createInternalComparator:function(){return cf}});fd({circular:!0,createInternalComparator:function(){return cf}});fd({circular:!0,createInternalComparator:function(){return cf},strict:!0});function fd(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=W9e(e),l=U9e(a),u=r?r(l):q9e(l);return K9e({circular:n,comparator:l,createState:i,equals:u,strict:s})}function X9e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function y8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):X9e(i)};requestAnimationFrame(r)}function sL(e){"@babel/helpers - typeof";return sL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sL(e)}function Q9e(e){return t8e(e)||e8e(e)||J9e(e)||Z9e()}function Z9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9e(e,t){if(e){if(typeof e=="string")return b8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b8(e,t)}}function b8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t8e(e){if(Array.isArray(e))return e}function n8e(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Q9e(s),l=a[0],u=a.slice(1);if(typeof l=="number"){y8(i.bind(null,u),l);return}i(l),y8(i.bind(null,u));return}sL(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Pb(e){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(e)}function C8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(n),!0).forEach(function(r){Xoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xoe(e,t,n){return t=r8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r8e(e){var t=i8e(e,"string");return Pb(t)==="symbol"?t:String(t)}function i8e(e,t){if(Pb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o8e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},s8e=function(t){return t},a8e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},my=function(t,n){return Object.keys(n).reduce(function(r,i){return w8(w8({},r),{},Xoe({},i,t(i,n[i])))},{})},S8=function(t,n,r){return t.map(function(i){return"".concat(a8e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function l8e(e,t){return d8e(e)||c8e(e,t)||Qoe(e,t)||u8e()}function u8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c8e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function d8e(e){if(Array.isArray(e))return e}function h8e(e){return g8e(e)||p8e(e)||Qoe(e)||f8e()}function f8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qoe(e,t){if(e){if(typeof e=="string")return aL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aL(e,t)}}function p8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g8e(e){if(Array.isArray(e))return aL(e)}function aL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aE=1e-4,Zoe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Joe=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},x8=function(t,n){return function(r){var i=Zoe(t,n);return Joe(i,r)}},m8e=function(t,n){return function(r){var i=Zoe(t,n),o=[].concat(h8e(i.map(function(s,a){return s*a}).slice(1)),[0]);return Joe(o,r)}},E8=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),h=l8e(u,4);i=h[0],o=h[1],s=h[2],a=h[3]}}}var f=x8(i,s),p=x8(o,a),m=m8e(i,s),b=function(x){return x>1?1:x<0?0:x},C=function(x){for(var R=x>1?1:x,T=R,M=0;M<8;++M){var A=f(T)-R,D=m(T);if(Math.abs(A-R)<aE||D<aE)return p(T);T=b(T-A/D)}return p(T)};return C.isStepper=!1,C},v8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,l=function(h,f,p){var m=-(h-f)*r,b=p*o,C=p+(m-b)*a/1e3,y=p*a/1e3+h;return Math.abs(y-f)<aE&&Math.abs(C)<aE?[f,0]:[y,C]};return l.isStepper=!0,l.dt=a,l},y8e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return E8(i);case"spring":return v8e();default:if(i.split("(")[0]==="cubic-bezier")return E8(i)}return typeof i=="function"?i:null};function _b(e){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(e)}function R8(e){return w8e(e)||C8e(e)||ese(e)||b8e()}function b8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w8e(e){if(Array.isArray(e))return uL(e)}function T8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(n),!0).forEach(function(r){lL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lL(e,t,n){return t=S8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S8e(e){var t=x8e(e,"string");return _b(t)==="symbol"?t:String(t)}function x8e(e,t){if(_b(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_b(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E8e(e,t){return A8e(e)||T8e(e,t)||ese(e,t)||R8e()}function R8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(e,t){if(e){if(typeof e=="string")return uL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uL(e,t)}}function uL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T8e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function A8e(e){if(Array.isArray(e))return e}var lE=function(t,n,r){return t+(n-t)*r},cL=function(t){var n=t.from,r=t.to;return n!==r},P8e=function e(t,n,r){var i=my(function(o,s){if(cL(s)){var a=t(s.from,s.to,s.velocity),l=E8e(a,2),u=l[0],h=l[1];return bi(bi({},s),{},{from:u,velocity:h})}return s},n);return r<1?my(function(o,s){return cL(s)?bi(bi({},s),{},{velocity:lE(s.velocity,i[o].velocity,r),from:lE(s.from,i[o].from,r)}):s},n):e(t,i,r-1)};const _8e=function(e,t,n,r,i){var o=o8e(e,t),s=o.reduce(function(y,x){return bi(bi({},y),{},lL({},x,[e[x],t[x]]))},{}),a=o.reduce(function(y,x){return bi(bi({},y),{},lL({},x,{from:e[x],velocity:0,to:t[x]}))},{}),l=-1,u,h,f=function(){return null},p=function(){return my(function(x,R){return R.from},a)},m=function(){return!Object.values(a).filter(cL).length},b=function(x){u||(u=x);var R=x-u,T=R/n.dt;a=P8e(n,a,T),i(bi(bi(bi({},e),t),p())),u=x,m()||(l=requestAnimationFrame(f))},C=function(x){h||(h=x);var R=(x-h)/r,T=my(function(A,D){return lE.apply(void 0,R8(D).concat([n(R)]))},s);if(i(bi(bi(bi({},e),t),T)),R<1)l=requestAnimationFrame(f);else{var M=my(function(A,D){return lE.apply(void 0,R8(D).concat([n(1)]))},s);i(bi(bi(bi({},e),t),M))}};return f=n.isStepper?b:C,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}var O8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function D8e(e,t){if(e==null)return{};var n=I8e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I8e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function mI(e){return L8e(e)||k8e(e)||F8e(e)||M8e()}function M8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8e(e,t){if(e){if(typeof e=="string")return dL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dL(e,t)}}function k8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L8e(e){if(Array.isArray(e))return dL(e)}function dL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){Wv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wv(e,t,n){return t=tse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V8e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tse(r.key),r)}}function B8e(e,t,n){return t&&V8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tse(e){var t=H8e(e,"string");return Ig(t)==="symbol"?t:String(t)}function H8e(e,t){if(Ig(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ig(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hL(e,t)}function hL(e,t){return hL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hL(e,t)}function j8e(e){var t=G8e();return function(){var r=uE(e),i;if(t){var o=uE(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fL(this,i)}}function fL(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pL(e)}function pL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uE(e){return uE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uE(e)}var Yc=function(e){$8e(n,e);var t=j8e(n);function n(r,i){var o;N8e(this,n),o=t.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,h=s.to,f=s.steps,p=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(pL(o)),o.changeStyle=o.changeStyle.bind(pL(o)),!a||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:h}),fL(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof p=="function")return o.state={style:u},fL(o);o.state={style:l?Wv({},l,u):u}}else o.state={style:{}};return o}return B8e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,h=o.to,f=o.from,p=this.state.style;if(a){if(!s){var m={style:l?Wv({},l,h):h};this.state&&p&&(l&&p[l]!==h||!l&&p!==h)&&this.setState(m);return}if(!(Y9e(i.to,h)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var C=b||u?f:i.to;if(this.state&&p){var y={style:l?Wv({},l,C):C};(l&&p[l]!==C||!l&&p!==C)&&this.setState(y)}this.runAnimation(Qs(Qs({},this.props),{},{from:C,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,h=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,m=_8e(s,a,y8e(u),l,this.changeStyle),b=function(){o.stopJSAnimation=m()};this.manager.start([p,h,b,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],h=u.style,f=u.duration,p=f===void 0?0:f,m=function(C,y,x){if(x===0)return C;var R=y.duration,T=y.easing,M=T===void 0?"ease":T,A=y.style,D=y.properties,_=y.onAnimationEnd,I=x>0?s[x-1]:y,O=D||Object.keys(A);if(typeof M=="function"||M==="spring")return[].concat(mI(C),[o.runJSAnimation.bind(o,{from:I.style,to:A,duration:R,easing:M}),R]);var F=S8(O,R,M),L=Qs(Qs(Qs({},I.style),A),{},{transition:F});return[].concat(mI(C),[L,R,_]).filter(s8e)};return this.manager.start([l].concat(mI(s.reduce(m,[h,Math.max(p,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=n8e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,h=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,m=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var C=a?Wv({},a,l):l,y=S8(Object.keys(C),s,u);b.start([h,o,Qs(Qs({},C),{},{transition:y}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=D8e(i,O8e),u=w.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!a||u===0||s<=0)return o;var f=function(m){var b=m.props,C=b.style,y=C===void 0?{}:C,x=b.className,R=w.cloneElement(m,Qs(Qs({},l),{},{style:Qs(Qs({},y),h),className:x}));return R};return u===1?f(w.Children.only(o)):z.createElement("div",null,w.Children.map(o,function(p){return f(p)}))}}]),n}(w.PureComponent);Yc.displayName="Animate";Yc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yc.propTypes={from:mn.oneOfType([mn.object,mn.string]),to:mn.oneOfType([mn.object,mn.string]),attributeName:mn.string,duration:mn.number,begin:mn.number,easing:mn.oneOfType([mn.string,mn.func]),steps:mn.arrayOf(mn.shape({duration:mn.number.isRequired,style:mn.object.isRequired,easing:mn.oneOfType([mn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mn.func]),properties:mn.arrayOf("string"),onAnimationEnd:mn.func})),children:mn.oneOfType([mn.node,mn.func]),isActive:mn.bool,canBegin:mn.bool,onAnimationEnd:mn.func,shouldReAnimate:mn.bool,onAnimationStart:mn.func,onAnimationReStart:mn.func};function Ob(e){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ob(e)}function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cE.apply(this,arguments)}function z8e(e,t){return K8e(e)||q8e(e,t)||W8e(e,t)||U8e()}function U8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8e(e,t){if(e){if(typeof e=="string")return P8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P8(e,t)}}function P8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q8e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function K8e(e){if(Array.isArray(e))return e}function _8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(r){Y8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y8e(e,t,n){return t=X8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X8e(e){var t=Q8e(e,"string");return Ob(t)=="symbol"?t:t+""}function Q8e(e,t){if(Ob(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ob(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D8=function(t,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],p=0,m=4;p<m;p++)f[p]=o[p]>s?s:o[p];h="M".concat(t,",").concat(n+a*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(n)),h+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+a*f[1])),h+="L ".concat(t+r,",").concat(n+i-a*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-l*f[2],",").concat(n+i)),h+="L ".concat(t+l*f[3],",").concat(n+i),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-a*f[3])),h+="Z"}else if(s>0&&o===+o&&o>0){var b=Math.min(s,o);h="M ".concat(t,",").concat(n+a*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+l*b,",").concat(n,`
            L `).concat(t+r-l*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+r,",").concat(n+a*b,`
            L `).concat(t+r,",").concat(n+i-a*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+r-l*b,",").concat(n+i,`
            L `).concat(t+l*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(n+i-a*b," Z")}else h="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Z8e=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),h=Math.max(o,o+a),f=Math.min(s,s+l),p=Math.max(s,s+l);return r>=u&&r<=h&&i>=f&&i<=p}return!1},J8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yB=function(t){var n=O8(O8({},J8e),t),r=w.useRef(),i=w.useState(-1),o=z8e(i,2),s=o[0],a=o[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&a(M)}catch{}},[]);var l=n.x,u=n.y,h=n.width,f=n.height,p=n.radius,m=n.className,b=n.animationEasing,C=n.animationDuration,y=n.animationBegin,x=n.isAnimationActive,R=n.isUpdateAnimationActive;if(l!==+l||u!==+u||h!==+h||f!==+f||h===0||f===0)return null;var T=ln("recharts-rectangle",m);return R?z.createElement(Yc,{canBegin:s>0,from:{width:h,height:f,x:l,y:u},to:{width:h,height:f,x:l,y:u},duration:C,animationEasing:b,isActive:R},function(M){var A=M.width,D=M.height,_=M.x,I=M.y;return z.createElement(Yc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:C,isActive:x,easing:b},z.createElement("path",cE({},Rt(n,!0),{className:T,d:D8(_,I,A,D,p),ref:r})))}):z.createElement("path",cE({},Rt(n,!0),{className:T,d:D8(l,u,h,f,p)}))},e7e=["points","className","baseLinePoints","connectNulls"];function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp.apply(this,arguments)}function t7e(e,t){if(e==null)return{};var n=n7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function n7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function I8(e){return s7e(e)||o7e(e)||i7e(e)||r7e()}function r7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7e(e,t){if(e){if(typeof e=="string")return gL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(e,t)}}function o7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s7e(e){if(Array.isArray(e))return gL(e)}function gL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M8=function(t){return t&&t.x===+t.x&&t.y===+t.y},a7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){M8(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),M8(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},vy=function(t,n){var r=a7e(t);n&&(r=[r.reduce(function(o,s){return[].concat(I8(o),I8(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},l7e=function(t,n,r){var i=vy(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vy(n.reverse(),r).slice(1))},u7e=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,o=t.connectNulls,s=t7e(t,e7e);if(!n||!n.length)return null;var a=ln("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=l7e(n,i,o);return z.createElement("g",{className:a},z.createElement("path",mp({},Rt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?z.createElement("path",mp({},Rt(s,!0),{fill:"none",d:vy(n,o)})):null,l?z.createElement("path",mp({},Rt(s,!0),{fill:"none",d:vy(i,o)})):null)}var h=vy(n,o);return z.createElement("path",mp({},Rt(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:a,d:h}))};function mL(){return mL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mL.apply(this,arguments)}var bB=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,s=ln("recharts-dot",o);return n===+n&&r===+r&&i===+i?z.createElement("circle",mL({},Rt(t,!1),kx(t),{className:s,cx:n,cy:r,r:i})):null};function Db(e){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(e)}var c7e=["x","y","top","left","width","height","className"];function vL(){return vL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vL.apply(this,arguments)}function F8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d7e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(n),!0).forEach(function(r){h7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h7e(e,t,n){return t=f7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7e(e){var t=p7e(e,"string");return Db(t)=="symbol"?t:t+""}function p7e(e,t){if(Db(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g7e(e,t){if(e==null)return{};var n=m7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var v7e=function(t,n,r,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},y7e=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.top,a=s===void 0?0:s,l=t.left,u=l===void 0?0:l,h=t.width,f=h===void 0?0:h,p=t.height,m=p===void 0?0:p,b=t.className,C=g7e(t,c7e),y=d7e({x:r,y:o,top:a,left:u,width:f,height:m},C);return!Ue(r)||!Ue(o)||!Ue(f)||!Ue(m)||!Ue(a)||!Ue(u)?null:z.createElement("path",vL({},Rt(y,!0),{className:ln("recharts-cross",b),d:v7e(r,o,f,m,a,u)}))},vI,k8;function b7e(){if(k8)return vI;k8=1;var e=tT(),t=woe(),n=fl();function r(i,o){return i&&i.length?e(i,n(o,2),t):void 0}return vI=r,vI}var C7e=b7e();const w7e=Sn(C7e);var yI,L8;function S7e(){if(L8)return yI;L8=1;var e=tT(),t=fl(),n=Soe();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return yI=r,yI}var x7e=S7e();const E7e=Sn(x7e);var R7e=["cx","cy","angle","ticks","axisLine"],T7e=["ticks","tick","angle","tickFormatter","stroke"];function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yy.apply(this,arguments)}function N8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(n),!0).forEach(function(r){sT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V8(e,t){if(e==null)return{};var n=A7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function P7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rse(r.key),r)}}function _7e(e,t,n){return t&&B8(e.prototype,t),n&&B8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O7e(e,t,n){return t=dE(t),D7e(e,nse()?Reflect.construct(t,n||[],dE(e).constructor):t.apply(e,n))}function D7e(e,t){if(t&&(Mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I7e(e)}function I7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nse=function(){return!!e})()}function dE(e){return dE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dE(e)}function M7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yL(e,t)}function yL(e,t){return yL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yL(e,t)}function sT(e,t,n){return t=rse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rse(e){var t=F7e(e,"string");return Mg(t)=="symbol"?t:t+""}function F7e(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aT=function(e){function t(){return P7e(this,t),O7e(this,t,arguments)}return M7e(t,e),_7e(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Bn(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=w7e(a,function(h){return h.coordinate||0}),u=E7e(a,function(h){return h.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,u=V8(r,R7e),h=a.reduce(function(b,C){return[Math.min(b[0],C.coordinate),Math.max(b[1],C.coordinate)]},[1/0,-1/0]),f=Bn(i,o,h[0],s),p=Bn(i,o,h[1],s),m=Hd(Hd(Hd({},Rt(u,!1)),{},{fill:"none"},Rt(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return z.createElement("line",yy({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,h=V8(i,T7e),f=this.getTickTextAnchor(),p=Rt(h,!1),m=Rt(s,!1),b=o.map(function(C,y){var x=r.getTickValueCoord(C),R=Hd(Hd(Hd(Hd({textAnchor:f,transform:"rotate(".concat(90-a,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},m),{},{index:y},x),{},{payload:C});return z.createElement(yr,yy({className:ln("recharts-polar-radius-axis-tick",Uoe(s)),key:"tick-".concat(C.coordinate)},HR(r.props,C,y)),t.renderTickItem(s,R,l?l(C.value,y):C.value))});return z.createElement(yr,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:z.createElement(yr,{className:ln("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Si.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return z.isValidElement(r)?s=z.cloneElement(r,i):Dt(r)?s=r(i):s=z.createElement(Tg,yy({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(w.PureComponent);sT(aT,"displayName","PolarRadiusAxis");sT(aT,"axisType","radiusAxis");sT(aT,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xd.apply(this,arguments)}function H8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(n),!0).forEach(function(r){lT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ose(r.key),r)}}function L7e(e,t,n){return t&&$8(e.prototype,t),n&&$8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N7e(e,t,n){return t=hE(t),V7e(e,ise()?Reflect.construct(t,n||[],hE(e).constructor):t.apply(e,n))}function V7e(e,t){if(t&&(Fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B7e(e)}function B7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ise(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ise=function(){return!!e})()}function hE(e){return hE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hE(e)}function H7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bL(e,t)}function bL(e,t){return bL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bL(e,t)}function lT(e,t,n){return t=ose(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ose(e){var t=$7e(e,"string");return Fg(t)=="symbol"?t:t+""}function $7e(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j7e=Math.PI/180,G7e=1e-5,uT=function(e){function t(){return k7e(this,t),N7e(this,t,arguments)}return H7e(t,e),L7e(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,h=u||8,f=Bn(o,s,a,r.coordinate),p=Bn(o,s,a+(l==="inner"?-1:1)*h,r.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*j7e),s;return o>G7e?s=i==="outer"?"start":"end":o<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,u=$d($d({},Rt(this.props,!1)),{},{fill:"none"},Rt(a,!1));if(l==="circle")return z.createElement(bB,Xd({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var h=this.props.ticks,f=h.map(function(p){return Bn(i,o,s,p.coordinate)});return z.createElement(u7e,Xd({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,h=Rt(this.props,!1),f=Rt(s,!1),p=$d($d({},h),{},{fill:"none"},Rt(a,!1)),m=o.map(function(b,C){var y=r.getTickLineCoord(b),x=r.getTickTextAnchor(b),R=$d($d($d({textAnchor:x},h),{},{stroke:"none",fill:u},f),{},{index:C,payload:b,x:y.x2,y:y.y2});return z.createElement(yr,Xd({className:ln("recharts-polar-angle-axis-tick",Uoe(s)),key:"tick-".concat(b.coordinate)},HR(r.props,b,C)),a&&z.createElement("line",Xd({className:"recharts-polar-angle-axis-tick-line"},p,y)),s&&t.renderTickItem(s,R,l?l(b.value,C):b.value))});return z.createElement(yr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:z.createElement(yr,{className:ln("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return z.isValidElement(r)?s=z.cloneElement(r,i):Dt(r)?s=r(i):s=z.createElement(Tg,Xd({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(w.PureComponent);lT(uT,"displayName","PolarAngleAxis");lT(uT,"axisType","angleAxis");lT(uT,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var bI,j8;function z7e(){if(j8)return bI;j8=1;var e=Cie(),t=e(Object.getPrototypeOf,Object);return bI=t,bI}var CI,G8;function U7e(){if(G8)return CI;G8=1;var e=Tu(),t=z7e(),n=Au(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(h){if(!n(h)||e(h)!=r)return!1;var f=t(h);if(f===null)return!0;var p=a.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==l}return CI=u,CI}var W7e=U7e();const q7e=Sn(W7e);var wI,z8;function K7e(){if(z8)return wI;z8=1;var e=Tu(),t=Au(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return wI=r,wI}var Y7e=K7e();const X7e=Sn(Y7e);function Ib(e){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(e)}function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fE.apply(this,arguments)}function Q7e(e,t){return tKe(e)||eKe(e,t)||J7e(e,t)||Z7e()}function Z7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J7e(e,t){if(e){if(typeof e=="string")return U8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U8(e,t)}}function U8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eKe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function tKe(e){if(Array.isArray(e))return e}function W8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(n),!0).forEach(function(r){nKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nKe(e,t,n){return t=rKe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rKe(e){var t=iKe(e,"string");return Ib(t)=="symbol"?t:t+""}function iKe(e,t){if(Ib(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K8=function(t,n,r,i,o){var s=r-i,a;return a="M ".concat(t,",").concat(n),a+="L ".concat(t+r,",").concat(n),a+="L ".concat(t+r-s/2,",").concat(n+o),a+="L ".concat(t+r-s/2-i,",").concat(n+o),a+="L ".concat(t,",").concat(n," Z"),a},oKe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sKe=function(t){var n=q8(q8({},oKe),t),r=w.useRef(),i=w.useState(-1),o=Q7e(i,2),s=o[0],a=o[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var l=n.x,u=n.y,h=n.upperWidth,f=n.lowerWidth,p=n.height,m=n.className,b=n.animationEasing,C=n.animationDuration,y=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||h!==+h||f!==+f||p!==+p||h===0&&f===0||p===0)return null;var R=ln("recharts-trapezoid",m);return x?z.createElement(Yc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:h,lowerWidth:f,height:p,x:l,y:u},duration:C,animationEasing:b,isActive:x},function(T){var M=T.upperWidth,A=T.lowerWidth,D=T.height,_=T.x,I=T.y;return z.createElement(Yc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:C,easing:b},z.createElement("path",fE({},Rt(n,!0),{className:R,d:K8(_,I,M,A,D),ref:r})))}):z.createElement("g",null,z.createElement("path",fE({},Rt(n,!0),{className:R,d:K8(l,u,h,f,p)})))},aKe=["option","shapeType","propTransformer","activeClassName","isActive"];function Mb(e){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mb(e)}function lKe(e,t){if(e==null)return{};var n=uKe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(n),!0).forEach(function(r){cKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cKe(e,t,n){return t=dKe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dKe(e){var t=hKe(e,"string");return Mb(t)=="symbol"?t:t+""}function hKe(e,t){if(Mb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fKe(e,t){return pE(pE({},t),e)}function pKe(e,t){return e==="symbols"}function X8(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return z.createElement(yB,n);case"trapezoid":return z.createElement(sKe,n);case"sector":return z.createElement(Koe,n);case"symbols":if(pKe(t))return z.createElement(FV,n);break;default:return null}}function gKe(e){return w.isValidElement(e)?e.props:e}function mKe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?fKe:r,o=e.activeClassName,s=o===void 0?"recharts-active-shape":o,a=e.isActive,l=lKe(e,aKe),u;if(w.isValidElement(t))u=w.cloneElement(t,pE(pE({},l),gKe(t)));else if(Dt(t))u=t(l);else if(q7e(t)&&!X7e(t)){var h=i(t,l);u=z.createElement(X8,{shapeType:n,elementProps:h})}else{var f=l;u=z.createElement(X8,{shapeType:n,elementProps:f})}return a?z.createElement(yr,{className:s},u):u}function cT(e,t){return t!=null&&"trapezoids"in e.props}function dT(e,t){return t!=null&&"sectors"in e.props}function Fb(e,t){return t!=null&&"points"in e.props}function vKe(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function yKe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function bKe(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function CKe(e,t){var n;return cT(e,t)?n=vKe:dT(e,t)?n=yKe:Fb(e,t)&&(n=bKe),n}function wKe(e,t){var n;return cT(e,t)?n="trapezoids":dT(e,t)?n="sectors":Fb(e,t)&&(n="points"),n}function SKe(e,t){if(cT(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(dT(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Fb(e,t)?t.payload:{}}function xKe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=wKe(n,t),o=SKe(n,t),s=r.filter(function(l,u){var h=fB(o,l),f=n.props[i].filter(function(b){var C=CKe(n,t);return C(b,t)}),p=n.props[i].indexOf(f[f.length-1]),m=u===p;return h&&m}),a=r.indexOf(s[s.length-1]);return a}var AS;function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp.apply(this,arguments)}function Q8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q8(Object(n),!0).forEach(function(r){Es(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ase(r.key),r)}}function RKe(e,t,n){return t&&Z8(e.prototype,t),n&&Z8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TKe(e,t,n){return t=gE(t),AKe(e,sse()?Reflect.construct(t,n||[],gE(e).constructor):t.apply(e,n))}function AKe(e,t){if(t&&(kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PKe(e)}function PKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sse=function(){return!!e})()}function gE(e){return gE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gE(e)}function _Ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CL(e,t)}function CL(e,t){return CL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CL(e,t)}function Es(e,t,n){return t=ase(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ase(e){var t=OKe(e,"string");return kg(t)=="symbol"?t:t+""}function OKe(e,t){if(kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _u=function(e){function t(n){var r;return EKe(this,t),r=TKe(this,t,[n]),Es(r,"pieRef",null),Es(r,"sectorRefs",[]),Es(r,"id",BR("recharts-pie-")),Es(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Dt(i)&&i()}),Es(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Dt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return _Ke(t,e),RKe(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,u=o.valueKey,h=Rt(this.props,!1),f=Rt(s,!1),p=Rt(a,!1),m=s&&s.offsetRadius||20,b=r.map(function(C,y){var x=(C.startAngle+C.endAngle)/2,R=Bn(C.cx,C.cy,C.outerRadius+m,x),T=Nn(Nn(Nn(Nn({},h),C),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(R.x,C.cx)},R),M=Nn(Nn(Nn(Nn({},h),C),{},{fill:"none",stroke:C.fill},p),{},{index:y,points:[Bn(C.cx,C.cy,C.outerRadius,x),R]}),A=l;return Wt(l)&&Wt(u)?A="value":Wt(l)&&(A=u),z.createElement(yr,{key:"label-".concat(C.startAngle,"-").concat(C.endAngle,"-").concat(C.midAngle,"-").concat(y)},a&&t.renderLabelLineItem(a,M,"line"),t.renderLabelItem(s,T,jo(C,A)))});return z.createElement(yr,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(u,h){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(h),p=l&&i.hasActiveIndex()?l:null,m=f?s:p,b=Nn(Nn({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return z.createElement(yr,vp({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},HR(i.props,u,h),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(h)}),z.createElement(mKe,vp({option:m,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,h=i.animationId,f=this.state,p=f.prevSectors,m=f.prevIsAnimationActive;return z.createElement(Yc,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var C=b.t,y=[],x=o&&o[0],R=x.startAngle;return o.forEach(function(T,M){var A=p&&p[M],D=M>0?da(T,"paddingAngle",0):0;if(A){var _=r5(A.endAngle-A.startAngle,T.endAngle-T.startAngle),I=Nn(Nn({},T),{},{startAngle:R+D,endAngle:R+_(C)+D});y.push(I),R=I.endAngle}else{var O=T.endAngle,F=T.startAngle,L=r5(0,O-F),V=L(C),N=Nn(Nn({},T),{},{startAngle:R+D,endAngle:R+V+D});y.push(N),R=N.endAngle}}),z.createElement(yr,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!fB(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,u=i.cx,h=i.cy,f=i.innerRadius,p=i.outerRadius,m=i.isAnimationActive,b=this.state.isAnimationFinished;if(o||!s||!s.length||!Ue(u)||!Ue(h)||!Ue(f)||!Ue(p))return null;var C=ln("recharts-pie",a);return z.createElement(yr,{tabIndex:this.props.rootTabIndex,className:C,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(s),Si.renderCallByParent(this.props,null,!1),(!m||b)&&Ah.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(z.isValidElement(r))return z.cloneElement(r,i);if(Dt(r))return r(i);var s=ln("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return z.createElement(oL,vp({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(z.isValidElement(r))return z.cloneElement(r,i);var s=o;if(Dt(r)&&(s=r(i),z.isValidElement(s)))return s;var a=ln("recharts-pie-label-text",typeof r!="boolean"&&!Dt(r)?r.className:"");return z.createElement(Tg,vp({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(w.PureComponent);AS=_u;Es(_u,"displayName","Pie");Es(_u,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!KR.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Es(_u,"parseDeltaAngle",function(e,t){var n=Ps(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Es(_u,"getRealPieData",function(e){var t=e.data,n=e.children,r=Rt(e,!1),i=Za(n,zV);return t&&t.length?t.map(function(o,s){return Nn(Nn(Nn({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return Nn(Nn({},r),o.props)}):[]});Es(_u,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,s=zoe(i,o),a=r+So(e.cx,i,i/2),l=n+So(e.cy,o,o/2),u=So(e.innerRadius,s,0),h=So(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:h,maxRadius:f}});Es(_u,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Nn(Nn({},t.type.defaultProps),t.props):t.props,i=AS.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,h=r.nameKey,f=r.valueKey,p=r.tooltipType,m=Math.abs(r.minAngle),b=AS.parseCoordinateOfPie(r,n),C=AS.parseDeltaAngle(s,a),y=Math.abs(C),x=u;Wt(u)&&Wt(f)?(ru(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Wt(u)&&(ru(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var R=i.filter(function(I){return jo(I,x,0)!==0}).length,T=(y>=360?R:R-1)*l,M=y-R*m-T,A=i.reduce(function(I,O){var F=jo(O,x,0);return I+(Ue(F)?F:0)},0),D;if(A>0){var _;D=i.map(function(I,O){var F=jo(I,x,0),L=jo(I,h,O),V=(Ue(F)?F:0)/A,N;O?N=_.endAngle+Ps(C)*l*(F!==0?1:0):N=s;var Y=N+Ps(C)*((F!==0?m:0)+V*M),X=(N+Y)/2,j=(b.innerRadius+b.outerRadius)/2,G=[{name:L,value:F,payload:I,dataKey:x,type:p}],U=Bn(b.cx,b.cy,j,X);return _=Nn(Nn(Nn({percent:V,cornerRadius:o,name:L,tooltipPayload:G,midAngle:X,middleRadius:j,tooltipPosition:U},I),b),{},{value:jo(I,x),startAngle:N,endAngle:Y,payload:I,paddingAngle:Ps(C)*l}),_})}return Nn(Nn({},b),{},{sectors:D,data:i})});var SI,J8;function DKe(){if(J8)return SI;J8=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=r,r+=o;return u}return SI=n,SI}var xI,e7;function lse(){if(e7)return xI;e7=1;var e=Lie(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-1/0){var o=i<0?-1:1;return o*n}return i===i?i:0}return xI=r,xI}var EI,t7;function IKe(){if(t7)return EI;t7=1;var e=DKe(),t=qR(),n=lse();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return EI=r,EI}var RI,n7;function MKe(){if(n7)return RI;n7=1;var e=IKe(),t=e();return RI=t,RI}var FKe=MKe();const mE=Sn(FKe);function kb(e){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kb(e)}function r7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r7(Object(n),!0).forEach(function(r){use(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function use(e,t,n){return t=kKe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kKe(e){var t=LKe(e,"string");return kb(t)=="symbol"?t:t+""}function LKe(e,t){if(kb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NKe=["Webkit","Moz","O","ms"],VKe=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=NKe.reduce(function(o,s){return i7(i7({},o),{},use({},s+r,n))},{});return i[t]=n,i};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vE.apply(this,arguments)}function o7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o7(Object(n),!0).forEach(function(r){Bo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dse(r.key),r)}}function HKe(e,t,n){return t&&s7(e.prototype,t),n&&s7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ke(e,t,n){return t=yE(t),jKe(e,cse()?Reflect.construct(t,n||[],yE(e).constructor):t.apply(e,n))}function jKe(e,t){if(t&&(Lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GKe(e)}function GKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cse=function(){return!!e})()}function yE(e){return yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yE(e)}function zKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wL(e,t)}function wL(e,t){return wL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wL(e,t)}function Bo(e,t,n){return t=dse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dse(e){var t=UKe(e,"string");return Lg(t)=="symbol"?t:t+""}function UKe(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WKe=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=py().domain(mE(0,l)).range([o,o+s-a]),h=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:h}},a7=function(t){return t.changedTouches&&!!t.changedTouches.length},Ng=function(e){function t(n){var r;return BKe(this,t),r=$Ke(this,t,[n]),Bo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Bo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Bo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Bo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bo(r,"handleSlideDragStart",function(i){var o=a7(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return zKe(t,e),HKe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,h=u.length-1,f=Math.min(i,o),p=Math.max(i,o),m=t.getIndexInRange(s,f),b=t.getIndexInRange(s,p);return{startIndex:m-m%l,endIndex:b===h?h:b-b%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=jo(o[r],a,r);return Dt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,h=l.width,f=l.travellerWidth,p=l.startIndex,m=l.endIndex,b=l.onChange,C=r.pageX-o;C>0?C=Math.min(C,u+h-f-a,u+h-f-s):C<0&&(C=Math.max(C,u-s,u-a));var y=this.getIndex({startX:s+C,endX:a+C});(y.startIndex!==p||y.endIndex!==m)&&b&&b(y),this.setState({startX:s+C,endX:a+C,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=a7(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],h=this.props,f=h.x,p=h.width,m=h.travellerWidth,b=h.onChange,C=h.gap,y=h.data,x={startX:this.state.startX,endX:this.state.endX},R=r.pageX-o;R>0?R=Math.min(R,f+p-m-u):R<0&&(R=Math.max(R,f-u)),x[s]=u+R;var T=this.getIndex(x),M=T.startIndex,A=T.endIndex,D=function(){var I=y.length-1;return s==="startX"&&(a>l?M%C===0:A%C===0)||a<l&&A===I||s==="endX"&&(a>l?A%C===0:M%C===0)||a>l&&A===I};this.setState(Bo(Bo({},s,u+R),"brushMoveStartX",r.pageX),function(){b&&D()&&b(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,h=this.state[i],f=a.indexOf(h);if(f!==-1){var p=f+r;if(!(p===-1||p>=a.length)){var m=a[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Bo({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return z.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,h=r.padding,f=w.Children.only(u);return f?z.cloneElement(f,{x:i,y:o,width:s,height:a,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,h=l.travellerWidth,f=l.height,p=l.traveller,m=l.ariaLabel,b=l.data,C=l.startIndex,y=l.endIndex,x=Math.max(r,this.props.x),R=TI(TI({},Rt(this.props,!1)),{},{x,y:u,width:h,height:f}),T=m||"Min value: ".concat((o=b[C])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=b[y])===null||s===void 0?void 0:s.name);return z.createElement(yr,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,R))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,h=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,h=this.state,f=h.startX,p=h.endX,m=5,b={pointerEvents:"none",fill:u};return z.createElement(yr,{className:"recharts-brush-texts"},z.createElement(Tg,vE({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-m,y:s+a/2},b),this.getTextOfTick(i)),z.createElement(Tg,vE({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+m,y:s+a/2},b),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,h=r.height,f=r.alwaysShowText,p=this.state,m=p.startX,b=p.endX,C=p.isTextActive,y=p.isSlideMoving,x=p.isTravellerMoving,R=p.isTravellerFocused;if(!i||!i.length||!Ue(a)||!Ue(l)||!Ue(u)||!Ue(h)||u<=0||h<=0)return null;var T=ln("recharts-brush",o),M=z.Children.count(s)===1,A=VKe("userSelect","none");return z.createElement(yr,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(m,b),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(b,"endX"),(C||y||x||R||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return z.isValidElement(r)?o=z.cloneElement(r,i):Dt(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,h=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return TI({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?WKe({data:o,width:s,x:a,travellerWidth:l,startIndex:h,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(w.PureComponent);Bo(Ng,"displayName","Brush");Bo(Ng,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AI,l7;function qKe(){if(l7)return AI;l7=1;var e=$V();function t(n,r){var i;return e(n,function(o,s,a){return i=r(o,s,a),!i}),!!i}return AI=t,AI}var PI,u7;function KKe(){if(u7)return PI;u7=1;var e=fie(),t=fl(),n=qKe(),r=To(),i=qR();function o(s,a,l){var u=r(s)?e:n;return l&&i(s,a,l)&&(a=void 0),u(s,t(a,3))}return PI=o,PI}var YKe=KKe();const XKe=Sn(YKe);var el=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},_I,c7;function QKe(){if(c7)return _I;c7=1;var e=Die();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return _I=t,_I}var OI,d7;function ZKe(){if(d7)return OI;d7=1;var e=QKe(),t=_ie(),n=fl();function r(i,o){var s={};return o=n(o,3),t(i,function(a,l,u){e(s,l,o(a,l,u))}),s}return OI=r,OI}var JKe=ZKe();const eYe=Sn(JKe);var DI,h7;function tYe(){if(h7)return DI;h7=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return DI=e,DI}var II,f7;function nYe(){if(f7)return II;f7=1;var e=$V();function t(n,r){var i=!0;return e(n,function(o,s,a){return i=!!r(o,s,a),i}),i}return II=t,II}var MI,p7;function rYe(){if(p7)return MI;p7=1;var e=tYe(),t=nYe(),n=fl(),r=To(),i=qR();function o(s,a,l){var u=r(s)?e:t;return l&&i(s,a,l)&&(a=void 0),u(s,n(a,3))}return MI=o,MI}var iYe=rYe();const oYe=Sn(iYe);function Lb(e){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lb(e)}function sYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hse(r.key),r)}}function aYe(e,t,n){return t&&g7(e.prototype,t),n&&g7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(n),!0).forEach(function(r){CB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CB(e,t,n){return t=hse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hse(e){var t=lYe(e,"string");return Lb(t)=="symbol"?t:t+""}function lYe(e,t){if(Lb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fse=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},uYe=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return fse({x:n,y:r},{x:i,y:o})},pse=function(){function e(t){sYe(this,e),this.scale=t}return aYe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();CB(pse,"EPS",1e-4);var wB=function(t){var n=Object.keys(t).reduce(function(r,i){return $0($0({},r),{},CB({},i,pse.create(t[i])))},{});return $0($0({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return eYe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return oYe(i,function(o,s){return n[s].isInRange(o)})}})},FI,v7;function cYe(){if(v7)return FI;v7=1;var e=fl(),t=MC(),n=UR();function r(i){return function(o,s,a){var l=Object(o);if(!t(o)){var u=e(s,3);o=n(o),s=function(f){return u(l[f],f,l)}}var h=i(o,s,a);return h>-1?l[u?o[h]:h]:void 0}}return FI=r,FI}var kI,y7;function dYe(){if(y7)return kI;y7=1;var e=lse();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return kI=t,kI}var LI,b7;function hYe(){if(b7)return LI;b7=1;var e=Eie(),t=fl(),n=dYe(),r=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(o,t(s,3),u)}return LI=i,LI}var NI,C7;function fYe(){if(C7)return NI;C7=1;var e=cYe(),t=hYe(),n=e(t);return NI=n,NI}fYe();var pYe=Hre();const gYe=Sn(pYe);var mYe=gYe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),gse=w.createContext(void 0),mse=w.createContext(void 0),vse=w.createContext(void 0),vYe=w.createContext({}),yse=w.createContext(void 0),yYe=w.createContext(0),bYe=w.createContext(0),w7=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=t.clipPathId,a=t.children,l=t.width,u=t.height,h=mYe(o);return z.createElement(gse.Provider,{value:r},z.createElement(mse.Provider,{value:i},z.createElement(vYe.Provider,{value:o},z.createElement(vse.Provider,{value:h},z.createElement(yse.Provider,{value:s},z.createElement(yYe.Provider,{value:u},z.createElement(bYe.Provider,{value:l},a)))))))},CYe=function(){return w.useContext(yse)},wYe=function(t){var n=w.useContext(gse);n==null&&Og();var r=n[t];return r==null&&Og(),r},SYe=function(t){var n=w.useContext(mse);n==null&&Og();var r=n[t];return r==null&&Og(),r},xYe=function(){var t=w.useContext(vse);return t};function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function EYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cse(r.key),r)}}function TYe(e,t,n){return t&&RYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AYe(e,t,n){return t=bE(t),PYe(e,bse()?Reflect.construct(t,n||[],bE(e).constructor):t.apply(e,n))}function PYe(e,t){if(t&&(Vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ye(e)}function _Ye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bse=function(){return!!e})()}function bE(e){return bE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bE(e)}function OYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SL(e,t)}function SL(e,t){return SL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SL(e,t)}function S7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S7(Object(n),!0).forEach(function(r){SB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SB(e,t,n){return t=Cse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cse(e){var t=DYe(e,"string");return Vg(t)=="symbol"?t:t+""}function DYe(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IYe(e,t){return LYe(e)||kYe(e,t)||FYe(e,t)||MYe()}function MYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FYe(e,t){if(e){if(typeof e=="string")return E7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E7(e,t)}}function E7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kYe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function LYe(e){if(Array.isArray(e))return e}function xL(){return xL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xL.apply(this,arguments)}var NYe=function(t,n){var r;return z.isValidElement(t)?r=z.cloneElement(t,n):Dt(t)?r=t(n):r=z.createElement("line",xL({},n,{className:"recharts-reference-line-line"})),r},VYe=function(t,n,r,i,o,s,a,l,u){var h=o.x,f=o.y,p=o.width,m=o.height;if(r){var b=u.y,C=t.y.apply(b,{position:s});if(el(u,"discard")&&!t.y.isInRange(C))return null;var y=[{x:h+p,y:C},{x:h,y:C}];return l==="left"?y.reverse():y}if(n){var x=u.x,R=t.x.apply(x,{position:s});if(el(u,"discard")&&!t.x.isInRange(R))return null;var T=[{x:R,y:f+m},{x:R,y:f}];return a==="top"?T.reverse():T}if(i){var M=u.segment,A=M.map(function(D){return t.apply(D,{position:s})});return el(u,"discard")&&XKe(A,function(D){return!t.isInRange(D)})?null:A}return null};function BYe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,a=e.className,l=e.alwaysShow,u=CYe(),h=wYe(i),f=SYe(o),p=xYe();if(!u||!p)return null;ru(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=wB({x:h.scale,y:f.scale}),b=zr(t),C=zr(n),y=r&&r.length===2,x=VYe(m,b,C,y,p,e.position,h.orientation,f.orientation,e);if(!x)return null;var R=IYe(x,2),T=R[0],M=T.x,A=T.y,D=R[1],_=D.x,I=D.y,O=el(e,"hidden")?"url(#".concat(u,")"):void 0,F=x7(x7({clipPath:O},Rt(e,!0)),{},{x1:M,y1:A,x2:_,y2:I});return z.createElement(yr,{className:ln("recharts-reference-line",a)},NYe(s,F),Si.renderCallByParent(e,uYe({x1:M,y1:A,x2:_,y2:I})))}var xB=function(e){function t(){return EYe(this,t),AYe(this,t,arguments)}return OYe(t,e),TYe(t,[{key:"render",value:function(){return z.createElement(BYe,this.props)}}])}(z.Component);SB(xB,"displayName","ReferenceLine");SB(xB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function EL(){return EL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EL.apply(this,arguments)}function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function R7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R7(Object(n),!0).forEach(function(r){hT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sse(r.key),r)}}function jYe(e,t,n){return t&&$Ye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GYe(e,t,n){return t=CE(t),zYe(e,wse()?Reflect.construct(t,n||[],CE(e).constructor):t.apply(e,n))}function zYe(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UYe(e)}function UYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wse=function(){return!!e})()}function CE(e){return CE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CE(e)}function WYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RL(e,t)}function RL(e,t){return RL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RL(e,t)}function hT(e,t,n){return t=Sse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sse(e){var t=qYe(e,"string");return Bg(t)=="symbol"?t:t+""}function qYe(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KYe=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,s=wB({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return el(t,"discard")&&!s.isInRange(a)?null:a},fT=function(e){function t(){return HYe(this,t),GYe(this,t,arguments)}return WYe(t,e),jYe(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=zr(i),h=zr(o);if(ru(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var f=KYe(this.props);if(!f)return null;var p=f.x,m=f.y,b=this.props,C=b.shape,y=b.className,x=el(this.props,"hidden")?"url(#".concat(l,")"):void 0,R=T7(T7({clipPath:x},Rt(this.props,!0)),{},{cx:p,cy:m});return z.createElement(yr,{className:ln("recharts-reference-dot",y)},t.renderDot(C,R),Si.renderCallByParent(this.props,{x:p-s,y:m-s,width:2*s,height:2*s}))}}])}(z.Component);hT(fT,"displayName","ReferenceDot");hT(fT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hT(fT,"renderDot",function(e,t){var n;return z.isValidElement(e)?n=z.cloneElement(e,t):Dt(e)?n=e(t):n=z.createElement(bB,EL({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function TL(){return TL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TL.apply(this,arguments)}function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function A7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(n),!0).forEach(function(r){pT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ese(r.key),r)}}function QYe(e,t,n){return t&&XYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZYe(e,t,n){return t=wE(t),JYe(e,xse()?Reflect.construct(t,n||[],wE(e).constructor):t.apply(e,n))}function JYe(e,t){if(t&&(Hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eXe(e)}function eXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xse=function(){return!!e})()}function wE(e){return wE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wE(e)}function tXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AL(e,t)}function AL(e,t){return AL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AL(e,t)}function pT(e,t,n){return t=Ese(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ese(e){var t=nXe(e,"string");return Hg(t)=="symbol"?t:t+""}function nXe(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rXe=function(t,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,h=o.xAxis,f=o.yAxis;if(!h||!f)return null;var p=wB({x:h.scale,y:f.scale}),m={x:t?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},b={x:n?p.x.apply(a,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return el(o,"discard")&&(!p.isInRange(m)||!p.isInRange(b))?null:fse(m,b)},gT=function(e){function t(){return YYe(this,t),ZYe(this,t,arguments)}return tXe(t,e),QYe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,h=r.clipPathId;ru(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=zr(i),p=zr(o),m=zr(s),b=zr(a),C=this.props.shape;if(!f&&!p&&!m&&!b&&!C)return null;var y=rXe(f,p,m,b,this.props);if(!y&&!C)return null;var x=el(this.props,"hidden")?"url(#".concat(h,")"):void 0;return z.createElement(yr,{className:ln("recharts-reference-area",l)},t.renderRect(C,P7(P7({clipPath:x},Rt(this.props,!0)),y)),Si.renderCallByParent(this.props,y))}}])}(z.Component);pT(gT,"displayName","ReferenceArea");pT(gT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pT(gT,"renderRect",function(e,t){var n;return z.isValidElement(e)?n=z.cloneElement(e,t):Dt(e)?n=e(t):n=z.createElement(yB,TL({},t,{className:"recharts-reference-area-rect"})),n});function _7(e){return aXe(e)||sXe(e)||oXe(e)||iXe()}function iXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oXe(e,t){if(e){if(typeof e=="string")return PL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PL(e,t)}}function sXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aXe(e){if(Array.isArray(e))return PL(e)}function PL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _L=function(t,n,r,i,o){var s=Za(t,xB),a=Za(t,fT),l=[].concat(_7(s),_7(a)),u=Za(t,gT),h="".concat(i,"Id"),f=i[0],p=n;if(l.length&&(p=l.reduce(function(C,y){if(y.props[h]===r&&el(y.props,"extendDomain")&&Ue(y.props[f])){var x=y.props[f];return[Math.min(C[0],x),Math.max(C[1],x)]}return C},p)),u.length){var m="".concat(f,"1"),b="".concat(f,"2");p=u.reduce(function(C,y){if(y.props[h]===r&&el(y.props,"extendDomain")&&Ue(y.props[m])&&Ue(y.props[b])){var x=y.props[m],R=y.props[b];return[Math.min(C[0],x,R),Math.max(C[1],x,R)]}return C},p)}return o&&o.length&&(p=o.reduce(function(C,y){return Ue(y)?[Math.min(C[0],y),Math.max(C[1],y)]:C},p)),p},VI={exports:{}},O7;function lXe(){return O7||(O7=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function o(l,u,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||l,p),b=n?n+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],m]:l._events[b].push(m):(l._events[b]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)t.call(h,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=n?n+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,b=new Array(m);p<m;p++)b[p]=f[p].fn;return b},a.prototype.listenerCount=function(u){var h=n?n+u:u,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,h,f,p,m,b){var C=n?n+u:u;if(!this._events[C])return!1;var y=this._events[C],x=arguments.length,R,T;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,f),!0;case 4:return y.fn.call(y.context,h,f,p),!0;case 5:return y.fn.call(y.context,h,f,p,m),!0;case 6:return y.fn.call(y.context,h,f,p,m,b),!0}for(T=1,R=new Array(x-1);T<x;T++)R[T-1]=arguments[T];y.fn.apply(y.context,R)}else{var M=y.length,A;for(T=0;T<M;T++)switch(y[T].once&&this.removeListener(u,y[T].fn,void 0,!0),x){case 1:y[T].fn.call(y[T].context);break;case 2:y[T].fn.call(y[T].context,h);break;case 3:y[T].fn.call(y[T].context,h,f);break;case 4:y[T].fn.call(y[T].context,h,f,p);break;default:if(!R)for(A=1,R=new Array(x-1);A<x;A++)R[A-1]=arguments[A];y[T].fn.apply(y[T].context,R)}}return!0},a.prototype.on=function(u,h,f){return o(this,u,h,f,!1)},a.prototype.once=function(u,h,f){return o(this,u,h,f,!0)},a.prototype.removeListener=function(u,h,f,p){var m=n?n+u:u;if(!this._events[m])return this;if(!h)return s(this,m),this;var b=this._events[m];if(b.fn)b.fn===h&&(!p||b.once)&&(!f||b.context===f)&&s(this,m);else{for(var C=0,y=[],x=b.length;C<x;C++)(b[C].fn!==h||p&&!b[C].once||f&&b[C].context!==f)&&y.push(b[C]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(VI)),VI.exports}var uXe=lXe();const cXe=Sn(uXe);var BI=new cXe,HI="recharts.syncMouseEvents";function Nb(e){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(e)}function dXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hXe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rse(r.key),r)}}function fXe(e,t,n){return t&&hXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $I(e,t,n){return t=Rse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rse(e){var t=pXe(e,"string");return Nb(t)=="symbol"?t:t+""}function pXe(e,t){if(Nb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gXe=function(){function e(){dXe(this,e),$I(this,"activeIndex",0),$I(this,"coordinateList",[]),$I(this,"layout","horizontal")}return fXe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,h=n.offset,f=h===void 0?null:h,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,p=s+this.offset.top+a/2+h;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function mXe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Ue(r)&&Ue(i))return!0}return!1}function vXe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Tse(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,s=Bn(t,n,r,i),a=Bn(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function yXe(e,t,n){var r,i,o,s;if(e==="horizontal")r=t.x,o=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var a=t.cx,l=t.cy,u=t.innerRadius,h=t.outerRadius,f=t.angle,p=Bn(a,l,u,f),m=Bn(a,l,h,f);r=p.x,i=p.y,o=m.x,s=m.y}else return Tse(t);return[{x:r,y:i},{x:o,y:s}]}function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}function D7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(n),!0).forEach(function(r){bXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bXe(e,t,n){return t=CXe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CXe(e){var t=wXe(e,"string");return Vb(t)=="symbol"?t:t+""}function wXe(e,t){if(Vb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SXe(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,s=e.activeCoordinate,a=e.activePayload,l=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!s||p!=="ScatterChart"&&i!=="axis")return null;var b,C=oL;if(p==="ScatterChart")b=s,C=y7e;else if(p==="BarChart")b=vXe(f,s,l,h),C=yB;else if(f==="radial"){var y=Tse(s),x=y.cx,R=y.cy,T=y.radius,M=y.startAngle,A=y.endAngle;b={cx:x,cy:R,startAngle:M,endAngle:A,innerRadius:T,outerRadius:T},C=Koe}else b={points:yXe(f,s,l)},C=oL;var D=j0(j0(j0(j0({stroke:"#ccc",pointerEvents:"none"},l),b),Rt(m,!1)),{},{payload:a,payloadIndex:u,className:ln("recharts-tooltip-cursor",m.className)});return w.isValidElement(m)?w.cloneElement(m,D):w.createElement(C,D)}var xXe=["item"],EXe=["children","className","width","height","style","compact","title","desc"];function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yp.apply(this,arguments)}function I7(e,t){return AXe(e)||TXe(e,t)||Pse(e,t)||RXe()}function RXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TXe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function AXe(e){if(Array.isArray(e))return e}function M7(e,t){if(e==null)return{};var n=PXe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PXe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OXe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_se(r.key),r)}}function DXe(e,t,n){return t&&OXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IXe(e,t,n){return t=SE(t),MXe(e,Ase()?Reflect.construct(t,n||[],SE(e).constructor):t.apply(e,n))}function MXe(e,t){if(t&&($g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FXe(e)}function FXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ase(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ase=function(){return!!e})()}function SE(e){return SE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SE(e)}function kXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OL(e,t)}function OL(e,t){return OL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OL(e,t)}function jg(e){return VXe(e)||NXe(e)||Pse(e)||LXe()}function LXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pse(e,t){if(e){if(typeof e=="string")return DL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DL(e,t)}}function NXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VXe(e){if(Array.isArray(e))return DL(e)}function DL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F7(Object(n),!0).forEach(function(r){ut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ut(e,t,n){return t=_se(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _se(e){var t=BXe(e,"string");return $g(t)=="symbol"?t:t+""}function BXe(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HXe={xAxis:["bottom","top"],yAxis:["left","right"]},$Xe={width:"100%",height:"100%"},Ose={x:0,y:0};function G0(e){return e}var jXe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},GXe=function(t,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return Ce(Ce(Ce({},i),Bn(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return Ce(Ce(Ce({},i),Bn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Ose},mT=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(jg(a),jg(u)):a},[]);return s.length>0?s:t&&t.length&&Ue(i)&&Ue(o)?t.slice(i,o+1):[]};function Dse(e){return e==="number"?[0,"auto"]:void 0}var IL=function(t,n,r,i){var o=t.graphicalItems,s=t.tooltipAxis,a=mT(n,t);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var h,f=(h=u.props.data)!==null&&h!==void 0?h:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?a:f;p=yk(m,s.dataKey,i)}else p=f&&f[r]||a[r];return p?[].concat(jg(l),[iqe(u,p)]):l},[])},k7=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},s=jXe(o,r),a=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,h=j6e(s,a,u,l);if(h>=0&&u){var f=u[h]&&u[h].value,p=IL(t,n,h,f),m=GXe(r,a,h,o);return{activeTooltipIndex:h,activeLabel:f,activePayload:p,activeCoordinate:m}}return null},zXe=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,f=t.children,p=t.stackOffset,m=$oe(h,o);return r.reduce(function(b,C){var y,x=C.type.defaultProps!==void 0?Ce(Ce({},C.type.defaultProps),C.props):C.props,R=x.type,T=x.dataKey,M=x.allowDataOverflow,A=x.allowDuplicatedCategory,D=x.scale,_=x.ticks,I=x.includeHidden,O=x[s];if(b[O])return b;var F=mT(t.data,{graphicalItems:i.filter(function(J){var ne,ee=s in J.props?J.props[s]:(ne=J.type.defaultProps)===null||ne===void 0?void 0:ne[s];return ee===O}),dataStartIndex:l,dataEndIndex:u}),L=F.length,V,N,Y;mXe(x.domain,M,R)&&(V=Jk(x.domain,null,M),m&&(R==="number"||D!=="auto")&&(Y=gy(F,T,"category")));var X=Dse(R);if(!V||V.length===0){var j,G=(j=x.domain)!==null&&j!==void 0?j:X;if(T){if(V=gy(F,T,R),R==="category"&&m){var U=Lje(V);A&&U?(N=V,V=mE(0,L)):A||(V=q9(G,V,C).reduce(function(J,ne){return J.indexOf(ne)>=0?J:[].concat(jg(J),[ne])},[]))}else if(R==="category")A?V=V.filter(function(J){return J!==""&&!Wt(J)}):V=q9(G,V,C).reduce(function(J,ne){return J.indexOf(ne)>=0||ne===""||Wt(ne)?J:[].concat(jg(J),[ne])},[]);else if(R==="number"){var Z=q6e(F,i.filter(function(J){var ne,ee,fe=s in J.props?J.props[s]:(ne=J.type.defaultProps)===null||ne===void 0?void 0:ne[s],me="hide"in J.props?J.props.hide:(ee=J.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return fe===O&&(I||!me)}),T,o,h);Z&&(V=Z)}m&&(R==="number"||D!=="auto")&&(Y=gy(F,T,"category"))}else m?V=mE(0,L):a&&a[O]&&a[O].hasStack&&R==="number"?V=p==="expand"?[0,1]:joe(a[O].stackGroups,l,u):V=Hoe(F,i.filter(function(J){var ne=s in J.props?J.props[s]:J.type.defaultProps[s],ee="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return ne===O&&(I||!ee)}),R,h,!0);if(R==="number")V=_L(f,V,O,o,_),G&&(V=Jk(G,V,M));else if(R==="category"&&G){var $=G,Q=V.every(function(J){return $.indexOf(J)>=0});Q&&(V=$)}}return Ce(Ce({},b),{},ut({},O,Ce(Ce({},x),{},{axisType:o,domain:V,categoricalDomain:Y,duplicateDomain:N,originalDomain:(y=x.domain)!==null&&y!==void 0?y:X,isCategorical:m,layout:h})))},{})},UXe=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,f=t.children,p=mT(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=p.length,b=$oe(h,o),C=-1;return r.reduce(function(y,x){var R=x.type.defaultProps!==void 0?Ce(Ce({},x.type.defaultProps),x.props):x.props,T=R[s],M=Dse("number");if(!y[T]){C++;var A;return b?A=mE(0,m):a&&a[T]&&a[T].hasStack?(A=joe(a[T].stackGroups,l,u),A=_L(f,A,T,o)):(A=Jk(M,Hoe(p,r.filter(function(D){var _,I,O=s in D.props?D.props[s]:(_=D.type.defaultProps)===null||_===void 0?void 0:_[s],F="hide"in D.props?D.props.hide:(I=D.type.defaultProps)===null||I===void 0?void 0:I.hide;return O===T&&!F}),"number",h),i.defaultProps.allowDataOverflow),A=_L(f,A,T,o)),Ce(Ce({},y),{},ut({},T,Ce(Ce({axisType:o},i.defaultProps),{},{hide:!0,orientation:da(HXe,"".concat(o,".").concat(C%2),null),domain:A,originalDomain:M,isCategorical:b,layout:h})))}return y},{})},WXe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=t.children,f="".concat(i,"Id"),p=Za(h,o),m={};return p&&p.length?m=zXe(t,{axes:p,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(m=UXe(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),m},qXe=function(t){var n=lp(t),r=Uv(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:jV(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:eL(n,r)}},L7=function(t){var n=t.children,r=t.defaultShowTooltip,i=Cs(n,Ng),o=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},KXe=function(t){return!t||!t.length?!1:t.some(function(n){var r=nu(n&&n.type);return r&&r.indexOf("Bar")>=0})},N7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YXe=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,l=a===void 0?{}:a,u=r.width,h=r.height,f=r.children,p=r.margin||{},m=Cs(f,Ng),b=Cs(f,Eh),C=Object.keys(l).reduce(function(A,D){var _=l[D],I=_.orientation;return!_.mirror&&!_.hide?Ce(Ce({},A),{},ut({},I,A[I]+_.width)):A},{left:p.left||0,right:p.right||0}),y=Object.keys(s).reduce(function(A,D){var _=s[D],I=_.orientation;return!_.mirror&&!_.hide?Ce(Ce({},A),{},ut({},I,da(A,"".concat(I))+_.height)):A},{top:p.top||0,bottom:p.bottom||0}),x=Ce(Ce({},y),C),R=x.bottom;m&&(x.bottom+=m.props.height||Ng.defaultProps.height),b&&n&&(x=U6e(x,i,r,n));var T=u-x.left-x.right,M=h-x.top-x.bottom;return Ce(Ce({brushBottom:R},x),{},{width:Math.max(T,0),height:Math.max(M,0)})},XXe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},QXe=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,s=t.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=t.axisComponents,u=t.legendContent,h=t.formatAxisMap,f=t.defaultProps,p=function(x,R){var T=R.graphicalItems,M=R.stackGroups,A=R.offset,D=R.updateId,_=R.dataStartIndex,I=R.dataEndIndex,O=x.barSize,F=x.layout,L=x.barGap,V=x.barCategoryGap,N=x.maxBarSize,Y=N7(F),X=Y.numericAxisName,j=Y.cateAxisName,G=KXe(T),U=[];return T.forEach(function(Z,$){var Q=mT(x.data,{graphicalItems:[Z],dataStartIndex:_,dataEndIndex:I}),J=Z.type.defaultProps!==void 0?Ce(Ce({},Z.type.defaultProps),Z.props):Z.props,ne=J.dataKey,ee=J.maxBarSize,fe=J["".concat(X,"Id")],me=J["".concat(j,"Id")],xe={},Pe=l.reduce(function(Ve,dt){var Qe=R["".concat(dt.axisType,"Map")],wt=J["".concat(dt.axisType,"Id")];Qe&&Qe[wt]||dt.axisType==="zAxis"||Og();var qt=Qe[wt];return Ce(Ce({},Ve),{},ut(ut({},dt.axisType,qt),"".concat(dt.axisType,"Ticks"),Uv(qt)))},xe),ue=Pe[j],Se=Pe["".concat(j,"Ticks")],Re=M&&M[fe]&&M[fe].hasStack&&nqe(Z,M[fe].stackGroups),le=nu(Z.type).indexOf("Bar")>=0,Oe=eL(ue,Se),Ie=[],_e=G&&G6e({barSize:O,stackGroups:M,totalSize:XXe(Pe,j)});if(le){var Le,Be,ze=Wt(ee)?N:ee,nt=(Le=(Be=eL(ue,Se,!0))!==null&&Be!==void 0?Be:ze)!==null&&Le!==void 0?Le:0;Ie=z6e({barGap:L,barCategoryGap:V,bandSize:nt!==Oe?nt:Oe,sizeList:_e[me],maxBarSize:ze}),nt!==Oe&&(Ie=Ie.map(function(Ve){return Ce(Ce({},Ve),{},{position:Ce(Ce({},Ve.position),{},{offset:Ve.position.offset-nt/2})})}))}var it=Z&&Z.type&&Z.type.getComposedData;it&&U.push({props:Ce(Ce({},it(Ce(Ce({},Pe),{},{displayedData:Q,props:x,dataKey:ne,item:Z,bandSize:Oe,barPosition:Ie,offset:A,stackedData:Re,layout:F,dataStartIndex:_,dataEndIndex:I}))),{},ut(ut(ut({key:Z.key||"item-".concat($)},X,Pe[X]),j,Pe[j]),"animationId",D)),childIndex:qje(Z,x.children),item:Z})}),U},m=function(x,R){var T=x.props,M=x.dataStartIndex,A=x.dataEndIndex,D=x.updateId;if(!l5({props:T}))return null;var _=T.children,I=T.layout,O=T.stackOffset,F=T.data,L=T.reverseStackOrder,V=N7(I),N=V.numericAxisName,Y=V.cateAxisName,X=Za(_,r),j=eqe(F,X,"".concat(N,"Id"),"".concat(Y,"Id"),O,L),G=l.reduce(function(J,ne){var ee="".concat(ne.axisType,"Map");return Ce(Ce({},J),{},ut({},ee,WXe(T,Ce(Ce({},ne),{},{graphicalItems:X,stackGroups:ne.axisType===N&&j,dataStartIndex:M,dataEndIndex:A}))))},{}),U=YXe(Ce(Ce({},G),{},{props:T,graphicalItems:X}),R==null?void 0:R.legendBBox);Object.keys(G).forEach(function(J){G[J]=h(T,G[J],U,J.replace("Map",""),n)});var Z=G["".concat(Y,"Map")],$=qXe(Z),Q=p(T,Ce(Ce({},G),{},{dataStartIndex:M,dataEndIndex:A,updateId:D,graphicalItems:X,stackGroups:j,offset:U}));return Ce(Ce({formattedGraphicalItems:Q,graphicalItems:X,offset:U,stackGroups:j},$),G)},b=function(y){function x(R){var T,M,A;return _Xe(this,x),A=IXe(this,x,[R]),ut(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ut(A,"accessibilityManager",new gXe),ut(A,"handleLegendBBoxUpdate",function(D){if(D){var _=A.state,I=_.dataStartIndex,O=_.dataEndIndex,F=_.updateId;A.setState(Ce({legendBBox:D},m({props:A.props,dataStartIndex:I,dataEndIndex:O,updateId:F},Ce(Ce({},A.state),{},{legendBBox:D}))))}}),ut(A,"handleReceiveSyncEvent",function(D,_,I){if(A.props.syncId===D){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(_)}}),ut(A,"handleBrushChange",function(D){var _=D.startIndex,I=D.endIndex;if(_!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var O=A.state.updateId;A.setState(function(){return Ce({dataStartIndex:_,dataEndIndex:I},m({props:A.props,dataStartIndex:_,dataEndIndex:I,updateId:O},A.state))}),A.triggerSyncEvent({dataStartIndex:_,dataEndIndex:I})}}),ut(A,"handleMouseEnter",function(D){var _=A.getMouseInfo(D);if(_){var I=Ce(Ce({},_),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var O=A.props.onMouseEnter;Dt(O)&&O(I,D)}}),ut(A,"triggeredAfterMouseMove",function(D){var _=A.getMouseInfo(D),I=_?Ce(Ce({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var O=A.props.onMouseMove;Dt(O)&&O(I,D)}),ut(A,"handleItemMouseEnter",function(D){A.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),ut(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),ut(A,"handleMouseMove",function(D){D.persist(),A.throttleTriggeredAfterMouseMove(D)}),ut(A,"handleMouseLeave",function(D){A.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};A.setState(_),A.triggerSyncEvent(_);var I=A.props.onMouseLeave;Dt(I)&&I(_,D)}),ut(A,"handleOuterEvent",function(D){var _=Wje(D),I=da(A.props,"".concat(_));if(_&&Dt(I)){var O,F;/.*touch.*/i.test(_)?F=A.getMouseInfo(D.changedTouches[0]):F=A.getMouseInfo(D),I((O=F)!==null&&O!==void 0?O:{},D)}}),ut(A,"handleClick",function(D){var _=A.getMouseInfo(D);if(_){var I=Ce(Ce({},_),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var O=A.props.onClick;Dt(O)&&O(I,D)}}),ut(A,"handleMouseDown",function(D){var _=A.props.onMouseDown;if(Dt(_)){var I=A.getMouseInfo(D);_(I,D)}}),ut(A,"handleMouseUp",function(D){var _=A.props.onMouseUp;if(Dt(_)){var I=A.getMouseInfo(D);_(I,D)}}),ut(A,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),ut(A,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&A.handleMouseDown(D.changedTouches[0])}),ut(A,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&A.handleMouseUp(D.changedTouches[0])}),ut(A,"handleDoubleClick",function(D){var _=A.props.onDoubleClick;if(Dt(_)){var I=A.getMouseInfo(D);_(I,D)}}),ut(A,"handleContextMenu",function(D){var _=A.props.onContextMenu;if(Dt(_)){var I=A.getMouseInfo(D);_(I,D)}}),ut(A,"triggerSyncEvent",function(D){A.props.syncId!==void 0&&BI.emit(HI,A.props.syncId,D,A.eventEmitterSymbol)}),ut(A,"applySyncEvent",function(D){var _=A.props,I=_.layout,O=_.syncMethod,F=A.state.updateId,L=D.dataStartIndex,V=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)A.setState(Ce({dataStartIndex:L,dataEndIndex:V},m({props:A.props,dataStartIndex:L,dataEndIndex:V,updateId:F},A.state)));else if(D.activeTooltipIndex!==void 0){var N=D.chartX,Y=D.chartY,X=D.activeTooltipIndex,j=A.state,G=j.offset,U=j.tooltipTicks;if(!G)return;if(typeof O=="function")X=O(U,D);else if(O==="value"){X=-1;for(var Z=0;Z<U.length;Z++)if(U[Z].value===D.activeLabel){X=Z;break}}var $=Ce(Ce({},G),{},{x:G.left,y:G.top}),Q=Math.min(N,$.x+$.width),J=Math.min(Y,$.y+$.height),ne=U[X]&&U[X].value,ee=IL(A.state,A.props.data,X),fe=U[X]?{x:I==="horizontal"?U[X].coordinate:Q,y:I==="horizontal"?J:U[X].coordinate}:Ose;A.setState(Ce(Ce({},D),{},{activeLabel:ne,activeCoordinate:fe,activePayload:ee,activeTooltipIndex:X}))}else A.setState(D)}),ut(A,"renderCursor",function(D){var _,I=A.state,O=I.isTooltipActive,F=I.activeCoordinate,L=I.activePayload,V=I.offset,N=I.activeTooltipIndex,Y=I.tooltipAxisBandSize,X=A.getTooltipEventType(),j=(_=D.props.active)!==null&&_!==void 0?_:O,G=A.props.layout,U=D.key||"_recharts-cursor";return z.createElement(SXe,{key:U,activeCoordinate:F,activePayload:L,activeTooltipIndex:N,chartName:n,element:D,isActive:j,layout:G,offset:V,tooltipAxisBandSize:Y,tooltipEventType:X})}),ut(A,"renderPolarAxis",function(D,_,I){var O=da(D,"type.axisType"),F=da(A.state,"".concat(O,"Map")),L=D.type.defaultProps,V=L!==void 0?Ce(Ce({},L),D.props):D.props,N=F&&F[V["".concat(O,"Id")]];return w.cloneElement(D,Ce(Ce({},N),{},{className:ln(O,N.className),key:D.key||"".concat(_,"-").concat(I),ticks:Uv(N,!0)}))}),ut(A,"renderPolarGrid",function(D){var _=D.props,I=_.radialLines,O=_.polarAngles,F=_.polarRadius,L=A.state,V=L.radiusAxisMap,N=L.angleAxisMap,Y=lp(V),X=lp(N),j=X.cx,G=X.cy,U=X.innerRadius,Z=X.outerRadius;return w.cloneElement(D,{polarAngles:Array.isArray(O)?O:Uv(X,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(F)?F:Uv(Y,!0).map(function($){return $.coordinate}),cx:j,cy:G,innerRadius:U,outerRadius:Z,key:D.key||"polar-grid",radialLines:I})}),ut(A,"renderLegend",function(){var D=A.state.formattedGraphicalItems,_=A.props,I=_.children,O=_.width,F=_.height,L=A.props.margin||{},V=O-(L.left||0)-(L.right||0),N=Voe({children:I,formattedGraphicalItems:D,legendWidth:V,legendContent:u});if(!N)return null;var Y=N.item,X=M7(N,xXe);return w.cloneElement(Y,Ce(Ce({},X),{},{chartWidth:O,chartHeight:F,margin:L,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),ut(A,"renderTooltip",function(){var D,_=A.props,I=_.children,O=_.accessibilityLayer,F=Cs(I,Ha);if(!F)return null;var L=A.state,V=L.isTooltipActive,N=L.activeCoordinate,Y=L.activePayload,X=L.activeLabel,j=L.offset,G=(D=F.props.active)!==null&&D!==void 0?D:V;return w.cloneElement(F,{viewBox:Ce(Ce({},j),{},{x:j.left,y:j.top}),active:G,label:X,payload:G?Y:[],coordinate:N,accessibilityLayer:O})}),ut(A,"renderBrush",function(D){var _=A.props,I=_.margin,O=_.data,F=A.state,L=F.offset,V=F.dataStartIndex,N=F.dataEndIndex,Y=F.updateId;return w.cloneElement(D,{key:D.key||"_recharts-brush",onChange:N0(A.handleBrushChange,D.props.onChange),data:O,x:Ue(D.props.x)?D.props.x:L.left,y:Ue(D.props.y)?D.props.y:L.top+L.height+L.brushBottom-(I.bottom||0),width:Ue(D.props.width)?D.props.width:L.width,startIndex:V,endIndex:N,updateId:"brush-".concat(Y)})}),ut(A,"renderReferenceElement",function(D,_,I){if(!D)return null;var O=A,F=O.clipPathId,L=A.state,V=L.xAxisMap,N=L.yAxisMap,Y=L.offset,X=D.type.defaultProps||{},j=D.props,G=j.xAxisId,U=G===void 0?X.xAxisId:G,Z=j.yAxisId,$=Z===void 0?X.yAxisId:Z;return w.cloneElement(D,{key:D.key||"".concat(_,"-").concat(I),xAxis:V[U],yAxis:N[$],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:F})}),ut(A,"renderActivePoints",function(D){var _=D.item,I=D.activePoint,O=D.basePoint,F=D.childIndex,L=D.isRange,V=[],N=_.props.key,Y=_.item.type.defaultProps!==void 0?Ce(Ce({},_.item.type.defaultProps),_.item.props):_.item.props,X=Y.activeDot,j=Y.dataKey,G=Ce(Ce({index:F,dataKey:j,cx:I.x,cy:I.y,r:4,fill:vB(_.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Rt(X,!1)),kx(X));return V.push(x.renderActiveDot(X,G,"".concat(N,"-activePoint-").concat(F))),O?V.push(x.renderActiveDot(X,Ce(Ce({},G),{},{cx:O.x,cy:O.y}),"".concat(N,"-basePoint-").concat(F))):L&&V.push(null),V}),ut(A,"renderGraphicChild",function(D,_,I){var O=A.filterFormatItem(D,_,I);if(!O)return null;var F=A.getTooltipEventType(),L=A.state,V=L.isTooltipActive,N=L.tooltipAxis,Y=L.activeTooltipIndex,X=L.activeLabel,j=A.props.children,G=Cs(j,Ha),U=O.props,Z=U.points,$=U.isRange,Q=U.baseLine,J=O.item.type.defaultProps!==void 0?Ce(Ce({},O.item.type.defaultProps),O.item.props):O.item.props,ne=J.activeDot,ee=J.hide,fe=J.activeBar,me=J.activeShape,xe=!!(!ee&&V&&G&&(ne||fe||me)),Pe={};F!=="axis"&&G&&G.props.trigger==="click"?Pe={onClick:N0(A.handleItemMouseEnter,D.props.onClick)}:F!=="axis"&&(Pe={onMouseLeave:N0(A.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:N0(A.handleItemMouseEnter,D.props.onMouseEnter)});var ue=w.cloneElement(D,Ce(Ce({},O.props),Pe));function Se(dt){return typeof N.dataKey=="function"?N.dataKey(dt.payload):null}if(xe)if(Y>=0){var Re,le;if(N.dataKey&&!N.allowDuplicatedCategory){var Oe=typeof N.dataKey=="function"?Se:"payload.".concat(N.dataKey.toString());Re=yk(Z,Oe,X),le=$&&Q&&yk(Q,Oe,X)}else Re=Z==null?void 0:Z[Y],le=$&&Q&&Q[Y];if(me||fe){var Ie=D.props.activeIndex!==void 0?D.props.activeIndex:Y;return[w.cloneElement(D,Ce(Ce(Ce({},O.props),Pe),{},{activeIndex:Ie})),null,null]}if(!Wt(Re))return[ue].concat(jg(A.renderActivePoints({item:O,activePoint:Re,basePoint:le,childIndex:Y,isRange:$})))}else{var _e,Le=(_e=A.getItemByXY(A.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:ue},Be=Le.graphicalItem,ze=Be.item,nt=ze===void 0?D:ze,it=Be.childIndex,Ve=Ce(Ce(Ce({},O.props),Pe),{},{activeIndex:it});return[w.cloneElement(nt,Ve),null,null]}return $?[ue,null,null]:[ue,null]}),ut(A,"renderCustomized",function(D,_,I){return w.cloneElement(D,Ce(Ce({key:"recharts-customized-".concat(I)},A.props),A.state))}),ut(A,"renderMap",{CartesianGrid:{handler:G0,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:G0},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:G0},YAxis:{handler:G0},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((T=R.id)!==null&&T!==void 0?T:BR("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=Nie(A.triggeredAfterMouseMove,(M=R.throttleDelay)!==null&&M!==void 0?M:1e3/60),A.state={},A}return kXe(x,y),DXe(x,[{key:"componentDidMount",value:function(){var T,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,M=T.children,A=T.data,D=T.height,_=T.layout,I=Cs(M,Ha);if(I){var O=I.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,L=IL(this.state,A,O,F),V=this.state.tooltipTicks[O].coordinate,N=(this.state.offset.top+D)/2,Y=_==="horizontal",X=Y?{x:V,y:N}:{y:V,x:N},j=this.state.formattedGraphicalItems.find(function(U){var Z=U.item;return Z.type.name==="Scatter"});j&&(X=Ce(Ce({},X),j.props.points[O].tooltipPosition),L=j.props.points[O].tooltipPayload);var G={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:X};this.setState(G),this.renderCursor(I),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var A,D;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(T){wk([Cs(T.children,Ha)],[Cs(this.props.children,Ha)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Cs(this.props.children,Ha);if(T&&typeof T.props.shared=="boolean"){var M=T.props.shared?"axis":"item";return a.indexOf(M)>=0?M:o}return o}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var M=this.container,A=M.getBoundingClientRect(),D=F4e(A),_={chartX:Math.round(T.pageX-D.left),chartY:Math.round(T.pageY-D.top)},I=A.width/M.offsetWidth||1,O=this.inRange(_.chartX,_.chartY,I);if(!O)return null;var F=this.state,L=F.xAxisMap,V=F.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&L&&V){var Y=lp(L).scale,X=lp(V).scale,j=Y&&Y.invert?Y.invert(_.chartX):null,G=X&&X.invert?X.invert(_.chartY):null;return Ce(Ce({},_),{},{xValue:j,yValue:G})}var U=k7(this.state,this.props.data,this.props.layout,O);return U?Ce(Ce({},_),U):null}},{key:"inRange",value:function(T,M){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,_=T/A,I=M/A;if(D==="horizontal"||D==="vertical"){var O=this.state.offset,F=_>=O.left&&_<=O.left+O.width&&I>=O.top&&I<=O.top+O.height;return F?{x:_,y:I}:null}var L=this.state,V=L.angleAxisMap,N=L.radiusAxisMap;if(V&&N){var Y=lp(V);return X9({x:_,y:I},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,M=this.getTooltipEventType(),A=Cs(T,Ha),D={};A&&M==="axis"&&(A.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=kx(this.props,this.handleOuterEvent);return Ce(Ce({},_),D)}},{key:"addListener",value:function(){BI.on(HI,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){BI.removeListener(HI,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,M,A){for(var D=this.state.formattedGraphicalItems,_=0,I=D.length;_<I;_++){var O=D[_];if(O.item===T||O.props.key===T.key||M===nu(O.item.type)&&A===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,M=this.state.offset,A=M.left,D=M.top,_=M.height,I=M.width;return z.createElement("defs",null,z.createElement("clipPath",{id:T},z.createElement("rect",{x:A,y:D,height:_,width:I})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(M,A){var D=I7(A,2),_=D[0],I=D[1];return Ce(Ce({},M),{},ut({},_,I.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(M,A){var D=I7(A,2),_=D[0],I=D[1];return Ce(Ce({},M),{},ut({},_,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(T){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(T){var M=this.state,A=M.formattedGraphicalItems,D=M.activeItem;if(A&&A.length)for(var _=0,I=A.length;_<I;_++){var O=A[_],F=O.props,L=O.item,V=L.type.defaultProps!==void 0?Ce(Ce({},L.type.defaultProps),L.props):L.props,N=nu(L.type);if(N==="Bar"){var Y=(F.data||[]).find(function(U){return Z8e(T,U)});if(Y)return{graphicalItem:O,payload:Y}}else if(N==="RadialBar"){var X=(F.data||[]).find(function(U){return X9(T,U)});if(X)return{graphicalItem:O,payload:X}}else if(cT(O,D)||dT(O,D)||Fb(O,D)){var j=xKe({graphicalItem:O,activeTooltipItem:D,itemData:V.data}),G=V.activeIndex===void 0?j:V.activeIndex;return{graphicalItem:Ce(Ce({},O),{},{childIndex:G}),payload:Fb(O,D)?V.data[j]:O.props.data[j]}}}return null}},{key:"render",value:function(){var T=this;if(!l5(this))return null;var M=this.props,A=M.children,D=M.className,_=M.width,I=M.height,O=M.style,F=M.compact,L=M.title,V=M.desc,N=M7(M,EXe),Y=Rt(N,!1);if(F)return z.createElement(w7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(xk,yp({},Y,{width:_,height:I,title:L,desc:V}),this.renderClipPath(),c5(A,this.renderMap)));if(this.props.accessibilityLayer){var X,j;Y.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,Y.role=(j=this.props.role)!==null&&j!==void 0?j:"application",Y.onKeyDown=function(U){T.accessibilityManager.keyboardEvent(U)},Y.onFocus=function(){T.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return z.createElement(w7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",yp({className:ln("recharts-wrapper",D),style:Ce({position:"relative",cursor:"default",width:_,height:I},O)},G,{ref:function(Z){T.container=Z}}),z.createElement(xk,yp({},Y,{width:_,height:I,title:L,desc:V,style:$Xe}),this.renderClipPath(),c5(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);ut(b,"displayName",n),ut(b,"defaultProps",Ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ut(b,"getDerivedStateFromProps",function(y,x){var R=y.dataKey,T=y.data,M=y.children,A=y.width,D=y.height,_=y.layout,I=y.stackOffset,O=y.margin,F=x.dataStartIndex,L=x.dataEndIndex;if(x.updateId===void 0){var V=L7(y);return Ce(Ce(Ce({},V),{},{updateId:0},m(Ce(Ce({props:y},V),{},{updateId:0}),x)),{},{prevDataKey:R,prevData:T,prevWidth:A,prevHeight:D,prevLayout:_,prevStackOffset:I,prevMargin:O,prevChildren:M})}if(R!==x.prevDataKey||T!==x.prevData||A!==x.prevWidth||D!==x.prevHeight||_!==x.prevLayout||I!==x.prevStackOffset||!bk(O,x.prevMargin)){var N=L7(y),Y={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},X=Ce(Ce({},k7(x,T,_)),{},{updateId:x.updateId+1}),j=Ce(Ce(Ce({},N),Y),X);return Ce(Ce(Ce({},j),m(Ce({props:y},j),x)),{},{prevDataKey:R,prevData:T,prevWidth:A,prevHeight:D,prevLayout:_,prevStackOffset:I,prevMargin:O,prevChildren:M})}if(!wk(M,x.prevChildren)){var G,U,Z,$,Q=Cs(M,Ng),J=Q&&(G=(U=Q.props)===null||U===void 0?void 0:U.startIndex)!==null&&G!==void 0?G:F,ne=Q&&(Z=($=Q.props)===null||$===void 0?void 0:$.endIndex)!==null&&Z!==void 0?Z:L,ee=J!==F||ne!==L,fe=!Wt(T),me=fe&&!ee?x.updateId:x.updateId+1;return Ce(Ce({updateId:me},m(Ce(Ce({props:y},x),{},{updateId:me,dataStartIndex:J,dataEndIndex:ne}),x)),{},{prevChildren:M,dataStartIndex:J,dataEndIndex:ne})}return null}),ut(b,"renderActiveDot",function(y,x,R){var T;return w.isValidElement(y)?T=w.cloneElement(y,x):Dt(y)?T=y(x):T=z.createElement(bB,x),z.createElement(yr,{className:"recharts-active-dot",key:R},T)});var C=w.forwardRef(function(x,R){return z.createElement(b,yp({},x,{ref:R}))});return C.displayName=b.displayName,C},ZXe=QXe({chartName:"PieChart",GraphicalChild:_u,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:uT},{axisType:"radiusAxis",AxisComp:aT}],formatAxisMap:fqe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const V7=["#4A90E2","#50E3C2","#F5A623"],JXe=()=>{const[e,t]=w.useState({totalStudents:0,totalBooksIssued:0,totalOverdueBooks:0});w.useEffect(()=>{n()},[]);const n=async()=>{try{const i=await K$e();t(i)}catch(i){console.error("Error fetching analytics:",i)}},r=[{name:"Total Students",value:e.totalStudents},{name:"Books Issued",value:e.totalBooksIssued},{name:"Overdue Books",value:e.totalOverdueBooks}];return q.jsxs("div",{className:"p-4",children:[q.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Student Analytics"}),q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[q.jsxs("div",{className:"bg-blue-100 p-4 rounded-xl",children:[q.jsx("h3",{className:"text-xl font-medium",children:"Total Students"}),q.jsx("p",{className:"text-3xl font-bold",children:e.totalStudents})]}),q.jsxs("div",{className:"bg-green-100 p-4 rounded-xl",children:[q.jsx("h3",{className:"text-xl font-medium",children:"Total Books Issued"}),q.jsx("p",{className:"text-3xl font-bold",children:e.totalBooksIssued})]}),q.jsxs("div",{className:"bg-red-100 p-4 rounded-xl",children:[q.jsx("h3",{className:"text-xl font-medium",children:"Overdue Books"}),q.jsx("p",{className:"text-3xl font-bold",children:e.totalOverdueBooks})]})]}),q.jsxs("div",{className:"mt-8 bg-white p-4 rounded-xl shadow-lg",children:[q.jsx("h3",{className:"text-xl font-medium mb-4",children:"Analytics Overview"}),q.jsx(A4e,{width:"100%",height:300,children:q.jsxs(ZXe,{children:[q.jsx(_u,{data:r,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:r.map((i,o)=>q.jsx(zV,{fill:V7[o%V7.length]},`cell-${o}`))}),q.jsx(Ha,{}),q.jsx(Eh,{verticalAlign:"bottom",height:36})]})})]})]})},eQe=()=>q.jsx("div",{children:"Chart"}),tQe=()=>q.jsx("header",{style:B7.header,children:q.jsxs("h1",{style:B7.title,children:["Library Management System",name]})}),B7={header:{background:"rgb(0, 7, 61)",color:"#fff",padding:"15px 20px",textAlign:"center",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},title:{margin:0,fontSize:"24px",fontWeight:"bold"}};var nQe=function(){return null},Ise={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H7=z.createContext&&z.createContext(Ise),rQe=["attr","size","title"];function iQe(e,t){if(e==null)return{};var n=oQe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oQe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xE.apply(this,arguments)}function $7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$7(Object(n),!0).forEach(function(r){sQe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sQe(e,t,n){return t=aQe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aQe(e){var t=lQe(e,"string");return typeof t=="symbol"?t:t+""}function lQe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mse(e){return e&&e.map((t,n)=>z.createElement(t.tag,EE({key:n},t.attr),Mse(t.child)))}function pl(e){return t=>z.createElement(uQe,xE({attr:EE({},e.attr)},t),Mse(e.child))}function uQe(e){var t=n=>{var{attr:r,size:i,title:o}=e,s=iQe(e,rQe),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),z.createElement("svg",xE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:EE(EE({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&z.createElement("title",null,o),e.children)};return H7!==void 0?z.createElement(H7.Consumer,null,n=>t(n)):t(Ise)}function cQe(e){return pl({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(e)}function dQe(e){return pl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function hQe(e){return pl({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function fQe(e){return pl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function jI(e){return pl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function j7(e){return pl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(e)}function G7(e){return pl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 12h2a7.986 7.986 0 0 1 2.337-5.663 7.91 7.91 0 0 1 2.542-1.71 8.12 8.12 0 0 1 6.13-.041A2.488 2.488 0 0 0 17.5 7C18.886 7 20 5.886 20 4.5S18.886 2 17.5 2c-.689 0-1.312.276-1.763.725-2.431-.973-5.223-.958-7.635.059a9.928 9.928 0 0 0-3.18 2.139 9.92 9.92 0 0 0-2.14 3.179A10.005 10.005 0 0 0 2 12zm17.373 3.122c-.401.952-.977 1.808-1.71 2.541s-1.589 1.309-2.542 1.71a8.12 8.12 0 0 1-6.13.041A2.488 2.488 0 0 0 6.5 17C5.114 17 4 18.114 4 19.5S5.114 22 6.5 22c.689 0 1.312-.276 1.763-.725A9.965 9.965 0 0 0 12 22a9.983 9.983 0 0 0 9.217-6.102A9.992 9.992 0 0 0 22 12h-2a7.993 7.993 0 0 1-.627 3.122z"},child:[]},{tag:"path",attr:{d:"M12 7.462c-2.502 0-4.538 2.036-4.538 4.538S9.498 16.538 12 16.538s4.538-2.036 4.538-4.538S14.502 7.462 12 7.462zm0 7.076c-1.399 0-2.538-1.139-2.538-2.538S10.601 9.462 12 9.462s2.538 1.139 2.538 2.538-1.139 2.538-2.538 2.538z"},child:[]}]})(e)}function pQe(e){return pl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 16c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4zm0-6c1.084 0 2 .916 2 2s-.916 2-2 2-2-.916-2-2 .916-2 2-2z"},child:[]},{tag:"path",attr:{d:"m2.845 16.136 1 1.73c.531.917 1.809 1.261 2.73.73l.529-.306A8.1 8.1 0 0 0 9 19.402V20c0 1.103.897 2 2 2h2c1.103 0 2-.897 2-2v-.598a8.132 8.132 0 0 0 1.896-1.111l.529.306c.923.53 2.198.188 2.731-.731l.999-1.729a2.001 2.001 0 0 0-.731-2.732l-.505-.292a7.718 7.718 0 0 0 0-2.224l.505-.292a2.002 2.002 0 0 0 .731-2.732l-.999-1.729c-.531-.92-1.808-1.265-2.731-.732l-.529.306A8.1 8.1 0 0 0 15 4.598V4c0-1.103-.897-2-2-2h-2c-1.103 0-2 .897-2 2v.598a8.132 8.132 0 0 0-1.896 1.111l-.529-.306c-.924-.531-2.2-.187-2.731.732l-.999 1.729a2.001 2.001 0 0 0 .731 2.732l.505.292a7.683 7.683 0 0 0 0 2.223l-.505.292a2.003 2.003 0 0 0-.731 2.733zm3.326-2.758A5.703 5.703 0 0 1 6 12c0-.462.058-.926.17-1.378a.999.999 0 0 0-.47-1.108l-1.123-.65.998-1.729 1.145.662a.997.997 0 0 0 1.188-.142 6.071 6.071 0 0 1 2.384-1.399A1 1 0 0 0 11 5.3V4h2v1.3a1 1 0 0 0 .708.956 6.083 6.083 0 0 1 2.384 1.399.999.999 0 0 0 1.188.142l1.144-.661 1 1.729-1.124.649a1 1 0 0 0-.47 1.108c.112.452.17.916.17 1.378 0 .461-.058.925-.171 1.378a1 1 0 0 0 .471 1.108l1.123.649-.998 1.729-1.145-.661a.996.996 0 0 0-1.188.142 6.071 6.071 0 0 1-2.384 1.399A1 1 0 0 0 13 18.7l.002 1.3H11v-1.3a1 1 0 0 0-.708-.956 6.083 6.083 0 0 1-2.384-1.399.992.992 0 0 0-1.188-.141l-1.144.662-1-1.729 1.124-.651a1 1 0 0 0 .471-1.108z"},child:[]}]})(e)}function gQe(e){return pl({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"},child:[]}]})(e)}function z7(e){return pl({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0z"},child:[]},{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zm3.915 10L3.102 4h10.796l-1.313 7zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},child:[]}]})(e)}const EB=w.createContext({});function RB(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const TB=typeof window<"u",Fse=TB?w.useLayoutEffect:w.useEffect,vT=w.createContext(null),AB=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class mQe extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vQe({children:e,isPresent:t,anchorX:n}){const r=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=w.useContext(AB);return w.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:h,right:f}=o.current;if(t||!i.current||!a||!l)return;const p=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return s&&(m.nonce=s),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[t]),q.jsx(mQe,{isPresent:t,childRef:i,sizeRef:o,children:w.cloneElement(e,{ref:i})})}const yQe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a})=>{const l=RB(bQe),u=w.useId(),h=w.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),f=w.useMemo(()=>({id:u,initial:t,isPresent:n,custom:i,onExitComplete:h,register:p=>(l.set(p,!1),()=>l.delete(p))}),o?[Math.random(),h]:[n,h]);return w.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(e=q.jsx(vQe,{isPresent:n,anchorX:a,children:e})),q.jsx(vT.Provider,{value:f,children:e})};function bQe(){return new Map}function kse(e=!0){const t=w.useContext(vT);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=w.useId();w.useEffect(()=>{if(e)return i(o)},[e]);const s=w.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const z0=e=>e.key||"";function U7(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const RE=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left"})=>{const[l,u]=kse(s),h=w.useMemo(()=>U7(e),[e]),f=s&&!l?[]:h.map(z0),p=w.useRef(!0),m=w.useRef(h),b=RB(()=>new Map),[C,y]=w.useState(h),[x,R]=w.useState(h);Fse(()=>{p.current=!1,m.current=h;for(let A=0;A<x.length;A++){const D=z0(x[A]);f.includes(D)?b.delete(D):b.get(D)!==!0&&b.set(D,!1)}},[x,f.length,f.join("-")]);const T=[];if(h!==C){let A=[...h];for(let D=0;D<x.length;D++){const _=x[D],I=z0(_);f.includes(I)||(A.splice(D,0,_),T.push(_))}return o==="wait"&&T.length&&(A=T),R(U7(A)),y(h),null}const{forceRender:M}=w.useContext(EB);return q.jsx(q.Fragment,{children:x.map(A=>{const D=z0(A),_=s&&!l?!1:h===x||f.includes(D),I=()=>{if(b.has(D))b.set(D,!0);else return;let O=!0;b.forEach(F=>{F||(O=!1)}),O&&(M==null||M(),R(m.current),s&&(u==null||u()),r&&r())};return q.jsx(yQe,{isPresent:_,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,onExitComplete:_?void 0:I,anchorX:a,children:A},D)})})};function PB(e,t){e.indexOf(t)===-1&&e.push(t)}function _B(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Wo=e=>e;let Lse=Wo;const CQe={useManualTiming:!1};function OB(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gg=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class DB{constructor(){this.subscriptions=[]}add(t){return PB(this.subscriptions,t),()=>_B(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ou=e=>e*1e3,su=e=>e/1e3;function Nse(e,t){return t?e*(1e3/t):0}const wQe=OB(()=>window.ScrollTimeline!==void 0);class SQe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(wQe()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xQe extends SQe{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function IB(e,t){return e?e[t]||e.default||e:void 0}const ML=2e4;function Vse(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ML;)t+=n,r=e.next(t);return t>=ML?1/0:t}function MB(e){return typeof e=="function"}function W7(e,t){e.timeline=t,e.onfinish=null}const FB=e=>Array.isArray(e)&&typeof e[0]=="number",EQe={linearEasing:void 0};function RQe(e,t){const n=OB(e);return()=>{var r;return(r=EQe[t])!==null&&r!==void 0?r:n()}}const TE=RQe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bse=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(Gg(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Hse(e){return!!(typeof e=="function"&&TE()||!e||typeof e=="string"&&(e in FL||TE())||FB(e)||Array.isArray(e)&&e.every(Hse))}const qv=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,FL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qv([0,.65,.55,1]),circOut:qv([.55,0,1,.45]),backIn:qv([.31,.01,.66,-.59]),backOut:qv([.33,1.53,.69,.99])};function $se(e,t){if(e)return typeof e=="function"&&TE()?Bse(e,t):FB(e)?qv(e):Array.isArray(e)?e.map(n=>$se(n,t)||FL.easeOut):FL[e]}const U0=["read","resolveKeyframes","update","preRender","render","postRender"],q7={value:null};function TQe(e,t){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){s.has(f)&&(h.schedule(f),e()),l++,f(a)}const h={schedule:(f,p=!1,m=!1)=>{const C=m&&i?n:r;return p&&s.add(f),C.has(f)||C.add(f),f},cancel:f=>{r.delete(f),s.delete(f)},process:f=>{if(a=f,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),t&&q7.value&&q7.value.frameloop[t].push(l),l=0,n.clear(),i=!1,o&&(o=!1,h.process(f))}};return h}const AQe=40;function jse(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=U0.reduce((x,R)=>(x[R]=TQe(o,t?R:void 0),x),{}),{read:a,resolveKeyframes:l,update:u,preRender:h,render:f,postRender:p}=s,m=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,AQe),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},b=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:U0.reduce((x,R)=>{const T=s[R];return x[R]=(M,A=!1,D=!1)=>(n||b(),T.schedule(M,A,D)),x},{}),cancel:x=>{for(let R=0;R<U0.length;R++)s[U0[R]].cancel(x)},state:i,steps:s}}const{schedule:$n,cancel:Xc,state:Ci,steps:GI}=jse(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wo,!0),{schedule:kB}=jse(queueMicrotask,!1);let PS;function PQe(){PS=void 0}const tl={now:()=>(PS===void 0&&tl.set(Ci.isProcessing||CQe.useManualTiming?Ci.timestamp:performance.now()),PS),set:e=>{PS=e,queueMicrotask(PQe)}},Zs={x:!1,y:!1};function Gse(){return Zs.x||Zs.y}function _Qe(e){return e==="x"||e==="y"?Zs[e]?null:(Zs[e]=!0,()=>{Zs[e]=!1}):Zs.x||Zs.y?null:(Zs.x=Zs.y=!0,()=>{Zs.x=Zs.y=!1})}function OQe(e,t,n){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function zse(e,t){const n=OQe(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function K7(e){return!(e.pointerType==="touch"||Gse())}function DQe(e,t,n={}){const[r,i,o]=zse(e,n),s=a=>{if(!K7(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const h=f=>{K7(f)&&(u(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}function Y7(e,t){const n=`${t}PointerCapture`;if(e.target instanceof Element&&n in e.target&&e.pointerId!==void 0)try{e.target[n](e.pointerId)}catch{}}const Use=(e,t)=>t?e===t?!0:Use(e,t.parentElement):!1,LB=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,IQe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MQe(e){return IQe.has(e.tagName)||e.tabIndex!==-1}const Kv=new WeakSet;function X7(e){return t=>{t.key==="Enter"&&e(t)}}function zI(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const FQe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=X7(()=>{if(Kv.has(n))return;zI(n,"down");const i=X7(()=>{zI(n,"up")}),o=()=>zI(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Q7(e){return LB(e)&&!Gse()}function kQe(e,t,n={}){const[r,i,o]=zse(e,n),s=a=>{const l=a.currentTarget;if(!l||!Q7(a)||Kv.has(l))return;Kv.add(l),Y7(a,"set");const u=t(l,a),h=(m,b)=>{l.removeEventListener("pointerup",f),l.removeEventListener("pointercancel",p),Y7(m,"release"),!(!Q7(m)||!Kv.has(l))&&(Kv.delete(l),typeof u=="function"&&u(m,{success:b}))},f=m=>{(m.isTrusted?LQe(m,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?h(m,!1):h(m,!(l instanceof Element)||Use(l,m.target))},p=m=>{h(m,!1)};l.addEventListener("pointerup",f,i),l.addEventListener("pointercancel",p,i),l.addEventListener("lostpointercapture",p,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!MQe(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",s,i),l&&a.addEventListener("focus",u=>FQe(u,i),i)}),o}function LQe(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}const Z7=30,NQe=e=>!isNaN(parseFloat(e));class VQe{constructor(t,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=tl.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=tl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=NQe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new DB);const r=this.events[t].add(n);return t==="change"?()=>{r(),$n.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Z7)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Z7);return Nse(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bb(e,t){return new VQe(e,t)}const Wse=w.createContext({strict:!1}),J7={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zg={};for(const e in J7)zg[e]={isEnabled:t=>J7[e].some(n=>!!t[n])};function BQe(e){for(const t in e)zg[t]={...zg[t],...e[t]}}const HQe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function AE(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HQe.has(e)}let qse=e=>!AE(e);function $Qe(e){e&&(qse=t=>t.startsWith("on")?!AE(t):e(t))}try{$Qe(require("@emotion/is-prop-valid").default)}catch{}function jQe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(qse(i)||n===!0&&AE(i)||!t&&!AE(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function GQe(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const yT=w.createContext({});function bT(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Hb(e){return typeof e=="string"||Array.isArray(e)}const NB=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VB=["initial",...NB];function CT(e){return bT(e.animate)||VB.some(t=>Hb(e[t]))}function Kse(e){return!!(CT(e)||e.variants)}function zQe(e,t){if(CT(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Hb(n)?n:void 0,animate:Hb(r)?r:void 0}}return e.inherit!==!1?t:{}}function UQe(e){const{initial:t,animate:n}=zQe(e,w.useContext(yT));return w.useMemo(()=>({initial:t,animate:n}),[eK(t),eK(n)])}function eK(e){return Array.isArray(e)?e.join(" "):e}const WQe=Symbol.for("motionComponentSymbol");function bp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qQe(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):bp(n)&&(n.current=r))},[t])}const BB=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KQe="framerAppearId",Yse="data-"+BB(KQe),Xse=w.createContext({});function YQe(e,t,n,r,i){var o,s;const{visualElement:a}=w.useContext(yT),l=w.useContext(Wse),u=w.useContext(vT),h=w.useContext(AB).reducedMotion,f=w.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,m=w.useContext(Xse);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&XQe(f.current,n,i,m);const b=w.useRef(!1);w.useInsertionEffect(()=>{p&&b.current&&p.update(n,u)});const C=n[Yse],y=w.useRef(!!C&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,C))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,C)));return Fse(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),kB.render(p.render),y.current&&p.animationState&&p.animationState.animateChanges())}),w.useEffect(()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,C)}),y.current=!1))}),p}function XQe(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Qse(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&bp(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Qse(e){if(e)return e.options.allowProjection!==!1?e.projection:Qse(e.parent)}function QQe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var o,s;e&&BQe(e);function a(u,h){let f;const p={...w.useContext(AB),...u,layoutId:ZQe(u)},{isStatic:m}=p,b=UQe(u),C=r(u,m);if(!m&&TB){JQe();const y=eZe(p);f=y.MeasureLayout,b.visualElement=YQe(i,C,p,t,y.ProjectionNode)}return q.jsxs(yT.Provider,{value:b,children:[f&&b.visualElement?q.jsx(f,{visualElement:b.visualElement,...p}):null,n(i,u,qQe(C,b.visualElement,h),C,m,b.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const l=w.forwardRef(a);return l[WQe]=i,l}function ZQe({layoutId:e}){const t=w.useContext(EB).id;return t&&e!==void 0?t+"-"+e:e}function JQe(e,t){w.useContext(Wse).strict}function eZe(e){const{drag:t,layout:n}=zg;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Zse=e=>t=>typeof t=="string"&&t.startsWith(e),HB=Zse("--"),tZe=Zse("var(--"),$B=e=>tZe(e)?nZe.test(e.split("/*")[0].trim()):!1,nZe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$b={};function rZe(e){for(const t in e)$b[t]=e[t],HB(t)&&($b[t].isCSSVariable=!0)}const Cm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],df=new Set(Cm);function Jse(e,{layout:t,layoutId:n}){return df.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$b[e]||e==="opacity")}const $i=e=>!!(e&&e.getVelocity),eae=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Cu=(e,t,n)=>n>t?t:n<e?e:n,wm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jb={...wm,transform:e=>Cu(0,1,e)},W0={...wm,default:1},VC=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),sc=VC("deg"),nl=VC("%"),ct=VC("px"),iZe=VC("vh"),oZe=VC("vw"),tK={...nl,parse:e=>nl.parse(e)/100,transform:e=>nl.transform(e*100)},sZe={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,backgroundPositionX:ct,backgroundPositionY:ct},aZe={rotate:sc,rotateX:sc,rotateY:sc,rotateZ:sc,scale:W0,scaleX:W0,scaleY:W0,scaleZ:W0,skew:sc,skewX:sc,skewY:sc,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:jb,originX:tK,originY:tK,originZ:ct},nK={...wm,transform:Math.round},jB={...sZe,...aZe,zIndex:nK,size:ct,fillOpacity:jb,strokeOpacity:jb,numOctaves:nK},lZe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uZe=Cm.length;function cZe(e,t,n){let r="",i=!0;for(let o=0;o<uZe;o++){const s=Cm[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=eae(a,jB[s]);if(!l){i=!1;const h=lZe[s]||s;r+=`${h}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function GB(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(df.has(l)){s=!0;continue}else if(HB(l)){i[l]=u;continue}else{const h=eae(u,jB[l]);l.startsWith("origin")?(a=!0,o[l]=h):r[l]=h}}if(t.transform||(s||n?r.transform=cZe(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=o;r.transformOrigin=`${l} ${u} ${h}`}}const zB=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tae(e,t,n){for(const r in t)!$i(t[r])&&!Jse(r,n)&&(e[r]=t[r])}function dZe({transformTemplate:e},t){return w.useMemo(()=>{const n=zB();return GB(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hZe(e,t){const n=e.style||{},r={};return tae(r,n,e),Object.assign(r,dZe(e,t)),r}function fZe(e,t){const n={},r=hZe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const pZe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UB(e){return typeof e!="string"||e.includes("-")?!1:!!(pZe.indexOf(e)>-1||/[A-Z]/u.test(e))}const gZe={offset:"stroke-dashoffset",array:"stroke-dasharray"},mZe={offset:"strokeDashoffset",array:"strokeDasharray"};function vZe(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?gZe:mZe;e[o.offset]=ct.transform(-r);const s=ct.transform(t),a=ct.transform(n);e[o.array]=`${s} ${a}`}function rK(e,t,n){return typeof e=="string"?e:ct.transform(t+n*e)}function yZe(e,t,n){const r=rK(t,e.x,e.width),i=rK(n,e.y,e.height);return`${r} ${i}`}function WB(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,f){if(GB(e,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:b}=e;p.transform&&(b&&(m.transform=p.transform),delete p.transform),b&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=yZe(b,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&vZe(p,s,a,l,!1)}const nae=()=>({...zB(),attrs:{}}),qB=e=>typeof e=="string"&&e.toLowerCase()==="svg";function bZe(e,t,n,r){const i=w.useMemo(()=>{const o=nae();return WB(o,t,qB(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};tae(o,e.style,e),i.style={...o,...i.style}}return i}function CZe(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(UB(n)?bZe:fZe)(r,o,s,n),u=jQe(r,typeof n=="string",e),h=n!==w.Fragment?{...u,...l,ref:i}:{},{children:f}=r,p=w.useMemo(()=>$i(f)?f.get():f,[f]);return w.createElement(n,{...h,children:p})}}function iK(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function KB(e,t,n,r){if(typeof t=="function"){const[i,o]=iK(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=iK(r);t=t(n!==void 0?n:e.custom,i,o)}return t}const kL=e=>Array.isArray(e),wZe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),SZe=e=>kL(e)?e[e.length-1]||0:e;function _S(e){const t=$i(e)?e.get():e;return wZe(t)?t.toValue():t}function xZe({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,o){const s={latestValues:EZe(r,i,o,e),renderState:t()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const rae=e=>(t,n)=>{const r=w.useContext(yT),i=w.useContext(vT),o=()=>xZe(e,t,r,i);return n?o():RB(o)};function EZe(e,t,n,r){const i={},o=r(e,{});for(const p in o)i[p]=_S(o[p]);let{initial:s,animate:a}=e;const l=CT(e),u=Kse(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||s===!1;const f=h?a:s;if(f&&typeof f!="boolean"&&!bT(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const b=KB(e,p[m]);if(b){const{transitionEnd:C,transition:y,...x}=b;for(const R in x){let T=x[R];if(Array.isArray(T)){const M=h?T.length-1:0;T=T[M]}T!==null&&(i[R]=T)}for(const R in C)i[R]=C[R]}}}return i}function YB(e,t,n){var r;const{style:i}=e,o={};for(const s in i)($i(i[s])||t.style&&$i(t.style[s])||Jse(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}const RZe={useVisualState:rae({scrapeMotionValuesFromProps:YB,createRenderState:zB})};function iae(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function oae(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const sae=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aae(e,t,n,r){oae(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(sae.has(i)?i:BB(i),t.attrs[i])}function lae(e,t,n){const r=YB(e,t,n);for(const i in e)if($i(e[i])||$i(t[i])){const o=Cm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}const oK=["x","y","width","height","cx","cy","r"],TZe={useVisualState:rae({scrapeMotionValuesFromProps:lae,createRenderState:nae,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const a in i)if(df.has(a)){o=!0;break}}if(!o)return;let s=!t;if(t)for(let a=0;a<oK.length;a++){const l=oK[a];e[l]!==t[l]&&(s=!0)}s&&$n.read(()=>{iae(n,r),$n.render(()=>{WB(r,i,qB(n.tagName),e.transformTemplate),aae(n,r)})})}})};function AZe(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...UB(r)?TZe:RZe,preloadedFeatures:e,useRender:CZe(i),createVisualElement:t,Component:r};return QQe(s)}}function Gb(e,t,n){const r=e.getProps();return KB(r,t,n!==void 0?n:r.custom,e)}const uae=new Set(["width","height","top","left","right","bottom",...Cm]);function PZe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bb(n))}function _Ze(e,t){const n=Gb(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=SZe(o[s]);PZe(e,s,a)}}function OZe(e){return!!($i(e)&&e.add)}function LL(e,t){const n=e.getValue("willChange");if(OZe(n))return n.add(t)}function cae(e){return e.props[Yse]}const dae=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,DZe=1e-7,IZe=12;function MZe(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=dae(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>DZe&&++a<IZe);return s}function BC(e,t,n,r){if(e===t&&n===r)return Wo;const i=o=>MZe(o,0,1,e,n);return o=>o===0||o===1?o:dae(i(o),t,r)}const hae=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fae=e=>t=>1-e(1-t),pae=BC(.33,1.53,.69,.99),XB=fae(pae),gae=hae(XB),mae=e=>(e*=2)<1?.5*XB(e):.5*(2-Math.pow(2,-10*(e-1))),QB=e=>1-Math.sin(Math.acos(e)),vae=fae(QB),yae=hae(QB),bae=e=>/^0[^.\s]+$/u.test(e);function FZe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||bae(e):!0}const by=e=>Math.round(e*1e5)/1e5,ZB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kZe(e){return e==null}const LZe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,JB=(e,t)=>n=>!!(typeof n=="string"&&LZe.test(n)&&n.startsWith(e)||t&&!kZe(n)&&Object.prototype.hasOwnProperty.call(n,t)),Cae=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(ZB);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},NZe=e=>Cu(0,255,e),UI={...wm,transform:e=>Math.round(NZe(e))},oh={test:JB("rgb","red"),parse:Cae("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+UI.transform(e)+", "+UI.transform(t)+", "+UI.transform(n)+", "+by(jb.transform(r))+")"};function VZe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const NL={test:JB("#"),parse:VZe,transform:oh.transform},Cp={test:JB("hsl","hue"),parse:Cae("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+nl.transform(by(t))+", "+nl.transform(by(n))+", "+by(jb.transform(r))+")"},Ni={test:e=>oh.test(e)||NL.test(e)||Cp.test(e),parse:e=>oh.test(e)?oh.parse(e):Cp.test(e)?Cp.parse(e):NL.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?oh.transform(e):Cp.transform(e)},BZe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HZe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ZB))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(BZe))===null||n===void 0?void 0:n.length)||0)>0}const wae="number",Sae="color",$Ze="var",jZe="var(",sK="${}",GZe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zb(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(GZe,l=>(Ni.test(l)?(r.color.push(o),i.push(Sae),n.push(Ni.parse(l))):l.startsWith(jZe)?(r.var.push(o),i.push($Ze),n.push(l)):(r.number.push(o),i.push(wae),n.push(parseFloat(l))),++o,sK)).split(sK);return{values:n,split:a,indexes:r,types:i}}function xae(e){return zb(e).values}function Eae(e){const{split:t,types:n}=zb(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===wae?o+=by(i[s]):a===Sae?o+=Ni.transform(i[s]):o+=i[s]}return o}}const zZe=e=>typeof e=="number"?0:e;function UZe(e){const t=xae(e);return Eae(e)(t.map(zZe))}const Qc={test:HZe,parse:xae,createTransformer:Eae,getAnimatableNone:UZe},WZe=new Set(["brightness","contrast","saturate","opacity"]);function qZe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ZB)||[];if(!r)return e;const i=n.replace(r,"");let o=WZe.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const KZe=/\b([a-z-]*)\(.*?\)/gu,VL={...Qc,getAnimatableNone:e=>{const t=e.match(KZe);return t?t.map(qZe).join(" "):e}},YZe={...jB,color:Ni,backgroundColor:Ni,outlineColor:Ni,fill:Ni,stroke:Ni,borderColor:Ni,borderTopColor:Ni,borderRightColor:Ni,borderBottomColor:Ni,borderLeftColor:Ni,filter:VL,WebkitFilter:VL},Rae=e=>YZe[e];function Tae(e,t){let n=Rae(e);return n!==VL&&(n=Qc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const XZe=new Set(["auto","none","0"]);function QZe(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!XZe.has(o)&&zb(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=Tae(n,i)}const sh=e=>e*180/Math.PI,BL=e=>{const t=sh(Math.atan2(e[1],e[0]));return HL(t)},ZZe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:BL,rotateZ:BL,skewX:e=>sh(Math.atan(e[1])),skewY:e=>sh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},HL=e=>(e=e%360,e<0&&(e+=360),e),aK=BL,lK=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),uK=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),JZe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lK,scaleY:uK,scale:e=>(lK(e)+uK(e))/2,rotateX:e=>HL(sh(Math.atan2(e[6],e[5]))),rotateY:e=>HL(sh(Math.atan2(-e[2],e[0]))),rotateZ:aK,rotate:aK,skewX:e=>sh(Math.atan(e[4])),skewY:e=>sh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function cK(e){return e.includes("scale")?1:0}function $L(e,t){if(!e||e==="none")return cK(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=JZe,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ZZe,i=a}if(!i)return cK(t);const o=r[t],s=i[1].split(",").map(tJe);return typeof o=="function"?o(s):s[o]}const eJe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return $L(n,t)};function tJe(e){return parseFloat(e.trim())}const dK=e=>e===wm||e===ct,nJe=new Set(["x","y","z"]),rJe=Cm.filter(e=>!nJe.has(e));function iJe(e){const t=[];return rJe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ug={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$L(t,"x"),y:(e,{transform:t})=>$L(t,"y")};Ug.translateX=Ug.x;Ug.translateY=Ug.y;const Ph=new Set;let jL=!1,GL=!1;function Aae(){if(GL){const e=Array.from(Ph).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=iJe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}GL=!1,jL=!1,Ph.forEach(e=>e.complete()),Ph.clear()}function Pae(){Ph.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(GL=!0)})}function oJe(){Pae(),Aae()}class eH{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ph.add(this),jL||(jL=!0,$n.read(Pae),$n.resolveKeyframes(Aae))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ph.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ph.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _ae=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),sJe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aJe(e){const t=sJe.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Oae(e,t,n=1){const[r,i]=aJe(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return _ae(s)?parseFloat(s):s}return $B(i)?Oae(i,t,n+1):i}const Dae=e=>t=>t.test(e),lJe={test:e=>e==="auto",parse:e=>e},Iae=[wm,ct,nl,sc,oZe,iZe,lJe],hK=e=>Iae.find(Dae(e));class Mae extends eH{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),$B(u))){const h=Oae(u,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!uae.has(r)||t.length!==2)return;const[i,o]=t,s=hK(i),a=hK(o);if(s!==a)if(dK(s)&&dK(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)FZe(t[i])&&r.push(i);r.length&&QZe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ug[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=Ug[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const fK=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qc.test(e)||e==="0")&&!e.startsWith("url("));function uJe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function cJe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=fK(i,t),a=fK(o,t);return!s||!a?!1:uJe(e)||(n==="spring"||MB(n))&&r}const dJe=e=>e!==null;function wT(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(dJe),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const hJe=40;class Fae{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tl.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>hJe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oJe(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=tl.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!cJe(t,r,i,o))if(s)this.options.duration=0;else{l&&l(wT(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ir=(e,t,n)=>e+(t-e)*n;function WI(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fJe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=WI(l,a,e+1/3),o=WI(l,a,e),s=WI(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function PE(e,t){return n=>n>0?t:e}const qI=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},pJe=[NL,oh,Cp],gJe=e=>pJe.find(t=>t.test(e));function pK(e){const t=gJe(e);if(!t)return!1;let n=t.parse(e);return t===Cp&&(n=fJe(n)),n}const gK=(e,t)=>{const n=pK(e),r=pK(t);if(!n||!r)return PE(e,t);const i={...n};return o=>(i.red=qI(n.red,r.red,o),i.green=qI(n.green,r.green,o),i.blue=qI(n.blue,r.blue,o),i.alpha=ir(n.alpha,r.alpha,o),oh.transform(i))},mJe=(e,t)=>n=>t(e(n)),HC=(...e)=>e.reduce(mJe),zL=new Set(["none","hidden"]);function vJe(e,t){return zL.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function yJe(e,t){return n=>ir(e,t,n)}function tH(e){return typeof e=="number"?yJe:typeof e=="string"?$B(e)?PE:Ni.test(e)?gK:wJe:Array.isArray(e)?kae:typeof e=="object"?Ni.test(e)?gK:bJe:PE}function kae(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>tH(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function bJe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=tH(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function CJe(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=l,i[s]++}return r}const wJe=(e,t)=>{const n=Qc.createTransformer(t),r=zb(e),i=zb(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?zL.has(e)&&!i.values.length||zL.has(t)&&!r.values.length?vJe(e,t):HC(kae(CJe(r,i),i.values),n):PE(e,t)};function Lae(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ir(e,t,n):tH(e)(e,t)}const SJe=5;function Nae(e,t,n){const r=Math.max(t-SJe,0);return Nse(n-e(r),t-r)}const gr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mK=.001;function xJe({duration:e=gr.duration,bounce:t=gr.bounce,velocity:n=gr.velocity,mass:r=gr.mass}){let i,o,s=1-t;s=Cu(gr.minDamping,gr.maxDamping,s),e=Cu(gr.minDuration,gr.maxDuration,su(e)),s<1?(i=u=>{const h=u*s,f=h*e,p=h-n,m=UL(u,s),b=Math.exp(-f);return mK-p/m*b},o=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,b=Math.exp(-f),C=UL(Math.pow(u,2),s);return(-i(u)+mK>0?-1:1)*((p-m)*b)/C}):(i=u=>{const h=Math.exp(-u*e),f=(u-n)*e+1;return-.001+h*f},o=u=>{const h=Math.exp(-u*e),f=(n-u)*(e*e);return h*f});const a=5/e,l=RJe(i,o,a);if(e=ou(e),isNaN(l))return{stiffness:gr.stiffness,damping:gr.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const EJe=12;function RJe(e,t,n){let r=n;for(let i=1;i<EJe;i++)r=r-e(r)/t(r);return r}function UL(e,t){return e*Math.sqrt(1-t*t)}const TJe=["duration","bounce"],AJe=["stiffness","damping","mass"];function vK(e,t){return t.some(n=>e[n]!==void 0)}function PJe(e){let t={velocity:gr.velocity,stiffness:gr.stiffness,damping:gr.damping,mass:gr.mass,isResolvedFromDuration:!1,...e};if(!vK(e,AJe)&&vK(e,TJe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Cu(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:gr.mass,stiffness:i,damping:o}}else{const n=xJe(e);t={...t,...n,mass:gr.mass},t.isResolvedFromDuration=!0}return t}function Vae(e=gr.visualDuration,t=gr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:h,duration:f,velocity:p,isResolvedFromDuration:m}=PJe({...n,velocity:-su(n.velocity||0)}),b=p||0,C=u/(2*Math.sqrt(l*h)),y=s-o,x=su(Math.sqrt(l/h)),R=Math.abs(y)<5;r||(r=R?gr.restSpeed.granular:gr.restSpeed.default),i||(i=R?gr.restDelta.granular:gr.restDelta.default);let T;if(C<1){const A=UL(x,C);T=D=>{const _=Math.exp(-C*x*D);return s-_*((b+C*x*y)/A*Math.sin(A*D)+y*Math.cos(A*D))}}else if(C===1)T=A=>s-Math.exp(-x*A)*(y+(b+x*y)*A);else{const A=x*Math.sqrt(C*C-1);T=D=>{const _=Math.exp(-C*x*D),I=Math.min(A*D,300);return s-_*((b+C*x*y)*Math.sinh(I)+A*y*Math.cosh(I))/A}}const M={calculatedDuration:m&&f||null,next:A=>{const D=T(A);if(m)a.done=A>=f;else{let _=0;C<1&&(_=A===0?ou(b):Nae(T,A,D));const I=Math.abs(_)<=r,O=Math.abs(s-D)<=i;a.done=I&&O}return a.value=a.done?s:D,a},toString:()=>{const A=Math.min(Vse(M),ML),D=Bse(_=>M.next(A*_).value,A,30);return A+"ms "+D}};return M}function yK({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:h}){const f=e[0],p={done:!1,value:f},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,b=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let C=n*t;const y=f+C,x=s===void 0?y:s(y);x!==y&&(C=x-f);const R=I=>-C*Math.exp(-I/r),T=I=>x+R(I),M=I=>{const O=R(I),F=T(I);p.done=Math.abs(O)<=u,p.value=p.done?x:F};let A,D;const _=I=>{m(p.value)&&(A=I,D=Vae({keyframes:[p.value,b(p.value)],velocity:Nae(T,I,p.value),damping:i,stiffness:o,restDelta:u,restSpeed:h}))};return _(0),{calculatedDuration:null,next:I=>{let O=!1;return!D&&A===void 0&&(O=!0,M(I),_(I)),A!==void 0&&I>=A?D.next(I-A):(!O&&M(I),p)}}}const _Je=BC(.42,0,1,1),OJe=BC(0,0,.58,1),Bae=BC(.42,0,.58,1),DJe=e=>Array.isArray(e)&&typeof e[0]!="number",IJe={linear:Wo,easeIn:_Je,easeInOut:Bae,easeOut:OJe,circIn:QB,circInOut:yae,circOut:vae,backIn:XB,backInOut:gae,backOut:pae,anticipate:mae},bK=e=>{if(FB(e)){Lse(e.length===4);const[t,n,r,i]=e;return BC(t,n,r,i)}else if(typeof e=="string")return IJe[e];return e};function MJe(e,t,n){const r=[],i=n||Lae,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Wo:t;a=HC(l,a)}r.push(a)}return r}function FJe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(Lse(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=MJe(t,r,i),l=a.length,u=h=>{if(s&&h<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const p=Gg(e[f],e[f+1],h);return a[f](p)};return n?h=>u(Cu(e[0],e[o-1],h)):u}function kJe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Gg(0,t,r);e.push(ir(n,1,i))}}function LJe(e){const t=[0];return kJe(t,e.length-1),t}function NJe(e,t){return e.map(n=>n*t)}function VJe(e,t){return e.map(()=>t||Bae).splice(0,e.length-1)}function _E({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=DJe(r)?r.map(bK):bK(r),o={done:!1,value:t[0]},s=NJe(n&&n.length===t.length?n:LJe(t),e),a=FJe(s,t,{ease:Array.isArray(i)?i:VJe(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const BJe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>$n.update(t,!0),stop:()=>Xc(t),now:()=>Ci.isProcessing?Ci.timestamp:tl.now()}},HJe={decay:yK,inertia:yK,tween:_E,keyframes:_E,spring:Vae},$Je=e=>e/100;class nH extends Fae{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||eH,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=MB(n)?n:HJe[n]||_E;let l,u;a!==_E&&typeof t[0]!="number"&&(l=HC($Je,Lae(t[0],t[1])),t=[0,100]);const h=a({...this.options,keyframes:t});o==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-s})),h.calculatedDuration===null&&(h.calculatedDuration=Vse(h));const{calculatedDuration:f}=h,p=f+i,m=p*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:p,repeat:m,repeatType:b,repeatDelay:C,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),R=this.speed>=0?x<0:x>h;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,M=o;if(m){const I=Math.min(this.currentTime,h)/f;let O=Math.floor(I),F=I%1;!F&&I>=1&&(F=1),F===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(b==="reverse"?(F=1-F,C&&(F-=C/f)):b==="mirror"&&(M=s)),T=Cu(0,1,F)*f}const A=R?{done:!1,value:l[0]}:M.next(T);a&&(A.value=a(A.value));let{done:D}=A;!R&&u!==null&&(D=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return _&&i!==void 0&&(A.value=wT(l,this.options,i)),y&&y(A.value),_&&this.finish(),A}get duration(){const{resolved:t}=this;return t?su(t.calculatedDuration):0}get time(){return su(this.currentTime)}set time(t){t=ou(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=su(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=BJe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const jJe=new Set(["opacity","clipPath","filter","transform"]);function GJe(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const h=$se(a,i);return Array.isArray(h)&&(u.easing=h),e.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const zJe=OB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),OE=10,UJe=2e4;function WJe(e){return MB(e.type)||e.type==="spring"||!Hse(e.ease)}function qJe(e,t){const n=new nH({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<UJe;)r=n.sample(o),i.push(r.value),o+=OE;return{times:void 0,keyframes:i,duration:o-OE,ease:"linear"}}const Hae={anticipate:mae,backInOut:gae,circInOut:yae};function KJe(e){return e in Hae}class CK extends Fae{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new Mae(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&TE()&&KJe(o)&&(o=Hae[o]),WJe(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:b,...C}=this.options,y=qJe(t,C);t=y.keyframes,t.length===1&&(t[1]=t[0]),r=y.duration,i=y.times,o=y.ease,s="keyframes"}const h=GJe(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(W7(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(wT(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return su(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return su(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ou(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Wo;const{animation:r}=n;W7(r,t)}return Wo}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:f,element:p,...m}=this.options,b=new nH({...m,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),C=ou(this.time);u.setWithVelocity(b.sample(C-OE).value,b.sample(C).value,OE)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return zJe()&&r&&jJe.has(r)&&!l&&!u&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const YJe={type:"spring",stiffness:500,damping:25,restSpeed:10},XJe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QJe={type:"keyframes",duration:.8},ZJe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JJe=(e,{keyframes:t})=>t.length>2?QJe:df.has(e)?e.startsWith("scale")?XJe(t[1]):YJe:ZJe;function eet({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const rH=(e,t,n,r={},i,o)=>s=>{const a=IB(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ou(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};eet(a)||(h={...h,...JJe(e,h)}),h.duration&&(h.duration=ou(h.duration)),h.repeatDelay&&(h.repeatDelay=ou(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),h.allowFlatten=!a.type&&!a.ease,f&&!o&&t.get()!==void 0){const p=wT(h.keyframes,a);if(p!==void 0)return $n.update(()=>{h.onUpdate(p),h.onComplete()}),new xQe([])}return!o&&CK.supports(h)?new CK(h):new nH(h)};function tet({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function $ae(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(s=r);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const p=e.getValue(f,(o=e.latestValues[f])!==null&&o!==void 0?o:null),m=l[f];if(m===void 0||h&&tet(h,f))continue;const b={delay:n,...IB(s||{},f)};let C=!1;if(window.MotionHandoffAnimation){const x=cae(e);if(x){const R=window.MotionHandoffAnimation(x,f,$n);R!==null&&(b.startTime=R,C=!0)}}LL(e,f),p.start(rH(f,p,m,e.shouldReduceMotion&&uae.has(f)?{type:!1}:b,e,C));const y=p.animation;y&&u.push(y)}return a&&Promise.all(u).then(()=>{$n.update(()=>{a&&_Ze(e,a)})}),u}function WL(e,t,n={}){var r;const i=Gb(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all($ae(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=o;return net(e,t,h+u,f,p,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,h]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>h())}else return Promise.all([s(),a(n.delay)])}function net(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(ret).forEach((u,h)=>{u.notify("AnimationStart",t),s.push(WL(u,t,{...o,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function ret(e,t){return e.sortNodePosition(t)}function iet(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>WL(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=WL(e,t,n);else{const i=typeof t=="function"?Gb(e,t,n.custom):t;r=Promise.all($ae(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function jae(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const oet=VB.length;function Gae(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Gae(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<oet;n++){const r=VB[n],i=e.props[r];(Hb(i)||i===!1)&&(t[r]=i)}return t}const set=[...NB].reverse(),aet=NB.length;function uet(e){return t=>Promise.all(t.map(({animation:n,options:r})=>iet(e,n,r)))}function cet(e){let t=uet(e),n=wK(),r=!0;const i=l=>(u,h)=>{var f;const p=Gb(e,h,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:b,...C}=p;u={...u,...C,...b}}return u};function o(l){t=l(e)}function s(l){const{props:u}=e,h=Gae(e.parent)||{},f=[],p=new Set;let m={},b=1/0;for(let y=0;y<aet;y++){const x=set[y],R=n[x],T=u[x]!==void 0?u[x]:h[x],M=Hb(T),A=x===l?R.isActive:null;A===!1&&(b=y);let D=T===h[x]&&T!==u[x]&&M;if(D&&r&&e.manuallyAnimateOnMount&&(D=!1),R.protectedKeys={...m},!R.isActive&&A===null||!T&&!R.prevProp||bT(T)||typeof T=="boolean")continue;const _=det(R.prevProp,T);let I=_||x===l&&R.isActive&&!D&&M||y>b&&M,O=!1;const F=Array.isArray(T)?T:[T];let L=F.reduce(i(x),{});A===!1&&(L={});const{prevResolvedValues:V={}}=R,N={...V,...L},Y=G=>{I=!0,p.has(G)&&(O=!0,p.delete(G)),R.needsAnimating[G]=!0;const U=e.getValue(G);U&&(U.liveStyle=!1)};for(const G in N){const U=L[G],Z=V[G];if(m.hasOwnProperty(G))continue;let $=!1;kL(U)&&kL(Z)?$=!jae(U,Z):$=U!==Z,$?U!=null?Y(G):p.add(G):U!==void 0&&p.has(G)?Y(G):R.protectedKeys[G]=!0}R.prevProp=T,R.prevResolvedValues=L,R.isActive&&(m={...m,...L}),r&&e.blockInitialAnimation&&(I=!1),I&&(!(D&&_)||O)&&f.push(...F.map(G=>({animation:G,options:{type:x}})))}if(p.size){const y={};if(typeof u.initial!="boolean"){const x=Gb(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(y.transition=x.transition)}p.forEach(x=>{const R=e.getBaseTarget(x),T=e.getValue(x);T&&(T.liveStyle=!0),y[x]=R??null}),f.push({animation:y})}let C=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(C=!1),r=!1,C?t(f):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=s(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=wK(),r=!0}}}function det(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jae(t,e):!1}function jd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wK(){return{animate:jd(!0),whileInView:jd(),whileHover:jd(),whileTap:jd(),whileDrag:jd(),whileFocus:jd(),exit:jd()}}class pd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class het extends pd{constructor(t){super(t),t.animationState||(t.animationState=cet(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bT(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let fet=0;class pet extends pd{constructor(){super(...arguments),this.id=fet++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const get={animation:{Feature:het},exit:{Feature:pet}};function Ub(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function $C(e){return{point:{x:e.pageX,y:e.pageY}}}const met=e=>t=>LB(t)&&e(t,$C(t));function Cy(e,t,n,r){return Ub(e,t,met(n),r)}function zae({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function vet({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yet(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Uae=1e-4,bet=1-Uae,Cet=1+Uae,Wae=.01,wet=0-Wae,xet=0+Wae;function oo(e){return e.max-e.min}function Eet(e,t,n){return Math.abs(e-t)<=n}function SK(e,t,n,r=.5){e.origin=r,e.originPoint=ir(t.min,t.max,e.origin),e.scale=oo(n)/oo(t),e.translate=ir(n.min,n.max,e.origin)-e.originPoint,(e.scale>=bet&&e.scale<=Cet||isNaN(e.scale))&&(e.scale=1),(e.translate>=wet&&e.translate<=xet||isNaN(e.translate))&&(e.translate=0)}function wy(e,t,n,r){SK(e.x,t.x,n.x,r?r.originX:void 0),SK(e.y,t.y,n.y,r?r.originY:void 0)}function xK(e,t,n){e.min=n.min+t.min,e.max=e.min+oo(t)}function Ret(e,t,n){xK(e.x,t.x,n.x),xK(e.y,t.y,n.y)}function EK(e,t,n){e.min=t.min-n.min,e.max=e.min+oo(t)}function Sy(e,t,n){EK(e.x,t.x,n.x),EK(e.y,t.y,n.y)}const RK=()=>({translate:0,scale:1,origin:0,originPoint:0}),wp=()=>({x:RK(),y:RK()}),TK=()=>({min:0,max:0}),Sr=()=>({x:TK(),y:TK()});function vs(e){return[e("x"),e("y")]}function KI(e){return e===void 0||e===1}function qL({scale:e,scaleX:t,scaleY:n}){return!KI(e)||!KI(t)||!KI(n)}function qd(e){return qL(e)||qae(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qae(e){return AK(e.x)||AK(e.y)}function AK(e){return e&&e!=="0%"}function DE(e,t,n){const r=e-n,i=t*r;return n+i}function PK(e,t,n,r,i){return i!==void 0&&(e=DE(e,i,r)),DE(e,n,r)+t}function KL(e,t=0,n=1,r,i){e.min=PK(e.min,t,n,r,i),e.max=PK(e.max,t,n,r,i)}function Kae(e,{x:t,y:n}){KL(e.x,t.translate,t.scale,t.originPoint),KL(e.y,n.translate,n.scale,n.originPoint)}const _K=.999999999999,OK=1.0000000000001;function Tet(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&xp(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Kae(e,s)),r&&qd(o.latestValues)&&xp(e,o.latestValues))}t.x<OK&&t.x>_K&&(t.x=1),t.y<OK&&t.y>_K&&(t.y=1)}function Sp(e,t){e.min=e.min+t,e.max=e.max+t}function DK(e,t,n,r,i=.5){const o=ir(e.min,e.max,i);KL(e,t,n,o,r)}function xp(e,t){DK(e.x,t.x,t.scaleX,t.scale,t.originX),DK(e.y,t.y,t.scaleY,t.scale,t.originY)}function Yae(e,t){return zae(yet(e.getBoundingClientRect(),t))}function Aet(e,t,n){const r=Yae(e,n),{scroll:i}=t;return i&&(Sp(r.x,i.offset.x),Sp(r.y,i.offset.y)),r}const Xae=({current:e})=>e?e.ownerDocument.defaultView:null,IK=(e,t)=>Math.abs(e-t);function Pet(e,t){const n=IK(e.x,t.x),r=IK(e.y,t.y);return Math.sqrt(n**2+r**2)}class Qae{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=XI(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Pet(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:b}=f,{timestamp:C}=Ci;this.history.push({...b,timestamp:C});const{onStart:y,onMove:x}=this.handlers;p||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=YI(p,this.transformPagePoint),$n.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:b,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=XI(f.type==="pointercancel"?this.lastMoveEventInfo:YI(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),b&&b(f,y)},!LB(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=$C(t),a=YI(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ci;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,XI(a,this.history)),this.removeListeners=HC(Cy(this.contextWindow,"pointermove",this.handlePointerMove),Cy(this.contextWindow,"pointerup",this.handlePointerUp),Cy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xc(this.updatePoint)}}function YI(e,t){return t?{point:t(e.point)}:e}function MK(e,t){return{x:e.x-t.x,y:e.y-t.y}}function XI({point:e},t){return{point:e,delta:MK(e,Zae(t)),offset:MK(e,_et(t)),velocity:Oet(t,.1)}}function _et(e){return e[0]}function Zae(e){return e[e.length-1]}function Oet(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Zae(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ou(t)));)n--;if(!r)return{x:0,y:0};const o=su(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Det(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ir(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ir(n,e,r.max):Math.min(e,n)),e}function FK(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Iet(e,{top:t,left:n,bottom:r,right:i}){return{x:FK(e.x,n,i),y:FK(e.y,t,r)}}function kK(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Met(e,t){return{x:kK(e.x,t.x),y:kK(e.y,t.y)}}function Fet(e,t){let n=.5;const r=oo(e),i=oo(t);return i>r?n=Gg(t.min,t.max-r,e.min):r>i&&(n=Gg(e.min,e.max-i,t.min)),Cu(0,1,n)}function ket(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const YL=.35;function Let(e=YL){return e===!1?e=0:e===!0&&(e=YL),{x:LK(e,"left","right"),y:LK(e,"top","bottom")}}function LK(e,t,n){return{min:NK(e,t),max:NK(e,n)}}function NK(e,t){return typeof e=="number"?e:e[t]||0}const Net=new WeakMap;class Vet{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($C(h).point)},o=(h,f)=>{const{drag:p,dragPropagation:m,onDragStart:b}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_Qe(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vs(y=>{let x=this.getAxisMotionValue(y).get()||0;if(nl.test(x)){const{projection:R}=this.visualElement;if(R&&R.layout){const T=R.layout.layoutBox[y];T&&(x=oo(T)*(parseFloat(x)/100))}}this.originPoint[y]=x}),b&&$n.postRender(()=>b(h,f)),LL(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},s=(h,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:b,onDrag:C}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Bet(y),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),C&&C(h,f)},a=(h,f)=>this.stop(h,f),l=()=>vs(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Qae(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Xae(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&$n.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!q0(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Det(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&bp(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Iet(i.layoutBox,n):this.constraints=!1,this.elastic=Let(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vs(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ket(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!bp(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Aet(r,i.root,this.visualElement.getTransformPagePoint());let s=Met(i.layout.layoutBox,o);if(n){const a=n(vet(s));this.hasMutatedConstraints=!!a,a&&(s=zae(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=vs(h=>{if(!q0(h,n,this.currentDirection))return;let f=l&&l[h]||{};s&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,b={type:"inertia",velocity:r?t[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return LL(this.visualElement,t),r.start(rH(t,r,0,n,this.visualElement,!1))}stopAnimation(){vs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vs(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){vs(n=>{const{drag:r}=this.getProps();if(!q0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-ir(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vs(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=Fet({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vs(s=>{if(!q0(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(ir(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Net.set(this.visualElement,this);const t=this.visualElement.current,n=Cy(t,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();bp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$n.read(r);const s=Ub(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(vs(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=YL,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function q0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Bet(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Het extends pd{constructor(t){super(t),this.removeGroupControls=Wo,this.removeListeners=Wo,this.controls=new Vet(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wo}unmount(){this.removeGroupControls(),this.removeListeners()}}const VK=e=>(t,n)=>{e&&$n.postRender(()=>e(t,n))};class $et extends pd{constructor(){super(...arguments),this.removePointerDownListener=Wo}onPointerDown(t){this.session=new Qae(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xae(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:VK(t),onStart:VK(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&$n.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Cy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const OS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BK(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ct.test(e))e=parseFloat(e);else return e;const n=BK(e,t.target.x),r=BK(e,t.target.y);return`${n}% ${r}%`}},jet={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Qc.parse(e);if(i.length>5)return r;const o=Qc.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=ir(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class Get extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;rZe(zet),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),OS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||$n.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kB.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Jae(e){const[t,n]=kse(),r=w.useContext(EB);return q.jsx(Get,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(Xse),isPresent:t,safeToRemove:n})}const zet={borderRadius:{...Dv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dv,borderTopRightRadius:Dv,borderBottomLeftRadius:Dv,borderBottomRightRadius:Dv,boxShadow:jet};function Uet(e,t,n){const r=$i(e)?e:Bb(e);return r.start(rH("",r,t,n)),r.animation}function Wet(e){return e instanceof SVGElement&&e.tagName!=="svg"}const qet=(e,t)=>e.depth-t.depth;class Ket{constructor(){this.children=[],this.isDirty=!1}add(t){PB(this.children,t),this.isDirty=!0}remove(t){_B(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qet),this.isDirty=!1,this.children.forEach(t)}}function Yet(e,t){const n=tl.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Xc(r),e(o-t))};return $n.read(r,!0),()=>Xc(r)}const ele=["TopLeft","TopRight","BottomLeft","BottomRight"],Xet=ele.length,HK=e=>typeof e=="string"?parseFloat(e):e,$K=e=>typeof e=="number"||ct.test(e);function Qet(e,t,n,r,i,o){i?(e.opacity=ir(0,n.opacity!==void 0?n.opacity:1,Zet(r)),e.opacityExit=ir(t.opacity!==void 0?t.opacity:1,0,Jet(r))):o&&(e.opacity=ir(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Xet;s++){const a=`border${ele[s]}Radius`;let l=jK(t,a),u=jK(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||$K(l)===$K(u)?(e[a]=Math.max(ir(HK(l),HK(u),r),0),(nl.test(u)||nl.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ir(t.rotate||0,n.rotate||0,r))}function jK(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zet=tle(0,.5,vae),Jet=tle(.5,.95,Wo);function tle(e,t,n){return r=>r<e?0:r>t?1:n(Gg(e,t,r))}function GK(e,t){e.min=t.min,e.max=t.max}function gs(e,t){GK(e.x,t.x),GK(e.y,t.y)}function zK(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function UK(e,t,n,r,i){return e-=t,e=DE(e,1/n,r),i!==void 0&&(e=DE(e,1/i,r)),e}function ett(e,t=0,n=1,r=.5,i,o=e,s=e){if(nl.test(t)&&(t=parseFloat(t),t=ir(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=ir(o.min,o.max,r);e===o&&(a-=t),e.min=UK(e.min,t,n,a,i),e.max=UK(e.max,t,n,a,i)}function WK(e,t,[n,r,i],o,s){ett(e,t[n],t[r],t[i],t.scale,o,s)}const ttt=["x","scaleX","originX"],ntt=["y","scaleY","originY"];function qK(e,t,n,r){WK(e.x,t,ttt,n?n.x:void 0,r?r.x:void 0),WK(e.y,t,ntt,n?n.y:void 0,r?r.y:void 0)}function KK(e){return e.translate===0&&e.scale===1}function nle(e){return KK(e.x)&&KK(e.y)}function YK(e,t){return e.min===t.min&&e.max===t.max}function rtt(e,t){return YK(e.x,t.x)&&YK(e.y,t.y)}function XK(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rle(e,t){return XK(e.x,t.x)&&XK(e.y,t.y)}function QK(e){return oo(e.x)/oo(e.y)}function ZK(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class itt{constructor(){this.members=[]}add(t){PB(this.members,t),t.scheduleRender()}remove(t){if(_B(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ott(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:p,skewX:m,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const QI=["","X","Y","Z"],stt={visibility:"hidden"},JK=1e3;let att=0;function ZI(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ile(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=cae(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",$n,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ile(r)}function ole({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=att++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ctt),this.nodes.forEach(gtt),this.nodes.forEach(mtt),this.nodes.forEach(dtt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ket)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new DB),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Wet(s),this.instance=s;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Yet(p,250),OS.hasAnimatedSinceResize&&(OS.hasAnimatedSinceResize=!1,this.nodes.forEach(tY))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||wtt,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=h.getProps(),R=!this.targetLayout||!rle(this.targetLayout,b),T=!p&&m;if(this.options.layoutRoot||this.resumeFrom||T||p&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const M={...IB(C,"layout"),onPlay:y,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else p||tY(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vtt),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ile(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eY);return}this.isUpdating||this.nodes.forEach(ftt),this.isUpdating=!1,this.nodes.forEach(ptt),this.nodes.forEach(ltt),this.nodes.forEach(utt),this.clearAllSnapshots();const a=tl.now();Ci.delta=Cu(0,1e3/60,a-Ci.timestamp),Ci.timestamp=a,Ci.isProcessing=!0,GI.update.process(Ci),GI.preRender.process(Ci),GI.render.process(Ci),Ci.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(htt),this.sharedNodes.forEach(ytt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$n.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$n.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!oo(this.snapshot.measuredBox.x)&&!oo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!nle(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;s&&(a||qd(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Stt(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return Sr();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(xtt))){const{scroll:h}=this.root;h&&(Sp(l.x,h.offset.x),Sp(l.y,h.offset.y))}return l}removeElementScroll(s){var a;const l=Sr();if(gs(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&gs(l,s),Sp(l.x,f.offset.x),Sp(l.y,f.offset.y))}return l}applyTransform(s,a=!1){const l=Sr();gs(l,s);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&xp(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),qd(h.latestValues)&&xp(l,h.latestValues)}return qd(this.latestValues)&&xp(l,this.latestValues),l}removeTransform(s){const a=Sr();gs(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!qd(u.latestValues))continue;qL(u.latestValues)&&u.updateSnapshot();const h=Sr(),f=u.measurePageBox();gs(h,f),qK(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return qd(this.latestValues)&&qK(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ci.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ci.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),Sy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),gs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sr(),this.targetWithTransforms=Sr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ret(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gs(this.target,this.layout.layoutBox),Kae(this.target,this.targetDelta)):gs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),Sy(this.relativeTargetOrigin,this.target,m.target),gs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qL(this.parent.latestValues)||qae(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ci.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;gs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Tet(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Sr());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zK(this.prevProjectionDelta.x,this.projectionDelta.x),zK(this.prevProjectionDelta.y,this.projectionDelta.y)),wy(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!ZK(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZK(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wp(),this.projectionDelta=wp(),this.projectionDeltaWithTransform=wp()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},f=wp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Sr(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,C=m!==b,y=this.getStack(),x=!y||y.members.length<=1,R=!!(C&&!x&&this.options.crossfade===!0&&!this.path.some(Ctt));this.animationProgress=0;let T;this.mixTargetDelta=M=>{const A=M/1e3;nY(f.x,s.x,A),nY(f.y,s.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),btt(this.relativeTarget,this.relativeTargetOrigin,p,A),T&&rtt(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Sr()),gs(T,this.relativeTarget)),C&&(this.animationValues=h,Qet(h,u,this.latestValues,A,R,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$n.update(()=>{OS.hasAnimatedSinceResize=!0,this.currentAnimation=Uet(0,JK,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&sle(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Sr();const f=oo(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const p=oo(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}gs(a,l),xp(a,h),wy(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new itt),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&ZI("z",s,u,this.animationValues);for(let h=0;h<QI.length;h++)ZI(`rotate${QI[h]}`,s,u,this.animationValues),ZI(`skew${QI[h]}`,s,u,this.animationValues);s.render();for(const h in u)s.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return stt;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=_S(s==null?void 0:s.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=_S(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!qd(this.latestValues)&&(C.transform=h?h({},""):"none",this.hasProjected=!1),C}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=ott(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:m,y:b}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const C in $b){if(p[C]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:R}=$b[C],T=u.transform==="none"?p[C]:y(p[C],f);if(x){const M=x.length;for(let A=0;A<M;A++)u[x[A]]=T}else R?this.options.visualElement.renderState.vars[C]=T:u[C]=T}return this.options.layoutId&&(u.pointerEvents=f===this?_S(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(eY),this.root.sharedNodes.clear()}}}function ltt(e){e.updateLayout()}function utt(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?vs(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=oo(p);p.min=r[f].min,p.max=p.min+m}):sle(o,n.layoutBox,r)&&vs(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=oo(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=wp();wy(a,r,n.layoutBox);const l=wp();s?wy(l,e.applyTransform(i,!0),n.measuredBox):wy(l,r,n.layoutBox);const u=!nle(a);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const b=Sr();Sy(b,n.layoutBox,p.layoutBox);const C=Sr();Sy(C,r,m.layoutBox),rle(b,C)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ctt(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dtt(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function htt(e){e.clearSnapshot()}function eY(e){e.clearMeasurements()}function ftt(e){e.isLayoutDirty=!1}function ptt(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tY(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gtt(e){e.resolveTargetDelta()}function mtt(e){e.calcProjection()}function vtt(e){e.resetSkewAndRotation()}function ytt(e){e.removeLeadSnapshot()}function nY(e,t,n){e.translate=ir(t.translate,0,n),e.scale=ir(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rY(e,t,n,r){e.min=ir(t.min,n.min,r),e.max=ir(t.max,n.max,r)}function btt(e,t,n,r){rY(e.x,t.x,n.x,r),rY(e.y,t.y,n.y,r)}function Ctt(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wtt={duration:.45,ease:[.4,0,.1,1]},iY=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oY=iY("applewebkit/")&&!iY("chrome/")?Math.round:Wo;function sY(e){e.min=oY(e.min),e.max=oY(e.max)}function Stt(e){sY(e.x),sY(e.y)}function sle(e,t,n){return e==="position"||e==="preserve-aspect"&&!Eet(QK(t),QK(n),.2)}function xtt(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Ett=ole({attachResizeListener:(e,t)=>Ub(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),JI={current:void 0},ale=ole({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!JI.current){const e=new Ett({});e.mount(window),e.setOptions({layoutScroll:!0}),JI.current=e}return JI.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Rtt={pan:{Feature:$et},drag:{Feature:Het,ProjectionNode:ale,MeasureLayout:Jae}};function aY(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&$n.postRender(()=>o(t,$C(t)))}class Ttt extends pd{mount(){const{current:t}=this.node;t&&(this.unmount=DQe(t,(n,r)=>(aY(this.node,r,"Start"),i=>aY(this.node,i,"End"))))}unmount(){}}class Att extends pd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=HC(Ub(this.node.current,"focus",()=>this.onFocus()),Ub(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lY(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&$n.postRender(()=>o(t,$C(t)))}class Ptt extends pd{mount(){const{current:t}=this.node;t&&(this.unmount=kQe(t,(n,r)=>(lY(this.node,r,"Start"),(i,{success:o})=>lY(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const XL=new WeakMap,eM=new WeakMap,_tt=e=>{const t=XL.get(e.target);t&&t(e)},Ott=e=>{e.forEach(_tt)};function Dtt({root:e,...t}){const n=e||document;eM.has(n)||eM.set(n,{});const r=eM.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Ott,{root:e,...t})),r[i]}function Itt(e,t,n){const r=Dtt(t);return XL.set(e,n),r.observe(e),()=>{XL.delete(e),r.unobserve(e)}}const Mtt={some:0,all:1};class Ftt extends pd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Mtt[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=u?h:f;p&&p(l)};return Itt(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ktt(t,n))&&this.startObserver()}unmount(){}}function ktt({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ltt={inView:{Feature:Ftt},tap:{Feature:Ptt},focus:{Feature:Att},hover:{Feature:Ttt}},Ntt={layout:{ProjectionNode:ale,MeasureLayout:Jae}},QL={current:null},lle={current:!1};function Vtt(){if(lle.current=!0,!!TB)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>QL.current=e.matches;e.addListener(t),t()}else QL.current=!1}const Btt=[...Iae,Ni,Qc],Htt=e=>Btt.find(Dae(e)),$tt=new WeakMap;function jtt(e,t,n){for(const r in t){const i=t[r],o=n[r];if($i(i))e.addValue(r,i);else if($i(o))e.addValue(r,Bb(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,Bb(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const uY=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Gtt{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eH,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=tl.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,$n.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:h}=s;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=CT(n),this.isVariantNode=Kse(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const b=p[m];l[m]!==void 0&&$i(b)&&b.set(l[m],!1)}}mount(t){this.current=t,$tt.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lle.current||Vtt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:QL.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xc(this.notifyUpdate),Xc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=df.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&$n.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zg){const n=zg[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uY.length;r++){const i=uY[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=jtt(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Bb(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(_ae(i)||bae(i))?i=parseFloat(i):!Htt(i)&&Qc.test(n)&&(i=Tae(t,n)),this.setBaseTarget(t,$i(i)?i.get():i)),$i(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=KB(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!$i(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new DB),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ule extends Gtt{constructor(){super(...arguments),this.KeyframeResolver=Mae}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$i(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ztt(e){return window.getComputedStyle(e)}class Utt extends ule{constructor(){super(...arguments),this.type="html",this.renderInstance=oae}readValueFromInstance(t,n){if(df.has(n))return eJe(t,n);{const r=ztt(t),i=(HB(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Yae(t,n)}build(t,n,r){GB(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return YB(t,n,r)}}class Wtt extends ule{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&iae(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(df.has(n)){const r=Rae(n);return r&&r.default||0}return n=sae.has(n)?n:BB(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return lae(t,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&$n.postRender(this.updateDimensions)}build(t,n,r){WB(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){aae(t,n,r,i)}mount(t){this.isSVGTag=qB(t.tagName),super.mount(t)}}const qtt=(e,t)=>UB(e)?new Wtt(t):new Utt(t,{allowProjection:e!==w.Fragment}),Ktt=AZe({...get,...Ltt,...Rtt,...Ntt},qtt),gc=GQe(Ktt),Ytt={hidden:{opacity:0,height:0,padding:0,transition:{duration:.3,when:"afterChildren"}},show:{opacity:1,height:"auto",transition:{duration:.3,when:"beforeChildren"}}},Xtt={hidden:e=>({padding:0,x:"-100%",transition:{duration:(e+1)*.1}}),show:e=>({x:0,transition:{duration:(e+1)*.1}})},Qtt=({route:e,showAnimation:t,isOpen:n,setIsOpen:r})=>{const[i,o]=w.useState(!1),s=()=>{o(!i),r(!0)};return w.useEffect(()=>{n||o(!1)},[n]),q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"menu",onClick:s,children:[q.jsxs("div",{className:"menu_item",children:[q.jsx("div",{className:"icon",children:e.icon}),q.jsx(RE,{children:n&&q.jsx(gc.div,{variants:t,initial:"hidden",animate:"show",exit:"hidden",className:"link_text",children:e.name})})]}),n&&q.jsx(gc.div,{animate:i?{rotate:-90}:{rotate:0},children:q.jsx(cQe,{})})]})," ",q.jsxs(RE,{children:[i&&q.jsx(gc.div,{variants:Ytt,initial:"hidden",animate:"show",exit:"hidden",className:"menu_container",children:e.subRoutes.map((a,l)=>q.jsx(gc.div,{variants:Xtt,custom:l,children:q.jsxs(sN,{to:a.path,className:"link",children:[q.jsx("div",{className:"icon",children:a.icon}),q.jsx(gc.div,{className:"link_text",children:a.name})]})},l))})," "]})]})},nc=JSON.parse(localStorage.getItem("user"))||{role:""},Ztt=[{path:"/dashboard",name:"Book List",icon:q.jsx(hQe,{})},...nc.role==="admin"?[{path:"/addTeacher",name:"Add Teacher",icon:q.jsx(j7,{})}]:[],...nc.role==="librarian"?[{path:"/addBook",name:"Add Book",icon:q.jsx(j7,{})}]:[],{path:"/studentList",name:"Student List",icon:q.jsx(jI,{})},...nc.role==="admin"?[{path:"/teacherList",name:"Teacher List",icon:q.jsx(jI,{})}]:[],...nc.role==="librarian"?[{path:"/issueBook",name:"Issue Book",icon:q.jsx(G7,{})}]:[],...nc.role==="librarian"?[{path:"/returnBook",name:"Return Book",icon:q.jsx(G7,{})}]:[],...nc.role==="librarian"?[{path:"/analytics",name:"Student Analytics",icon:q.jsx(z7,{})}]:[],...nc.role==="user"?[{path:"/studentActivity",name:"Student Activity",icon:q.jsx(z7,{})}]:[],{path:"/settings",name:"Settings",icon:q.jsx(pQe,{}),exact:!0,subRoutes:[{path:"/settings/profile",name:"Profile ",icon:q.jsx(jI,{})},{path:"/settings/logout",name:"Logout",icon:q.jsx(fQe,{})}]},...nc.role!="user"?[{path:"/analytics",name:"Saved",icon:q.jsx(gQe,{})}]:[]],Jtt=({children:e})=>{console.log();const[t,n]=w.useState(!1),r=()=>n(!t),i={hidden:{width:0,opacity:0,transition:{duration:.5}},show:{opacity:1,width:"auto",transition:{duration:.5}}};return q.jsx(q.Fragment,{children:q.jsxs("div",{className:"main-container",children:[q.jsxs(gc.div,{animate:{width:t?"200px":"45px",transition:{duration:.5,type:"spring",damping:10}},className:"sidebar ",children:[q.jsxs("div",{className:"top_section",children:[q.jsx(RE,{children:t&&q.jsx(gc.h1,{variants:i,initial:"hidden",animate:"show",exit:"hidden",className:"logo",children:"Dashboard"})}),q.jsx("div",{className:"bars",children:q.jsx(dQe,{onClick:r})})]}),q.jsx("section",{className:"routes",children:Ztt.map((o,s)=>o.subRoutes?q.jsx(Qtt,{setIsOpen:n,route:o,showAnimation:i,isOpen:t},s):q.jsxs(sN,{to:o.path,className:({isActive:a})=>a?"link active":"link",children:[q.jsx("div",{className:"icon",children:o.icon}),q.jsx(RE,{children:t&&q.jsx(gc.div,{variants:i,initial:"hidden",animate:"show",exit:"hidden",className:"link_text",children:o.name})})]},s))})]}),q.jsx("main",{children:e})]})})};function ent({children:e}){const[t,n]=w.useState(!1),[r,i]=w.useState(!1);w.useEffect(()=>{const a=localStorage.getItem("user");n(!!a)},[]);const o=a=>{localStorage.setItem("authToken",a),n(!0)},s=()=>{localStorage.removeItem("authToken"),n(!1)};return q.jsx(_C.Provider,{value:{isAuthenticated:t,login:o,logout:s,loading:r,setLoading:i},children:e})}const tnt=async(e,t,n,r,i)=>{try{const o=`${e}@library`,a=(await gZ(d2,t,o)).user.uid,l=ji(sr,"teachers");return await rR(l,{uid:a,name:e,email:t,phoneNumber:n,address:r,role:i,createdAt:new Date().toISOString()}),console.log("Teacher added successfully to Firebase Auth and Firestore"),!0}catch(o){return console.error("Error adding teacher:",o),!1}},nnt=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,o]=w.useState(""),[s,a]=w.useState(""),[l,u]=w.useState("librarian"),h=`${e}@library`,f=async p=>{if(p.preventDefault(),!e||!n||!i||!s){vn.error("Please fill all fields!");return}await tnt(e,n,i,s,l)?(t(""),r(""),o(""),a(""),u("librarian"),vn.success("Teacher added successfully!")):vn.error("Error adding teacher!")};return q.jsxs("div",{className:"add-student-container",children:[q.jsx("h2",{className:"text-center text-2xl my-3 font-semibold",children:"Add Teacher"}),q.jsxs("form",{onSubmit:f,className:"add-student-form",children:[q.jsx("label",{children:"Name:"}),q.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"Enter name"}),q.jsx("label",{children:"Email:"}),q.jsx("input",{type:"email",value:n,onChange:p=>r(p.target.value),placeholder:"Enter email"}),q.jsx("label",{children:"Phone Number:"}),q.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),placeholder:"Enter phone number"}),q.jsx("label",{children:"Address:"}),q.jsx("input",{type:"text",value:s,onChange:p=>a(p.target.value),placeholder:"Enter address"}),q.jsx("label",{children:"Password:"}),q.jsx("input",{type:"text",value:h,readOnly:!0}),q.jsx("button",{type:"submit",className:"add-btn",children:"Add Teacher"})]})]})},rnt=async()=>{try{const e=ji(sr,"teachers");return(await la(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching teachers:",e),[]}},int=async e=>{try{const t=zc(sr,"teachers",e);return await e2(t),console.log(`Teacher with ID ${e} deleted successfully`),!0}catch(t){return console.error(`Error deleting teacher with ID ${e}:`,t),!1}},ont=JSON.parse(localStorage.getItem("user")),snt=()=>{const[e,t]=w.useState([]);w.useEffect(()=>{n()},[]);const n=async()=>{const i=await rnt();t(i)},r=async i=>{await int(i)&&t(e.filter(s=>s.id!==i))};return q.jsxs("div",{className:"student-list-container",children:[q.jsx("h2",{className:"text-center text-2xl my-3 font-semibold",children:"Teacher List"}),q.jsxs("table",{className:"student-table",children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{children:"ID"}),q.jsx("th",{children:"Name"}),q.jsx("th",{children:"Email"}),q.jsx("th",{children:"Phone Number"}),q.jsx("th",{children:"Address"}),q.jsx("th",{children:"Action"})]})}),q.jsx("tbody",{children:e.length>0?e.map(i=>q.jsxs("tr",{children:[q.jsx("td",{children:i.id}),q.jsx("td",{children:i.name}),q.jsx("td",{children:i.email}),q.jsx("td",{children:i.phoneNumber}),q.jsx("td",{children:i.address}),q.jsx("td",{children:q.jsx("button",{onClick:()=>r(i.id),className:"delete-btn",disabled:ont.role!=="admin",children:"Delete"})})]},i.id)):q.jsx("tr",{children:q.jsx("td",{colSpan:"6",children:"No teacher found."})})})]})]})},ant=()=>{const e=qh(),{logout:t}=w.useContext(_C);return w.useEffect(()=>{localStorage.clear(),t(),console.log("User logged out."),e("/auth")},[e,t]),null},lnt=()=>{const{logout:e}=w.useContext(_C),t=qh(),[n,r]=w.useState(null);return w.useEffect(()=>{const i=JSON.parse(localStorage.getItem("user"));i?r(i):t("/auth")},[t]),n?q.jsxs("div",{className:"flex flex-col items-center justify-center p-10",children:[q.jsx("h1",{className:"text-2xl font-bold",children:"Profile"}),q.jsxs("div",{className:"mt-4 p-5 bg-white rounded shadow-md w-100",children:[q.jsxs("p",{children:[q.jsx("strong",{children:"Name:"})," ",n.name]}),q.jsxs("p",{children:[q.jsx("strong",{children:"Email:"})," ",n.email]}),q.jsxs("p",{children:[q.jsx("strong",{children:"Role:"})," ",n.role]}),q.jsxs("p",{children:[q.jsx("strong",{children:"UID:"})," ",n.uid]})]})]}):q.jsx("p",{children:"Loading profile..."})},unt=async e=>{try{const t=ji(sr,"issued_books"),n=aC(t,Fh("student_name","==",e),Fh("returned","==",!1)),r=await la(n);return r.empty?(console.error("No issued books found for the student."),[]):r.docs.map(o=>({id:o.id,...o.data()}))}catch(t){throw console.error("Error fetching user books:",t.message),new Error(t.message)}},cnt=localStorage.getItem("user"),cY=JSON.parse(cnt),tM=cY?cY.name:null,dnt=()=>{const[e,t]=w.useState(""),[n,r]=w.useState([]),[i,o]=w.useState({});w.useEffect(()=>{tM&&s()},[tM]);const s=async()=>{try{const u=await unt(tM);if(!u||u.length===0){vn.error("No books found.");return}const h={};u.forEach(f=>{h[f.book_id]=l(f.issue_date,f.return_date)}),o(h),r(u)}catch(u){console.error("Error loading books:",u),vn.error("Failed to load books.")}},a=async()=>{if(!e){vn.error("Please enter ISBN");return}const u=n.filter(h=>h.isbn===e);if(u.length===0){vn.error("No book found with this ISBN!");return}r(u)},l=(u,h)=>{const f=new Date(u),p=new Date(h),m=new Date,b=m>p,C=Math.floor((m-f)/(1e3*60*60*24));return b&&C>7?(C-7)*5:0};return q.jsxs("div",{className:"p-4",children:[q.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Book Activity"}),q.jsxs("div",{className:"flex items-center border p-2 mb-4",children:[q.jsx("input",{type:"text",placeholder:"Enter ISBN",className:"border p-2 w-full",value:e,onChange:u=>t(u.target.value)}),q.jsx("button",{onClick:a,className:"ml-2 bg-blue-500 text-white px-4 py-2",children:"Search"})]}),n.length>0?q.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-center",children:[q.jsx("thead",{children:q.jsxs("tr",{className:"bg-gray-200",children:[q.jsx("th",{className:"border p-2",children:"Book Name"}),q.jsx("th",{className:"border p-2",children:"ISBN"}),q.jsx("th",{className:"border p-2",children:"Issue Date"}),q.jsx("th",{className:"border p-2",children:"Fine"})]})}),q.jsx("tbody",{children:n.map(u=>q.jsxs("tr",{children:[q.jsx("td",{className:"border p-2 text-center",children:u.book_name}),q.jsx("td",{className:"border p-2 text-center",children:u.isbn}),q.jsx("td",{className:"border p-2 text-center",children:u.issue_date}),q.jsxs("td",{className:"border p-2 text-center",children:["",i[u.book_id]]})]},u.book_id))})]}):q.jsx("p",{className:"text-center",children:"No books found."})]})},hnt=new Rde;function fnt(){const{isAuthenticated:e}=w.useContext(_C);return q.jsxs(q.Fragment,{children:[q.jsx(tQe,{}),e?q.jsx(Jtt,{children:q.jsxs(wG,{children:[q.jsx($r,{path:"/",element:q.jsx(e0,{to:"/dashboard",replace:!0})})," ",q.jsx($r,{path:"/dashboard",element:q.jsx(_$e,{})}),q.jsx($r,{path:"/addBook",element:q.jsx(F$e,{})}),q.jsx($r,{path:"/addTeacher",element:q.jsx(nnt,{})}),q.jsx($r,{path:"/editBook",element:q.jsx(k$e,{})}),q.jsx($r,{path:"/issueBook",element:q.jsx(B$e,{})}),q.jsx($r,{path:"/returnBook",element:q.jsx(G$e,{})}),q.jsx($r,{path:"/StudentList",element:q.jsx(q$e,{})}),q.jsx($r,{path:"/TeacherList",element:q.jsx(snt,{})}),q.jsx($r,{path:"/analytics",element:q.jsx(JXe,{})}),q.jsx($r,{path:"/settings/profile",element:q.jsx(lnt,{})}),q.jsx($r,{path:"/studentActivity",element:q.jsx(dnt,{})}),q.jsx($r,{path:"/settings/logout",element:q.jsx(ant,{})}),q.jsx($r,{path:"/chart",element:q.jsx(eQe,{})}),q.jsx($r,{path:"*",element:q.jsx(e0,{to:"/dashboard",replace:!0})})," "]})}):q.jsxs(wG,{children:[q.jsx($r,{path:"/",element:q.jsx(e0,{to:"/auth",replace:!0})}),q.jsx($r,{path:"/*",element:q.jsx(e0,{to:"/auth",replace:!0})}),q.jsx($r,{path:"/auth",element:q.jsx(I$e,{})})]})]})}function pnt(){return q.jsxs(Ode,{client:hnt,children:[q.jsx(tde,{children:q.jsxs(ent,{children:[" ",q.jsx(fnt,{})]})}),q.jsx(nQe,{initialIsOpen:!1})]})}jue.createRoot(document.getElementById("root")).render(q.jsxs(w.StrictMode,{children:[q.jsx(Ihe,{}),q.jsx(pnt,{})]}));
